package rekammedis;

import bridging.ApiINACBG;
import com.fasterxml.jackson.databind.JsonNode;
import com.fasterxml.jackson.databind.ObjectMapper;
import com.itextpdf.html2pdf.HtmlConverter;
import com.itextpdf.kernel.pdf.PdfWriter;
import static com.itextpdf.kernel.xmp.XMPDateTimeFactory.getCurrentDateTime;
import fungsi.akses;
import fungsi.batasInput;
import fungsi.koneksiDB;
import fungsi.sekuel;
import fungsi.validasi;
import java.awt.Cursor;
import java.awt.Desktop;
import java.awt.Dimension;
import java.awt.event.KeyEvent;
import java.awt.event.KeyListener;
import java.awt.event.WindowEvent;
import java.awt.event.WindowListener;
import java.awt.image.BufferedImage;
import java.io.BufferedInputStream;
import java.io.BufferedWriter;
import java.io.ByteArrayInputStream;
import java.io.File;
import java.io.FileOutputStream;
import java.io.FileWriter;
import java.io.IOException;
import java.io.InputStream;
import java.net.HttpURLConnection;
import java.net.URI;
import java.net.URL;
import java.nio.channels.Channels;
import java.nio.channels.ReadableByteChannel;
import java.nio.file.Files;
import java.nio.file.Path;
import java.nio.file.Paths;
import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.text.SimpleDateFormat;
import java.util.ArrayList;
import java.util.Base64;
import java.util.Date;
import java.util.HashMap;
import java.util.LinkedHashSet;
import java.util.List;
import java.util.Locale;
import java.util.Map;
import java.util.Set;
import javax.imageio.ImageIO;
import javax.swing.JOptionPane;
import javax.swing.event.HyperlinkEvent;
import javax.swing.text.Document;
import javax.swing.text.html.HTMLEditorKit;
import javax.swing.text.html.StyleSheet;
import kepegawaian.DlgCariPegawai2;
import org.apache.commons.httpclient.HttpClient;
import org.apache.commons.httpclient.methods.GetMethod;
import org.apache.hc.client5.http.classic.methods.HttpPost;
import org.apache.hc.client5.http.entity.mime.MultipartEntityBuilder;
import org.apache.hc.client5.http.impl.classic.CloseableHttpClient;
import org.apache.hc.client5.http.impl.classic.CloseableHttpResponse;
import org.apache.hc.client5.http.impl.classic.HttpClients;
import org.apache.hc.core5.http.ContentType;
import org.apache.hc.core5.http.io.entity.EntityUtils;
import org.apache.pdfbox.pdmodel.PDDocument;
import org.apache.pdfbox.rendering.PDFRenderer;
import static org.hibernate.annotations.common.util.StringHelper.root;
import org.json.JSONObject;
// ERROR: Spring Framework tidak ada dalam project ini (bukan Spring application)
// import static org.springframework.http.converter.json.Jackson2ObjectMapperBuilder.json;
import simrskhanza.DlgCariPasien;
import widget.Tanggal;
// ERROR: Class UploadPDFTte belum dibuat di package bridging - digunakan di baris 17142
// import bridging.UploadPDFTte;
import java.time.LocalDateTime;
import java.time.format.DateTimeFormatter;
import javax.swing.SwingWorker;
import javax.swing.Timer;
import com.fasterxml.jackson.databind.JsonNode;
import com.fasterxml.jackson.databind.ObjectMapper;
import fungsi.WarnaTable;
import fungsi.akses;
import fungsi.batasInput;
import fungsi.koneksiDB;
import fungsi.sekuel;
import fungsi.validasi;
import java.awt.Cursor;
import java.awt.Desktop;
import java.awt.Dimension;
import java.awt.event.KeyEvent;
import java.awt.event.KeyListener;
import java.awt.event.WindowEvent;
import java.awt.event.WindowListener;
import java.io.BufferedWriter;
import java.io.FileWriter;
import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.util.HashMap;
import java.util.Map;
import javax.swing.JOptionPane;
import javax.swing.JTable;
import javax.swing.event.HyperlinkEvent;
import javax.swing.table.DefaultTableModel;
import javax.swing.table.TableColumn;
import javax.swing.text.Document;
import javax.swing.text.html.HTMLEditorKit;
import javax.swing.text.html.StyleSheet;
import org.apache.commons.httpclient.HttpClient;
import org.apache.commons.httpclient.methods.GetMethod;
import simrskhanza.DlgCariPasien;
import com.itextpdf.html2pdf.HtmlConverter;
import com.itextpdf.kernel.pdf.PdfWriter;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.util.Base64;
import java.io.File;
import java.io.FileOutputStream;
import java.io.IOException;
import java.net.URI;
import java.net.URL;
import org.apache.hc.client5.http.classic.methods.HttpPost;
import org.apache.hc.client5.http.impl.classic.CloseableHttpClient;
import org.apache.hc.client5.http.impl.classic.CloseableHttpResponse;
import org.apache.hc.client5.http.impl.classic.HttpClients;
import org.apache.hc.core5.http.ContentType;
import org.apache.hc.client5.http.entity.mime.MultipartEntityBuilder;
import org.apache.hc.core5.http.io.entity.EntityUtils;
import java.nio.channels.Channels;
import java.nio.channels.ReadableByteChannel;
import java.nio.file.Files;
import javax.swing.JDialog;
import javax.swing.SwingUtilities;
import javax.swing.SwingWorker;
import javax.swing.Timer;
import static org.apache.hc.client5.http.async.methods.SimpleRequestBuilder.get;
import org.apache.hc.core5.http.HttpEntity;
import org.apache.hc.core5.http.io.entity.StringEntity;
// ERROR: Class AnalisaBerkasKlaim belum dibuat di package bridging - digunakan di baris 2919 dan 17967
// import bridging.AnalisaBerkasKlaim;

/**
 *
 * @author windiarto
 */
public class RMGenerateKlaim extends javax.swing.JDialog {

    private validasi Valid = new validasi();
    private final sekuel Sequel = new sekuel();
    private PreparedStatement ps, ps2, pskoders, psbayi;
    private ResultSet rs, rs2, rs3, rs4, rs5, rs6, rs7, rs8, rsracikan, rsverif, rsdokter, rskode, rsbayi, rsresume, rslab, rsrad, rsbayigabung, rsruang;
    private Connection koneksi = koneksiDB.condb();
    private int i = 0, urut = 0, w = 0, s = 0, urutdpjp = 0, x = 0;
    private double biayaperawatan = 0, total = 0, inapdrpasien = 0;
    private String lokal, filterdpjp = "", kddpjp = "", dpjp = "", dokterrujukan = "", polirujukan = "", keputusan = "", ke1 = "", ke2 = "", ke3 = "", ke4 = "", ke5 = "", ke6 = "", file = "", caripenjab = "", inputString = "", petugasbilling = "", bayi1 = "", bayi2 = "",
            bayi3 = "", tgl_masuk = "", tgl_keluar = "", billing1 = "", billing2 = "", json = "";
    private StringBuilder htmlContent;
    private HttpClient http = new HttpClient();
    private GetMethod get;
    private DlgCariPasien pasien = new DlgCariPasien(null, true);
    public DlgCariPegawai2 pegawai = new DlgCariPegawai2(null, true);
    public ApiINACBG inacbg = new ApiINACBG();
    private boolean esign = false, sertisign = false;
    private ObjectMapper mapper = new ObjectMapper();
    private JsonNode root;

    /**
     * Creates new form DlgLhtBiaya
     *
     * @param parent
     * @param modal
     */
    public RMGenerateKlaim(java.awt.Frame parent, boolean modal) {
        super(parent, modal);
        initComponents();
        this.setLocation(8, 1);
        setSize(885, 674);
        WindowURLSertisign.setSize(570, 100);

        SimpleDateFormat formatter = new SimpleDateFormat("dd-MM-yyyy HH:mm:ss");
        Date date = new Date();
        lokal = formatter.format(date);

        NoRM.setDocument(new batasInput((byte) 20).getKata(NoRM));
        NoRawat.setDocument(new batasInput((byte) 20).getKata(NoRawat));

        pasien.addWindowListener(new WindowListener() {
            @Override
            public void windowOpened(WindowEvent e) {
            }

            @Override
            public void windowClosing(WindowEvent e) {
            }

            @Override
            public void windowClosed(WindowEvent e) {
                if (pasien.getTable().getSelectedRow() != -1) {
                    NoRM.setText(pasien.getTable().getValueAt(pasien.getTable().getSelectedRow(), 0).toString());
                    NmPasien.setText(pasien.getTable().getValueAt(pasien.getTable().getSelectedRow(), 1).toString());
                    Jk.setText(pasien.getTable().getValueAt(pasien.getTable().getSelectedRow(), 3).toString());
                    TempatLahir.setText(pasien.getTable().getValueAt(pasien.getTable().getSelectedRow(), 4).toString());
                    TanggalLahir.setText(pasien.getTable().getValueAt(pasien.getTable().getSelectedRow(), 5).toString());
                    IbuKandung.setText(pasien.getTable().getValueAt(pasien.getTable().getSelectedRow(), 6).toString());
                    Alamat.setText(pasien.getTable().getValueAt(pasien.getTable().getSelectedRow(), 7).toString());
                    GD.setText(pasien.getTable().getValueAt(pasien.getTable().getSelectedRow(), 8).toString());
                    StatusNikah.setText(pasien.getTable().getValueAt(pasien.getTable().getSelectedRow(), 10).toString());
                    Agama.setText(pasien.getTable().getValueAt(pasien.getTable().getSelectedRow(), 11).toString());
                    Pendidikan.setText(pasien.getTable().getValueAt(pasien.getTable().getSelectedRow(), 15).toString());
                    Bahasa.setText(pasien.getTable().getValueAt(pasien.getTable().getSelectedRow(), 26).toString());
                    CacatFisik.setText(pasien.getTable().getValueAt(pasien.getTable().getSelectedRow(), 32).toString());
                }
                NoRM.requestFocus();
            }

            @Override
            public void windowIconified(WindowEvent e) {
            }

            @Override
            public void windowDeiconified(WindowEvent e) {
            }

            @Override
            public void windowActivated(WindowEvent e) {
            }

            @Override
            public void windowDeactivated(WindowEvent e) {
            }
        });

        pasien.getTable().addKeyListener(new KeyListener() {
            @Override
            public void keyTyped(KeyEvent e) {
            }

            @Override
            public void keyPressed(KeyEvent e) {
                if (e.getKeyCode() == KeyEvent.VK_SPACE) {
                    pasien.dispose();
                }
            }

            @Override
            public void keyReleased(KeyEvent e) {
            }
        });

        pegawai.addWindowListener(new WindowListener() {
            @Override
            public void windowOpened(WindowEvent e) {
            }

            @Override
            public void windowClosing(WindowEvent e) {
            }

            @Override
            public void windowClosed(WindowEvent e) {
                if (pegawai.getTable().getSelectedRow() != -1) {
                    KdPeg2.setText(pegawai.getTable().getValueAt(pegawai.getTable().getSelectedRow(), 0).toString());
                    TPegawai2.setText(pegawai.getTable().getValueAt(pegawai.getTable().getSelectedRow(), 1).toString());
                    KdPeg2.requestFocus();
                }
            }

            @Override
            public void windowIconified(WindowEvent e) {
            }

            @Override
            public void windowDeiconified(WindowEvent e) {
            }

            @Override
            public void windowActivated(WindowEvent e) {
            }

            @Override
            public void windowDeactivated(WindowEvent e) {
            }
        });

        HTMLEditorKit kit = new HTMLEditorKit();
        LoadHTMLRiwayatPerawatan.setEditorKit(kit);
        StyleSheet styleSheet = kit.getStyleSheet();
        styleSheet.addRule(".isi td{border-right: 1px solid #e2e7dd;font: 8.5px tahoma;height:12px;border-bottom: 1px solid #e2e7dd;background: #ffffff;color:#323232;}.isi a{text-decoration:none;color:#8b9b95;padding:0 0 0 0px;font-family: Tahoma;font-size: 8.5px;border: white;}");
        styleSheet.addRule(".isi2 td{border-right: 1px solid #e2e7dd;font: 9px tahoma;height:12px;border-bottom: 1px solid #e2e7dd;background: #ffffff;color:#323232;}.isi a{text-decoration:none;color:#8b9b95;padding:0 0 0 0px;font-family: Tahoma;font-size: 9px;border: white;}");
        Document doc = kit.createDefaultDocument();
        LoadHTMLRiwayatPerawatan.setDocument(doc);
        LoadHTMLRiwayatPerawatan.setEditable(false);
        LoadHTMLRiwayatPerawatan.addHyperlinkListener(e -> {
            if (HyperlinkEvent.EventType.ACTIVATED.equals(e.getEventType())) {
                Desktop desktop = Desktop.getDesktop();
                try {
                    desktop.browse(e.getURL().toURI());
                } catch (Exception ex) {
                    ex.printStackTrace();
                }
            }
        });

        ChkAccor.setSelected(false);
        isMenu();
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        buttonGroup1 = new javax.swing.ButtonGroup();
        Pekerjaan = new widget.TextBox();
        WindowURLSertisign = new javax.swing.JDialog();
        internalFrame9 = new widget.InternalFrame();
        jLabel43 = new widget.Label();
        panelisi6 = new widget.panelisi();
        BtnCloseUrl = new widget.Button();
        BtnBukaURL = new widget.Button();
        jLabel40 = new widget.Label();
        URLSertisign = new widget.TextBox();
        BtnDownloadFile = new widget.Button();
        BtnDownloadBukaFile = new widget.Button();
        jPopupMenu1 = new javax.swing.JPopupMenu();
        MnGeneratePDF = new javax.swing.JMenuItem();
        MnGeneratePDFSertiSign = new javax.swing.JMenuItem();
        MnAnalisaBerkasKlaim = new javax.swing.JMenuItem();
        Tanggal = new widget.Tanggal();
        Status = new javax.swing.JTextField();
        Umur = new javax.swing.JTextField();
        internalFrame1 = new widget.InternalFrame();
        panelGlass5 = new widget.panelisi();
        R4 = new widget.RadioButton();
        NoRawat = new widget.TextBox();
        jLabel41 = new widget.Label();
        KdPeg2 = new widget.TextBox();
        TPegawai2 = new widget.TextBox();
        BtnSeekPegawai1 = new widget.Button();
        BtnCari1 = new widget.Button();
        BtnAll = new widget.Button();
        BtnPrint = new widget.Button();
        BtnKeluar = new widget.Button();
        BtnPrint1 = new widget.Button();
        TabRawat = new javax.swing.JTabbedPane();
        internalFrame2 = new widget.InternalFrame();
        Scroll = new widget.ScrollPane();
        LoadHTMLRiwayatPerawatan = new widget.editorpane();
        PanelAccor = new widget.PanelBiasa();
        ChkAccor = new widget.CekBox();
        ScrollMenu = new widget.ScrollPane();
        FormMenu = new widget.PanelBiasa();
        chkSemua = new widget.CekBox();
        chkRawatJalan = new widget.CekBox();
        chkRawatInap = new widget.CekBox();
        chkObatKronis = new widget.CekBox();
        chkLembarEklaim = new widget.CekBox();
        chkSepBpjs = new widget.CekBox();
        chkLembarVerifikasi = new widget.CekBox();
        chkBilling = new widget.CekBox();
        chkSuratKontrolBPJS = new widget.CekBox();
        chkSuratKontrol = new widget.CekBox();
        chkSuratRujukan = new widget.CekBox();
        chkSuratPRI = new widget.CekBox();
        chkRehabKunjunganPertama = new widget.CekBox();
        chkReassessment = new widget.CekBox();
        chkLembarProgramTerapi = new widget.CekBox();
        chkResume = new widget.CekBox();
        chkSbpk = new widget.CekBox();
        chkHasilLab = new widget.CekBox();
        chkHasilRad = new widget.CekBox();
        chkBerkasDigital = new widget.CekBox();
        chkLaporanOperasi = new widget.CekBox();
        chkLaporanTindakan = new widget.CekBox();
        chkTriase = new widget.CekBox();
        chkAwalMedisIgd = new widget.CekBox();
        chkResep = new widget.CekBox();
        chkTransferAntarRuang = new widget.CekBox();
        chkTransferPasienKeluarRs = new widget.CekBox();
        chkPengantarRanap = new widget.CekBox();
        chkHasilPemeriksaanEKG = new widget.CekBox();
        chkAsuhanKeperawatanRanapKandungan = new widget.CekBox();
        chkAsuhanMedisRanapKandungan = new widget.CekBox();
        chkKonsultasiMedik = new widget.CekBox();
        chkOperasiVK = new widget.CekBox();
        chkDebriment = new widget.CekBox();
        chkGambarRad = new widget.CekBox();
        chkImpleRajal = new widget.CekBox();
        chkImpleRanap = new widget.CekBox();
        chkBayi = new widget.CekBox();
        chkPernyataanDPJP = new widget.CekBox();
        chkDiagnosaPenyakit = new widget.CekBox();
        chkSJP = new widget.CekBox();
        chkProsedurTindakan = new widget.CekBox();
        chkAsuhanKeperawatanIGD = new widget.CekBox();
        chkAsuhanKeperawatanRalan = new widget.CekBox();
        chkAsuhanKeperawatanRalanGigi = new widget.CekBox();
        chkAsuhanKeperawatanRalanBayi = new widget.CekBox();
        chkAsuhanKeperawatanRalanKandungan = new widget.CekBox();
        chkAsuhanKeperawatanRalanPsikiatri = new widget.CekBox();
        chkAsuhanFisioterapi = new widget.CekBox();
        chkAsuhanPsikolog = new widget.CekBox();
        chkAsuhanKeperawatanRanap = new widget.CekBox();
        chkAsuhanMedisRalan = new widget.CekBox();
        chkAsuhanMedisRalanKandungan = new widget.CekBox();
        chkAsuhanMedisRalanBayi = new widget.CekBox();
        chkAsuhanMedisRalanTHT = new widget.CekBox();
        chkAsuhanMedisRalanPsikiatri = new widget.CekBox();
        chkAsuhanMedisRalanPenyakitDalam = new widget.CekBox();
        chkAsuhanMedisRalanMata = new widget.CekBox();
        chkAsuhanMedisRalanNeurologi = new widget.CekBox();
        chkAsuhanMedisRalanOrthopedi = new widget.CekBox();
        chkAsuhanMedisRalanBedah = new widget.CekBox();
        chkAsuhanMedisRalanBedahMulut = new widget.CekBox();
        chkAsuhanMedisRalanGeriatri = new widget.CekBox();
        chkOdontogram = new widget.CekBox();
        chkAsuhanMedisRanap = new widget.CekBox();
        chkEdukasiPasienTerintegrasiRawatJalan = new widget.CekBox();
        chkPemeriksaanRalan = new widget.CekBox();
        chkSbarRalan = new widget.CekBox();
        chkPemeriksaanObstetriRalan = new widget.CekBox();
        chkPemeriksaanGenekologiRalan = new widget.CekBox();
        chkPemeriksaanRanap = new widget.CekBox();
        chkSbarRanap = new widget.CekBox();
        chkPemeriksaanObstetriRanap = new widget.CekBox();
        chkPemeriksaanGenekologiRanap = new widget.CekBox();
        chkCatatanDokter = new widget.CekBox();
        chkCatatanObservasiIGD = new widget.CekBox();
        chkCatatanObservasiRanap = new widget.CekBox();
        chkCatatanObservasiRanapKebidanan = new widget.CekBox();
        chkCatatanObservasiRanapPostPartum = new widget.CekBox();
        chkCatatanCekGDS = new widget.CekBox();
        chkCatatanKeperawatanRanap = new widget.CekBox();
        chkPemantauanPEWSAnak = new widget.CekBox();
        chkPemantauanPEWSDewasa = new widget.CekBox();
        chkPemantauanPEWSMaternal = new widget.CekBox();
        chkMonitoringReaksiTranfusi = new widget.CekBox();
        chkChecklistPreOperasi = new widget.CekBox();
        chkSignInSebelumAnestesi = new widget.CekBox();
        chkTimeOutSebelumInsisi = new widget.CekBox();
        chkSignOutSebelumMenutupLuka = new widget.CekBox();
        chkChecklistPostOperasi = new widget.CekBox();
        chkAsuhanPreOperasi = new widget.CekBox();
        chkAsuhanPreAnestesi = new widget.CekBox();
        chkAsuhanLanjutanRisikoJatuhDewasa = new widget.CekBox();
        chkAsuhanLanjutanRisikoJatuhAnak = new widget.CekBox();
        chkAsuhanLanjutanRisikoJatuhLansia = new widget.CekBox();
        chkAsuhanGizi = new widget.CekBox();
        chkAsuhanTambahanGeriatri = new widget.CekBox();
        chkHasilPemeriksaanUSG = new widget.CekBox();
        chkPerencanaanPemulangan = new widget.CekBox();
        chkUjiFungsiKFR = new widget.CekBox();
        chkHemodialisa = new widget.CekBox();
        chkSkriningNutrisiDewasa = new widget.CekBox();
        chkSkriningNutrisiLansia = new widget.CekBox();
        chkSkriningNutrisiAnak = new widget.CekBox();
        chkSkriningGiziLanjut = new widget.CekBox();
        chkMonitoringGizi = new widget.CekBox();
        chkRekonsiliasiObat = new widget.CekBox();
        chkKonselingFarmasi = new widget.CekBox();
        chkPelayananInformasiObat = new widget.CekBox();
        chkAsuhanTambahanBunuhDiri = new widget.CekBox();
        chkAsuhanTambahanPerilakuKekerasan = new widget.CekBox();
        chkAsuhanTambahanMelarikanDiri = new widget.CekBox();
        chkPenilaianPasienTerminal = new widget.CekBox();
        chkPenilaianKorbanKekerasan = new widget.CekBox();
        chkPenilaianPasienPenyakitMenular = new widget.CekBox();
        chkPenilaianPasienKeracunan = new widget.CekBox();
        chkTindakanRalanDokter = new widget.CekBox();
        chkTindakanRalanParamedis = new widget.CekBox();
        chkTindakanRalanDokterParamedis = new widget.CekBox();
        chkTindakanRanapDokter = new widget.CekBox();
        chkTindakanRanapParamedis = new widget.CekBox();
        chkTindakanRanapDokterParamedis = new widget.CekBox();
        chkPenggunaanKamar = new widget.CekBox();
        chkPemeriksaanRadiologi = new widget.CekBox();
        chkPemeriksaanLaborat = new widget.CekBox();
        chkPemberianObat = new widget.CekBox();
        chkPenggunaanObatOperasi = new widget.CekBox();
        chkResepPulang = new widget.CekBox();
        chkTelaah = new widget.CekBox();
        PanelInput = new javax.swing.JPanel();
        ChkInput = new widget.CekBox();
        FormInput = new widget.panelisi();
        label17 = new widget.Label();
        NoRM = new widget.TextBox();
        NmPasien = new widget.TextBox();
        BtnPasien = new widget.Button();
        label20 = new widget.Label();
        Jk = new widget.TextBox();
        label21 = new widget.Label();
        TempatLahir = new widget.TextBox();
        label22 = new widget.Label();
        Alamat = new widget.TextBox();
        label23 = new widget.Label();
        GD = new widget.TextBox();
        label24 = new widget.Label();
        IbuKandung = new widget.TextBox();
        TanggalLahir = new widget.TextBox();
        label25 = new widget.Label();
        Agama = new widget.TextBox();
        StatusNikah = new widget.TextBox();
        label26 = new widget.Label();
        Pendidikan = new widget.TextBox();
        label27 = new widget.Label();
        label28 = new widget.Label();
        Bahasa = new widget.TextBox();
        label29 = new widget.Label();
        CacatFisik = new widget.TextBox();

        Pekerjaan.setEditable(false);
        Pekerjaan.setName("Pekerjaan"); // NOI18N
        Pekerjaan.setPreferredSize(new java.awt.Dimension(100, 23));

        WindowURLSertisign.setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
        WindowURLSertisign.setModal(true);
        WindowURLSertisign.setName("WindowURLSertisign"); // NOI18N
        WindowURLSertisign.setUndecorated(true);
        WindowURLSertisign.setResizable(false);

        internalFrame9.setBorder(javax.swing.BorderFactory.createTitledBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(240, 245, 235)), "::[ URL File Hasil Tanda Tangan Sertisign ]::", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Tahoma", 0, 11), new java.awt.Color(50, 50, 50))); // NOI18N
        internalFrame9.setName("internalFrame9"); // NOI18N
        internalFrame9.setLayout(new java.awt.BorderLayout());

        jLabel43.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        jLabel43.setText("%");
        jLabel43.setName("jLabel43"); // NOI18N
        internalFrame9.add(jLabel43, java.awt.BorderLayout.CENTER);

        panelisi6.setName("panelisi6"); // NOI18N
        panelisi6.setPreferredSize(new java.awt.Dimension(100, 44));
        panelisi6.setLayout(null);

        BtnCloseUrl.setIcon(new javax.swing.ImageIcon(getClass().getResource("/picture/cross.png"))); // NOI18N
        BtnCloseUrl.setMnemonic('T');
        BtnCloseUrl.setText("Tutup");
        BtnCloseUrl.setToolTipText("Alt+T");
        BtnCloseUrl.setName("BtnCloseUrl"); // NOI18N
        BtnCloseUrl.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                BtnCloseUrlActionPerformed(evt);
            }
        });
        panelisi6.add(BtnCloseUrl);
        BtnCloseUrl.setBounds(450, 40, 100, 30);

        BtnBukaURL.setIcon(new javax.swing.ImageIcon(getClass().getResource("/picture/190.png"))); // NOI18N
        BtnBukaURL.setMnemonic('B');
        BtnBukaURL.setText("Buka URL");
        BtnBukaURL.setToolTipText("Alt+B");
        BtnBukaURL.setName("BtnBukaURL"); // NOI18N
        BtnBukaURL.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                BtnBukaURLActionPerformed(evt);
            }
        });
        panelisi6.add(BtnBukaURL);
        BtnBukaURL.setBounds(10, 40, 105, 30);

        jLabel40.setText("URL :");
        jLabel40.setName("jLabel40"); // NOI18N
        panelisi6.add(jLabel40);
        jLabel40.setBounds(0, 10, 40, 23);

        URLSertisign.setEditable(false);
        URLSertisign.setHighlighter(null);
        URLSertisign.setName("URLSertisign"); // NOI18N
        panelisi6.add(URLSertisign);
        URLSertisign.setBounds(44, 10, 505, 23);

        BtnDownloadFile.setIcon(new javax.swing.ImageIcon(getClass().getResource("/picture/save-16x16.png"))); // NOI18N
        BtnDownloadFile.setMnemonic('D');
        BtnDownloadFile.setText("Download File");
        BtnDownloadFile.setToolTipText("Alt+D");
        BtnDownloadFile.setName("BtnDownloadFile"); // NOI18N
        BtnDownloadFile.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                BtnDownloadFileActionPerformed(evt);
            }
        });
        panelisi6.add(BtnDownloadFile);
        BtnDownloadFile.setBounds(125, 40, 130, 30);

        BtnDownloadBukaFile.setIcon(new javax.swing.ImageIcon(getClass().getResource("/picture/preview-16x16.png"))); // NOI18N
        BtnDownloadBukaFile.setMnemonic('F');
        BtnDownloadBukaFile.setText("Download & Buka File");
        BtnDownloadBukaFile.setToolTipText("Alt+F");
        BtnDownloadBukaFile.setName("BtnDownloadBukaFile"); // NOI18N
        BtnDownloadBukaFile.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                BtnDownloadBukaFileActionPerformed(evt);
            }
        });
        panelisi6.add(BtnDownloadBukaFile);
        BtnDownloadBukaFile.setBounds(265, 40, 175, 30);

        internalFrame9.add(panelisi6, java.awt.BorderLayout.CENTER);

        WindowURLSertisign.getContentPane().add(internalFrame9, java.awt.BorderLayout.CENTER);

        jPopupMenu1.setName("jPopupMenu1"); // NOI18N

        MnGeneratePDF.setBackground(new java.awt.Color(255, 255, 254));
        MnGeneratePDF.setFont(new java.awt.Font("Tahoma", 0, 11)); // NOI18N
        MnGeneratePDF.setForeground(new java.awt.Color(50, 50, 50));
        MnGeneratePDF.setIcon(new javax.swing.ImageIcon(getClass().getResource("/picture/category.png"))); // NOI18N
        MnGeneratePDF.setText("Jadikan File PDF ");
        MnGeneratePDF.setName("MnGeneratePDF"); // NOI18N
        MnGeneratePDF.setPreferredSize(new java.awt.Dimension(220, 26));
        MnGeneratePDF.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                MnGeneratePDFActionPerformed(evt);
            }
        });
        jPopupMenu1.add(MnGeneratePDF);

        MnGeneratePDFSertiSign.setBackground(new java.awt.Color(255, 255, 254));
        MnGeneratePDFSertiSign.setFont(new java.awt.Font("Tahoma", 0, 11)); // NOI18N
        MnGeneratePDFSertiSign.setForeground(new java.awt.Color(50, 50, 50));
        MnGeneratePDFSertiSign.setIcon(new javax.swing.ImageIcon(getClass().getResource("/picture/category.png"))); // NOI18N
        MnGeneratePDFSertiSign.setText("Jadikan File PDF SertiSign");
        MnGeneratePDFSertiSign.setName("MnGeneratePDFSertiSign"); // NOI18N
        MnGeneratePDFSertiSign.setPreferredSize(new java.awt.Dimension(220, 26));
        MnGeneratePDFSertiSign.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                MnGeneratePDFSertiSignActionPerformed(evt);
            }
        });
        jPopupMenu1.add(MnGeneratePDFSertiSign);

        MnAnalisaBerkasKlaim.setBackground(new java.awt.Color(255, 255, 254));
        MnAnalisaBerkasKlaim.setFont(new java.awt.Font("Tahoma", 0, 11)); // NOI18N
        MnAnalisaBerkasKlaim.setForeground(new java.awt.Color(50, 50, 50));
        MnAnalisaBerkasKlaim.setIcon(new javax.swing.ImageIcon(getClass().getResource("/picture/category.png"))); // NOI18N
        MnAnalisaBerkasKlaim.setText("Analisa Berkas Klaim");
        MnAnalisaBerkasKlaim.setName("MnAnalisaBerkasKlaim"); // NOI18N
        MnAnalisaBerkasKlaim.setPreferredSize(new java.awt.Dimension(220, 26));
        MnAnalisaBerkasKlaim.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                MnAnalisaBerkasKlaimActionPerformed(evt);
            }
        });
        jPopupMenu1.add(MnAnalisaBerkasKlaim);

        Tanggal.setForeground(new java.awt.Color(50, 70, 50));
        Tanggal.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "14-10-2025 19:49:41" }));
        Tanggal.setDisplayFormat("dd-MM-yyyy HH:mm:ss");
        Tanggal.setName("Tanggal"); // NOI18N
        Tanggal.setOpaque(false);

        Status.setText("jTextField1");
        Status.setName("Status"); // NOI18N

        Umur.setText("jTextField1");
        Umur.setName("Umur"); // NOI18N

        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
        setUndecorated(true);
        setResizable(false);

        internalFrame1.setBorder(javax.swing.BorderFactory.createTitledBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(240, 245, 235)), "::[ Data Riwayat/Rincian Tindakan/Terapi Pasien ]::", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Fira Sans", 0, 13), new java.awt.Color(50, 50, 50))); // NOI18N
        internalFrame1.setName("internalFrame1"); // NOI18N
        internalFrame1.setLayout(new java.awt.BorderLayout(1, 1));

        panelGlass5.setName("panelGlass5"); // NOI18N
        panelGlass5.setPreferredSize(new java.awt.Dimension(44, 44));
        panelGlass5.setLayout(new java.awt.FlowLayout(java.awt.FlowLayout.LEFT, 5, 9));

        R4.setBorder(javax.swing.BorderFactory.createLineBorder(java.awt.Color.pink));
        buttonGroup1.add(R4);
        R4.setSelected(true);
        R4.setText("Nomor :");
        R4.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        R4.setHorizontalTextPosition(javax.swing.SwingConstants.RIGHT);
        R4.setName("R4"); // NOI18N
        R4.setPreferredSize(new java.awt.Dimension(67, 23));
        panelGlass5.add(R4);

        NoRawat.setMinimumSize(new java.awt.Dimension(100, 24));
        NoRawat.setName("NoRawat"); // NOI18N
        NoRawat.setPreferredSize(new java.awt.Dimension(150, 23));
        NoRawat.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                NoRawatKeyPressed(evt);
            }
        });
        panelGlass5.add(NoRawat);

        jLabel41.setText("DPJP Ranap :");
        jLabel41.setName("jLabel41"); // NOI18N
        jLabel41.setPreferredSize(new java.awt.Dimension(70, 23));
        panelGlass5.add(jLabel41);

        KdPeg2.setEnabled(false);
        KdPeg2.setHighlighter(null);
        KdPeg2.setName("KdPeg2"); // NOI18N
        KdPeg2.setPreferredSize(new java.awt.Dimension(50, 24));
        KdPeg2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                KdPeg2ActionPerformed(evt);
            }
        });
        KdPeg2.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                KdPeg2KeyPressed(evt);
            }
        });
        panelGlass5.add(KdPeg2);

        TPegawai2.setEditable(false);
        TPegawai2.setEnabled(false);
        TPegawai2.setHighlighter(null);
        TPegawai2.setName("TPegawai2"); // NOI18N
        TPegawai2.setPreferredSize(new java.awt.Dimension(100, 24));
        TPegawai2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                TPegawai2ActionPerformed(evt);
            }
        });
        panelGlass5.add(TPegawai2);

        BtnSeekPegawai1.setIcon(new javax.swing.ImageIcon(getClass().getResource("/picture/190.png"))); // NOI18N
        BtnSeekPegawai1.setMnemonic('4');
        BtnSeekPegawai1.setToolTipText("ALt+4");
        BtnSeekPegawai1.setEnabled(false);
        BtnSeekPegawai1.setName("BtnSeekPegawai1"); // NOI18N
        BtnSeekPegawai1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                BtnSeekPegawai1ActionPerformed(evt);
            }
        });
        panelGlass5.add(BtnSeekPegawai1);

        BtnCari1.setIcon(new javax.swing.ImageIcon(getClass().getResource("/picture/accept.png"))); // NOI18N
        BtnCari1.setMnemonic('2');
        BtnCari1.setToolTipText("Alt+2");
        BtnCari1.setName("BtnCari1"); // NOI18N
        BtnCari1.setPreferredSize(new java.awt.Dimension(28, 23));
        BtnCari1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                BtnCari1ActionPerformed(evt);
            }
        });
        panelGlass5.add(BtnCari1);

        BtnAll.setIcon(new javax.swing.ImageIcon(getClass().getResource("/picture/Search-16x16.png"))); // NOI18N
        BtnAll.setMnemonic('M');
        BtnAll.setToolTipText("Alt+M");
        BtnAll.setEnabled(false);
        BtnAll.setName("BtnAll"); // NOI18N
        BtnAll.setPreferredSize(new java.awt.Dimension(28, 23));
        BtnAll.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                BtnAllActionPerformed(evt);
            }
        });
        panelGlass5.add(BtnAll);

        BtnPrint.setIcon(new javax.swing.ImageIcon(getClass().getResource("/picture/b_print.png"))); // NOI18N
        BtnPrint.setMnemonic('T');
        BtnPrint.setText("PRINT ");
        BtnPrint.setToolTipText("Alt+T");
        BtnPrint.setName("BtnPrint"); // NOI18N
        BtnPrint.setPreferredSize(new java.awt.Dimension(80, 23));
        BtnPrint.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                BtnPrintActionPerformed(evt);
            }
        });
        panelGlass5.add(BtnPrint);

        BtnKeluar.setIcon(new javax.swing.ImageIcon(getClass().getResource("/picture/exit.png"))); // NOI18N
        BtnKeluar.setMnemonic('K');
        BtnKeluar.setText("KELUAR");
        BtnKeluar.setToolTipText("Alt+K");
        BtnKeluar.setName("BtnKeluar"); // NOI18N
        BtnKeluar.setPreferredSize(new java.awt.Dimension(100, 23));
        BtnKeluar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                BtnKeluarActionPerformed(evt);
            }
        });
        BtnKeluar.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                BtnKeluarKeyPressed(evt);
            }
        });
        panelGlass5.add(BtnKeluar);

        BtnPrint1.setIcon(new javax.swing.ImageIcon(getClass().getResource("/picture/file-edit-16x16.png"))); // NOI18N
        BtnPrint1.setMnemonic('T');
        BtnPrint1.setText("Set Status TTE");
        BtnPrint1.setToolTipText("Alt+T");
        BtnPrint1.setName("BtnPrint1"); // NOI18N
        BtnPrint1.setPreferredSize(new java.awt.Dimension(150, 23));
        BtnPrint1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                BtnPrint1ActionPerformed(evt);
            }
        });
        panelGlass5.add(BtnPrint1);

        internalFrame1.add(panelGlass5, java.awt.BorderLayout.PAGE_END);

        TabRawat.setBackground(new java.awt.Color(255, 255, 254));
        TabRawat.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(241, 246, 236)));
        TabRawat.setForeground(new java.awt.Color(50, 50, 50));
        TabRawat.setName("TabRawat"); // NOI18N
        TabRawat.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                TabRawatMouseClicked(evt);
            }
        });

        internalFrame2.setBackground(new java.awt.Color(235, 255, 235));
        internalFrame2.setBorder(null);
        internalFrame2.setName("internalFrame2"); // NOI18N
        internalFrame2.setLayout(new java.awt.BorderLayout(1, 1));

        Scroll.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(255, 255, 255)));
        Scroll.setName("Scroll"); // NOI18N
        Scroll.setOpaque(true);

        LoadHTMLRiwayatPerawatan.setBorder(null);
        LoadHTMLRiwayatPerawatan.setComponentPopupMenu(jPopupMenu1);
        LoadHTMLRiwayatPerawatan.setName("LoadHTMLRiwayatPerawatan"); // NOI18N
        Scroll.setViewportView(LoadHTMLRiwayatPerawatan);

        internalFrame2.add(Scroll, java.awt.BorderLayout.CENTER);

        PanelAccor.setBackground(new java.awt.Color(255, 255, 255));
        PanelAccor.setName("PanelAccor"); // NOI18N
        PanelAccor.setPreferredSize(new java.awt.Dimension(275, 43));
        PanelAccor.setLayout(new java.awt.BorderLayout());

        ChkAccor.setBackground(new java.awt.Color(255, 250, 250));
        ChkAccor.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(250, 255, 248)));
        ChkAccor.setIcon(new javax.swing.ImageIcon(getClass().getResource("/picture/kanan.png"))); // NOI18N
        ChkAccor.setFocusable(false);
        ChkAccor.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        ChkAccor.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        ChkAccor.setName("ChkAccor"); // NOI18N
        ChkAccor.setPreferredSize(new java.awt.Dimension(15, 20));
        ChkAccor.setRolloverIcon(new javax.swing.ImageIcon(getClass().getResource("/picture/kanan.png"))); // NOI18N
        ChkAccor.setRolloverSelectedIcon(new javax.swing.ImageIcon(getClass().getResource("/picture/kiri.png"))); // NOI18N
        ChkAccor.setSelectedIcon(new javax.swing.ImageIcon(getClass().getResource("/picture/kiri.png"))); // NOI18N
        ChkAccor.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                ChkAccorActionPerformed(evt);
            }
        });
        PanelAccor.add(ChkAccor, java.awt.BorderLayout.EAST);

        ScrollMenu.setBorder(null);
        ScrollMenu.setName("ScrollMenu"); // NOI18N
        ScrollMenu.setOpaque(true);
        ScrollMenu.setPreferredSize(new java.awt.Dimension(255, 3000));

        FormMenu.setBackground(new java.awt.Color(255, 255, 255));
        FormMenu.setBorder(null);
        FormMenu.setName("FormMenu"); // NOI18N
        FormMenu.setPreferredSize(new java.awt.Dimension(255, 3000));
        FormMenu.setLayout(new java.awt.FlowLayout(java.awt.FlowLayout.CENTER, 1, 1));

        chkSemua.setText("Semua");
        chkSemua.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkSemua.setName("chkSemua"); // NOI18N
        chkSemua.setOpaque(false);
        chkSemua.setPreferredSize(new java.awt.Dimension(245, 22));
        chkSemua.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                chkSemuaItemStateChanged(evt);
            }
        });
        FormMenu.add(chkSemua);

        chkRawatJalan.setText("Rawat Jalan");
        chkRawatJalan.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkRawatJalan.setName("chkRawatJalan"); // NOI18N
        chkRawatJalan.setOpaque(false);
        chkRawatJalan.setPreferredSize(new java.awt.Dimension(245, 22));
        chkRawatJalan.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                chkRawatJalanItemStateChanged(evt);
            }
        });
        FormMenu.add(chkRawatJalan);

        chkRawatInap.setText("Rawat Inap");
        chkRawatInap.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkRawatInap.setName("chkRawatInap"); // NOI18N
        chkRawatInap.setOpaque(false);
        chkRawatInap.setPreferredSize(new java.awt.Dimension(245, 22));
        chkRawatInap.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                chkRawatInapItemStateChanged(evt);
            }
        });
        FormMenu.add(chkRawatInap);

        chkObatKronis.setText("Obat Kronis");
        chkObatKronis.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkObatKronis.setName("chkObatKronis"); // NOI18N
        chkObatKronis.setOpaque(false);
        chkObatKronis.setPreferredSize(new java.awt.Dimension(245, 22));
        chkObatKronis.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                chkObatKronisItemStateChanged(evt);
            }
        });
        chkObatKronis.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                chkObatKronisActionPerformed(evt);
            }
        });
        FormMenu.add(chkObatKronis);

        chkLembarEklaim.setText("Lembar Eklaim");
        chkLembarEklaim.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkLembarEklaim.setName("chkLembarEklaim"); // NOI18N
        chkLembarEklaim.setOpaque(false);
        chkLembarEklaim.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkLembarEklaim);

        chkSepBpjs.setText("SEP BPJS");
        chkSepBpjs.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkSepBpjs.setName("chkSepBpjs"); // NOI18N
        chkSepBpjs.setOpaque(false);
        chkSepBpjs.setPreferredSize(new java.awt.Dimension(245, 22));
        chkSepBpjs.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                chkSepBpjsActionPerformed(evt);
            }
        });
        FormMenu.add(chkSepBpjs);

        chkLembarVerifikasi.setText("Lembar Verifikasi");
        chkLembarVerifikasi.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkLembarVerifikasi.setName("chkLembarVerifikasi"); // NOI18N
        chkLembarVerifikasi.setOpaque(false);
        chkLembarVerifikasi.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkLembarVerifikasi);

        chkBilling.setText("Billing");
        chkBilling.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkBilling.setName("chkBilling"); // NOI18N
        chkBilling.setOpaque(false);
        chkBilling.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkBilling);

        chkSuratKontrolBPJS.setText("Surat Kontrol BPJS");
        chkSuratKontrolBPJS.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkSuratKontrolBPJS.setName("chkSuratKontrolBPJS"); // NOI18N
        chkSuratKontrolBPJS.setOpaque(false);
        chkSuratKontrolBPJS.setPreferredSize(new java.awt.Dimension(245, 22));
        chkSuratKontrolBPJS.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                chkSuratKontrolBPJSActionPerformed(evt);
            }
        });
        FormMenu.add(chkSuratKontrolBPJS);

        chkSuratKontrol.setText("Surat Kontrol");
        chkSuratKontrol.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkSuratKontrol.setName("chkSuratKontrol"); // NOI18N
        chkSuratKontrol.setOpaque(false);
        chkSuratKontrol.setPreferredSize(new java.awt.Dimension(245, 22));
        chkSuratKontrol.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                chkSuratKontrolActionPerformed(evt);
            }
        });
        FormMenu.add(chkSuratKontrol);

        chkSuratRujukan.setText("Rujukan BPJS ");
        chkSuratRujukan.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkSuratRujukan.setName("chkSuratRujukan"); // NOI18N
        chkSuratRujukan.setOpaque(false);
        chkSuratRujukan.setPreferredSize(new java.awt.Dimension(245, 22));
        chkSuratRujukan.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                chkSuratRujukanActionPerformed(evt);
            }
        });
        FormMenu.add(chkSuratRujukan);

        chkSuratPRI.setText("SPRI BPJS");
        chkSuratPRI.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkSuratPRI.setName("chkSuratPRI"); // NOI18N
        chkSuratPRI.setOpaque(false);
        chkSuratPRI.setPreferredSize(new java.awt.Dimension(245, 22));
        chkSuratPRI.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                chkSuratPRIActionPerformed(evt);
            }
        });
        FormMenu.add(chkSuratPRI);

        chkRehabKunjunganPertama.setText("Layanan Kedokteran Fisik");
        chkRehabKunjunganPertama.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkRehabKunjunganPertama.setName("chkRehabKunjunganPertama"); // NOI18N
        chkRehabKunjunganPertama.setOpaque(false);
        chkRehabKunjunganPertama.setPreferredSize(new java.awt.Dimension(245, 22));
        chkRehabKunjunganPertama.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                chkRehabKunjunganPertamaActionPerformed(evt);
            }
        });
        FormMenu.add(chkRehabKunjunganPertama);

        chkReassessment.setText("Re Assesmen Protokol Terapi");
        chkReassessment.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkReassessment.setName("chkReassessment"); // NOI18N
        chkReassessment.setOpaque(false);
        chkReassessment.setPreferredSize(new java.awt.Dimension(245, 22));
        chkReassessment.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                chkReassessmentActionPerformed(evt);
            }
        });
        FormMenu.add(chkReassessment);

        chkLembarProgramTerapi.setText("Program Terapi Rehab");
        chkLembarProgramTerapi.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkLembarProgramTerapi.setName("chkLembarProgramTerapi"); // NOI18N
        chkLembarProgramTerapi.setOpaque(false);
        chkLembarProgramTerapi.setPreferredSize(new java.awt.Dimension(245, 22));
        chkLembarProgramTerapi.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                chkLembarProgramTerapiActionPerformed(evt);
            }
        });
        FormMenu.add(chkLembarProgramTerapi);

        chkResume.setText("Resume");
        chkResume.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkResume.setName("chkResume"); // NOI18N
        chkResume.setOpaque(false);
        chkResume.setPreferredSize(new java.awt.Dimension(245, 22));
        chkResume.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                chkResumeActionPerformed(evt);
            }
        });
        FormMenu.add(chkResume);

        chkSbpk.setText("SBPK");
        chkSbpk.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkSbpk.setName("chkSbpk"); // NOI18N
        chkSbpk.setOpaque(false);
        chkSbpk.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkSbpk);

        chkHasilLab.setText("Hasil Laborat");
        chkHasilLab.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkHasilLab.setName("chkHasilLab"); // NOI18N
        chkHasilLab.setOpaque(false);
        chkHasilLab.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkHasilLab);

        chkHasilRad.setText("Hasil Radiologi");
        chkHasilRad.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkHasilRad.setName("chkHasilRad"); // NOI18N
        chkHasilRad.setOpaque(false);
        chkHasilRad.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkHasilRad);

        chkBerkasDigital.setText("Berkas Upload File");
        chkBerkasDigital.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkBerkasDigital.setName("chkBerkasDigital"); // NOI18N
        chkBerkasDigital.setOpaque(false);
        chkBerkasDigital.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkBerkasDigital);

        chkLaporanOperasi.setText("Laporan Operasi");
        chkLaporanOperasi.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkLaporanOperasi.setName("chkLaporanOperasi"); // NOI18N
        chkLaporanOperasi.setOpaque(false);
        chkLaporanOperasi.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkLaporanOperasi);

        chkLaporanTindakan.setText("Laporan Tindakan");
        chkLaporanTindakan.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkLaporanTindakan.setName("chkLaporanTindakan"); // NOI18N
        chkLaporanTindakan.setOpaque(false);
        chkLaporanTindakan.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkLaporanTindakan);

        chkTriase.setText("Triase IGD");
        chkTriase.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkTriase.setName("chkTriase"); // NOI18N
        chkTriase.setOpaque(false);
        chkTriase.setPreferredSize(new java.awt.Dimension(245, 22));
        chkTriase.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                chkTriaseActionPerformed(evt);
            }
        });
        FormMenu.add(chkTriase);

        chkAwalMedisIgd.setText("Awal Medis IGD");
        chkAwalMedisIgd.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkAwalMedisIgd.setName("chkAwalMedisIgd"); // NOI18N
        chkAwalMedisIgd.setOpaque(false);
        chkAwalMedisIgd.setPreferredSize(new java.awt.Dimension(245, 22));
        chkAwalMedisIgd.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                chkAwalMedisIgdActionPerformed(evt);
            }
        });
        FormMenu.add(chkAwalMedisIgd);

        chkResep.setText("Resep");
        chkResep.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkResep.setName("chkResep"); // NOI18N
        chkResep.setOpaque(false);
        chkResep.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkResep);

        chkTransferAntarRuang.setText("Transfer Antar Ruang");
        chkTransferAntarRuang.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkTransferAntarRuang.setName("chkTransferAntarRuang"); // NOI18N
        chkTransferAntarRuang.setOpaque(false);
        chkTransferAntarRuang.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkTransferAntarRuang);

        chkTransferPasienKeluarRs.setText("Transfer Pasien Keluar Rs");
        chkTransferPasienKeluarRs.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkTransferPasienKeluarRs.setName("chkTransferPasienKeluarRs"); // NOI18N
        chkTransferPasienKeluarRs.setOpaque(false);
        chkTransferPasienKeluarRs.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkTransferPasienKeluarRs);

        chkPengantarRanap.setText("Pengantar Ranap");
        chkPengantarRanap.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkPengantarRanap.setName("chkPengantarRanap"); // NOI18N
        chkPengantarRanap.setOpaque(false);
        chkPengantarRanap.setPreferredSize(new java.awt.Dimension(245, 22));
        chkPengantarRanap.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                chkPengantarRanapActionPerformed(evt);
            }
        });
        FormMenu.add(chkPengantarRanap);

        chkHasilPemeriksaanEKG.setText("EKG");
        chkHasilPemeriksaanEKG.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkHasilPemeriksaanEKG.setName("chkHasilPemeriksaanEKG"); // NOI18N
        chkHasilPemeriksaanEKG.setOpaque(false);
        chkHasilPemeriksaanEKG.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkHasilPemeriksaanEKG);

        chkAsuhanKeperawatanRanapKandungan.setText("Awal Keperawatan Ranap Kandungan");
        chkAsuhanKeperawatanRanapKandungan.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkAsuhanKeperawatanRanapKandungan.setName("chkAsuhanKeperawatanRanapKandungan"); // NOI18N
        chkAsuhanKeperawatanRanapKandungan.setOpaque(false);
        chkAsuhanKeperawatanRanapKandungan.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkAsuhanKeperawatanRanapKandungan);

        chkAsuhanMedisRanapKandungan.setText("Awal Medis Ranap Kandungan");
        chkAsuhanMedisRanapKandungan.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkAsuhanMedisRanapKandungan.setName("chkAsuhanMedisRanapKandungan"); // NOI18N
        chkAsuhanMedisRanapKandungan.setOpaque(false);
        chkAsuhanMedisRanapKandungan.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkAsuhanMedisRanapKandungan);

        chkKonsultasiMedik.setText("Konsultasi Medik");
        chkKonsultasiMedik.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkKonsultasiMedik.setName("chkKonsultasiMedik"); // NOI18N
        chkKonsultasiMedik.setOpaque(false);
        chkKonsultasiMedik.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkKonsultasiMedik);

        chkOperasiVK.setText("Operasi/VK");
        chkOperasiVK.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkOperasiVK.setName("chkOperasiVK"); // NOI18N
        chkOperasiVK.setOpaque(false);
        chkOperasiVK.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkOperasiVK);

        chkDebriment.setText("Debridement");
        chkDebriment.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkDebriment.setName("chkDebriment"); // NOI18N
        chkDebriment.setOpaque(false);
        chkDebriment.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkDebriment);

        chkGambarRad.setText("Gambar Radiologi");
        chkGambarRad.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkGambarRad.setName("chkGambarRad"); // NOI18N
        chkGambarRad.setOpaque(false);
        chkGambarRad.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkGambarRad);

        chkImpleRajal.setText("Implementasi Perawat Rajal");
        chkImpleRajal.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkImpleRajal.setName("chkImpleRajal"); // NOI18N
        chkImpleRajal.setOpaque(false);
        chkImpleRajal.setPreferredSize(new java.awt.Dimension(245, 22));
        chkImpleRajal.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                chkImpleRajalActionPerformed(evt);
            }
        });
        FormMenu.add(chkImpleRajal);

        chkImpleRanap.setText("Implementasi Perawat Ranap");
        chkImpleRanap.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkImpleRanap.setName("chkImpleRanap"); // NOI18N
        chkImpleRanap.setOpaque(false);
        chkImpleRanap.setPreferredSize(new java.awt.Dimension(245, 22));
        chkImpleRanap.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                chkImpleRanapActionPerformed(evt);
            }
        });
        FormMenu.add(chkImpleRanap);

        chkBayi.setText("Data Bayi Gabung");
        chkBayi.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkBayi.setName("chkBayi"); // NOI18N
        chkBayi.setOpaque(false);
        chkBayi.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkBayi);

        chkPernyataanDPJP.setText("Pernyataan DPJP");
        chkPernyataanDPJP.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkPernyataanDPJP.setName("chkPernyataanDPJP"); // NOI18N
        chkPernyataanDPJP.setOpaque(false);
        chkPernyataanDPJP.setPreferredSize(new java.awt.Dimension(245, 22));
        chkPernyataanDPJP.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                chkPernyataanDPJPActionPerformed(evt);
            }
        });
        FormMenu.add(chkPernyataanDPJP);

        chkDiagnosaPenyakit.setText("Diagnosa/Penyakit (ICD 10)");
        chkDiagnosaPenyakit.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkDiagnosaPenyakit.setName("chkDiagnosaPenyakit"); // NOI18N
        chkDiagnosaPenyakit.setOpaque(false);
        chkDiagnosaPenyakit.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkDiagnosaPenyakit);

        chkSJP.setText("SJP BPJS");
        chkSJP.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkSJP.setName("chkSJP"); // NOI18N
        chkSJP.setOpaque(false);
        chkSJP.setPreferredSize(new java.awt.Dimension(245, 22));
        chkSJP.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                chkSJPActionPerformed(evt);
            }
        });
        FormMenu.add(chkSJP);

        chkProsedurTindakan.setText("Prosedur/Tidakan (ICD 9)");
        chkProsedurTindakan.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkProsedurTindakan.setName("chkProsedurTindakan"); // NOI18N
        chkProsedurTindakan.setOpaque(false);
        chkProsedurTindakan.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkProsedurTindakan);

        chkAsuhanKeperawatanIGD.setText("Awal Keperawatan IGD");
        chkAsuhanKeperawatanIGD.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkAsuhanKeperawatanIGD.setName("chkAsuhanKeperawatanIGD"); // NOI18N
        chkAsuhanKeperawatanIGD.setOpaque(false);
        chkAsuhanKeperawatanIGD.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkAsuhanKeperawatanIGD);

        chkAsuhanKeperawatanRalan.setText("Awal Keperawatan Ralan Umum");
        chkAsuhanKeperawatanRalan.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkAsuhanKeperawatanRalan.setName("chkAsuhanKeperawatanRalan"); // NOI18N
        chkAsuhanKeperawatanRalan.setOpaque(false);
        chkAsuhanKeperawatanRalan.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkAsuhanKeperawatanRalan);

        chkAsuhanKeperawatanRalanGigi.setText("Awal Keperawatan Ralan Gigi");
        chkAsuhanKeperawatanRalanGigi.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkAsuhanKeperawatanRalanGigi.setName("chkAsuhanKeperawatanRalanGigi"); // NOI18N
        chkAsuhanKeperawatanRalanGigi.setOpaque(false);
        chkAsuhanKeperawatanRalanGigi.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkAsuhanKeperawatanRalanGigi);

        chkAsuhanKeperawatanRalanBayi.setText("Awal Keperawatan Ralan Bayi/Anak");
        chkAsuhanKeperawatanRalanBayi.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkAsuhanKeperawatanRalanBayi.setName("chkAsuhanKeperawatanRalanBayi"); // NOI18N
        chkAsuhanKeperawatanRalanBayi.setOpaque(false);
        chkAsuhanKeperawatanRalanBayi.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkAsuhanKeperawatanRalanBayi);

        chkAsuhanKeperawatanRalanKandungan.setText("Awal Keperawatan Ralan Kandungan");
        chkAsuhanKeperawatanRalanKandungan.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkAsuhanKeperawatanRalanKandungan.setName("chkAsuhanKeperawatanRalanKandungan"); // NOI18N
        chkAsuhanKeperawatanRalanKandungan.setOpaque(false);
        chkAsuhanKeperawatanRalanKandungan.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkAsuhanKeperawatanRalanKandungan);

        chkAsuhanKeperawatanRalanPsikiatri.setText("Awal Keperawatan Ralan Psikiatri");
        chkAsuhanKeperawatanRalanPsikiatri.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkAsuhanKeperawatanRalanPsikiatri.setName("chkAsuhanKeperawatanRalanPsikiatri"); // NOI18N
        chkAsuhanKeperawatanRalanPsikiatri.setOpaque(false);
        chkAsuhanKeperawatanRalanPsikiatri.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkAsuhanKeperawatanRalanPsikiatri);

        chkAsuhanFisioterapi.setText("Awal Fisioterapi");
        chkAsuhanFisioterapi.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkAsuhanFisioterapi.setName("chkAsuhanFisioterapi"); // NOI18N
        chkAsuhanFisioterapi.setOpaque(false);
        chkAsuhanFisioterapi.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkAsuhanFisioterapi);

        chkAsuhanPsikolog.setText("Penilaian Psikolog");
        chkAsuhanPsikolog.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkAsuhanPsikolog.setName("chkAsuhanPsikolog"); // NOI18N
        chkAsuhanPsikolog.setOpaque(false);
        chkAsuhanPsikolog.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkAsuhanPsikolog);

        chkAsuhanKeperawatanRanap.setText("Awal Keperawatan Ranap Umum");
        chkAsuhanKeperawatanRanap.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkAsuhanKeperawatanRanap.setName("chkAsuhanKeperawatanRanap"); // NOI18N
        chkAsuhanKeperawatanRanap.setOpaque(false);
        chkAsuhanKeperawatanRanap.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkAsuhanKeperawatanRanap);

        chkAsuhanMedisRalan.setText("Awal Medis Ralan Umum");
        chkAsuhanMedisRalan.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkAsuhanMedisRalan.setName("chkAsuhanMedisRalan"); // NOI18N
        chkAsuhanMedisRalan.setOpaque(false);
        chkAsuhanMedisRalan.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkAsuhanMedisRalan);

        chkAsuhanMedisRalanKandungan.setText("Awal Medis Ralan Kandungan");
        chkAsuhanMedisRalanKandungan.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkAsuhanMedisRalanKandungan.setName("chkAsuhanMedisRalanKandungan"); // NOI18N
        chkAsuhanMedisRalanKandungan.setOpaque(false);
        chkAsuhanMedisRalanKandungan.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkAsuhanMedisRalanKandungan);

        chkAsuhanMedisRalanBayi.setText("Awal Medis Ralan Bayi/Anak");
        chkAsuhanMedisRalanBayi.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkAsuhanMedisRalanBayi.setName("chkAsuhanMedisRalanBayi"); // NOI18N
        chkAsuhanMedisRalanBayi.setOpaque(false);
        chkAsuhanMedisRalanBayi.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkAsuhanMedisRalanBayi);

        chkAsuhanMedisRalanTHT.setText("Awal Medis Ralan THT");
        chkAsuhanMedisRalanTHT.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkAsuhanMedisRalanTHT.setName("chkAsuhanMedisRalanTHT"); // NOI18N
        chkAsuhanMedisRalanTHT.setOpaque(false);
        chkAsuhanMedisRalanTHT.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkAsuhanMedisRalanTHT);

        chkAsuhanMedisRalanPsikiatri.setText("Awal Medis Ralan Psikiatri");
        chkAsuhanMedisRalanPsikiatri.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkAsuhanMedisRalanPsikiatri.setName("chkAsuhanMedisRalanPsikiatri"); // NOI18N
        chkAsuhanMedisRalanPsikiatri.setOpaque(false);
        chkAsuhanMedisRalanPsikiatri.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkAsuhanMedisRalanPsikiatri);

        chkAsuhanMedisRalanPenyakitDalam.setText("Awal Medis Ralan Penyakit Dalam");
        chkAsuhanMedisRalanPenyakitDalam.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkAsuhanMedisRalanPenyakitDalam.setName("chkAsuhanMedisRalanPenyakitDalam"); // NOI18N
        chkAsuhanMedisRalanPenyakitDalam.setOpaque(false);
        chkAsuhanMedisRalanPenyakitDalam.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkAsuhanMedisRalanPenyakitDalam);

        chkAsuhanMedisRalanMata.setText("Awal Medis Ralan Mata");
        chkAsuhanMedisRalanMata.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkAsuhanMedisRalanMata.setName("chkAsuhanMedisRalanMata"); // NOI18N
        chkAsuhanMedisRalanMata.setOpaque(false);
        chkAsuhanMedisRalanMata.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkAsuhanMedisRalanMata);

        chkAsuhanMedisRalanNeurologi.setText("Awal Medis Ralan Neurologi");
        chkAsuhanMedisRalanNeurologi.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkAsuhanMedisRalanNeurologi.setName("chkAsuhanMedisRalanNeurologi"); // NOI18N
        chkAsuhanMedisRalanNeurologi.setOpaque(false);
        chkAsuhanMedisRalanNeurologi.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkAsuhanMedisRalanNeurologi);

        chkAsuhanMedisRalanOrthopedi.setText("Awal Medis Ralan Orthopedi");
        chkAsuhanMedisRalanOrthopedi.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkAsuhanMedisRalanOrthopedi.setName("chkAsuhanMedisRalanOrthopedi"); // NOI18N
        chkAsuhanMedisRalanOrthopedi.setOpaque(false);
        chkAsuhanMedisRalanOrthopedi.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkAsuhanMedisRalanOrthopedi);

        chkAsuhanMedisRalanBedah.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkAsuhanMedisRalanBedah.setLabel("Awal Medis Ralan Bedah");
        chkAsuhanMedisRalanBedah.setName("chkAsuhanMedisRalanBedah"); // NOI18N
        chkAsuhanMedisRalanBedah.setOpaque(false);
        chkAsuhanMedisRalanBedah.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkAsuhanMedisRalanBedah);

        chkAsuhanMedisRalanBedahMulut.setText("Awal Medis Ralan Bedah Mulut");
        chkAsuhanMedisRalanBedahMulut.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkAsuhanMedisRalanBedahMulut.setName("chkAsuhanMedisRalanBedahMulut"); // NOI18N
        chkAsuhanMedisRalanBedahMulut.setOpaque(false);
        chkAsuhanMedisRalanBedahMulut.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkAsuhanMedisRalanBedahMulut);

        chkAsuhanMedisRalanGeriatri.setText("Awal Medis Ralan Geriatri");
        chkAsuhanMedisRalanGeriatri.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkAsuhanMedisRalanGeriatri.setName("chkAsuhanMedisRalanGeriatri"); // NOI18N
        chkAsuhanMedisRalanGeriatri.setOpaque(false);
        chkAsuhanMedisRalanGeriatri.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkAsuhanMedisRalanGeriatri);

        chkOdontogram.setText("Odontogram");
        chkOdontogram.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkOdontogram.setName("chkOdontogram"); // NOI18N
        chkOdontogram.setOpaque(false);
        chkOdontogram.setPreferredSize(new java.awt.Dimension(245, 22));
        chkOdontogram.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                chkOdontogramItemStateChanged(evt);
            }
        });
        FormMenu.add(chkOdontogram);

        chkAsuhanMedisRanap.setText("Awal Medis Ranap Umum");
        chkAsuhanMedisRanap.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkAsuhanMedisRanap.setName("chkAsuhanMedisRanap"); // NOI18N
        chkAsuhanMedisRanap.setOpaque(false);
        chkAsuhanMedisRanap.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkAsuhanMedisRanap);

        chkEdukasiPasienTerintegrasiRawatJalan.setText("Edukasi Pasien & Keluarga Rawat Jalan");
        chkEdukasiPasienTerintegrasiRawatJalan.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkEdukasiPasienTerintegrasiRawatJalan.setName("chkEdukasiPasienTerintegrasiRawatJalan"); // NOI18N
        chkEdukasiPasienTerintegrasiRawatJalan.setOpaque(false);
        chkEdukasiPasienTerintegrasiRawatJalan.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkEdukasiPasienTerintegrasiRawatJalan);

        chkPemeriksaanRalan.setText("Pemeriksaan Ralan");
        chkPemeriksaanRalan.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkPemeriksaanRalan.setName("chkPemeriksaanRalan"); // NOI18N
        chkPemeriksaanRalan.setOpaque(false);
        chkPemeriksaanRalan.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkPemeriksaanRalan);

        chkSbarRalan.setText("SBAR Ralan");
        chkSbarRalan.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkSbarRalan.setName("chkSbarRalan"); // NOI18N
        chkSbarRalan.setOpaque(false);
        chkSbarRalan.setPreferredSize(new java.awt.Dimension(245, 22));
        chkSbarRalan.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                chkSbarRalanItemStateChanged(evt);
            }
        });
        FormMenu.add(chkSbarRalan);

        chkPemeriksaanObstetriRalan.setText("Pemeriksaan Obstetri Ralan");
        chkPemeriksaanObstetriRalan.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkPemeriksaanObstetriRalan.setName("chkPemeriksaanObstetriRalan"); // NOI18N
        chkPemeriksaanObstetriRalan.setOpaque(false);
        chkPemeriksaanObstetriRalan.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkPemeriksaanObstetriRalan);

        chkPemeriksaanGenekologiRalan.setText("Pemeriksaan Genekologi Ralan");
        chkPemeriksaanGenekologiRalan.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkPemeriksaanGenekologiRalan.setName("chkPemeriksaanGenekologiRalan"); // NOI18N
        chkPemeriksaanGenekologiRalan.setOpaque(false);
        chkPemeriksaanGenekologiRalan.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkPemeriksaanGenekologiRalan);

        chkPemeriksaanRanap.setText("Pemeriksaan Ranap");
        chkPemeriksaanRanap.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkPemeriksaanRanap.setName("chkPemeriksaanRanap"); // NOI18N
        chkPemeriksaanRanap.setOpaque(false);
        chkPemeriksaanRanap.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkPemeriksaanRanap);

        chkSbarRanap.setText("SBAR Ranap");
        chkSbarRanap.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkSbarRanap.setName("chkSbarRanap"); // NOI18N
        chkSbarRanap.setOpaque(false);
        chkSbarRanap.setPreferredSize(new java.awt.Dimension(245, 22));
        chkSbarRanap.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                chkSbarRanapItemStateChanged(evt);
            }
        });
        FormMenu.add(chkSbarRanap);

        chkPemeriksaanObstetriRanap.setText("Pemeriksaan Obstetri Ranap");
        chkPemeriksaanObstetriRanap.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkPemeriksaanObstetriRanap.setName("chkPemeriksaanObstetriRanap"); // NOI18N
        chkPemeriksaanObstetriRanap.setOpaque(false);
        chkPemeriksaanObstetriRanap.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkPemeriksaanObstetriRanap);

        chkPemeriksaanGenekologiRanap.setText("Pemeriksaan Genekologi Ranap");
        chkPemeriksaanGenekologiRanap.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkPemeriksaanGenekologiRanap.setName("chkPemeriksaanGenekologiRanap"); // NOI18N
        chkPemeriksaanGenekologiRanap.setOpaque(false);
        chkPemeriksaanGenekologiRanap.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkPemeriksaanGenekologiRanap);

        chkCatatanDokter.setText("Catatan Dokter");
        chkCatatanDokter.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkCatatanDokter.setName("chkCatatanDokter"); // NOI18N
        chkCatatanDokter.setOpaque(false);
        chkCatatanDokter.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkCatatanDokter);

        chkCatatanObservasiIGD.setText("Catatan Observasi IGD");
        chkCatatanObservasiIGD.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkCatatanObservasiIGD.setName("chkCatatanObservasiIGD"); // NOI18N
        chkCatatanObservasiIGD.setOpaque(false);
        chkCatatanObservasiIGD.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkCatatanObservasiIGD);

        chkCatatanObservasiRanap.setText("Catatan Observasi Ranap");
        chkCatatanObservasiRanap.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkCatatanObservasiRanap.setName("chkCatatanObservasiRanap"); // NOI18N
        chkCatatanObservasiRanap.setOpaque(false);
        chkCatatanObservasiRanap.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkCatatanObservasiRanap);

        chkCatatanObservasiRanapKebidanan.setText("Catatan Observasi Ranap Kebidanan");
        chkCatatanObservasiRanapKebidanan.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkCatatanObservasiRanapKebidanan.setName("chkCatatanObservasiRanapKebidanan"); // NOI18N
        chkCatatanObservasiRanapKebidanan.setOpaque(false);
        chkCatatanObservasiRanapKebidanan.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkCatatanObservasiRanapKebidanan);

        chkCatatanObservasiRanapPostPartum.setText("Catatan Observasi Ranap Post Partum");
        chkCatatanObservasiRanapPostPartum.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkCatatanObservasiRanapPostPartum.setName("chkCatatanObservasiRanapPostPartum"); // NOI18N
        chkCatatanObservasiRanapPostPartum.setOpaque(false);
        chkCatatanObservasiRanapPostPartum.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkCatatanObservasiRanapPostPartum);

        chkCatatanCekGDS.setText("Catatan Cek GDS");
        chkCatatanCekGDS.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkCatatanCekGDS.setName("chkCatatanCekGDS"); // NOI18N
        chkCatatanCekGDS.setOpaque(false);
        chkCatatanCekGDS.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkCatatanCekGDS);

        chkCatatanKeperawatanRanap.setText("Catatan Keperawatan Ranap");
        chkCatatanKeperawatanRanap.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkCatatanKeperawatanRanap.setName("chkCatatanKeperawatanRanap"); // NOI18N
        chkCatatanKeperawatanRanap.setOpaque(false);
        chkCatatanKeperawatanRanap.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkCatatanKeperawatanRanap);

        chkPemantauanPEWSAnak.setText("Pemantauan PEWS Anak");
        chkPemantauanPEWSAnak.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkPemantauanPEWSAnak.setName("chkPemantauanPEWSAnak"); // NOI18N
        chkPemantauanPEWSAnak.setOpaque(false);
        chkPemantauanPEWSAnak.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkPemantauanPEWSAnak);

        chkPemantauanPEWSDewasa.setText("Pemantauan PEWS Dewasa");
        chkPemantauanPEWSDewasa.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkPemantauanPEWSDewasa.setName("chkPemantauanPEWSDewasa"); // NOI18N
        chkPemantauanPEWSDewasa.setOpaque(false);
        chkPemantauanPEWSDewasa.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkPemantauanPEWSDewasa);

        chkPemantauanPEWSMaternal.setText("Pemantauan PEWS Maternal");
        chkPemantauanPEWSMaternal.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkPemantauanPEWSMaternal.setName("chkPemantauanPEWSMaternal"); // NOI18N
        chkPemantauanPEWSMaternal.setOpaque(false);
        chkPemantauanPEWSMaternal.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkPemantauanPEWSMaternal);

        chkMonitoringReaksiTranfusi.setText("Monitoring Reaksi Tranfusi");
        chkMonitoringReaksiTranfusi.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkMonitoringReaksiTranfusi.setName("chkMonitoringReaksiTranfusi"); // NOI18N
        chkMonitoringReaksiTranfusi.setOpaque(false);
        chkMonitoringReaksiTranfusi.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkMonitoringReaksiTranfusi);

        chkChecklistPreOperasi.setText("Check List Pre Operasi");
        chkChecklistPreOperasi.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkChecklistPreOperasi.setName("chkChecklistPreOperasi"); // NOI18N
        chkChecklistPreOperasi.setOpaque(false);
        chkChecklistPreOperasi.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkChecklistPreOperasi);

        chkSignInSebelumAnestesi.setText("Sign-In Sebelum Anestesi");
        chkSignInSebelumAnestesi.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkSignInSebelumAnestesi.setName("chkSignInSebelumAnestesi"); // NOI18N
        chkSignInSebelumAnestesi.setOpaque(false);
        chkSignInSebelumAnestesi.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkSignInSebelumAnestesi);

        chkTimeOutSebelumInsisi.setText("Time-Out Sebelum Insisi");
        chkTimeOutSebelumInsisi.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkTimeOutSebelumInsisi.setName("chkTimeOutSebelumInsisi"); // NOI18N
        chkTimeOutSebelumInsisi.setOpaque(false);
        chkTimeOutSebelumInsisi.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkTimeOutSebelumInsisi);

        chkSignOutSebelumMenutupLuka.setText("Sign-Out Sebelum Menutup Luka");
        chkSignOutSebelumMenutupLuka.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkSignOutSebelumMenutupLuka.setName("chkSignOutSebelumMenutupLuka"); // NOI18N
        chkSignOutSebelumMenutupLuka.setOpaque(false);
        chkSignOutSebelumMenutupLuka.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkSignOutSebelumMenutupLuka);

        chkChecklistPostOperasi.setText("Check List Post Operasi");
        chkChecklistPostOperasi.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkChecklistPostOperasi.setName("chkChecklistPostOperasi"); // NOI18N
        chkChecklistPostOperasi.setOpaque(false);
        chkChecklistPostOperasi.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkChecklistPostOperasi);

        chkAsuhanPreOperasi.setText("Penilaian Pre Operasi");
        chkAsuhanPreOperasi.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkAsuhanPreOperasi.setName("chkAsuhanPreOperasi"); // NOI18N
        chkAsuhanPreOperasi.setOpaque(false);
        chkAsuhanPreOperasi.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkAsuhanPreOperasi);

        chkAsuhanPreAnestesi.setText("Penilaian Pre Operasi");
        chkAsuhanPreAnestesi.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkAsuhanPreAnestesi.setName("chkAsuhanPreAnestesi"); // NOI18N
        chkAsuhanPreAnestesi.setOpaque(false);
        chkAsuhanPreAnestesi.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkAsuhanPreAnestesi);

        chkAsuhanLanjutanRisikoJatuhDewasa.setText("Lanjutan Risiko Jatuh Dewasa");
        chkAsuhanLanjutanRisikoJatuhDewasa.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkAsuhanLanjutanRisikoJatuhDewasa.setName("chkAsuhanLanjutanRisikoJatuhDewasa"); // NOI18N
        chkAsuhanLanjutanRisikoJatuhDewasa.setOpaque(false);
        chkAsuhanLanjutanRisikoJatuhDewasa.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkAsuhanLanjutanRisikoJatuhDewasa);

        chkAsuhanLanjutanRisikoJatuhAnak.setText("Lanjutan Risiko Jatuh Anak");
        chkAsuhanLanjutanRisikoJatuhAnak.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkAsuhanLanjutanRisikoJatuhAnak.setName("chkAsuhanLanjutanRisikoJatuhAnak"); // NOI18N
        chkAsuhanLanjutanRisikoJatuhAnak.setOpaque(false);
        chkAsuhanLanjutanRisikoJatuhAnak.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkAsuhanLanjutanRisikoJatuhAnak);

        chkAsuhanLanjutanRisikoJatuhLansia.setText("Lanjutan Risiko Jatuh Lansia");
        chkAsuhanLanjutanRisikoJatuhLansia.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkAsuhanLanjutanRisikoJatuhLansia.setName("chkAsuhanLanjutanRisikoJatuhLansia"); // NOI18N
        chkAsuhanLanjutanRisikoJatuhLansia.setOpaque(false);
        chkAsuhanLanjutanRisikoJatuhLansia.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkAsuhanLanjutanRisikoJatuhLansia);

        chkAsuhanGizi.setText("Asuhan Gizi");
        chkAsuhanGizi.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkAsuhanGizi.setName("chkAsuhanGizi"); // NOI18N
        chkAsuhanGizi.setOpaque(false);
        chkAsuhanGizi.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkAsuhanGizi);

        chkAsuhanTambahanGeriatri.setText("Tambahan Pasien Geriatri");
        chkAsuhanTambahanGeriatri.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkAsuhanTambahanGeriatri.setName("chkAsuhanTambahanGeriatri"); // NOI18N
        chkAsuhanTambahanGeriatri.setOpaque(false);
        chkAsuhanTambahanGeriatri.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkAsuhanTambahanGeriatri);

        chkHasilPemeriksaanUSG.setText("Hasil Pemeriksaan USG");
        chkHasilPemeriksaanUSG.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkHasilPemeriksaanUSG.setName("chkHasilPemeriksaanUSG"); // NOI18N
        chkHasilPemeriksaanUSG.setOpaque(false);
        chkHasilPemeriksaanUSG.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkHasilPemeriksaanUSG);

        chkPerencanaanPemulangan.setText("Perencanaan Pemulangan");
        chkPerencanaanPemulangan.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkPerencanaanPemulangan.setName("chkPerencanaanPemulangan"); // NOI18N
        chkPerencanaanPemulangan.setOpaque(false);
        chkPerencanaanPemulangan.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkPerencanaanPemulangan);

        chkUjiFungsiKFR.setText("Uji Fungsi/Prosedur KFR");
        chkUjiFungsiKFR.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkUjiFungsiKFR.setName("chkUjiFungsiKFR"); // NOI18N
        chkUjiFungsiKFR.setOpaque(false);
        chkUjiFungsiKFR.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkUjiFungsiKFR);

        chkHemodialisa.setText("Hemodialisa");
        chkHemodialisa.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkHemodialisa.setName("chkHemodialisa"); // NOI18N
        chkHemodialisa.setOpaque(false);
        chkHemodialisa.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkHemodialisa);

        chkSkriningNutrisiDewasa.setText("Skrining Nutrisi Dewasa");
        chkSkriningNutrisiDewasa.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkSkriningNutrisiDewasa.setName("chkSkriningNutrisiDewasa"); // NOI18N
        chkSkriningNutrisiDewasa.setOpaque(false);
        chkSkriningNutrisiDewasa.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkSkriningNutrisiDewasa);

        chkSkriningNutrisiLansia.setText("Skrining Nutrisi Lansia");
        chkSkriningNutrisiLansia.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkSkriningNutrisiLansia.setName("chkSkriningNutrisiLansia"); // NOI18N
        chkSkriningNutrisiLansia.setOpaque(false);
        chkSkriningNutrisiLansia.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkSkriningNutrisiLansia);

        chkSkriningNutrisiAnak.setText("Skrining Nutrisi Anak");
        chkSkriningNutrisiAnak.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkSkriningNutrisiAnak.setName("chkSkriningNutrisiAnak"); // NOI18N
        chkSkriningNutrisiAnak.setOpaque(false);
        chkSkriningNutrisiAnak.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkSkriningNutrisiAnak);

        chkSkriningGiziLanjut.setText("Skrining Gizi Lanjut");
        chkSkriningGiziLanjut.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkSkriningGiziLanjut.setName("chkSkriningGiziLanjut"); // NOI18N
        chkSkriningGiziLanjut.setOpaque(false);
        chkSkriningGiziLanjut.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkSkriningGiziLanjut);

        chkMonitoringGizi.setText("Monitoring Gizi");
        chkMonitoringGizi.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkMonitoringGizi.setName("chkMonitoringGizi"); // NOI18N
        chkMonitoringGizi.setOpaque(false);
        chkMonitoringGizi.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkMonitoringGizi);

        chkRekonsiliasiObat.setText("Rekonsiliasi Obat");
        chkRekonsiliasiObat.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkRekonsiliasiObat.setName("chkRekonsiliasiObat"); // NOI18N
        chkRekonsiliasiObat.setOpaque(false);
        chkRekonsiliasiObat.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkRekonsiliasiObat);

        chkKonselingFarmasi.setText("Konseling Farmasi");
        chkKonselingFarmasi.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkKonselingFarmasi.setName("chkKonselingFarmasi"); // NOI18N
        chkKonselingFarmasi.setOpaque(false);
        chkKonselingFarmasi.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkKonselingFarmasi);

        chkPelayananInformasiObat.setText("Pelayanan Informasi Obat");
        chkPelayananInformasiObat.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkPelayananInformasiObat.setName("chkPelayananInformasiObat"); // NOI18N
        chkPelayananInformasiObat.setOpaque(false);
        chkPelayananInformasiObat.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkPelayananInformasiObat);

        chkAsuhanTambahanBunuhDiri.setText("Tambahan Bunuh Diri");
        chkAsuhanTambahanBunuhDiri.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkAsuhanTambahanBunuhDiri.setName("chkAsuhanTambahanBunuhDiri"); // NOI18N
        chkAsuhanTambahanBunuhDiri.setOpaque(false);
        chkAsuhanTambahanBunuhDiri.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkAsuhanTambahanBunuhDiri);

        chkAsuhanTambahanPerilakuKekerasan.setText("Tambahan Perilaku Kekerasan");
        chkAsuhanTambahanPerilakuKekerasan.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkAsuhanTambahanPerilakuKekerasan.setName("chkAsuhanTambahanPerilakuKekerasan"); // NOI18N
        chkAsuhanTambahanPerilakuKekerasan.setOpaque(false);
        chkAsuhanTambahanPerilakuKekerasan.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkAsuhanTambahanPerilakuKekerasan);

        chkAsuhanTambahanMelarikanDiri.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkAsuhanTambahanMelarikanDiri.setLabel("Tambahan Melarikan Diri");
        chkAsuhanTambahanMelarikanDiri.setName("chkAsuhanTambahanMelarikanDiri"); // NOI18N
        chkAsuhanTambahanMelarikanDiri.setOpaque(false);
        chkAsuhanTambahanMelarikanDiri.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkAsuhanTambahanMelarikanDiri);

        chkPenilaianPasienTerminal.setText("Penilaian Pasien Terminal");
        chkPenilaianPasienTerminal.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkPenilaianPasienTerminal.setName("chkPenilaianPasienTerminal"); // NOI18N
        chkPenilaianPasienTerminal.setOpaque(false);
        chkPenilaianPasienTerminal.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkPenilaianPasienTerminal);

        chkPenilaianKorbanKekerasan.setText("Penilaian Korban Kekerasan");
        chkPenilaianKorbanKekerasan.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkPenilaianKorbanKekerasan.setName("chkPenilaianKorbanKekerasan"); // NOI18N
        chkPenilaianKorbanKekerasan.setOpaque(false);
        chkPenilaianKorbanKekerasan.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkPenilaianKorbanKekerasan);

        chkPenilaianPasienPenyakitMenular.setText("Penilaian Pasien Penyakit Menular");
        chkPenilaianPasienPenyakitMenular.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkPenilaianPasienPenyakitMenular.setName("chkPenilaianPasienPenyakitMenular"); // NOI18N
        chkPenilaianPasienPenyakitMenular.setOpaque(false);
        chkPenilaianPasienPenyakitMenular.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkPenilaianPasienPenyakitMenular);

        chkPenilaianPasienKeracunan.setText("Penilaian Pasien Keracunan");
        chkPenilaianPasienKeracunan.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkPenilaianPasienKeracunan.setName("chkPenilaianPasienKeracunan"); // NOI18N
        chkPenilaianPasienKeracunan.setOpaque(false);
        chkPenilaianPasienKeracunan.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkPenilaianPasienKeracunan);

        chkTindakanRalanDokter.setText("Tindakan Ralan Dokter");
        chkTindakanRalanDokter.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkTindakanRalanDokter.setName("chkTindakanRalanDokter"); // NOI18N
        chkTindakanRalanDokter.setOpaque(false);
        chkTindakanRalanDokter.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkTindakanRalanDokter);

        chkTindakanRalanParamedis.setText("Tindakan Ralan Paramedis");
        chkTindakanRalanParamedis.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkTindakanRalanParamedis.setName("chkTindakanRalanParamedis"); // NOI18N
        chkTindakanRalanParamedis.setOpaque(false);
        chkTindakanRalanParamedis.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkTindakanRalanParamedis);

        chkTindakanRalanDokterParamedis.setText("Tindakan Ralan Dokter & Paramedis");
        chkTindakanRalanDokterParamedis.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkTindakanRalanDokterParamedis.setName("chkTindakanRalanDokterParamedis"); // NOI18N
        chkTindakanRalanDokterParamedis.setOpaque(false);
        chkTindakanRalanDokterParamedis.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkTindakanRalanDokterParamedis);

        chkTindakanRanapDokter.setText("Tindakan Ranap Dokter");
        chkTindakanRanapDokter.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkTindakanRanapDokter.setName("chkTindakanRanapDokter"); // NOI18N
        chkTindakanRanapDokter.setOpaque(false);
        chkTindakanRanapDokter.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkTindakanRanapDokter);

        chkTindakanRanapParamedis.setText("Tindakan Ranap Paramedis");
        chkTindakanRanapParamedis.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkTindakanRanapParamedis.setName("chkTindakanRanapParamedis"); // NOI18N
        chkTindakanRanapParamedis.setOpaque(false);
        chkTindakanRanapParamedis.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkTindakanRanapParamedis);

        chkTindakanRanapDokterParamedis.setText("Tindakan Ranap Dokter & Paramedis");
        chkTindakanRanapDokterParamedis.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkTindakanRanapDokterParamedis.setName("chkTindakanRanapDokterParamedis"); // NOI18N
        chkTindakanRanapDokterParamedis.setOpaque(false);
        chkTindakanRanapDokterParamedis.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkTindakanRanapDokterParamedis);

        chkPenggunaanKamar.setText("Penggunaan Kamar");
        chkPenggunaanKamar.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkPenggunaanKamar.setName("chkPenggunaanKamar"); // NOI18N
        chkPenggunaanKamar.setOpaque(false);
        chkPenggunaanKamar.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkPenggunaanKamar);

        chkPemeriksaanRadiologi.setText("Pemeriksaan Radiologi");
        chkPemeriksaanRadiologi.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkPemeriksaanRadiologi.setName("chkPemeriksaanRadiologi"); // NOI18N
        chkPemeriksaanRadiologi.setOpaque(false);
        chkPemeriksaanRadiologi.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkPemeriksaanRadiologi);

        chkPemeriksaanLaborat.setText("Pemeriksaan Laborat");
        chkPemeriksaanLaborat.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkPemeriksaanLaborat.setName("chkPemeriksaanLaborat"); // NOI18N
        chkPemeriksaanLaborat.setOpaque(false);
        chkPemeriksaanLaborat.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkPemeriksaanLaborat);

        chkPemberianObat.setText("Pemberian Obat/BHP/Alkes");
        chkPemberianObat.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkPemberianObat.setName("chkPemberianObat"); // NOI18N
        chkPemberianObat.setOpaque(false);
        chkPemberianObat.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkPemberianObat);

        chkPenggunaanObatOperasi.setText("Penggunaan Obat/BHP Operasi");
        chkPenggunaanObatOperasi.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkPenggunaanObatOperasi.setName("chkPenggunaanObatOperasi"); // NOI18N
        chkPenggunaanObatOperasi.setOpaque(false);
        chkPenggunaanObatOperasi.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkPenggunaanObatOperasi);

        chkResepPulang.setText("Resep Pulang");
        chkResepPulang.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkResepPulang.setName("chkResepPulang"); // NOI18N
        chkResepPulang.setOpaque(false);
        chkResepPulang.setPreferredSize(new java.awt.Dimension(245, 22));
        chkResepPulang.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                chkResepPulangActionPerformed(evt);
            }
        });
        FormMenu.add(chkResepPulang);

        chkTelaah.setSelected(true);
        chkTelaah.setText("Telaah");
        chkTelaah.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        chkTelaah.setName("chkTelaah"); // NOI18N
        chkTelaah.setOpaque(false);
        chkTelaah.setPreferredSize(new java.awt.Dimension(245, 22));
        FormMenu.add(chkTelaah);

        ScrollMenu.setViewportView(FormMenu);

        PanelAccor.add(ScrollMenu, java.awt.BorderLayout.CENTER);

        internalFrame2.add(PanelAccor, java.awt.BorderLayout.WEST);

        TabRawat.addTab("Generate Berkas Klaim", internalFrame2);

        internalFrame1.add(TabRawat, java.awt.BorderLayout.CENTER);

        PanelInput.setBackground(new java.awt.Color(255, 255, 255));
        PanelInput.setName("PanelInput"); // NOI18N
        PanelInput.setOpaque(false);
        PanelInput.setLayout(new java.awt.BorderLayout(1, 1));

        ChkInput.setIcon(new javax.swing.ImageIcon(getClass().getResource("/picture/143.png"))); // NOI18N
        ChkInput.setMnemonic('M');
        ChkInput.setSelected(true);
        ChkInput.setText(".: Tampilkan/Sembunyikan Data Pasien");
        ChkInput.setBorderPainted(true);
        ChkInput.setBorderPaintedFlat(true);
        ChkInput.setFocusable(false);
        ChkInput.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        ChkInput.setHorizontalTextPosition(javax.swing.SwingConstants.RIGHT);
        ChkInput.setName("ChkInput"); // NOI18N
        ChkInput.setPreferredSize(new java.awt.Dimension(192, 20));
        ChkInput.setRolloverIcon(new javax.swing.ImageIcon(getClass().getResource("/picture/143.png"))); // NOI18N
        ChkInput.setRolloverSelectedIcon(new javax.swing.ImageIcon(getClass().getResource("/picture/145.png"))); // NOI18N
        ChkInput.setSelectedIcon(new javax.swing.ImageIcon(getClass().getResource("/picture/145.png"))); // NOI18N
        ChkInput.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                ChkInputActionPerformed(evt);
            }
        });
        PanelInput.add(ChkInput, java.awt.BorderLayout.PAGE_END);

        FormInput.setName("FormInput"); // NOI18N
        FormInput.setPreferredSize(new java.awt.Dimension(100, 104));
        FormInput.setLayout(null);

        label17.setText("Pasien :");
        label17.setName("label17"); // NOI18N
        label17.setPreferredSize(new java.awt.Dimension(55, 23));
        FormInput.add(label17);
        label17.setBounds(5, 10, 55, 23);

        NoRM.setName("NoRM"); // NOI18N
        NoRM.setPreferredSize(new java.awt.Dimension(100, 23));
        NoRM.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                NoRMKeyPressed(evt);
            }
        });
        FormInput.add(NoRM);
        NoRM.setBounds(64, 10, 100, 23);

        NmPasien.setEditable(false);
        NmPasien.setName("NmPasien"); // NOI18N
        NmPasien.setPreferredSize(new java.awt.Dimension(220, 23));
        FormInput.add(NmPasien);
        NmPasien.setBounds(167, 10, 220, 23);

        BtnPasien.setIcon(new javax.swing.ImageIcon(getClass().getResource("/picture/190.png"))); // NOI18N
        BtnPasien.setMnemonic('3');
        BtnPasien.setToolTipText("Alt+3");
        BtnPasien.setName("BtnPasien"); // NOI18N
        BtnPasien.setPreferredSize(new java.awt.Dimension(28, 23));
        BtnPasien.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                BtnPasienActionPerformed(evt);
            }
        });
        BtnPasien.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                BtnPasienKeyPressed(evt);
            }
        });
        FormInput.add(BtnPasien);
        BtnPasien.setBounds(390, 10, 28, 23);

        label20.setText("J.K. :");
        label20.setName("label20"); // NOI18N
        label20.setPreferredSize(new java.awt.Dimension(55, 23));
        FormInput.add(label20);
        label20.setBounds(436, 10, 30, 23);

        Jk.setEditable(false);
        Jk.setName("Jk"); // NOI18N
        Jk.setPreferredSize(new java.awt.Dimension(100, 23));
        FormInput.add(Jk);
        Jk.setBounds(470, 10, 40, 23);

        label21.setText("Tempat & Tgl.Lahir :");
        label21.setName("label21"); // NOI18N
        label21.setPreferredSize(new java.awt.Dimension(55, 23));
        FormInput.add(label21);
        label21.setBounds(523, 10, 110, 23);

        TempatLahir.setEditable(false);
        TempatLahir.setName("TempatLahir"); // NOI18N
        TempatLahir.setPreferredSize(new java.awt.Dimension(100, 23));
        FormInput.add(TempatLahir);
        TempatLahir.setBounds(637, 10, 140, 23);

        label22.setText("Alamat :");
        label22.setName("label22"); // NOI18N
        label22.setPreferredSize(new java.awt.Dimension(55, 23));
        FormInput.add(label22);
        label22.setBounds(5, 40, 55, 23);

        Alamat.setEditable(false);
        Alamat.setName("Alamat"); // NOI18N
        Alamat.setPreferredSize(new java.awt.Dimension(100, 23));
        FormInput.add(Alamat);
        Alamat.setBounds(64, 40, 354, 23);

        label23.setText("G.D. :");
        label23.setName("label23"); // NOI18N
        label23.setPreferredSize(new java.awt.Dimension(55, 23));
        FormInput.add(label23);
        label23.setBounds(436, 40, 30, 23);

        GD.setEditable(false);
        GD.setName("GD"); // NOI18N
        GD.setPreferredSize(new java.awt.Dimension(100, 23));
        FormInput.add(GD);
        GD.setBounds(470, 40, 40, 23);

        label24.setText("Nama Ibu Kandung :");
        label24.setName("label24"); // NOI18N
        label24.setPreferredSize(new java.awt.Dimension(55, 23));
        FormInput.add(label24);
        label24.setBounds(523, 40, 110, 23);

        IbuKandung.setEditable(false);
        IbuKandung.setName("IbuKandung"); // NOI18N
        IbuKandung.setPreferredSize(new java.awt.Dimension(100, 23));
        FormInput.add(IbuKandung);
        IbuKandung.setBounds(637, 40, 225, 23);

        TanggalLahir.setEditable(false);
        TanggalLahir.setName("TanggalLahir"); // NOI18N
        TanggalLahir.setPreferredSize(new java.awt.Dimension(100, 23));
        FormInput.add(TanggalLahir);
        TanggalLahir.setBounds(779, 10, 83, 23);

        label25.setText("Agama :");
        label25.setName("label25"); // NOI18N
        label25.setPreferredSize(new java.awt.Dimension(55, 23));
        FormInput.add(label25);
        label25.setBounds(5, 70, 55, 23);

        Agama.setEditable(false);
        Agama.setName("Agama"); // NOI18N
        Agama.setPreferredSize(new java.awt.Dimension(100, 23));
        FormInput.add(Agama);
        Agama.setBounds(64, 70, 100, 23);

        StatusNikah.setEditable(false);
        StatusNikah.setName("StatusNikah"); // NOI18N
        StatusNikah.setPreferredSize(new java.awt.Dimension(100, 23));
        FormInput.add(StatusNikah);
        StatusNikah.setBounds(245, 70, 100, 23);

        label26.setText("Stts.Nikah :");
        label26.setName("label26"); // NOI18N
        label26.setPreferredSize(new java.awt.Dimension(55, 23));
        FormInput.add(label26);
        label26.setBounds(176, 70, 65, 23);

        Pendidikan.setEditable(false);
        Pendidikan.setName("Pendidikan"); // NOI18N
        Pendidikan.setPreferredSize(new java.awt.Dimension(100, 23));
        FormInput.add(Pendidikan);
        Pendidikan.setBounds(429, 70, 80, 23);

        label27.setText("Pendidikan :");
        label27.setName("label27"); // NOI18N
        label27.setPreferredSize(new java.awt.Dimension(55, 23));
        FormInput.add(label27);
        label27.setBounds(355, 70, 70, 23);

        label28.setText("Bahasa :");
        label28.setName("label28"); // NOI18N
        label28.setPreferredSize(new java.awt.Dimension(55, 23));
        FormInput.add(label28);
        label28.setBounds(520, 70, 50, 23);

        Bahasa.setEditable(false);
        Bahasa.setName("Bahasa"); // NOI18N
        Bahasa.setPreferredSize(new java.awt.Dimension(100, 23));
        FormInput.add(Bahasa);
        Bahasa.setBounds(574, 70, 100, 23);

        label29.setText("Cacat Fisik :");
        label29.setName("label29"); // NOI18N
        label29.setPreferredSize(new java.awt.Dimension(55, 23));
        FormInput.add(label29);
        label29.setBounds(683, 70, 70, 23);

        CacatFisik.setEditable(false);
        CacatFisik.setName("CacatFisik"); // NOI18N
        CacatFisik.setPreferredSize(new java.awt.Dimension(100, 23));
        FormInput.add(CacatFisik);
        CacatFisik.setBounds(757, 70, 105, 23);

        PanelInput.add(FormInput, java.awt.BorderLayout.CENTER);

        internalFrame1.add(PanelInput, java.awt.BorderLayout.PAGE_START);

        getContentPane().add(internalFrame1, java.awt.BorderLayout.CENTER);

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void BtnKeluarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_BtnKeluarActionPerformed
        dispose();
}//GEN-LAST:event_BtnKeluarActionPerformed

    private void BtnKeluarKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_BtnKeluarKeyPressed
        if (evt.getKeyCode() == KeyEvent.VK_SPACE) {
            dispose();
        } else {
//            Valid.pindah(evt,Tgl1,NoRM);
        }
}//GEN-LAST:event_BtnKeluarKeyPressed

private void NoRMKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_NoRMKeyPressed
    if (evt.getKeyCode() == KeyEvent.VK_PAGE_DOWN) {
        isPasien();
    } else if (evt.getKeyCode() == KeyEvent.VK_PAGE_UP) {
        isPasien();
        BtnKeluar.requestFocus();
    } else if (evt.getKeyCode() == KeyEvent.VK_UP) {
        BtnPasienActionPerformed(null);
    } else if (evt.getKeyCode() == KeyEvent.VK_ENTER) {
        isPasien();
        BtnPrint.requestFocus();
    }
}//GEN-LAST:event_NoRMKeyPressed

private void BtnPasienActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_BtnPasienActionPerformed
    if (akses.getpasien() == true) {
        pasien.isCek();
        pasien.emptTeks();
        pasien.setSize(internalFrame1.getWidth() - 20, internalFrame1.getHeight() - 20);
        pasien.setLocationRelativeTo(internalFrame1);
        pasien.setVisible(true);
    }
}//GEN-LAST:event_BtnPasienActionPerformed

private void BtnPasienKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_BtnPasienKeyPressed
    //Valid.pindah(evt,Tgl2,TKd);
}//GEN-LAST:event_BtnPasienKeyPressed

    private void BtnPrintActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_BtnPrintActionPerformed
        if (NoRM.getText().trim().isEmpty() || NmPasien.getText().isEmpty()) {
            JOptionPane.showMessageDialog(null, "Pasien masih kosong...!!!");
        } else {
            this.setCursor(Cursor.getPredefinedCursor(Cursor.WAIT_CURSOR));
            switch (TabRawat.getSelectedIndex()) {
                case 0:
                    panggilLaporan(LoadHTMLRiwayatPerawatan.getText());
                    break;
                default:
                    break;
            }
            this.setCursor(Cursor.getDefaultCursor());
        }
    }//GEN-LAST:event_BtnPrintActionPerformed

    private void BtnCari1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_BtnCari1ActionPerformed
        if (NoRM.getText().trim().isEmpty() || NmPasien.getText().isEmpty()) {
            JOptionPane.showMessageDialog(null, "Pasien masih kosong...!!!");
        } else {
            this.setCursor(Cursor.getPredefinedCursor(Cursor.WAIT_CURSOR));
            switch (TabRawat.getSelectedIndex()) {
                case 0:
                    clear();
                    tampilPerawatan();
                    break;
                default:
                    break;
            }
            this.setCursor(Cursor.getDefaultCursor());
        }
    }//GEN-LAST:event_BtnCari1ActionPerformed

    private void ChkInputActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_ChkInputActionPerformed
        isForm();
    }//GEN-LAST:event_ChkInputActionPerformed

    private void NoRawatKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_NoRawatKeyPressed
        if (evt.getKeyCode() == KeyEvent.VK_ENTER) {
            BtnCari1ActionPerformed(null);
        }
    }//GEN-LAST:event_NoRawatKeyPressed

    private void KdPeg2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_KdPeg2ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_KdPeg2ActionPerformed

    private void KdPeg2KeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_KdPeg2KeyPressed
        if (evt.getKeyCode() == KeyEvent.VK_PAGE_DOWN) {
            Sequel.cariIsi("select pegawai.nama from pegawai where pegawai.nik=?", TPegawai2, KdPeg2.getText());
        } else if (evt.getKeyCode() == KeyEvent.VK_UP) {
            BtnSeekPegawai1ActionPerformed(null);
        } else {
            Valid.pindah(evt, BtnPrint, BtnKeluar);
        }
    }//GEN-LAST:event_KdPeg2KeyPressed

    private void TPegawai2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_TPegawai2ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_TPegawai2ActionPerformed

    private void BtnSeekPegawai1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_BtnSeekPegawai1ActionPerformed
        akses.setform("RMRiwayatPrawatan");
        pegawai.emptTeks();
        pegawai.setSize(internalFrame1.getWidth() - 20, internalFrame1.getHeight() - 20);
        pegawai.setLocationRelativeTo(internalFrame1);
        pegawai.setVisible(true);
    }//GEN-LAST:event_BtnSeekPegawai1ActionPerformed

    private void BtnAllActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_BtnAllActionPerformed

    }//GEN-LAST:event_BtnAllActionPerformed

    private void TabRawatMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_TabRawatMouseClicked
        BtnCari1ActionPerformed(null);
    }//GEN-LAST:event_TabRawatMouseClicked

    private void chkSbarRanapItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_chkSbarRanapItemStateChanged
        // TODO add your handling code here:
    }//GEN-LAST:event_chkSbarRanapItemStateChanged

    private void chkSbarRalanItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_chkSbarRalanItemStateChanged
        // TODO add your handling code here:
    }//GEN-LAST:event_chkSbarRalanItemStateChanged

    private void chkOdontogramItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_chkOdontogramItemStateChanged
        // TODO add your handling code here:
    }//GEN-LAST:event_chkOdontogramItemStateChanged

    private void ChkAccorActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_ChkAccorActionPerformed
        isMenu();
    }//GEN-LAST:event_ChkAccorActionPerformed

    private void chkSuratKontrolBPJSActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_chkSuratKontrolBPJSActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_chkSuratKontrolBPJSActionPerformed

    private void chkSuratPRIActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_chkSuratPRIActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_chkSuratPRIActionPerformed

    private void chkSJPActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_chkSJPActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_chkSJPActionPerformed

    private void chkPernyataanDPJPActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_chkPernyataanDPJPActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_chkPernyataanDPJPActionPerformed

    private void chkImpleRajalActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_chkImpleRajalActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_chkImpleRajalActionPerformed

    private void chkImpleRanapActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_chkImpleRanapActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_chkImpleRanapActionPerformed

    private void chkResumeActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_chkResumeActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_chkResumeActionPerformed

    private void chkTriaseActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_chkTriaseActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_chkTriaseActionPerformed

    private void chkAwalMedisIgdActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_chkAwalMedisIgdActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_chkAwalMedisIgdActionPerformed

    private void chkPengantarRanapActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_chkPengantarRanapActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_chkPengantarRanapActionPerformed

    private void BtnCloseUrlActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_BtnCloseUrlActionPerformed
        URLSertisign.setText("");
        WindowURLSertisign.dispose();
    }//GEN-LAST:event_BtnCloseUrlActionPerformed

    private void BtnBukaURLActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_BtnBukaURLActionPerformed
        try {
            Desktop.getDesktop().browse(new URI(URLSertisign.getText()));
        } catch (Exception e) {
            JOptionPane.showMessageDialog(rootPane, "File belum tersedia, silahkan tunggu beberapa saat lagi..!!");
            System.out.println("Notifikasi : " + e);
        }
    }//GEN-LAST:event_BtnBukaURLActionPerformed

    private void BtnDownloadFileActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_BtnDownloadFileActionPerformed
        try {
            URL url = new URL(URLSertisign.getText());
            ReadableByteChannel readableByteChannel = Channels.newChannel(url.openStream());
            FileOutputStream fileOutputStream = new FileOutputStream("RPP" + NoRawat.getText().trim().replaceAll("/", "") + ".pdf");
            fileOutputStream.getChannel().transferFrom(readableByteChannel, 0, Long.MAX_VALUE);
            fileOutputStream.close();
            readableByteChannel.close();
            System.out.println("Download Selesai : " + "RPP" + NoRawat.getText().trim().replaceAll("/", "") + ".pdf");
        } catch (IOException e) {
            JOptionPane.showMessageDialog(rootPane, "File belum tersedia, silahkan tunggu & ulangi beberapa saat lagi..!!");
            System.out.println("Notifikasi : " + e);
        }
    }//GEN-LAST:event_BtnDownloadFileActionPerformed

    private void BtnDownloadBukaFileActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_BtnDownloadBukaFileActionPerformed
        try {
            URL url = new URL(URLSertisign.getText());
            ReadableByteChannel readableByteChannel = Channels.newChannel(url.openStream());
            FileOutputStream fileOutputStream = new FileOutputStream("RPP" + NoRawat.getText().trim().replaceAll("/", "") + ".pdf");
            fileOutputStream.getChannel().transferFrom(readableByteChannel, 0, Long.MAX_VALUE);
            fileOutputStream.close();
            readableByteChannel.close();
            System.out.println("Download Selesai : " + "RPP" + NoRawat.getText().trim().replaceAll("/", "") + ".pdf");
            Desktop.getDesktop().browse(new File("RPP" + NoRawat.getText().trim().replaceAll("/", "") + ".pdf").toURI());
        } catch (IOException e) {
            JOptionPane.showMessageDialog(rootPane, "File belum tersedia, silahkan tunggu & ulangi beberapa saat lagi..!!");
            System.out.println("Notifikasi : " + e);
        }
    }//GEN-LAST:event_BtnDownloadBukaFileActionPerformed

    private void MnGeneratePDFSertiSignActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_MnGeneratePDFSertiSignActionPerformed

        R4.setSelected(true);
        if (NoRawat.getText().equals("")) {
            JOptionPane.showMessageDialog(null, "No.Rawat masih kosong...!!!");
            NoRawat.requestFocus();
        } else {
            try {
                esign = false;
                sertisign = true;
                tampilPerawatan();
                if (sertisign == true) {
                    File g = new File("file.css");
                    BufferedWriter bg = new BufferedWriter(new FileWriter(g));
                    bg.write(
                            "@page { size: legal; margin: 15mm 10mm; } "
                            + "body { font-family: 'Segoe UI', Tahoma, Arial, sans-serif; font-size: 10px; line-height: 1.1; margin: 0; padding: 0; color: #333; } "
                            + "table { border-collapse: collapse; width: 100%; margin-bottom: 4px; } "
                            + "td, th { padding: 2px 4px; vertical-align: top; font-size: 9px; } "
                            // ==== TAMBAHKAN CSS PAGE BREAK INI ====
                            + ".pagebreak { page-break-after: always; clear: both; } "
                            + ".page-break-after { page-break-after: always; } "
                            + ".page-break-before { page-break-before: always; } "
                            + ".page-break-avoid { page-break-inside: avoid; } "
                            + ".no-page-break { page-break-inside: avoid; } "
                            + "@media print { "
                            + "  .pagebreak { page-break-after: always !important; } "
                            + "  .page-break-after { page-break-after: always !important; } "
                            + "  .page-break-before { page-break-before: always !important; } "
                            + "  .page-break-avoid { page-break-inside: avoid !important; } "
                            + "} "
                            // ====================================

                            + ".main-table { border: 1px solid #000; margin-bottom: 5px; } "
                            + ".main-table td { border: none; padding: 3px 5px; font-size: 9px; } "
                            + ".main-table .label { font-weight: bold; width: 25%; } "
                            + ".main-table .colon { width: 2%; text-align: center; } "
                            + ".main-table .value { width: 73%; } "
                            + ".header-section { text-align: center; margin-bottom: 6px; } "
                            + ".header-section .title { font-size: 12px; font-weight: bold; margin-bottom: 2px; } "
                            + ".header-section .subtitle { font-size: 11px; font-weight: bold; } "
                            + ".logo-section { text-align: left; vertical-align: middle; } "
                            + ".barcode-section { text-align: right; vertical-align: middle; } "
                            + ".isi td { border-right: 1px solid #e2e7dd; font: 8.5px Tahoma; height: 11px; border-bottom: 1px solid #e2e7dd; background: #ffffff; color: #323232; padding: 1px 3px; } "
                            + ".isi a { text-decoration: none; color: #8b9b95; padding: 0; font-family: Tahoma; font-size: 8.5px; } "
                            + ".footer-text { font-size: 8px; margin-top: 3px; } "
                            + ".disclaimer { font-style: italic; margin-top: 3px; font-size: 8px; } "
                            + ".signature-section { margin-top: 20px; } "
                            + ".signature-table { border: none; } "
                            + ".signature-table td { border: none; padding: 8px; } "
                            + ".signature-area { text-align: center; min-height: 150px; } "
                            + ".signature-title { font-weight: bold; font-size: 10px; margin-bottom: 8px; } "
                            + ".signature-role { font-size: 9px; margin-bottom: 40px; } "
                            + ".signature-marker { font-size: 12px; font-weight: normal; margin: 40px 0; } "
                            + ".signature-name { font-size: 9px; font-weight: bold; border-top: 1px solid #000; padding-top: 6px; margin-top: 20px; } "
                            + ".center { text-align: center; } "
                            + ".bold { font-weight: bold; } "
                            + ".no-border { border: none !important; } "
                            + ".qr-code { width: 65px; height: 65px; margin: 6px 0; } "
                            + ".spacer { margin-top: 4px; } "
                            + ".small-spacer { margin-top: 2px; } "
                            + ".compact { margin-bottom: 2px; } "
                            + ".sep-section { margin-bottom: 4px; } "
                            + ".srk-section { margin-bottom: 4px; } "
                            + "h1, h2, h3, h4, h5, h6 { margin: 2px 0; font-size: 11px; } "
                            + "p { margin: 1px 0; font-size: 9px; line-height: 1.1; } "
                            + "div { margin: 1px 0; line-height: 1.1; } "
                            + ".document-title { font-size: 11px; font-weight: bold; margin: 2px 0; } "
                            + ".document-content { font-size: 9px; line-height: 1.1; } "
                            + ".bpjs-header { font-size: 10px; font-weight: bold; margin: 2px 0; } "
                            + ".bpjs-content { font-size: 9px; margin: 1px 0; } "
                            + "img { max-width: 100%; height: auto; } "
                            + ".logo-img { width: auto; height: auto; max-width: 80px; max-height: 80px; } "
                            + ".barcode-img { width: auto; height: auto; max-width: 120px; max-height: 40px; } "
                            + ".qr-img { width: 65px; height: 65px; } "
                            + ".tight-spacing { margin: 0; padding: 0; line-height: 1.0; } "
                            + ".minimal-margin { margin: 1px 0; } "
                            + ".compressed-content { margin: 0; padding: 1px; line-height: 1.0; }"
                    );
                    bg.close();

                    PdfWriter pdf = new PdfWriter("Klaim" + NoRawat.getText().trim().replaceAll("/", "") + ".pdf");

                    // Ambil konten HTML dari LoadHTMLRiwayatPerawatan
                    StringBuilder htmlContent = new StringBuilder(LoadHTMLRiwayatPerawatan.getText());

                    // Tambahkan tanda tangan berdasarkan status rawat
                    try {
                        PreparedStatement ps = koneksi.prepareStatement(
                                "select reg_periksa.no_rawat, reg_periksa.kd_dokter, dokter.nm_dokter, reg_periksa.status_lanjut "
                                + "from reg_periksa inner join dokter on reg_periksa.kd_dokter=dokter.kd_dokter "
                                + "where reg_periksa.no_rawat=?"
                        );
                        ps.setString(1, NoRawat.getText().trim());
                        ResultSet rs = ps.executeQuery();

                        if (rs.next()) {
                            // Tambahkan section signature tanpa kotak dan garis
                            htmlContent.append(
                                    "<div style='margin-top: 30px;'>"
                                    + "<table width='100%' border='0' cellpadding='0' cellspacing='0'>"
                                    + "<tr>"
                                    + "<td width='30%'></td>"
                                    + "<td width='70%' style='text-align: center; padding: 20px;'>"
                                    + "<div style='font-weight: bold; font-size: 11px; margin-bottom: 5px;'>"
                                    + "Tanda Tangan/Verifikasi"
                                    + "</div>"
                                    + "<div style='font-size: 10px; margin-bottom: 10px;'>"
                                    + "Dokter Poli<br><br><br><br>"
                                    + "#1A<br>"
                            );

                            if (rs.getString("status_lanjut").equals("Ralan")) {
                                if (akses.getkode().equals(rs.getString("kd_dokter"))) {
                                    htmlContent.append(
                                            "<div style='font-size: 10px; font-weight: bold; margin-top: 30px;'>"
                                            + rs.getString("nm_dokter")
                                            + "</div>"
                                    );
                                } else {
                                    sertisign = false;
                                    JOptionPane.showMessageDialog(null, "Harus dilakukan oleh Dokter Poli yang menangani pasien...!!!!");
                                }
                            } else if (rs.getString("status_lanjut").equals("Ranap")) {
                                System.out.println("ESign : " + esign + " Sertisign : " + sertisign);
                                try {
                                    PreparedStatement ps3 = koneksi.prepareStatement(
                                            "select dpjp_ranap.kd_dokter,dokter.nm_dokter from dpjp_ranap inner join dokter on dpjp_ranap.kd_dokter=dokter.kd_dokter where dpjp_ranap.no_rawat=?"
                                    );
                                    ps3.setString(1, rs.getString("no_rawat"));
                                    ResultSet rs3 = ps3.executeQuery();

                                    if (rs3.next()) {
                                        // Tutup div sebelumnya
                                        htmlContent.append("</div></td></tr></table>");

                                        // Buat section baru untuk multiple DPJP tanpa kotak
                                        htmlContent.append(
                                                "<div style='text-align: center; margin-top: 30px; padding: 20px;'>"
                                                + "<div style='font-weight: bold; font-size: 11px; margin-bottom: 10px;'>"
                                                + "Tanda Tangan/Verifikasi"
                                                + "</div>"
                                                + "<table width='100%' border='0' cellpadding='0' cellspacing='0'>"
                                                + "<tr>"
                                        );

                                        int urutdpjp = 1;
                                        int totalDpjp = 0;

                                        // Hitung total DPJP
                                        do {
                                            totalDpjp++;
                                        } while (rs3.next());

                                        // Reset ResultSet
                                        rs3.close();
                                        ps3.close();
                                        ps3 = koneksi.prepareStatement(
                                                "select dpjp_ranap.kd_dokter,dokter.nm_dokter from dpjp_ranap inner join dokter on dpjp_ranap.kd_dokter=dokter.kd_dokter where dpjp_ranap.no_rawat=?"
                                        );
                                        ps3.setString(1, rs.getString("no_rawat"));
                                        rs3 = ps3.executeQuery();

                                        sertisign = false;
                                        int cellWidth = 100 / totalDpjp;

                                        while (rs3.next()) {
                                            htmlContent.append(
                                                    "<td width='" + cellWidth + "%' style='text-align: center; vertical-align: middle; padding: 15px;'>"
                                                    + "<div style='font-size: 10px; margin-bottom: 5px;'>"
                                                    + "Dokter DPJP " + urutdpjp + "<br>"
                                                    + "#1A<br>"
                                                    + "</div>"
                                            );

                                            if (rs3.getString("kd_dokter").equals(akses.getkode())) {
                                                htmlContent.append(
                                                        "<div style='font-size: 10px; font-weight: bold; margin-top: 30px;'>"
                                                        + rs3.getString("nm_dokter")
                                                        + "</div>"
                                                );
                                                sertisign = true;
                                            } else {
                                                GetMethod get = new GetMethod("http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/penggajian/generateqrcode.php?kodedokter=" + rs3.getString("kd_dokter").replace(" ", "_"));
                                                http.executeMethod(get);
                                                htmlContent.append(
                                                        "<img width='80' height='80' src='http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/penggajian/temp/" + rs3.getString("kd_dokter") + ".png' style='margin: 20px 0;'/>"
                                                        + "<div style='font-size: 10px; font-weight: bold; margin-top: 15px;'>"
                                                        + rs3.getString("nm_dokter")
                                                        + "</div>"
                                                );
                                            }

                                            htmlContent.append("</td>");
                                            urutdpjp++;
                                        }

                                        htmlContent.append("</tr></table></div>");
                                        rs3.close();
                                        ps3.close();
                                    } else {
                                        if (akses.getkode().equals(rs.getString("kd_dokter"))) {
                                            htmlContent.append(
                                                    "</div>"
                                                    + "<div style='font-size: 10px; margin-bottom: 10px;'>"
                                                    + "Dokter DPJP<br>"
                                                    + "#1A<br>"
                                                    + "</div>"
                                                    + "<div style='font-size: 10px; font-weight: bold; margin-top: 30px;'>"
                                                    + rs.getString("nm_dokter")
                                                    + "</div>"
                                            );
                                        } else {
                                            sertisign = false;
                                            JOptionPane.showMessageDialog(null, "Harus dilakukan oleh Dokter Poli yang menangani pasien...!!!!");
                                        }
                                    }
                                } catch (Exception ex) {
                                    System.out.println("Error getting DPJP: " + ex);
                                }
                            }

                            // Tutup struktur untuk single signature (jika bukan multiple DPJP)
                            if (!rs.getString("status_lanjut").equals("Ranap")
                                    || Sequel.cariIsi("select count(*) from dpjp_ranap where no_rawat='" + rs.getString("no_rawat") + "'").equals("0")) {
                                htmlContent.append("</div></td></tr></table>");
                            }

                            htmlContent.append("</div>");
                        }
                        rs.close();
                        ps.close();
                    } catch (Exception ex) {
                        System.out.println("Error processing signature: " + ex);
                    }

                    // Jika sertisign false, jangan lanjutkan proses
                    if (!sertisign) {
                        return;
                    }

                    // Convert HTML to PDF
                    HtmlConverter.convertToPdf(
                            htmlContent.toString()
                                    .replaceAll("<head>", "<head><link href=\"file.css\" rel=\"stylesheet\" type=\"text/css\" />")
                                    .replaceAll((getClass().getResource("/picture/")) + "", "./gambar/"),
                            pdf
                    );

                    File f = new File("Klaim" + NoRawat.getText().trim().replaceAll("/", "") + ".pdf");
                    String documentName = f.getName();

                    try {
                        CloseableHttpClient httpClient = HttpClients.createDefault();
                        // ERROR: Method URLAPISERTISIGN() belum ada di koneksiDB.java
                        // HttpPost post = new HttpPost(koneksiDB.URLAPISERTISIGN());
                        // ERROR: Method APIKEYSERTISIGN() belum ada di koneksiDB.java
                        // post.addHeader("apikey", koneksiDB.APIKEYSERTISIGN());
                        HttpPost post = new HttpPost(""); // Temporary placeholder
                        post.addHeader("apikey", ""); // Temporary placeholder
                        post.addHeader("Accept", "application/json");
                        json = Sequel.cariIsi("select dokter.email from dokter where dokter.kd_dokter=?", akses.getkode());
                        kddpjp = Sequel.cariIsi("select pegawai.no_ktp from pegawai where pegawai.nik=?", akses.getkode());
                        dpjp = Sequel.cariIsi("select pegawai.nama from pegawai where pegawai.nik=?", akses.getkode());
                        MultipartEntityBuilder entityBuilder = MultipartEntityBuilder.create()
                                .addBinaryBody("document", f, ContentType.APPLICATION_PDF, f.getName())
                                .addTextBody("signer", json)
                                .addTextBody("keyword", "#1A")
                                .addTextBody("qrValue", "Dikeluarkan di " + akses.getnamars() + ", Kabupaten/Kota " + akses.getkabupatenrs() + "\nDitandatangani secara elektronik oleh " + dpjp + "\nID " + kddpjp + "\n" + Tanggal.getSelectedItem().toString())
                                .addTextBody("w", "60")
                                .addTextBody("h", "60");
                        HttpEntity entity = entityBuilder.build();
                        post.setEntity(entity);
                        // ERROR: Method URLAPISERTISIGN() belum ada di koneksiDB.java
                        // System.out.println("URL Kirim File : " + koneksiDB.URLAPISERTISIGN());
                        System.out.println("URL Kirim File : [URLAPISERTISIGN belum dikonfigurasi]"); // Temporary placeholder

                        try ( CloseableHttpResponse response = httpClient.execute(post)) {
                            if (response.getCode() == 200) {
                                json = EntityUtils.toString(response.getEntity());
                                System.out.println("Respon Kirim File : " + json);
                                root = mapper.readTree(json);
                                String transactionId = root.path("data").path("transaction_id").asText();
                                System.out.println("Id File : " + transactionId);
                                // ERROR: Method URLDOKUMENSERTISIGN() belum ada di koneksiDB.java
                                // System.out.println("URL Callback File : " + koneksiDB.URLDOKUMENSERTISIGN() + "/" + transactionId + ".pdf");
                                System.out.println("URL Callback File : [URLDOKUMENSERTISIGN belum dikonfigurasi]/" + transactionId + ".pdf"); // Temporary placeholder

                                // ERROR: Method URLDOKUMENSERTISIGN() belum ada di koneksiDB.java
                                // String downloadUrl = koneksiDB.URLDOKUMENSERTISIGN() + "/" + transactionId + ".pdf";
                                String downloadUrl = "" + "/" + transactionId + ".pdf"; // Temporary placeholder

                                String sep = Sequel.cariIsi("select no_sep from bridging_sep where no_rawat = '" + NoRawat.getText() + "'");
                                String tanggal = Sequel.cariIsi("select tglsep from bridging_sep where no_rawat = '" + NoRawat.getText() + "'");
                                String norawat = NoRawat.getText().trim();
                                String kode = Sequel.cariIsi("select kode from master_berkas_digital where nama = 'riwayat'");
                                String tanggaljam = getCurrentDateTime();
                                String inacbg = "INA-CBG";

                                String statusTteId = insertStatusTte(norawat, sep, transactionId, documentName,
                                        json, dpjp, kddpjp, downloadUrl);

                                autoDownloadWithRetry(downloadUrl, 10, sep, tanggal, norawat, kode,
                                        tanggaljam, inacbg, transactionId, statusTteId);

                                URLSertisign.setText(downloadUrl);
                                WindowURLSertisign.setAlwaysOnTop(true);
                                WindowURLSertisign.setLocationRelativeTo(internalFrame1);
                                WindowURLSertisign.setVisible(true);

                            } else {
                                System.out.println("Notifikasi : " + EntityUtils.toString(response.getEntity()));
                            }
                        } catch (Exception a) {
                            System.out.println("Notifikasi : " + a);
                        }
                    } catch (Exception e) {
                        System.out.println("Notifikasi : " + e);
                    }
                }
            } catch (Exception e) {
                System.out.println("Notifikasi : " + e);
            }
        }


    }//GEN-LAST:event_MnGeneratePDFSertiSignActionPerformed

    private void chkSemuaItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_chkSemuaItemStateChanged
        if (chkSemua.isSelected() == true) {
            chkSepBpjs.setSelected(true);
            chkSuratPRI.setSelected(true);
            chkResume.setSelected(true);
            chkSbpk.setSelected(true);
            chkHasilLab.setSelected(true);
            chkHasilRad.setSelected(true);
            chkBerkasDigital.setSelected(true);
            chkLaporanOperasi.setSelected(true);
            chkLaporanTindakan.setSelected(true);
            chkTriase.setSelected(true);
            chkAwalMedisIgd.setSelected(true);

        } else {
            chkSepBpjs.setSelected(false);
            chkSuratPRI.setSelected(false);
            chkResume.setSelected(false);
            chkSbpk.setSelected(false);
            chkHasilLab.setSelected(false);
            chkHasilRad.setSelected(false);
            chkBerkasDigital.setSelected(false);
            chkLaporanOperasi.setSelected(false);
            chkLaporanTindakan.setSelected(false);
            chkTriase.setSelected(false);
            chkAwalMedisIgd.setSelected(false);
        }
    }//GEN-LAST:event_chkSemuaItemStateChanged

    private void chkRawatJalanItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_chkRawatJalanItemStateChanged
        if (chkRawatJalan.isSelected() == true) {
            chkLembarEklaim.setSelected(true);
            chkSepBpjs.setSelected(true);
            chkLembarVerifikasi.setSelected(true);
            chkBilling.setSelected(true);
            chkSuratKontrolBPJS.setSelected(true);
            chkSuratKontrol.setSelected(true);
            chkSuratRujukan.setSelected(true);
            chkRehabKunjunganPertama.setSelected(true);
            chkReassessment.setSelected(true);
            chkLembarProgramTerapi.setSelected(true);
            chkResume.setSelected(true);
            chkHasilLab.setSelected(true);
            chkHasilRad.setSelected(true);
            chkBerkasDigital.setSelected(true);
        } else {
            chkLembarEklaim.setSelected(false);
            chkSepBpjs.setSelected(false);
            chkLembarVerifikasi.setSelected(false);
            chkBilling.setSelected(false);
            chkSuratKontrolBPJS.setSelected(false);
            chkSuratKontrol.setSelected(false);
            chkSuratRujukan.setSelected(false);
            chkRehabKunjunganPertama.setSelected(false);
            chkReassessment.setSelected(false);
            chkLembarProgramTerapi.setSelected(false);
            chkResume.setSelected(false);
            chkHasilLab.setSelected(false);
            chkHasilRad.setSelected(false);
            chkBerkasDigital.setSelected(false);
        }
    }//GEN-LAST:event_chkRawatJalanItemStateChanged

    private void chkRawatInapItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_chkRawatInapItemStateChanged
        if (chkSemua.isSelected() == true) {
            chkSepBpjs.setSelected(true);
            chkSuratKontrolBPJS.setSelected(true);
            chkSuratPRI.setSelected(true);
            chkResume.setSelected(true);
            chkSbpk.setSelected(true);
            chkHasilLab.setSelected(true);
            chkHasilRad.setSelected(true);
            chkBerkasDigital.setSelected(true);
            chkLaporanOperasi.setSelected(true);
            chkLaporanTindakan.setSelected(true);
            chkTriase.setSelected(true);
            chkAwalMedisIgd.setSelected(true);

        } else {
            chkSepBpjs.setSelected(false);
            chkSuratKontrolBPJS.setSelected(false);
            chkSuratPRI.setSelected(false);
            chkResume.setSelected(false);
            chkSbpk.setSelected(false);
            chkHasilLab.setSelected(false);
            chkHasilRad.setSelected(false);
            chkBerkasDigital.setSelected(false);
            chkLaporanOperasi.setSelected(false);
            chkLaporanTindakan.setSelected(false);
            chkTriase.setSelected(false);
            chkAwalMedisIgd.setSelected(false);
        }
    }//GEN-LAST:event_chkRawatInapItemStateChanged

    private void chkObatKronisItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_chkObatKronisItemStateChanged
        if (chkObatKronis.isSelected() == true) {
            chkSepBpjs.setSelected(true);
            chkSbpk.setSelected(true);            
            chkResep.setSelected(true);
            chkBilling.setSelected(true);

        } else {
            chkSbpk.setSelected(false);
            chkSepBpjs.setSelected(false);
            chkResep.setSelected(false);
            chkBilling.setSelected(false);
        }
    }//GEN-LAST:event_chkObatKronisItemStateChanged

    private void BtnPrint1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_BtnPrint1ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_BtnPrint1ActionPerformed

    private void chkSuratRujukanActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_chkSuratRujukanActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_chkSuratRujukanActionPerformed

    private void chkResepPulangActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_chkResepPulangActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_chkResepPulangActionPerformed

    private void MnGeneratePDFActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_MnGeneratePDFActionPerformed
        R4.setSelected(true);
        if (NoRawat.getText().equals("")) {
            JOptionPane.showMessageDialog(null, "No.Rawat masih kosong...!!!");
            NoRawat.requestFocus();
        } else {
            try {
                esign = false;
                sertisign = false;
                tampilPerawatan();

                // Buat file CSS dengan ukuran kertas Legal - OPTIMIZED UNTUK PDF
                File g = new File("file.css");
                BufferedWriter bg = new BufferedWriter(new FileWriter(g));
                bg.write(
                        // CSS Dasar untuk kompatibilitas dengan iText PDF
                        ".isi td{border-right: 1px solid #e2e7dd;font: 12px tahoma;height:16px;border-bottom: 1px solid #e2e7dd;background: #ffffff;color:#323232;}"
                        + ".isi a{text-decoration:none;color:#8b9b95;padding:0 0 0 0px;font-family: Tahoma;font-size: 12px;border: white;}"
                        + // Font base yang seragam
                        "body{font-family: Tahoma;font-size: 12px; margin: 0; padding: 10px;}"
                        + "table{font-size: 12px; border-collapse: collapse;}"
                        + "td{font-size: 12px;padding: 4px; vertical-align: top;}"
                        + "th{font-size: 12px;padding: 4px; vertical-align: top;}"
                        + "h1,h2,h3,h4{font-size: 14px; margin: 5px 0;}"
                        + "p{font-size: 12px; margin: 3px 0;}"
                        + "div{font-size: 12px;}"
                        + "span{font-size: 12px;}"
                        + // CSS khusus untuk SEP BPJS - OPTIMIZED UNTUK PDF
                        ".page-section {width: 100%; max-width: 750px; margin: 0 auto; page-break-inside: avoid;}"
                        + ".sep {width: 100%; max-width: 100%; border-collapse: collapse; font-size: 10px;}"
                        + ".sep td {padding: 2px; font-size: 10px; vertical-align: top; border: none;}"
                        + ".sep th {padding: 2px; font-size: 10px; vertical-align: top; border: none;}"
                        + ".sep img {max-width: 100%; height: auto;}"
                        + // CSS khusus untuk laporan terapi obat
                        ".terapi-header {font-family: Tahoma; font-size: 12px; font-weight: bold; text-align: center;}"
                        + ".terapi-subheader {font-family: Tahoma; font-size: 10px; font-weight: bold; text-align: center;}"
                        + ".terapi-table {border-collapse: collapse; font-family: Tahoma; font-size: 8.5px; width: 100%;}"
                        + ".terapi-table td, .terapi-table th {border: 1px solid black; font-family: Tahoma; font-size: 8.5px; padding: 3px; vertical-align: top;}"
                        + ".terapi-table th {background-color: #f0f0f0; font-weight: bold;}"
                        + ".terapi-keterangan {font-family: Tahoma; font-size: 8px; font-style: italic; color: #666;}"
                        + ".terapi-legend {font-family: Tahoma; font-size: 8.5px; margin-top: 10px;}"
                        + // Page Break CSS untuk iText PDF - IMPROVED
                        ".pagebreak{page-break-before: always !important; page-break-after: auto !important; page-break-inside: avoid !important; display: block !important; height: 1px !important; margin: 0px !important; padding: 0px !important; border: none !important; clear: both !important;}"
                        + "p.pagebreak{page-break-before: always !important; page-break-after: auto !important; page-break-inside: avoid !important; display: block !important; height: 1px !important; margin: 0px !important; padding: 0px !important; border: none !important; font-size: 1px !important; line-height: 1px !important; clear: both !important;}"
                        + "div.pagebreak{page-break-before: always !important; page-break-after: auto !important; page-break-inside: avoid !important; display: block !important; height: 1px !important; margin: 0px !important; padding: 0px !important; border: none !important; clear: both !important;}"
                        + // Media print untuk fallback - Legal Size dengan margin optimal
                        "@page{size: legal portrait; margin: 1.5cm 1cm 1cm 1cm;}"
                        + "@media print {"
                        + "  @page{size: legal portrait; margin: 1.5cm 1cm 1cm 1cm;}"
                        + "  body {margin: 0; padding: 0;}"
                        + "  .pagebreak{page-break-before: always !important; display: block !important; height: 1px !important; margin: 0px !important; padding: 0px !important; clear: both !important;}"
                        + "  p.pagebreak{page-break-before: always !important; display: block !important; height: 1px !important; margin: 0px !important; padding: 0px !important; font-size: 1px !important; clear: both !important;}"
                        + "  div.pagebreak{page-break-before: always !important; display: block !important; height: 1px !important; margin: 0px !important; padding: 0px !important; clear: both !important;}"
                        + "  .page-section {page-break-inside: avoid; width: 100%; margin: 0;}"
                        + "}"
                        + // Alternative page break menggunakan CSS3 untuk browser modern
                        ".pagebreak{break-before: page !important; break-after: auto !important; break-inside: avoid !important; clear: both !important;}"
                        + "p.pagebreak{break-before: page !important; break-after: auto !important; break-inside: avoid !important; clear: both !important;}"
                        + "div.pagebreak{break-before: page !important; break-after: auto !important; break-inside: avoid !important; clear: both !important;}"
                        + // Styling untuk fieldset agar tidak mempengaruhi layout PDF
                        "fieldset {border: 1px solid #000; padding: 8px; margin: 5px 0; page-break-inside: avoid;}"
                        + "legend {font-weight: bold; font-size: 12px;}"
                );
                bg.close();

                // Generate PDF menggunakan iText
                PdfWriter pdf = new PdfWriter("RPP" + NoRawat.getText().trim().replaceAll("/", "") + ".pdf");

                // Preprocess HTML untuk convert page break menjadi format yang dikenali iText - IMPROVED
                String processedHTML = LoadHTMLRiwayatPerawatan.getText()
                        .replaceAll("<head>", "<head><link href=\"file.css\" rel=\"stylesheet\" type=\"text/css\" />")
                        // Berbagai format page break yang mungkin ada
                        .replaceAll("<p class='pagebreak'></p>", "<div style='page-break-before: always; height: 1px; clear: both; margin: 0; padding: 0; font-size: 1px;'>&nbsp;</div>")
                        .replaceAll("<p class=\"pagebreak\"></p>", "<div style='page-break-before: always; height: 1px; clear: both; margin: 0; padding: 0; font-size: 1px;'>&nbsp;</div>")
                        .replaceAll("<div class='pagebreak'></div>", "<div style='page-break-before: always; height: 1px; clear: both; margin: 0; padding: 0; font-size: 1px;'>&nbsp;</div>")
                        .replaceAll("<div class=\"pagebreak\"></div>", "<div style='page-break-before: always; height: 1px; clear: both; margin: 0; padding: 0; font-size: 1px;'>&nbsp;</div>")
                        .replaceAll("class='pagebreak'", "style='page-break-before: always; height: 1px; clear: both; margin: 0; padding: 0; font-size: 1px;'")
                        .replaceAll("class=\"pagebreak\"", "style='page-break-before: always; height: 1px; clear: both; margin: 0; padding: 0; font-size: 1px;'")
                        // Perbaiki path gambar
                        .replaceAll((getClass().getResource("/picture/")) + "", "./gambar/")
                        // Tambahkan wrapper untuk keseluruhan content agar lebih terkontrol
                        .replaceAll("<body>", "<body style='font-family: Tahoma; font-size: 12px; margin: 0; padding: 10px;'>")
                        .replaceAll("<body ", "<body style='font-family: Tahoma; font-size: 12px; margin: 0; padding: 10px;' ");

                HtmlConverter.convertToPdf(processedHTML, pdf);

                // Buka file PDF yang sudah dibuat
                File f = new File("RPP" + NoRawat.getText().trim().replaceAll("/", "") + ".pdf");
                Desktop.getDesktop().browse(f.toURI());

            } catch (Exception e) {
                System.out.println("Notifikasi : " + e);
                e.printStackTrace();
            }
        }
    }//GEN-LAST:event_MnGeneratePDFActionPerformed

    private void MnAnalisaBerkasKlaimActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_MnAnalisaBerkasKlaimActionPerformed
        try {
            System.out.println(" Opening PPK-based claim analysis form...");

            // Validasi input dasar
            if (NoRM.getText().trim().isEmpty() || NoRawat.getText().trim().isEmpty()) {
                JOptionPane.showMessageDialog(this,
                        "Pilih pasien dan data rawat terlebih dahulu.\n\n"
                        + "Pastikan:\n"
                        + " No. RM sudah terisi\n"
                        + " No. Rawat sudah terisi\n"
                        + " Data perawatan sudah tampil",
                        "Data Belum Dipilih",
                        JOptionPane.WARNING_MESSAGE);
                return;
            }

            // Ambil data perawatan untuk analisa PPK
            String dataPerawatan = getDataPerawatanForPPKAnalysis();

            if (dataPerawatan == null || dataPerawatan.trim().isEmpty()) {
                JOptionPane.showMessageDialog(this,
                        "Tidak ada data perawatan yang dapat dianalisa berdasarkan PPK.\n\n"
                        + "Pastikan:\n"
                        + " Data perawatan lengkap tersedia\n"
                        + " Pasien memiliki riwayat kunjungan\n"
                        + " Koneksi database normal",
                        "Data Tidak Tersedia untuk Analisa PPK",
                        JOptionPane.WARNING_MESSAGE);
                return;
            }

            // Validasi data minimal untuk analisa PPK
            if (!validateDataForPPKAnalysis(dataPerawatan)) {
                int option = JOptionPane.showConfirmDialog(this,
                        "Data perawatan tidak lengkap untuk analisa PPK komprehensif.\n\n"
                        + "Data yang ditemukan mungkin tidak mencakup semua elemen PPK.\n"
                        + "Apakah Anda tetap ingin melanjutkan analisa?\n\n"
                        + "(Hasil analisa mungkin tidak optimal)",
                        "Data Tidak Lengkap",
                        JOptionPane.YES_NO_OPTION,
                        JOptionPane.WARNING_MESSAGE);

                if (option != JOptionPane.YES_OPTION) {
                    return;
                }
            }

            System.out.println(" Data perawatan berhasil dikumpulkan untuk analisa PPK");
            System.out.println(" Panjang data: " + dataPerawatan.length() + " karakter");

            // Buka form analisa berkas klaim dari package bridging
            // ERROR: Class AnalisaBerkasKlaim belum dibuat di package bridging
            // AnalisaBerkasKlaim formAnalisa = new AnalisaBerkasKlaim(dataPerawatan);
            // formAnalisa.setVisible(true);
            JOptionPane.showMessageDialog(null, "ERROR: Fitur Analisa Berkas Klaim belum tersedia.\nClass AnalisaBerkasKlaim belum dibuat.", "Fitur Tidak Tersedia", JOptionPane.WARNING_MESSAGE);

            // System.out.println(" PPK-based claim analysis form opened successfully");

        } catch (Exception e) {
            System.out.println(" Error opening PPK claim analysis: " + e.getMessage());
            e.printStackTrace();

            JOptionPane.showMessageDialog(this,
                    "Gagal membuka form analisa berkas klaim berdasarkan PPK:\n\n" + e.getMessage(),
                    "Error",
                    JOptionPane.ERROR_MESSAGE);
        }
    }//GEN-LAST:event_MnAnalisaBerkasKlaimActionPerformed

    private void chkSepBpjsActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_chkSepBpjsActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_chkSepBpjsActionPerformed

    private void chkObatKronisActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_chkObatKronisActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_chkObatKronisActionPerformed

    private void chkSuratKontrolActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_chkSuratKontrolActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_chkSuratKontrolActionPerformed

    private void chkRehabKunjunganPertamaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_chkRehabKunjunganPertamaActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_chkRehabKunjunganPertamaActionPerformed

    private void chkReassessmentActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_chkReassessmentActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_chkReassessmentActionPerformed

    private void chkLembarProgramTerapiActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_chkLembarProgramTerapiActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_chkLembarProgramTerapiActionPerformed

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        java.awt.EventQueue.invokeLater(() -> {
            RMGenerateKlaim dialog = new RMGenerateKlaim(new javax.swing.JFrame(), true);
            dialog.addWindowListener(new java.awt.event.WindowAdapter() {
                @Override
                public void windowClosing(java.awt.event.WindowEvent e) {
                    System.exit(0);
                }
            });
            dialog.setVisible(true);
        });
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private widget.TextBox Agama;
    private widget.TextBox Alamat;
    private widget.TextBox Bahasa;
    private widget.Button BtnAll;
    private widget.Button BtnBukaURL;
    private widget.Button BtnCari1;
    private widget.Button BtnCloseUrl;
    private widget.Button BtnDownloadBukaFile;
    private widget.Button BtnDownloadFile;
    private widget.Button BtnKeluar;
    private widget.Button BtnPasien;
    private widget.Button BtnPrint;
    private widget.Button BtnPrint1;
    private widget.Button BtnSeekPegawai1;
    private widget.TextBox CacatFisik;
    private widget.CekBox ChkAccor;
    private widget.CekBox ChkInput;
    private widget.panelisi FormInput;
    private widget.PanelBiasa FormMenu;
    private widget.TextBox GD;
    private widget.TextBox IbuKandung;
    private widget.TextBox Jk;
    private widget.TextBox KdPeg2;
    private widget.editorpane LoadHTMLRiwayatPerawatan;
    private javax.swing.JMenuItem MnAnalisaBerkasKlaim;
    private javax.swing.JMenuItem MnGeneratePDF;
    private javax.swing.JMenuItem MnGeneratePDFSertiSign;
    private widget.TextBox NmPasien;
    private widget.TextBox NoRM;
    private widget.TextBox NoRawat;
    private widget.PanelBiasa PanelAccor;
    private javax.swing.JPanel PanelInput;
    private widget.TextBox Pekerjaan;
    private widget.TextBox Pendidikan;
    private widget.RadioButton R4;
    private widget.ScrollPane Scroll;
    private widget.ScrollPane ScrollMenu;
    private javax.swing.JTextField Status;
    private widget.TextBox StatusNikah;
    private widget.TextBox TPegawai2;
    private javax.swing.JTabbedPane TabRawat;
    private widget.Tanggal Tanggal;
    private widget.TextBox TanggalLahir;
    private widget.TextBox TempatLahir;
    private widget.TextBox URLSertisign;
    private javax.swing.JTextField Umur;
    private javax.swing.JDialog WindowURLSertisign;
    private javax.swing.ButtonGroup buttonGroup1;
    private widget.CekBox chkAsuhanFisioterapi;
    private widget.CekBox chkAsuhanGizi;
    private widget.CekBox chkAsuhanKeperawatanIGD;
    private widget.CekBox chkAsuhanKeperawatanRalan;
    private widget.CekBox chkAsuhanKeperawatanRalanBayi;
    private widget.CekBox chkAsuhanKeperawatanRalanGigi;
    private widget.CekBox chkAsuhanKeperawatanRalanKandungan;
    private widget.CekBox chkAsuhanKeperawatanRalanPsikiatri;
    private widget.CekBox chkAsuhanKeperawatanRanap;
    private widget.CekBox chkAsuhanKeperawatanRanapKandungan;
    private widget.CekBox chkAsuhanLanjutanRisikoJatuhAnak;
    private widget.CekBox chkAsuhanLanjutanRisikoJatuhDewasa;
    private widget.CekBox chkAsuhanLanjutanRisikoJatuhLansia;
    private widget.CekBox chkAsuhanMedisRalan;
    private widget.CekBox chkAsuhanMedisRalanBayi;
    private widget.CekBox chkAsuhanMedisRalanBedah;
    private widget.CekBox chkAsuhanMedisRalanBedahMulut;
    private widget.CekBox chkAsuhanMedisRalanGeriatri;
    private widget.CekBox chkAsuhanMedisRalanKandungan;
    private widget.CekBox chkAsuhanMedisRalanMata;
    private widget.CekBox chkAsuhanMedisRalanNeurologi;
    private widget.CekBox chkAsuhanMedisRalanOrthopedi;
    private widget.CekBox chkAsuhanMedisRalanPenyakitDalam;
    private widget.CekBox chkAsuhanMedisRalanPsikiatri;
    private widget.CekBox chkAsuhanMedisRalanTHT;
    private widget.CekBox chkAsuhanMedisRanap;
    private widget.CekBox chkAsuhanMedisRanapKandungan;
    private widget.CekBox chkAsuhanPreAnestesi;
    private widget.CekBox chkAsuhanPreOperasi;
    private widget.CekBox chkAsuhanPsikolog;
    private widget.CekBox chkAsuhanTambahanBunuhDiri;
    private widget.CekBox chkAsuhanTambahanGeriatri;
    private widget.CekBox chkAsuhanTambahanMelarikanDiri;
    private widget.CekBox chkAsuhanTambahanPerilakuKekerasan;
    private widget.CekBox chkAwalMedisIgd;
    private widget.CekBox chkBayi;
    private widget.CekBox chkBerkasDigital;
    private widget.CekBox chkBilling;
    private widget.CekBox chkCatatanCekGDS;
    private widget.CekBox chkCatatanDokter;
    private widget.CekBox chkCatatanKeperawatanRanap;
    private widget.CekBox chkCatatanObservasiIGD;
    private widget.CekBox chkCatatanObservasiRanap;
    private widget.CekBox chkCatatanObservasiRanapKebidanan;
    private widget.CekBox chkCatatanObservasiRanapPostPartum;
    private widget.CekBox chkChecklistPostOperasi;
    private widget.CekBox chkChecklistPreOperasi;
    private widget.CekBox chkDebriment;
    private widget.CekBox chkDiagnosaPenyakit;
    private widget.CekBox chkEdukasiPasienTerintegrasiRawatJalan;
    private widget.CekBox chkGambarRad;
    private widget.CekBox chkHasilLab;
    private widget.CekBox chkHasilPemeriksaanEKG;
    private widget.CekBox chkHasilPemeriksaanUSG;
    private widget.CekBox chkHasilRad;
    private widget.CekBox chkHemodialisa;
    private widget.CekBox chkImpleRajal;
    private widget.CekBox chkImpleRanap;
    private widget.CekBox chkKonselingFarmasi;
    private widget.CekBox chkKonsultasiMedik;
    private widget.CekBox chkLaporanOperasi;
    private widget.CekBox chkLaporanTindakan;
    private widget.CekBox chkLembarEklaim;
    private widget.CekBox chkLembarProgramTerapi;
    private widget.CekBox chkLembarVerifikasi;
    private widget.CekBox chkMonitoringGizi;
    private widget.CekBox chkMonitoringReaksiTranfusi;
    private widget.CekBox chkObatKronis;
    private widget.CekBox chkOdontogram;
    private widget.CekBox chkOperasiVK;
    private widget.CekBox chkPelayananInformasiObat;
    private widget.CekBox chkPemantauanPEWSAnak;
    private widget.CekBox chkPemantauanPEWSDewasa;
    private widget.CekBox chkPemantauanPEWSMaternal;
    private widget.CekBox chkPemberianObat;
    private widget.CekBox chkPemeriksaanGenekologiRalan;
    private widget.CekBox chkPemeriksaanGenekologiRanap;
    private widget.CekBox chkPemeriksaanLaborat;
    private widget.CekBox chkPemeriksaanObstetriRalan;
    private widget.CekBox chkPemeriksaanObstetriRanap;
    private widget.CekBox chkPemeriksaanRadiologi;
    private widget.CekBox chkPemeriksaanRalan;
    private widget.CekBox chkPemeriksaanRanap;
    private widget.CekBox chkPengantarRanap;
    private widget.CekBox chkPenggunaanKamar;
    private widget.CekBox chkPenggunaanObatOperasi;
    private widget.CekBox chkPenilaianKorbanKekerasan;
    private widget.CekBox chkPenilaianPasienKeracunan;
    private widget.CekBox chkPenilaianPasienPenyakitMenular;
    private widget.CekBox chkPenilaianPasienTerminal;
    private widget.CekBox chkPerencanaanPemulangan;
    private widget.CekBox chkPernyataanDPJP;
    private widget.CekBox chkProsedurTindakan;
    private widget.CekBox chkRawatInap;
    private widget.CekBox chkRawatJalan;
    private widget.CekBox chkReassessment;
    private widget.CekBox chkRehabKunjunganPertama;
    private widget.CekBox chkRekonsiliasiObat;
    private widget.CekBox chkResep;
    private widget.CekBox chkResepPulang;
    private widget.CekBox chkResume;
    private widget.CekBox chkSJP;
    private widget.CekBox chkSbarRalan;
    private widget.CekBox chkSbarRanap;
    private widget.CekBox chkSbpk;
    private widget.CekBox chkSemua;
    private widget.CekBox chkSepBpjs;
    private widget.CekBox chkSignInSebelumAnestesi;
    private widget.CekBox chkSignOutSebelumMenutupLuka;
    private widget.CekBox chkSkriningGiziLanjut;
    private widget.CekBox chkSkriningNutrisiAnak;
    private widget.CekBox chkSkriningNutrisiDewasa;
    private widget.CekBox chkSkriningNutrisiLansia;
    private widget.CekBox chkSuratKontrol;
    private widget.CekBox chkSuratKontrolBPJS;
    private widget.CekBox chkSuratPRI;
    private widget.CekBox chkSuratRujukan;
    private widget.CekBox chkTelaah;
    private widget.CekBox chkTimeOutSebelumInsisi;
    private widget.CekBox chkTindakanRalanDokter;
    private widget.CekBox chkTindakanRalanDokterParamedis;
    private widget.CekBox chkTindakanRalanParamedis;
    private widget.CekBox chkTindakanRanapDokter;
    private widget.CekBox chkTindakanRanapDokterParamedis;
    private widget.CekBox chkTindakanRanapParamedis;
    private widget.CekBox chkTransferAntarRuang;
    private widget.CekBox chkTransferPasienKeluarRs;
    private widget.CekBox chkTriase;
    private widget.CekBox chkUjiFungsiKFR;
    private widget.InternalFrame internalFrame1;
    private widget.InternalFrame internalFrame2;
    private widget.InternalFrame internalFrame9;
    private widget.Label jLabel40;
    private widget.Label jLabel41;
    private widget.Label jLabel43;
    private javax.swing.JPopupMenu jPopupMenu1;
    private widget.Label label17;
    private widget.Label label20;
    private widget.Label label21;
    private widget.Label label22;
    private widget.Label label23;
    private widget.Label label24;
    private widget.Label label25;
    private widget.Label label26;
    private widget.Label label27;
    private widget.Label label28;
    private widget.Label label29;
    private widget.panelisi panelGlass5;
    private widget.panelisi panelisi6;
    // End of variables declaration//GEN-END:variables

    public void setNoRm(String norm, String nama, String status) {
        NoRM.setText(norm);
        NmPasien.setText(nama);
        isPasien();
        if (status.equals("Rawat Jalan")) {
            chkRawatJalan.setSelected(true);
            Status.setText("Rawat Jalan");
        } else {
            chkRawatInap.setSelected(true);
            Status.setText("Rawat Inap");
        }
        BtnCari1ActionPerformed(null);
        isMenu();
    }

    public void setNoRawat(String norawat) {
        NoRawat.setText(norawat);
    }

    private void clear() {
        KdPeg2.setText("");
        TPegawai2.setText("");
        KdPeg2.setEnabled(false);
        TPegawai2.setEnabled(false);
        BtnAll.setEnabled(false);
//        BtnSeekPegawai1.setEnabled(false);
    }

    private void isPasien() {
        try {
            ps = koneksi.prepareStatement(
                    "select pasien.no_rkm_medis,pasien.nm_pasien,pasien.jk,pasien.tmp_lahir,pasien.tgl_lahir,pasien.agama,"
                    + "bahasa_pasien.nama_bahasa,cacat_fisik.nama_cacat,pasien.gol_darah,pasien.nm_ibu,pasien.stts_nikah,pasien.pnd, "
                    + "concat(pasien.alamat,', ',kelurahan.nm_kel,', ',kecamatan.nm_kec,', ',kabupaten.nm_kab) as alamat,pasien.pekerjaan "
                    + "from pasien inner join bahasa_pasien on bahasa_pasien.id=pasien.bahasa_pasien "
                    + "inner join cacat_fisik on cacat_fisik.id=pasien.cacat_fisik "
                    + "inner join kelurahan on pasien.kd_kel=kelurahan.kd_kel "
                    + "inner join kecamatan on pasien.kd_kec=kecamatan.kd_kec "
                    + "inner join kabupaten on pasien.kd_kab=kabupaten.kd_kab "
                    + "where pasien.no_rkm_medis=?");
            try {
                ps.setString(1, NoRM.getText().trim());
                rs = ps.executeQuery();
                if (rs.next()) {
                    NoRM.setText(rs.getString("no_rkm_medis"));
                    NmPasien.setText(rs.getString("nm_pasien"));
                    Jk.setText(rs.getString("jk"));
                    TempatLahir.setText(rs.getString("tmp_lahir"));
                    TanggalLahir.setText(rs.getString("tgl_lahir"));
                    Alamat.setText(rs.getString("alamat"));
                    GD.setText(rs.getString("gol_darah"));
                    IbuKandung.setText(rs.getString("nm_ibu"));
                    Agama.setText(rs.getString("agama"));
                    StatusNikah.setText(rs.getString("stts_nikah"));
                    Pendidikan.setText(rs.getString("pnd"));
                    Bahasa.setText(rs.getString("nama_bahasa"));
                    CacatFisik.setText(rs.getString("nama_cacat"));
                    Pekerjaan.setText(rs.getString("pekerjaan"));
                }
            } catch (Exception e) {
                System.out.println("Notif : " + e);
            } finally {
                if (rs != null) {
                    rs.close();
                }
                if (ps != null) {
                    ps.close();
                }
            }
        } catch (Exception e) {
            System.out.println("Notif : " + e);
        }
    }

    private void isMenu() {
        if (ChkAccor.isSelected() == true) {
            ChkAccor.setVisible(false);
            PanelAccor.setPreferredSize(new Dimension(275, HEIGHT));
            FormMenu.setVisible(true);
            ChkAccor.setVisible(true);
        } else if (ChkAccor.isSelected() == false) {
            ChkAccor.setVisible(false);
            PanelAccor.setPreferredSize(new Dimension(15, HEIGHT));
            FormMenu.setVisible(false);
            ChkAccor.setVisible(true);
        }
    }

    public void tampilPerawatan() {
        try {
            htmlContent = new StringBuilder();
            if (R4.isSelected() == true) {
                ps = koneksi.prepareStatement(
                        "select reg_periksa.no_reg,reg_periksa.no_rawat,reg_periksa.tgl_registrasi,reg_periksa.jam_reg,"
                        + "reg_periksa.kd_dokter,dokter.nm_dokter,poliklinik.nm_poli,reg_periksa.p_jawab,reg_periksa.almt_pj,"
                        + "reg_periksa.umurdaftar,reg_periksa.sttsumur,reg_periksa.hubunganpj,reg_periksa.biaya_reg,reg_periksa.status_lanjut,penjab.png_jawab,pasien.nm_pasien,pasien.no_rkm_medis,date_format(pasien.tgl_lahir,'%d-%m-%Y') as tgl_lahir,IF (pasien.jk = 'L', 'LAKI-LAKI', 'PEREMPUAN') as jk "
                        + "from reg_periksa inner join dokter on reg_periksa.kd_dokter=dokter.kd_dokter "
                        + "inner join poliklinik on reg_periksa.kd_poli=poliklinik.kd_poli "
                        + "inner join penjab on reg_periksa.kd_pj=penjab.kd_pj inner join pasien on reg_periksa.no_rkm_medis=pasien.no_rkm_medis  "
                        + "where reg_periksa.stts<>'Batal' and reg_periksa.no_rkm_medis=? and reg_periksa.no_rawat=?");
            }

            try {
                i = 0;
                if (R4.isSelected() == true) {
                    ps.setString(1, NoRM.getText().trim());
                    ps.setString(2, NoRawat.getText().trim());
                }
                urut = 1;
                rs = ps.executeQuery();

                // Tambahkan pembuka container HTML
                htmlContent.append("<div class='main-container'>");

                while (rs.next()) {
                    try {
                        dokterrujukan = "";
                        polirujukan = "";
                        rs2 = koneksi.prepareStatement(
                                "select poliklinik.nm_poli,dokter.nm_dokter from rujukan_internal_poli "
                                + "inner join poliklinik on rujukan_internal_poli.kd_poli=poliklinik.kd_poli "
                                + "inner join dokter on rujukan_internal_poli.kd_dokter=dokter.kd_dokter "
                                + "where no_rawat='" + rs.getString("no_rawat") + "'").executeQuery();
                        while (rs2.next()) {
                            polirujukan = polirujukan + ", " + rs2.getString("nm_poli");
                            dokterrujukan = dokterrujukan + ", " + rs2.getString("nm_dokter");
                        }
                    } catch (SQLException e) {
                        System.out.println("Error getting rujukan internal: " + e.getMessage());
                    } finally {
                        if (rs2 != null) {
                            try {
                                rs2.close();
                            } catch (SQLException e) {
                                System.out.println("Error closing rs2: " + e.getMessage());
                            }
                        }
                    }

                    // Hapus table kosong yang tidak berguna
                    // htmlContent.append("<table width='100%' border='0' align='center' cellpadding='0' cellspacing='0' class=''></table>");
                    if (Status.getText().equals("Rawat Jalan")) {
                        // Tambahkan pembuka section untuk rawat jalan
                        htmlContent.append("<div class='rawat-jalan-section'>");

                        if (chkObatKronis.isSelected() == true) {
                            //menampilkan SEP BPJS
                            menampilkanSEPBPJS(rs.getString("no_rawat"));
                            
                            //menampilkan SBPK
                            menampilkanSbpkRawatJalan(rs.getString("no_rawat"));                            

                            //menampilkan Resep
                            menampilkanResep(rs.getString("no_rawat"));

                            //menampilkan Billing
                            menampilkanBilling(rs.getString("no_rawat"));

                        } else if (chkRawatJalan.isSelected() == true) {
                            //Menampilkan lembar Eklaim
                            menampilkanLembarEklaim(rs.getString("no_rawat"));

                            //menampilkan SEP BPJS
                            menampilkanSEPBPJS(rs.getString("no_rawat"));
                            
                            //menampilkan Surat Kontrol BPJS
                            menampilkanKONTROLBPJS(rs.getString("no_rawat"));
                            
                            //menampilkan Surat Kontrol Umum
                            menampilkanKONTROL(rs.getString("no_rawat"));
                            
                            //menampilkan Surat Kontrol SKDP
                            menampilkanKONTROLSKDP(rs.getString("no_rawat"));
                            
                            //menampilkan Rehab Kunjungan Pertama                            
                            menampilkanREHABKUNJUNGANPERTAMA(rs.getString("no_rawat"));                            
                            
                            
                            //menampilkan Rehab Program
                            menampilkanREHABPROGRAM(rs.getString("no_rawat"));
                            
                            //menampilkan Reassesmen Protokol Terapi
                            menampilkanREASSESSMENT(rs.getString("no_rawat"));
                            
                            //menampilkan Lembar Program Terapi
                            menampilkanLEMBARPROGRAMTERAPI(rs.getString("no_rawat"));

                            //Menampilkan lembar Verifikasi
                            menampilkanLembarVerifikasi(rs.getString("no_rawat"));

                            //Menampilkan Billing
                            menampilkanBilling(rs.getString("no_rawat"));

                            
                            //menampilkan SURKON BPJS
                            menampilkanSuratRujukanBPJS(rs.getString("no_rawat"));

                            //menampilkan Resep
                            menampilkanResep(rs.getString("no_rawat"));

                            //menampilkan Resep
                            menampilkanTelaah(rs.getString("no_rawat"));

                            //Menampilkan Resume
                            menampilkanResumeRawatJalan(rs.getString("no_rawat"));

                            //Menampilkan Hasil Lab
                            menampilkanHasilLab(rs.getString("no_rawat"));

                            //Menampilkan Hasil Radiologi
                            menampilkanHasilRadiologi(rs.getString("no_rawat"));
                            
                            //menampilkan berkas digital
                            menampilkanBerkasDigital(rs.getString("no_rawat"));
                            
                            
                        }

                        // Tutup section rawat jalan
                        htmlContent.append("</div>");

                    } else {
                        // Tambahkan pembuka section untuk rawat inap
                        htmlContent.append("<div class='rawat-inap-section'>");
                        
                        //menampilkan SEP BPJS
                         menampilkanSEPBPJS(rs.getString("no_rawat"));
                         
                         //menampilkan Surat Kontrol BPJS
                          menampilkanSEPBPJS(rs.getString("no_rawat"));


                        //Menampilkan Laporan Operasi
                        menampilkanLaporanOperasi(rs.getString("no_rawat"));

                        //Menampilkan Laporan Operasi
                        menampilkanLaporanTindakanMedis(rs.getString("no_rawat"));

                        //menampilkan triase IGD
                        menampilkanTriaseIGD(rs.getString("no_rawat"));

                        //menampilkan MEDIS IGD
                        menampilkanAsuhanMedisIGD(rs.getString("no_rawat"));

                        //menampilkan Transfer Antar Ruang
                        menampilkanTransferAntarRuang(rs.getString("no_rawat"));

                        //menampilkan Transfer Internal Rs
                        menampilkanTransferInternalRs(rs.getString("no_rawat"));

                        //menampilkan Transfer Keluar RS
                        menampilkanTransferPasienKeluarRs(rs.getString("no_rawat"));

                        //menampilkan Pengantar Ranap
                        menampilkanFormulirPermintaanRanap(rs.getString("no_rawat"));

                        //menampilkan pemeriksaan EKG
                        menampilkanHasilPemeriksaanEKG(rs.getString("no_rawat"));

                        //menampilkan PERNYATAAN DPJP BPJS
                        menampilkanPERNYATAANDPJPBPJS(rs.getString("no_rawat"));

                        //menampilkan awal kebidanan ranap
                        menampilkanAsuhanKebidananRawatInap(rs.getString("no_rawat"));

                        //menampilkan asuhan awal keperawatan IGD
                        menampilkanAsuhanKeperawatanIGD(rs.getString("no_rawat"));
                        //menampilkan asuhan awal keperawatan rawat jalan
                        menampilkanAsuhanKeperawatanRalan(rs.getString("no_rawat"));
                        //menampilkan asuhan awal keperawatan rawat jalan gigi
                        menampilkanAsuhanKeperawatanRalanGigi(rs.getString("no_rawat"));
                        //menampilkan asuhan awal keperawatan rawat jalan bayi
                        menampilkanAsuhanKeperawatanRalanBayi(rs.getString("no_rawat"));
                        //menampilkan asuhan awal keperawatan rawat jalan kandungan
                        menampilkanAsuhanKeperawatanRalanKandungan(rs.getString("no_rawat"));
                        //menampilkan asuhan awal keperawatan rawat jalan psikiatri
                        menampilkanAsuhanKeperawatanRalanPsikiatri(rs.getString("no_rawat"));
                        //menampilkan asuhan fisioterapi
                        menampilkanAsuhanFisioterapi(rs.getString("no_rawat"));
                        //menampilkan asuhan psikolog
                        menampilkanAsuhanPsikolog(rs.getString("no_rawat"));
                        //menampilkan asuhan awal medis rawat jalan
                        menampilkanAsuhanMedisRawatJalan(rs.getString("no_rawat"));
                        //menampilkan asuhan awal medis rawat jalan kandungan
                        menampilkanAsuhanMedisRawatJalanKandungan(rs.getString("no_rawat"));
                        //menampilkan asuhan awal medis rawat jalan bayi
                        menampilkanAsuhanMedisRawatJalanBayi(rs.getString("no_rawat"));
                        //menampilkan asuhan awal medis rawat jalan THT
                        menampilkanAsuhanMedisRawatJalanTHT(rs.getString("no_rawat"));
                        //menampilkan asuhan awal medis rawat jalan psikiatrik
                        menampilkanAsuhanMedisRawatJalanPsikiatrik(rs.getString("no_rawat"));
                        //menampilkan asuhan awal medis rawat jalan penyakit dalam
                        menampilkanAsuhanMedisRawatJalanPenyakitDalam(rs.getString("no_rawat"));
                        //menampilkan asuhan awal medis rawat jalan mata
                        menampilkanAsuhanMedisRawatJalanMata(rs.getString("no_rawat"));
                        //menampilkan asuhan awal medis rawat jalan neurologi
                        menampilkanAsuhanMedisRawatJalanNeurologi(rs.getString("no_rawat"));
                        //menampilkan asuhan awal medis rawat jalan orthopedi
                        menampilkanAsuhanMedisRawatJalanOrthopedi(rs.getString("no_rawat"));
                        //menampilkan asuhan awal medis rawat jalan bedah
                        menampilkanAsuhanMedisRawatJalanBedah(rs.getString("no_rawat"));
                        //menampilkan asuhan awal medis rawat jalan bedah mulut
                        menampilkanAsuhanMedisRawatJalanBedahMulut(rs.getString("no_rawat"));
                        //menampilkan asuhan awal medis rawat jalan geriatri
                        menampilkanAsuhanMedisRawatJalanGeriatri(rs.getString("no_rawat"));
                        //menampilkan odontogram gigi
                        menampilkanOdontogram(rs.getString("no_rawat"));
                        //menampilkan uji fungsi KFR
                        menampilkanUjiFungsiKFR(rs.getString("no_rawat"));
                        //menampilkan hemodialisa
                        menampilkanHemodialisa(rs.getString("no_rawat"));
                        //menampilkan pemeriksaan Ralan
                        menampilkanPemeriksaanRalan(rs.getString("no_rawat"));
                        //menampilkan SBAR Ralan
                        menampilkanSbarRalan(rs.getString("no_rawat"));
                        //menampilkan asuhan keperawatan rawat inap
                        menampilkanAsuhanKeperawatanRawatInap(rs.getString("no_rawat"));

                        //menampilkan asuhan awal medis rawat inap
                        menampilkanAsuhanMedisRawatInap(rs.getString("no_rawat"));
                        //menampilkan asuhan awal medis rawat inap kebidanan
                        menampilkanAsuhanMedisRawatInapKebidanan(rs.getString("no_rawat"));
                        //menampilkan edukasi pasien dan keluarga
                        menampilkanEdukasiPasienTerintegrasiRawatJalan(rs.getString("no_rawat"));
                        //menampilkan asuhan awal pre operasi
                        menampilkanPerencanaanPemulangan(rs.getString("no_rawat"));
                        //menampilkan pemeriksaan rawat inap
                        menampilkanPemeriksaanRanap(rs.getString("no_rawat"));
                        //menampilkan Sbar rawat inap
                        menampilkanSbarRanap(rs.getString("no_rawat"));
                        //menampilkan observasi
                        menampilkanCatatanObservasi(rs.getString("no_rawat"));
                        //menampilkan observasi
                        menampilkanMonitoringReaksiTranfusi(rs.getString("no_rawat"));
                        //menampilkan penilaian lanjutan risiko jatuh dewasa
                        menampilkanLanjutanResikoJatuhDewasa(rs.getString("no_rawat"));
                        //menampilkan penilaian lanjutan risiko jatuh anak
                        menampilkanLanjutanResikoJatuhAnak(rs.getString("no_rawat"));
                        //menampilkan penilaian lanjutan risiko jatuh lansia
                        menampilkanLanjutanResikoJatuhLansia(rs.getString("no_rawat"));
                        //menampilkan penilaian tambahan geriatri
                        menampilkanTambahanGeriatri(rs.getString("no_rawat"));
                        //menampilkan penilaian tambahan bunuh diri
                        menampilkanTambahanBunuhDiri(rs.getString("no_rawat"));
                        //menampilkan penilaian tambahan perilaku kekerasan
                        menampilkanTambahanPerilakuKekerasan(rs.getString("no_rawat"));
                        //menampilkan penilaian tambahan melarikan diri
                        menampilkanTambahanMelarikanDiri(rs.getString("no_rawat"));
                        //menampilkan skrining gizi lanjut
                        menampilkanEWS(rs.getString("no_rawat"));
                        //menampilkan checlist pre operasi
                        menampilkanChecklistPreOperasi(rs.getString("no_rawat"));
                        //menampilkan signin sebelum tindakan anestesi
                        menampilkanSignInSebelumAnestesi(rs.getString("no_rawat"));
                        //menampilkan timeout sebelum tindakan insisi
                        menampilkanTimeOutSebelumInsisi(rs.getString("no_rawat"));
                        //menampilkan signout sebelum menutup luka
                        menampilkanSignOutSebelumMenutupLuka(rs.getString("no_rawat"));
                        //menampilkan checlist post operasi
                        menampilkanChecklistPostOperasi(rs.getString("no_rawat"));
                        //menampilkan asuhan awal pre operasi
                        menampilkanAsuhanPreOperasi(rs.getString("no_rawat"));
                        //menampilkan asuhan awal pre anestesi
                        menampilkanAsuhanPreAnestesi(rs.getString("no_rawat"));
                        //menampilkan hasil pemeriksaan USG
                        menampilkanHasilPemeriksaanUSG(rs.getString("no_rawat"));
                        //menampilkan konseling farmasi
                        menampilkanPenilaianPasienTerminal(rs.getString("no_rawat"));
                        //menampilkan korban kekerasan
                        menampilkanPenilaianKorbanKekerasan(rs.getString("no_rawat"));
                        //menampilkan pasien penyakit menular
                        menampilkanPenilaianPasienPenyakitMenular(rs.getString("no_rawat"));
                        //menampilkan pasien keracunan
                        menampilkanPenilaianPasienKeracunan(rs.getString("no_rawat"));
                        //menampilkan skrining gizi lanjut
                        menampilkanGizi(rs.getString("no_rawat"));
                        //menampilkan konseling farmasi
                        menampilkanRekonsiliasiObat(rs.getString("no_rawat"));
                        //menampilkan konseling farmasi
                        menampilkanKonselingFarmasi(rs.getString("no_rawat"));
                        //menampilkan konseling farmasi
                        menampilkanPelayananInformasiObat(rs.getString("no_rawat"));

                        // Total biaya untuk rawat inap
                        htmlContent.append("<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr><td valign='top' width='89%' colspan='2'>Total Biaya</td><td valign='top' width='1%' align='right'>:</td><td valign='top' width='10%' align='right'>").append(Valid.SetAngka(biayaperawatan)).append("</td></tr>"
                                + "</table>");

                        // Tutup section rawat inap
                        htmlContent.append("</div>");
                    }
                }

                // Tutup container HTML
                htmlContent.append("</div>");

                LoadHTMLRiwayatPerawatan.setText(
                        "<html>"
                        + htmlContent.toString()
                        + "</html>");

            } catch (SQLException e) {
                System.out.println("SQLException in tampilPerawatan: " + e.getMessage());
                e.printStackTrace();
            } catch (Exception e) {
                System.out.println("General Exception in tampilPerawatan: " + e.getMessage());
                e.printStackTrace();
            } finally {
                if (rs != null) {
                    try {
                        rs.close();
                    } catch (SQLException e) {
                        System.out.println("Error closing rs: " + e.getMessage());
                    }
                }
                if (ps != null) {
                    try {
                        ps.close();
                    } catch (SQLException e) {
                        System.out.println("Error closing ps: " + e.getMessage());
                    }
                }
            }
        } catch (SQLException e) {
            System.out.println("SQLException in tampilPerawatan outer: " + e.getMessage());
            e.printStackTrace();
        } catch (Exception e) {
            System.out.println("General Exception in tampilPerawatan outer: " + e.getMessage());
            e.printStackTrace();
        }
    }

    private void panggilLaporan(String teks) {
        try {
            File g = new File("fileklaim.css");
            try ( BufferedWriter bg = new BufferedWriter(new FileWriter(g))) {
                bg.write(
                        "/* Global Font Sizes - Normal Readable */\n"
                        + "* { font-size: 12px !important; font-family: Arial, sans-serif !important; }\n"
                        + "body { font-size: 12px !important; line-height: 1.4 !important; margin: 15px !important; }\n"
                        + "/* Table Fonts - Standard Size */\n"
                        + "table, table *, td, th, tr { font-size: 11px !important; }\n"
                        + "table.sep, table.sep * { font-size: 10px !important; }\n"
                        + "td, th { padding: 3px !important; font-size: 11px !important; }\n"
                        + "/* Headers - Appropriate Hierarchy */\n"
                        + "h1 { font-size: 16px !important; margin: 6px 0 !important; font-weight: bold !important; }\n"
                        + "h2 { font-size: 14px !important; margin: 5px 0 !important; font-weight: bold !important; }\n"
                        + "h3 { font-size: 13px !important; margin: 4px 0 !important; font-weight: bold !important; }\n"
                        + "/* Paragraph and Text - Standard Size */\n"
                        + "p { font-size: 12px !important; margin: 3px 0 !important; }\n"
                        + "span { font-size: 12px !important; }\n"
                        + "div { font-size: 12px !important; margin: 2px 0 !important; }\n"
                        + "strong, b { font-size: 12px !important; font-weight: bold !important; }\n"
                        + "i { font-size: 12px !important; }\n"
                        + "/* SBPK Normal Font - Slightly Larger but Not Excessive */\n"
                        + ".sbpk-normal, .sbpk-normal *, .sbpk-normal table, .sbpk-normal td, .sbpk-normal th, "
                        + ".sbpk-normal p, .sbpk-normal div, .sbpk-normal span, .sbpk-normal strong, .sbpk-normal b { "
                        + "  font-size: 13px !important; "
                        + "}\n"
                        + ".sbpk-normal h1 { font-size: 17px !important; }\n"
                        + ".sbpk-normal h2 { font-size: 15px !important; }\n"
                        + ".sbpk-normal h3 { font-size: 14px !important; }\n"
                        + "/* SBPK Components */\n"
                        + ".sbpk-title { font-size: 15px !important; font-weight: bold !important; }\n"
                        + ".sbpk-table, .sbpk-table *, .sbpk-table td, .sbpk-table th { font-size: 12px !important; }\n"
                        + ".sbpk-box, .sbpk-box *, .sbpk-box strong, .sbpk-box span { font-size: 12px !important; }\n"
                        + "/* Medical Records - Standard Professional Size */\n"
                        + ".riwayat-perawatan, .riwayat-perawatan * { font-size: 12px !important; }\n"
                        + ".riwayat-perawatan table, .riwayat-perawatan table * { font-size: 11px !important; }\n"
                        + ".riwayat-perawatan h1 { font-size: 15px !important; }\n"
                        + ".riwayat-perawatan h2 { font-size: 14px !important; }\n"
                        + ".riwayat-perawatan h3 { font-size: 13px !important; }\n"
                        + "/* Container Styles */\n"
                        + "fieldset { border: 1px solid #000; margin: 8px 0; padding: 8px; font-size: 12px !important; }\n"
                        + "div[style*='border'] { padding: 5px !important; font-size: 12px !important; }\n"
                        + "/* Table Specific */\n"
                        + "table { border-collapse: collapse; width: 100%; margin: 5px 0; }\n"
                        + "table[border='1'] { border: 1px solid #000; }\n"
                        + "table[border='1'] td, table[border='1'] th { border: 1px solid #000; }\n"
                        + "th { font-weight: bold; background-color: #f0f0f0; }\n"
                        + "/* Print Styles - Appropriate for Print */\n"
                        + "@media print {\n"
                        + "  * { font-size: 11px !important; }\n"
                        + "  body { font-size: 11px !important; }\n"
                        + "  .sbpk-normal * { font-size: 12px !important; }\n"
                        + "  .riwayat-perawatan * { font-size: 11px !important; }\n"
                        + "  table * { font-size: 10px !important; }\n"
                        + "  h1 { font-size: 14px !important; }\n"
                        + "  h2 { font-size: 13px !important; }\n"
                        + "  .pagebreak { page-break-after: always; }\n"
                        + "  .avoid-page-break { page-break-before: avoid; }\n"
                        + "  @page { margin: 1cm; size: A4; }\n"
                        + "}\n"
                        + "/* Image Control */\n"
                        + "img { max-width: 100%; height: auto; }\n"
                        + "/* Alignment Preserve */\n"
                        + "[style*='text-align:center'] { text-align: center !important; }\n"
                        + "[style*='text-align:right'] { text-align: right !important; }\n"
                        + "[style*='text-align:left'] { text-align: left !important; }\n"
                        + "/* Background and Border Preserve */\n"
                        + "[style*='background-color:#f0f0f0'] { background-color: #f0f0f0 !important; }\n"
                        + "[style*='border: 1px solid black'] { border: 1px solid #000 !important; }\n"
                        + "/* Width Preserve */\n"
                        + "[width='100%'] { width: 100% !important; }\n"
                        + "[width='50%'] { width: 50% !important; }\n"
                        + "[width='70%'] { width: 70% !important; }\n"
                        + "[width='30%'] { width: 30% !important; }\n"
                        + "/* Override for Common Elements */\n"
                        + "center { font-size: 13px !important; }\n"
                        + "small { font-size: 11px !important; }\n"
                        + ".page-section { margin-bottom: 10px; font-size: 12px !important; }\n"
                );
            }

            File f = new File("generateberkasklaim.html");
            BufferedWriter bw = new BufferedWriter(new FileWriter(f));

            // HTML content dengan CSS yang sudah dinormalisasi
            String htmlContent = teks.replaceAll(
                    "<head>",
                    "<head>"
                    + "<meta charset=\"UTF-8\">"
                    + "<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">"
                    + "<link href=\"fileklaim.css\" rel=\"stylesheet\" type=\"text/css\" media=\"all\"/>"
                    + "<meta http-equiv=\"Access-Control-Allow-Origin\" content=\"*\" />"
                    + "<script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>"
                    + "<style>"
                    + "/* Final Override - Balanced Professional Font Sizes */\n"
                    + "* { font-size: 12px !important; }\n"
                    + "body { zoom: 1.0 !important; font-size: 12px !important; }\n"
                    + "table * { font-size: 11px !important; }\n"
                    + "h1 { font-size: 16px !important; font-weight: bold !important; }\n"
                    + "h2 { font-size: 14px !important; font-weight: bold !important; }\n"
                    + "h3 { font-size: 13px !important; font-weight: bold !important; }\n"
                    + "/* SBPK Balanced Override */\n"
                    + ".sbpk-normal, .sbpk-normal * { font-size: 13px !important; }\n"
                    + ".sbpk-table, .sbpk-table * { font-size: 12px !important; }\n"
                    + ".sbpk-box, .sbpk-box * { font-size: 12px !important; }\n"
                    + ".sbpk-title { font-size: 15px !important; font-weight: bold !important; }\n"
                    + "fieldset.sbpk-normal * { font-size: 13px !important; }\n"
                    + "fieldset.sbpk-normal table * { font-size: 12px !important; }\n"
                    + "/* Medical Records Balanced Size */\n"
                    + ".riwayat-perawatan, .riwayat-perawatan * { font-size: 12px !important; }\n"
                    + ".riwayat-perawatan table * { font-size: 11px !important; }\n"
                    + ".riwayat-perawatan h1 { font-size: 15px !important; }\n"
                    + ".riwayat-perawatan h2 { font-size: 14px !important; }\n"
                    + "/* Consistent sizing */\n"
                    + "center { font-size: 13px !important; }\n"
                    + "strong, b { font-size: inherit !important; }\n"
                    + "span { font-size: inherit !important; }\n"
                    + "div { font-size: inherit !important; }\n"
                    + "/* Ensure readability */\n"
                    + "p { font-size: 12px !important; }\n"
                    + "td, th { font-size: 11px !important; }\n"
                    + "</style>"
            );

            bw.write(htmlContent);
            bw.close();
            Desktop.getDesktop().browse(f.toURI());
        } catch (Exception e) {
            System.out.println("Notifikasi : " + e);
        }
    }

    private void isForm() {
        ScrollMenu.getVerticalScrollBar().setUnitIncrement(20);
        if (ChkInput.isSelected() == true) {
            ChkInput.setVisible(false);
            PanelInput.setPreferredSize(new Dimension(WIDTH, 126));
            FormInput.setVisible(true);
            ChkInput.setVisible(true);
        } else if (ChkInput.isSelected() == false) {
            ChkInput.setVisible(false);
            PanelInput.setPreferredSize(new Dimension(WIDTH, 20));
            FormInput.setVisible(false);
            ChkInput.setVisible(true);
        }
    }

    private void menampilkanLembarEklaim(String norawat) {
        if (chkLembarEklaim.isSelected() == true) {
            // Query untuk mendapatkan berkas digital (PDF dan gambar)
            String sql = "SELECT master_berkas_digital.nama, berkas_digital_perawatan.lokasi_file FROM berkas_digital_perawatan INNER JOIN "
                    + "master_berkas_digital ON berkas_digital_perawatan.kode = master_berkas_digital.kode "
                    + "WHERE berkas_digital_perawatan.no_rawat = ? AND master_berkas_digital.nama LIKE '%eklaim%'";
            try {
                PreparedStatement ps = koneksi.prepareStatement(sql);
                ps.setString(1, norawat);
                ResultSet rs = ps.executeQuery();
                int w = 1;
                boolean hasContent = false; // Flag untuk cek apakah ada content

                while (rs.next()) {
                    hasContent = true;
                    String fileName = rs.getString("lokasi_file");
                    String fileURL = "http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/berkasrawat/" + fileName;

                    // Proses file PDF
                    if (fileName.toLowerCase().endsWith(".pdf")) {
                        try {
                            processPdfFile(fileURL, rs.getString("nama"), w);
                        } catch (Exception e) {
                            htmlContent.append("<p>Error loading PDF: ").append(e.getMessage()).append("</p>");
                        }
                    } // Proses file gambar (JPG, JPEG)
                    else if (fileName.toLowerCase().endsWith(".jpg") || fileName.toLowerCase().endsWith(".jpeg")) {
                        htmlContent.append("<img alt='Berkas Digital' src='").append(fileURL).append("' style='width: 595px; height: auto; max-height: 842px;'/>");
                    }
                    w++;
                }

                // ===== TAMBAHAN PAGE BREAK DI AKHIR =====
                if (hasContent) {
                    // Tambahkan page break hanya jika ada content yang ditampilkan
                    htmlContent.append("<div class='pagebreak'></div>");
                    htmlContent.append("<div style='page-break-after: always; height: 1px; clear: both;'></div>");
                }
                // ========================================

                // Tutup resource
                rs.close();
                ps.close();
            } catch (SQLException e) {
                System.out.println("Error Berkas Digital: " + e.getMessage());
                e.printStackTrace();
            }
        }
    }

    private void menampilkanSEPBPJS(String norawat) {
        try {
            if (chkSepBpjs.isSelected() == true) {
                rs2 = koneksi.prepareStatement(
                        "SELECT bridging_sep.no_sep,bridging_sep.katarak,bridging_sep.no_rawat,bridging_sep.nomr,bridging_sep.nama_pasien,date_format(bridging_sep.tglsep,'%d-%m-%Y') as tglsep,date_format(bridging_sep.tglrujukan,'%d-%m-%Y') as tglrujukan,"
                        + "bridging_sep.no_rujukan,bridging_sep.kdppkrujukan,bridging_sep.nmppkrujukan,bridging_sep.kdppkpelayanan,bridging_sep.nmppkpelayanan,"
                        + "IF( bridging_sep.jnspelayanan = '1', 'Rawat Inap', 'Rawat Jalan' ) as jnspelayanan,bridging_sep.catatan,bridging_sep.diagawal,bridging_sep.nmdiagnosaawal,"
                        + "bridging_sep.kdpolitujuan,bridging_sep.nmpolitujuan,bridging_sep.klsrawat,IF( bridging_sep.lakalantas = '0', 'Kasus Kecelakaan', 'Bukan Kasus Kecelakaan' ),concat( bridging_sep.nmkec, ', ', bridging_sep.nmkab, ', ',bridging_sep.nmprop ) AS lokasilaka,bridging_sep.`user`,date_format(bridging_sep.tanggal_lahir,'%d-%m-%Y') as tanggal_lahir,bridging_sep.peserta,bridging_sep.jkel,bridging_sep.no_kartu,"
                        + "bridging_sep.asal_rujukan,bridging_sep.eksekutif,bridging_sep.cob,bridging_sep.notelep,IF(bridging_sep.tujuankunjungan = '0','Konsultasi dokter(pertama)','Kunjungan Kontrol(ulangan)') as tujuankunjungan,bridging_sep.flagprosedur,"
                        + "IF(bridging_sep.klsnaik!='',bridging_sep.klsnaik,'Sesuai Kelas Hak') as klsnaik,bridging_sep.pembiayaan,bridging_sep.nmdpdjp,bridging_sep.lakalantas,bpjs_prb.prb,date_format(adddate(bridging_sep.tglrujukan, interval '3' month), '%d-%m-%Y') as berlaku FROM bridging_sep LEFT JOIN bpjs_prb "
                        + "ON bridging_sep.no_sep = bpjs_prb.no_sep where bridging_sep.no_rawat='" + norawat + "'").executeQuery();
                if (rs2.next()) {
                    if (!rs2.getString("no_rawat").isEmpty()) {

                        // Generate barcode untuk No. SEP
                        String barcodeSep = rs2.getString("no_sep");
                        String barcodeFilename = barcodeSep.replace(" ", "_");
                        try {
                            get = new GetMethod("http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/berkasrawat/generatebarcodesep.php?sepbpjs=" + barcodeFilename);
                            int barcodeStatus = http.executeMethod(get);
                            System.out.println("Barcode generation status: " + barcodeStatus);
                            Thread.sleep(500);
                        } catch (Exception e) {
                            System.out.println("Error generating barcode: " + e.getMessage());
                        }

                        // Start SEP section - KEMBALI KE UKURAN YANG LEBIH KECIL
                        htmlContent.append("<div class='page-section' style='width: 100%; max-width: 750px; margin: 0 auto;'>");
                        htmlContent.append("<fieldset style='border: 1px solid #000; padding: 5px; margin: 0;'>");
                        htmlContent.append("<table class='sep' width='100%' style='font-size:9px; padding:0; border:0px solid #fff; line-height:1.1; border-collapse: collapse;' border='0' cellpadding='1' cellspacing='0'>");

                        // Header dengan logo BPJS, title, dan barcode - UKURAN DIPERKECIL
                        htmlContent.append("<tr><td colspan='6'><table border='0' cellpadding='0' cellspacing='0' style='line-height:1.0; width: 100%;'><tr>")
                                .append("<td width='20%' style='text-align: left;'><img alt='Image' src='http://").append(koneksiDB.HOSTHYBRIDWEB()).append(":").append(koneksiDB.PORTWEB()).append("/").append(koneksiDB.HYBRIDWEB()).append("/images/bpjslogo.png' width='100' height='40'></td>")
                                .append("<td width='60%' style='text-align:center; vertical-align: middle;'><div style='font-weight:bold;font-size:11px;margin:0;padding:0;'><b>SURAT ELEGIBILITAS PESERTA</b></div><div style='font-size:9px;margin:0;padding:0;'><b>").append(akses.getnamars().toUpperCase()).append("</b></div></td>")
                                .append("<td width='20%' style='text-align:right; vertical-align: middle;'><img alt='Barcode' src='http://").append(koneksiDB.HOSTHYBRIDWEB()).append(":").append(koneksiDB.PORTWEB()).append("/").append(koneksiDB.HYBRIDWEB()).append("/berkasrawat/temp/barcode_").append(barcodeFilename).append(".png' width='120' height='30' onerror=\"this.style.display='none';\"></td>")
                                .append("</tr></table></td></tr>");

                        // Katarak warning dan PRB - UKURAN FONT DIKURANGI
                        htmlContent.append("<tr><td colspan='6' style='padding:1px 0;'><table style='margin:0; width: 100%;' border='0' cellpadding='0' cellspacing='0'><tr>")
                                .append("<td width='70%' style='font-size: 9px;'><b>").append((rs2.getString("katarak").equals("1.Ya") ? "*** KATARAK : YA ***" : "")).append("</b></td>")
                                .append("<td width='30%' style='text-align:right; font-size: 9px;'><b>").append((rs2.getString("prb") == null ? "" : "PRB : " + rs2.getString("prb"))).append("</b></td>")
                                .append("</tr></table></td></tr>");

                        // Detail data pasien - FONT SIZE DIKURANGI, PADDING DIKURANGI
                        htmlContent.append("<tr><td colspan='6' style='padding:0;'><table width='100%' style='line-height:1.1; border-spacing:0; font-size: 9px;' border='0' cellpadding='1' cellspacing='0'>");

                        // Baris 1: No. SEP dan Peserta
                        htmlContent.append("<tr>")
                                .append("<td width='16%' style='padding:1px;'>No. SEP</td><td width='1%' style='padding:1px;'>:</td><td width='33%' style='padding:1px;'><b>").append(rs2.getString("no_sep")).append("</b></td>")
                                .append("<td width='16%' style='padding:1px;'>Peserta</td><td width='1%' style='padding:1px;'>:</td><td width='33%' style='padding:1px;'>").append(rs2.getString("peserta")).append("</td>")
                                .append("</tr>");

                        // Baris 2: Tgl. SEP dan Jns. Rawat
                        htmlContent.append("<tr>")
                                .append("<td style='padding:1px;'>Tgl. SEP</td><td style='padding:1px;'>:</td><td style='padding:1px;'>").append(rs2.getString("tglsep")).append("</td>")
                                .append("<td style='padding:1px;'>Jns. Rawat</td><td style='padding:1px;'>:</td><td style='padding:1px;'>").append(rs2.getString("jnspelayanan")).append("</td>")
                                .append("</tr>");

                        // Baris 3: No. Kartu dan Jns.Kunjungan
                        htmlContent.append("<tr>")
                                .append("<td style='padding:1px;'>No. Kartu</td><td style='padding:1px;'>:</td><td style='padding:1px;'>").append(rs2.getString("no_kartu")).append(" (MR: ").append(rs2.getString("nomr")).append(")</td>")
                                .append("<td style='padding:1px;'>Jns.Kunjungan</td><td style='padding:1px;'>:</td><td style='padding:1px;'>").append(rs2.getString("tujuankunjungan")).append("</td>")
                                .append("</tr>");

                        // Baris 4: Nama Peserta (span seluruh kolom)
                        htmlContent.append("<tr>")
                                .append("<td style='padding:1px;'>Nama Peserta</td><td style='padding:1px;'>:</td><td colspan='4' style='padding:1px;'>").append(rs2.getString("nama_pasien")).append("</td>")
                                .append("</tr>");

                        // Baris 5: Tgl. Lahir dan Poli Perujuk
                        htmlContent.append("<tr>")
                                .append("<td style='padding:1px;'>Tgl. Lahir</td><td style='padding:1px;'>:</td><td style='padding:1px;'>").append(rs2.getString("tanggal_lahir")).append(" (").append((rs2.getString("jkel").equals("P") ? "PEREMPUAN" : "LAKI-LAKI")).append(")</td>")
                                .append("<td style='padding:1px;'>Poli Perujuk</td><td style='padding:1px;'>:</td><td style='padding:1px;'>-</td>")
                                .append("</tr>");

                        // Baris 6: No. Telepon dan Kls. Hak
                        htmlContent.append("<tr>")
                                .append("<td style='padding:1px;'>No. Telepon</td><td style='padding:1px;'>:</td><td style='padding:1px;'>").append(rs2.getString("notelep")).append("</td>")
                                .append("<td style='padding:1px;'>Kls. Hak</td><td style='padding:1px;'>:</td><td style='padding:1px;'>").append(rs2.getString("klsrawat").replaceAll("1", "Kelas 1").replaceAll("2", "Kelas 2").replaceAll("3", "Kelas 3")).append("</td>")
                                .append("</tr>");

                        // Baris 7: Sub/Spesialis dan Kls. Rawat
                        htmlContent.append("<tr>")
                                .append("<td style='padding:1px;'>Sub/Spesialis</td><td style='padding:1px;'>:</td><td style='padding:1px;'>").append(rs2.getString("nmpolitujuan")).append("</td>")
                                .append("<td style='padding:1px;'>Kls. Rawat</td><td style='padding:1px;'>:</td><td style='padding:1px;'>").append(rs2.getString("klsnaik").replaceAll("1", "Kelas VVIP").replaceAll("2", "Kelas VIP").replaceAll("3", "Kelas 1").replaceAll("4", "Kelas 2").replaceAll("5", "Kelas 3").replaceAll("6", "ICCU").replaceAll("7", "ICU").replaceAll("8", "Diatas Kelas 1")).append("</td>")
                                .append("</tr>");

                        // Baris 8: Dokter dan Penjamin
                        htmlContent.append("<tr>")
                                .append("<td style='padding:1px;'>Dokter</td><td style='padding:1px;'>:</td><td style='padding:1px;'>").append(rs2.getString("nmdpdjp")).append("</td>")
                                .append("<td style='padding:1px;'>Penjamin</td><td style='padding:1px;'>:</td><td style='padding:1px;'>").append(rs2.getString("lakalantas").replaceAll("0", "BPJS Kesehatan").replaceAll("1", "Jasa Raharja").replaceAll("2", "Jasa Raharja & BPJS Ketenagakerjaan/Taspen").replaceAll("3", "BPJS Ketenagakerjaan, Taspen, dll")).append("</td>")
                                .append("</tr>");

                        // Baris 9: Faskes Perujuk (span seluruh kolom)
                        htmlContent.append("<tr>")
                                .append("<td style='padding:1px;'>Faskes Perujuk</td><td style='padding:1px;'>:</td><td colspan='4' style='padding:1px;'>").append(rs2.getString("nmppkrujukan")).append("</td>")
                                .append("</tr>");

                        // Baris 10: Diagnosa Awal (span seluruh kolom)
                        htmlContent.append("<tr>")
                                .append("<td style='padding:1px;'>Diagnosa Awal</td><td style='padding:1px;'>:</td><td colspan='4' style='padding:1px;'>").append(rs2.getString("nmdiagnosaawal")).append("</td>")
                                .append("</tr>");

                        htmlContent.append("</table></td></tr>");

                        // Bagian bawah dengan catatan dan QR Code - UKURAN DIKURANGI
                        htmlContent.append("<tr><td colspan='6' style='padding:2px 0;'><table width='100%' style='line-height:1.1; font-size: 9px;' border='0' cellpadding='1' cellspacing='0'><tr>")
                                .append("<td width='12%' valign='top' style='padding:1px;'>Catatan</td><td width='1%' valign='top' style='padding:1px;'>:</td><td width='62%' valign='top' style='padding:1px;'>").append(rs2.getString("catatan")).append("</td>")
                                .append("<td width='25%' style='text-align:center; padding:1px; vertical-align: top;'>Pasien/Keluarga Pasien");

                        // Generate QR Code dengan ukuran yang lebih kecil
                        String qrFilename = rs2.getString("no_sep").replace(" ", "_");
                        try {
                            get = new GetMethod("http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/berkasrawat/generateqrcodesep.php?sepbpjs=" + qrFilename);
                            int qrStatus = http.executeMethod(get);
                            System.out.println("QR Code generation status: " + qrStatus);
                            Thread.sleep(500);

                            htmlContent.append("<br><img alt='QR Code' src='http://").append(koneksiDB.HOSTHYBRIDWEB()).append(":").append(koneksiDB.PORTWEB()).append("/").append(koneksiDB.HYBRIDWEB()).append("/berkasrawat/temp/").append(qrFilename).append(".png' width='60' height='60' onerror=\"this.style.display='none';\"><br>");
                        } catch (Exception qrError) {
                            System.out.println("Error generating QR Code: " + qrError.getMessage());
                            htmlContent.append("<br><small>QR Code tidak dapat dibuat</small><br>");
                        }
                        htmlContent.append("<div style='margin:1px 0; font-size: 8px;'>").append(rs2.getString("nama_pasien")).append("</div>");

                        htmlContent.append("</td></tr></table></td></tr>");

                        // Footer - UKURAN FONT DIKURANGI
                        htmlContent.append("<tr><td colspan='6' style='padding:2px 0; font-size: 8px;'><i>*Saya Menyetujui BPJS Kesehatan menggunakan informasi Medis Pasien jika diperlukan.<br>");
                        htmlContent.append("*SEP bukan sebagai bukti penjaminan peserta<br>");
                        htmlContent.append("Cetakan ke 1 ").append(lokal).append("</i></td></tr>");

                        htmlContent.append("</table></fieldset>");
                        htmlContent.append("</div>"); // close page-section

                        // Page break yang lebih reliable untuk PDF
                        htmlContent.append("<div style='page-break-after: always; clear: both; height: 1px; overflow: hidden; margin: 0; padding: 0;'><span style='font-size: 1px;'>&nbsp;</span></div>");
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif SEP BPJS : " + e);
        }
    }

    private void menampilkanLembarVerifikasi(String norawat) {
        if (chkLembarVerifikasi.isSelected() == true) {
            // Query untuk mendapatkan berkas digital (PDF dan gambar)
            String sql = "SELECT master_berkas_digital.nama, berkas_digital_perawatan.lokasi_file FROM berkas_digital_perawatan INNER JOIN "
                    + "master_berkas_digital ON berkas_digital_perawatan.kode = master_berkas_digital.kode "
                    + "WHERE berkas_digital_perawatan.no_rawat = ? AND master_berkas_digital.nama LIKE '%verifikasi%'";
            try {
                PreparedStatement ps = koneksi.prepareStatement(sql);
                ps.setString(1, norawat);
                ResultSet rs = ps.executeQuery();
                int w = 1;
                boolean hasContent = false; // Flag untuk cek apakah ada content

                while (rs.next()) {
                    hasContent = true;
                    String fileName = rs.getString("lokasi_file");
                    String fileURL = "http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/berkasrawat/" + fileName;

                    // Proses file PDF
                    if (fileName.toLowerCase().endsWith(".pdf")) {
                        try {
                            processPdfFile(fileURL, rs.getString("nama"), w);
                        } catch (Exception e) {
                            htmlContent.append("<p>Error loading PDF: ").append(e.getMessage()).append("</p>");
                        }
                    } // Proses file gambar (JPG, JPEG)
                    else if (fileName.toLowerCase().endsWith(".jpg") || fileName.toLowerCase().endsWith(".jpeg")) {
                        htmlContent.append("<img alt='Berkas Digital' src='").append(fileURL).append("' style='width: 595px; height: auto; max-height: 842px;'/>");
                    }
                    w++;
                }

                // ===== TAMBAHAN PAGE BREAK DI AKHIR =====
                if (hasContent) {
                    // Tambahkan page break hanya jika ada content yang ditampilkan
                    htmlContent.append("<div class='pagebreak'></div>");
                    htmlContent.append("<div style='page-break-after: always; height: 1px; clear: both;'></div>");
                }
                // ========================================

                // Tutup resource
                rs.close();
                ps.close();
            } catch (SQLException e) {
                System.out.println("Error Berkas Digital: " + e.getMessage());
                e.printStackTrace();
            }
        }
    }

    private void menampilkanBilling(String norawat) {
        if (chkBilling.isSelected() == true) {
            try {
                rs2 = koneksi.prepareStatement(
                        "select billing.no,billing.nm_perawatan,billing.pemisah,if(billing.biaya=0,'',billing.biaya),if(billing.jumlah=0,'',billing.jumlah),if(billing.tambahan=0,'',billing.tambahan),if(billing.totalbiaya=0,'',billing.totalbiaya),billing.totalbiaya from billing where billing.no_rawat='" + norawat + "'").executeQuery();
                if (rs2.next()) {
                    rs3 = koneksi.prepareStatement(
                            "select setting.nama_instansi,setting.alamat_instansi,setting.kabupaten,setting.propinsi,setting.kontak,setting.email,setting.logo from setting").executeQuery();
                    if (rs3.next()) {
                        htmlContent.append(
                                "<br><br><br>"
                                + "<p class='pagebreak'>"
                                + "<fieldset>");
                        htmlContent.append("<table width='100%' bgcolor='#ffffff' align='left' border='0' padding='0' class='tbl_form' cellspacing='0' cellpadding='0'><tr class='isi12' padding='0'><td colspan='7' padding='0'><table width='100%' bgcolor='#ffffff' align='left' border='0' cellspacing='0' cellpadding='0'><tr><td width='20%'><img width='50' height='50' src='http://").append(koneksiDB.HOSTHYBRIDWEB()).append(":").append(koneksiDB.PORTWEB()).append("/").append(koneksiDB.HYBRIDWEB()).append("/logo.png'/></td><td width='500'><center><font color='000000'  face='Tahoma'>").append(rs3.getString("nama_instansi")).append("</font><br><font color='000000'  face='Tahoma'>").append(rs3.getString("alamat_instansi")).append(", ").append(rs3.getString("kabupaten")).append(", ").append(rs3.getString("propinsi")).append("<br/>").append(rs3.getString("kontak")).append(", E-mail : ").append(rs3.getString("email")).append("</font></center></td><td  width='20%' align='right' >" + Sequel.cariIsi("SELECT penjab.png_jawab FROM penjab INNER JOIN reg_periksa ON penjab.kd_pj=reg_periksa.kd_pj WHERE reg_periksa.no_rawat=?", norawat) + "</td></tr></table></td></tr>");
                    }
                    htmlContent.append(
                            "<tr>"
                            + "<td colspan='7' padding='0'>"
                            + "<hr/>"
                            + "<center><font color='333333'  face='Tahoma'>BILLING</font> </center>"
                            + "</td>"
                            + "</tr>");
                    total = 0;
                    //DecimalFormat decimalFormat = new DecimalFormat("#.###");
                    while (rs2.next()) {
                        total = total + rs2.getDouble(8);
                        htmlContent.append("<tr class='isi12' padding='0'><td padding='0' width='18%'><font color='111111'  face='Tahoma' size='2' >").append(rs2.getString(1)).append("</td><td padding='0' width='40%'><font color='111111'  face='Tahoma' size='2' >").append(rs2.getString(2)).append("</td><td padding='0' width='2%'><font color='111111'  face='Tahoma' size='2'>").append(rs2.getString(3)).append("</td><td padding='0' width='10%' align='right'><font color='111111'  face='Tahoma' size='2'>").append((rs2.getString(4).equals("") ? "" : Valid.SetAngka(rs2.getDouble(4)))).append("</td><td padding='0' width='5%' align='right'><font color='111111'  face='Tahoma' size='2'>").append(rs2.getString(5)).append("</td><td padding='0' width='10%' align='right'><font color='111111' face='Tahoma' size='2'>").append(rs2.getString(6)).append("</td><td padding='0' width='15%' align='right'><font color='111111'  face='Tahoma' size='2'>").append((rs2.getString(7).equals("") ? "" : Valid.SetAngka(rs2.getDouble(7)))).append("</td></tr>");
                    }

                    htmlContent.append("<tr class='isi12' padding='0'><td padding='0' width='18%'><font color='111111'  face='Tahoma'><b>TOTAL BIAYA</b></td><td padding='0' width='40%'><font color='111111'  face='Tahoma'><b>:</b></td><td padding='0' width='2%'><font color='111111'  face='Tahoma'></td><td padding='0' width='10%' align='right'><font color='111111'  face='Tahoma'></td><td padding='0' width='5%' align='right'><font color='111111'  face='Tahoma'></td><td padding='0' width='10%' align='right'><font color='111111'  face='Tahoma'></td><td padding='0' width='15%' align='right'><font color='111111'  face='Tahoma'><b>Rp. ").append(Valid.SetAngka(total)).append("</b></td></tr> <tr class='isi12' padding='0'><td colspan='7' padding='0'><table width='100%' bgcolor='#ffffff' align='left' border='0' padding='0' cellspacing='0' cellpadding='0'><tr class='isi12' padding='0'><td padding='0' width='40%' align=center><font color='000000'  face='Tahoma'>&nbsp;</td><td padding='0' width='20%' align=center><font color='000000'  face='Tahoma'>&nbsp;</td><td padding='0' width='40%' align='center'><font color='000000'  face='Tahoma'>&nbsp;</font></td></tr><tr class='isi12' padding='0'><td padding='0' width='40%' align=center><font color='000000'  face='Tahoma'></td><td padding='0' width='20%' align=center><font color='000000'  face='Tahoma'>&nbsp;</td><td padding='0' width='40%' align='center'><font color='000000'  face='Tahoma'></font></td></tr><tr class='isi12' padding='0'><td padding='0' width='40%' align=center><font color='000000'  face='Tahoma'></td><td padding='0' width='20%' align=center><font color='000000'  face='Tahoma'>&nbsp;</td><td padding='0' width='40%' align='center'><font color='000000'  face='Tahoma'>Kasir</font></td></tr><tr class='isi12' padding='0'><td padding='0' width='40%' align=center><font color='000000'  face='Tahoma'></td><td padding='0' width='20%' align=center><font color='000000'  face='Tahoma'>&nbsp;</td><td padding='0' width='40%' align='center'><font color='000000'  face='Tahoma'></font></td></tr>");
                    try {
                        pskoders = koneksi.prepareStatement("select kode_ppk from setting");
                        try {
                            rskode = pskoders.executeQuery();
                            rskode.next();

                            if (rskode.getString("kode_ppk").equals("0090R034")) {
                                get = new GetMethod("http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/penggajian/generateqrcodepetugas.php?kodepetugas=" + akses.getkode());
                                petugasbilling = akses.getkode();
                            } else {
                                inputString = "" + Sequel.cariIsi("SELECT keterangan FROM `jurnal` WHERE no_bukti=? and keterangan LIKE 'PIUTANG PASIEN%'", norawat);
                                String[] parts = inputString.split(" ");

                                for (String part : parts) {
                                    if (part.matches("\\d{4}\\.\\d{2}\\.\\d{2}\\.\\d{2}")) {
                                        System.out.println("Petugas : " + part);
                                        petugasbilling = part;
                                        break;
                                    }
                                }
                                get = new GetMethod("http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/penggajian/generateqrcodepetugas.php?kodepetugas=" + petugasbilling);
                            }

                        } catch (Exception e) {
                            System.out.println("Notif : " + rskode);
                        } finally {
                            if (rskode != null) {
                                try {
                                    rskode.close();
                                } catch (SQLException e) {
                                    System.out.println("Error closing rskode: " + e.getMessage());
                                }
                            }
                        }
                    } catch (Exception e) {
                        System.out.println("Notif : " + rskode);
                    }

                    http.executeMethod(get);
                    htmlContent.append("<td padding='0' width='40%' align=center><font color='000000'  face='Tahoma'></td><td padding='0' width='20%' align=center><font color='000000'  face='Tahoma'>&nbsp;</td><td padding='0' width='40%' align='center'><img width='150' src='http://").append(koneksiDB.HOSTHYBRIDWEB()).append(":").append(koneksiDB.PORTWEB()).append("/").append(koneksiDB.HYBRIDWEB()).append("/penggajian/temp/" + petugasbilling).append(".png' /><br>").append(Sequel.cariIsi("select petugas.nama FROM petugas WHERE nip=?", petugasbilling)).append("</td></tr>");

                    htmlContent.append(
                            "</table></td></tr></table></table>"
                            + "</fieldset>"
                    );
                }
            } catch (Exception e) {
                System.out.println("Notifikasi : " + e);
            } finally {
                // Handle SQLException untuk rs2.close()
                if (rs2 != null) {
                    try {
                        rs2.close();
                    } catch (SQLException e) {
                        System.out.println("Error closing rs2: " + e.getMessage());
                    }
                }
                // Handle SQLException untuk rs3.close() jika perlu
                if (rs3 != null) {
                    try {
                        rs3.close();
                    } catch (SQLException e) {
                        System.out.println("Error closing rs3: " + e.getMessage());
                    }
                }
            }
        }
    }

    private void menampilkanSuratRujukanBPJS(String norawat) {
        if (chkSuratRujukan.isSelected() == true) {
            // Query untuk mendapatkan berkas digital (PDF dan gambar)
            String sql = "SELECT master_berkas_digital.nama, berkas_digital_perawatan.lokasi_file FROM berkas_digital_perawatan INNER JOIN "
                    + "master_berkas_digital ON berkas_digital_perawatan.kode = master_berkas_digital.kode "
                    + "WHERE berkas_digital_perawatan.no_rawat = ? AND master_berkas_digital.nama LIKE '%pcare%'";

            try {
                PreparedStatement ps = koneksi.prepareStatement(sql);
                ps.setString(1, norawat);
                ResultSet rs = ps.executeQuery();

                int w = 1;
                while (rs.next()) {
                    String fileName = rs.getString("lokasi_file");
                    String fileURL = "http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/berkasrawat/" + fileName;

                    // Proses file PDF
                    if (fileName.toLowerCase().endsWith(".pdf")) {
                        try {
                            processPdfFile(fileURL, rs.getString("nama"), w);
                        } catch (Exception e) {
                            htmlContent.append("<p>Error loading PDF: ").append(e.getMessage()).append("</p>");
                        }
                    } // Proses file gambar (JPG, JPEG)
                    else if (fileName.toLowerCase().endsWith(".jpg") || fileName.toLowerCase().endsWith(".jpeg")) {
                        htmlContent.append("<img alt='Berkas Digital' src='").append(fileURL).append("' style='width: 595px; height: auto; max-height: 842px;'/>");
                    }

                    w++;
                }

                // Tutup resource
                rs.close();
                ps.close();

            } catch (SQLException e) {
                System.out.println("Error Berkas Digital: " + e.getMessage());
                e.printStackTrace();
            }
        }

    }

    private void menampilkanKonsultasiMedik(String norawat) {
        try {
            if (chkKonsultasiMedik.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select konsultasi_medik.no_permintaan,konsultasi_medik.tanggal as tanggalkonsultasi,konsultasi_medik.jenis_permintaan,konsultasi_medik.kd_dokter,dokterkonsul.nm_dokter as "
                            + "dokterkonsul,konsultasi_medik.kd_dokter_dikonsuli,dokterdikonsuli.nm_dokter as dokterdikonsuli,konsultasi_medik.diagnosa_kerja as diagnosakerjakonsul,konsultasi_medik.uraian_konsultasi,"
                            + "ifnull(jawaban_konsultasi_medik.tanggal,'') as tanggaljawaban,ifnull(jawaban_konsultasi_medik.diagnosa_kerja,'') as diagnosakerjajawaban,ifnull(jawaban_konsultasi_medik.uraian_jawaban,'') "
                            + "as uraian_jawaban, pasien.no_rkm_medis,pasien.nm_pasien,pasien.jk, pasien.tgl_lahir,pasien.alamat, CONCAT(' ( ',reg_periksa.umurdaftar,' ',reg_periksa.sttsumur,' ) ') as umur  from konsultasi_medik inner "
                            + "join dokter as dokterkonsul on konsultasi_medik.kd_dokter=dokterkonsul.kd_dokter inner join dokter as dokterdikonsuli on konsultasi_medik.kd_dokter_dikonsuli=dokterdikonsuli.kd_dokter left "
                            + "join jawaban_konsultasi_medik on jawaban_konsultasi_medik.no_permintaan=konsultasi_medik.no_permintaan inner join reg_periksa on konsultasi_medik.no_rawat=reg_periksa.no_rawat inner join "
                            + "pasien on reg_periksa.no_rkm_medis=pasien.no_rkm_medis where konsultasi_medik.no_rawat='" + norawat + "' order by konsultasi_medik.tanggal").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<br><br><br>"
                                + "<p class='pagebreak'>"
                                + "<fieldset>");

                        Copsurat();
                        htmlContent.append("<table style='font-size:11px;padding:0;border:0px solid #fff;width:1000px;' border='0' padding='0'>"
                                + "<tr><td colspan='3' align='center' style='width:500px;font-size: 20px;'><b><u>SURAT PERMINTAAN KONSUL</u></b></td><td colspan='3' align='center' style='width:500px;font-size: 20px;'><b><u>JAWABAN KONSUL</u></b></td></tr>"
                                + "<tr><td colspan='3'><br>Kepada Yth</td><td colspan='3'><br>&nbsp;&nbsp;&nbsp;&nbsp;Kepada Yth</td></tr>"
                                + "<tr><td colspan='3'>Dokter " + rs2.getString("dokterdikonsuli") + "</td><td colspan='3'>&nbsp;&nbsp;&nbsp;&nbsp;Dokter " + rs2.getString("dokterkonsul") + "</td></tr>"
                                + "<tr><td colspan='3'>Di " + akses.getnamars().toUpperCase() + "</td><td colspan='3'>&nbsp;&nbsp;&nbsp;&nbsp;Di " + akses.getnamars().toUpperCase() + "</td></tr>"
                                + "<tr><td colspan='3'><br></td><td colspan='3'><br></td></tr>"
                                + "<tr><td colspan='3'>Bersama ini kami kirimkan Pasien :</td><td colspan='3'>&nbsp;&nbsp;&nbsp;&nbsp;Bersama ini kami terima Pasien :</td></tr>"
                                + "<tr><td width='100px' align='top'>Nama</td><td>: &nbsp;&nbsp;</td><td width='400px'>" + rs2.getString("nm_pasien") + " " + rs2.getString("umur") + "</td><td width='100px' align='top'>&nbsp;&nbsp;&nbsp;&nbsp;Nama</td><td width='2%'>: &nbsp;&nbsp;</td><td width='400px'>" + rs2.getString("nm_pasien") + " " + rs2.getString("umur") + "</td></tr>"
                                + "<tr><td width='100px' align='top'>Jns_Kelamin</td><td>: &nbsp;&nbsp;</td><td width='400px'>" + (rs2.getString("jk").equals("L") ? "LAKI-LAKI" : "PEREMPUAN") + "</td><td width='100px' align='top'>&nbsp;&nbsp;&nbsp;&nbsp;Jns_Kelamin</td><td width='2%'>: &nbsp;&nbsp;</td><td width='400px'>" + (rs2.getString("jk").equals("L") ? "LAKI-LAKI" : "PEREMPUAN") + "</td></tr>"
                                + "<tr><td width='100px' align='top'>Tgl Lahir</td><td>: &nbsp;&nbsp;</td><td width='400px'>" + rs2.getString("tgl_lahir") + "</td><td width='100px' align='top'>&nbsp;&nbsp;&nbsp;&nbsp;Tgl Lahir</td><td width='2%'>: &nbsp;&nbsp;</td><td width='400px'>" + rs2.getString("tgl_lahir") + "</td></tr>"
                                + "<tr><td width='100px' align='top'>No RM</td><td>: &nbsp;&nbsp;</td><td width='400px'>" + rs2.getString("no_rkm_medis") + "</td><td width='100px' align='top'>&nbsp;&nbsp;&nbsp;&nbsp;No RM</td><td width='2%'>: &nbsp;&nbsp;</td><td width='400px'>" + rs2.getString("no_rkm_medis") + "</td></tr>"
                                + "<tr><td width='100px' align='top'>Diagnosa</td><td>: &nbsp;&nbsp;</td><td width='400px'>" + rs2.getString("diagnosakerjakonsul") + "</td><td width='100px' align='top'>&nbsp;&nbsp;&nbsp;&nbsp;Diagnosa</td><td width='2%'>: &nbsp;&nbsp;</td><td width='400px'>" + rs2.getString("diagnosakerjajawaban") + "</td></tr>"
                                + "<tr><td width='100px' align='top'>Uraian</td><td>: &nbsp;&nbsp;</td><td width='400px'>" + rs2.getString("uraian_konsultasi").replaceAll("(\r\n|\r|\n|\n\r)", "<br>") + "</td><td width='100px' align='top'>&nbsp;&nbsp;&nbsp;&nbsp;Uraian</td><td width='2%'>: &nbsp;&nbsp;</td><td width='400px'>" + rs2.getString("uraian_jawaban").replaceAll("(\r\n|\r|\n|\n\r)", "<br>") + "</td></tr>"
                                + "<tr><td colspan='3'><b>Mohon dapat dilakukan pemeriksaan selanjutnya.</b></td><td colspan='3'><b>&nbsp;&nbsp;&nbsp;&nbsp;telah dilakukan pemeriksaan.</b></td></tr>"
                                + "<tr><td colspan='3'><br></td><td colspan='3'><br></td></tr>"
                                + "<tr><td colspan='3'>Banyuasin, " + rs2.getString("tanggalkonsultasi").substring(0, 19) + "</td><td colspan='3'>&nbsp;&nbsp;&nbsp;&nbsp;Banyuasin, " + rs2.getString("tanggaljawaban").substring(0, 19) + "</td></tr>"
                                + "<tr>"
                                + "<td colspan='3'>");

                        get = new GetMethod("http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/penggajian/generateqrcode.php?kodedokter=" + rs2.getString("kd_dokter").replace(" ", "_"));
                        http.executeMethod(get);
                        htmlContent.append("Dokter Penanggung Jawab<br><img width='80' height='80' src='http://" + koneksiDB.HOSTHYBRIDWEB()).append(":").append(koneksiDB.PORTWEB()).append("/").append(koneksiDB.HYBRIDWEB()).append("/penggajian/temp/").append(rs2.getString("kd_dokter")).append(".png'/><br>").append(rs2.getString("dokterkonsul"));

                        htmlContent.append("</td>"
                                + "<td colspan='3'>");

                        get = new GetMethod("http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/penggajian/generateqrcode.php?kodedokter=" + rs2.getString("kd_dokter_dikonsuli").replace(" ", "_"));
                        http.executeMethod(get);
                        htmlContent.append("&nbsp;&nbsp;&nbsp;&nbsp;Dokter Penanggung Jawab<br>&nbsp;&nbsp;&nbsp;&nbsp;<img width='80' height='80' src='http://" + koneksiDB.HOSTHYBRIDWEB()).append(":").append(koneksiDB.PORTWEB()).append("/").append(koneksiDB.HYBRIDWEB()).append("/penggajian/temp/").append(rs2.getString("kd_dokter_dikonsuli")).append(".png'/><br>&nbsp;&nbsp;&nbsp;&nbsp;").append(rs2.getString("dokterdikonsuli"));

                        htmlContent.append("</td>"
                                + "</tr>");

                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>");
                        htmlContent.append(
                                "</table>"
                                + "</fieldset></p>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Konsultasi Medik : " + e);
        }
    }

    private void menampilkanKONTROLBPJS(String norawat) {
        try {
            if (chkSuratKontrolBPJS.isSelected() == true) {
                rs2 = koneksi.prepareStatement(
                        "select bridging_sep.no_rawat,bridging_sep.no_sep,bridging_sep.no_kartu,bridging_sep.nomr,bridging_sep.nama_pasien,DATE_FORMAT(bridging_sep.tanggal_lahir, '%d %M %Y') as tanggal_lahir, bridging_sep.jkel,bridging_sep.diagawal,bridging_sep.nmdiagnosaawal,DATE_FORMAT(bridging_surat_kontrol_bpjs.tgl_surat, '%d %M %Y') as tgl_surat,bridging_surat_kontrol_bpjs.no_surat, DATE_FORMAT(bridging_surat_kontrol_bpjs.tgl_rencana, '%d %M %Y') as tgl_rencana,bridging_surat_kontrol_bpjs.kd_dokter_bpjs,bridging_surat_kontrol_bpjs.nm_dokter_bpjs, bridging_surat_kontrol_bpjs.kd_poli_bpjs,bridging_surat_kontrol_bpjs.nm_poli_bpjs from bridging_sep inner join bridging_surat_kontrol_bpjs on bridging_surat_kontrol_bpjs.no_sep=bridging_sep.no_sep where bridging_surat_kontrol_bpjs.no_surat='" + Sequel.cariIsi("SELECT noskdp FROM bridging_sep WHERE no_rawat=?", norawat) + "'").executeQuery();
                if (rs2.next()) {
                    if (!rs2.getString("no_rawat").isEmpty()) {

                        // ===== HAPUS PAGE BREAK DI AWAL =====
                        // Ganti dari: "</br></br></br><p class='pagebreak'><fieldset>..."
                        // Menjadi hanya: "<fieldset>..."
                        htmlContent.append("<fieldset><table class='sep' width='100%' style='font-size:11px;padding:0;border:0px solid #fff;' border='0' padding='0'><tr><td><table border='0' padding='0'><tr><td rowspan='2' width='350' ><img alt='Image' src='http://").append(koneksiDB.HOSTHYBRIDWEB()).append(":").append(koneksiDB.PORTWEB()).append("/").append(koneksiDB.HYBRIDWEB()).append("/images/bpjslogo.png' width='300' ></td><td><b>SURAT RENCANA KONTROL</b><td width='50'></td><td>NO. " + rs2.getString("no_surat") + "</td></tr><tr><td><b>" + akses.getnamars() + "</b></td><td></td><td></td></tr><tr><td><br/><br/></td></tr></table></td></tr>");

                        htmlContent.append("<table><tr><td width='150'>Kepada Yth</td><td>" + rs2.getString("nm_dokter_bpjs") + "</td></tr><tr><td></td><td>" + rs2.getString("nm_poli_bpjs") + "</td></tr><td colspan='2'>Mohon Pemeriksaan dan Penanganan Lebih Lanjut :</td></table>");

                        htmlContent.append("<table><tr><td width='150'>No. Kartu</td><td>: " + rs2.getString("no_kartu") + "</td></tr><tr><td>Nama Pasien</td><td>: " + rs2.getString("nama_pasien") + " (" + (rs2.getString("jkel").equals("L") ? "LAKI-LAKI" : "PEREMPUAN") + ")</td></tr><tr><td>Tgl. Lahir</td><td>: " + rs2.getString("tanggal_lahir") + "</td></tr><tr><td>Diagnosa Awal</td><td>: " + rs2.getString("nmdiagnosaawal") + "</td></tr><tr><td>Tgl. Entri</td><td>: " + rs2.getString("tgl_surat") + "</td></tr><tr><td><b>Tgl. KONTROL</b></td><td><b>: " + rs2.getString("tgl_rencana").toUpperCase() + "</b></td></tr><td colspan='2'>Demikian atas bantuannya diucapkan banyak terima kasih</td></tr></table>");

                        // Generate QR Code untuk dokter DPJP
                        get = new GetMethod("http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/penggajian/generateqrcode.php?kodedokter=" + Sequel.cariIsi("select dokter.kd_dokter from dokter INNER JOIN maping_dokter_dpjpvclaim ON dokter.kd_dokter=maping_dokter_dpjpvclaim.kd_dokter WHERE maping_dokter_dpjpvclaim.kd_dokter_bpjs=?", rs2.getString("kd_dokter_bpjs")));
                        http.executeMethod(get);

                        // ===== PERKECIL QR CODE =====
                        // Ganti dari: width='150'
                        // Menjadi: width='80' atau width='100'
                        htmlContent.append("<table><tr><td width='600'>Tgl.Cetak " + lokal + "</td><td>Mengetahui DPJP</td></tr><tr><td></td><td><img width='80' src='http://").append(koneksiDB.HOSTHYBRIDWEB()).append(":").append(koneksiDB.PORTWEB()).append("/").append(koneksiDB.HYBRIDWEB()).append("/penggajian/temp/" + Sequel.cariIsi("select dokter.kd_dokter from dokter INNER JOIN maping_dokter_dpjpvclaim ON dokter.kd_dokter=maping_dokter_dpjpvclaim.kd_dokter WHERE maping_dokter_dpjpvclaim.kd_dokter_bpjs=?", rs2.getString("kd_dokter_bpjs"))).append(".png' /><br>").append(Sequel.cariIsi("select dokter.nm_dokter from dokter INNER JOIN maping_dokter_dpjpvclaim ON dokter.kd_dokter=maping_dokter_dpjpvclaim.kd_dokter WHERE maping_dokter_dpjpvclaim.kd_dokter_bpjs=?", rs2.getString("kd_dokter_bpjs"))).append("</td></tr></table>");

                        htmlContent.append("<tr><td></td></tr></table></fieldset>");

                        // ===== TAMBAHKAN PAGE BREAK DI AKHIR =====
                        htmlContent.append("<div class='pagebreak'></div>");
                        htmlContent.append("<div style='page-break-after: always; height: 1px; clear: both;'></div>");
                        // ========================================
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Kontrol BPJS : " + e);
        }
    }
    
    private void menampilkanKONTROL(String norawat) {
        try {
            if (chkSuratKontrol.isSelected() == true) {
                rs2 = koneksi.prepareStatement(
                        "select surat_kontrol_umum_rj.tahun,surat_kontrol_umum_rj.no_surat,surat_kontrol_umum_rj.no_rkm_medis,pasien.nm_pasien,"
                        + "pasien.jk,DATE_FORMAT(pasien.tgl_lahir,'%d-%m-%Y') as tgl_lahir,pasien.alamat,"
                        + "surat_kontrol_umum_rj.diagnosa,surat_kontrol_umum_rj.terapi,surat_kontrol_umum_rj.luka,"
                        + "DATE_FORMAT(surat_kontrol_umum_rj.tanggal_datang,'%d-%m-%Y') as tanggal_datang,"
                        + "DATE_FORMAT(surat_kontrol_umum_rj.tanggal_rujukan,'%d-%m-%Y') as tanggal_rujukan,"
                        + "surat_kontrol_umum_rj.no_antrian,surat_kontrol_umum_rj.kd_dokter,dokter.nm_dokter,surat_kontrol_umum_rj.status,"
                        + "poliklinik.nm_poli "
                        + "from surat_kontrol_umum_rj "
                        + "inner join pasien on surat_kontrol_umum_rj.no_rkm_medis=pasien.no_rkm_medis "
                        + "inner join dokter on surat_kontrol_umum_rj.kd_dokter=dokter.kd_dokter "
                        + "left join booking_registrasi on booking_registrasi.kd_dokter=surat_kontrol_umum_rj.kd_dokter "
                        + "and booking_registrasi.tanggal_periksa=surat_kontrol_umum_rj.tanggal_datang "
                        + "and booking_registrasi.no_rkm_medis=surat_kontrol_umum_rj.no_rkm_medis "
                        + "left join poliklinik on booking_registrasi.kd_poli=poliklinik.kd_poli "
                        + "where surat_kontrol_umum_rj.no_rkm_medis='" + Sequel.cariIsi("select no_rkm_medis from reg_periksa where no_rawat=?", norawat) + "' "
                        + "order by surat_kontrol_umum_rj.tanggal_rujukan desc limit 1").executeQuery();
                if (rs2.next()) {
                    if (!rs2.getString("no_rkm_medis").isEmpty()) {

                        // Header surat
                        htmlContent.append("<fieldset>");
                        htmlContent.append("<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>");

                        // Kop surat
                        Copsurat();

                        // Judul
                        htmlContent.append("<tr><td colspan='3' align='center'><h3><b>SURAT KONTROL RAWAT JALAN</b></h3></td></tr>");
                        htmlContent.append("<tr><td colspan='3' align='center'>No. Surat: ").append(rs2.getString("no_surat")).append("</td></tr>");
                        htmlContent.append("<tr><td colspan='3'>&nbsp;</td></tr>");

                        // Data pasien
                        htmlContent.append("<tr><td valign='top' width='20%'>No. Rekam Medis</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("no_rkm_medis")).append("</td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>Nama Pasien</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("nm_pasien")).append("</td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>Jenis Kelamin</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("jk").equals("L") ? "Laki-laki" : "Perempuan").append("</td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>Tanggal Lahir</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("tgl_lahir")).append("</td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>Alamat</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("alamat")).append("</td></tr>");

                        htmlContent.append("<tr><td colspan='3'>&nbsp;</td></tr>");

                        // Data surat kontrol
                        htmlContent.append("<tr><td valign='top' width='20%'>Diagnosa</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("diagnosa")).append("</td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>Terapi</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("terapi")).append("</td></tr>");

                        if (!rs2.getString("luka").isEmpty()) {
                            htmlContent.append("<tr><td valign='top' width='20%'>Luka/Keluhan</td>");
                            htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                            htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("luka")).append("</td></tr>");
                        }

                        htmlContent.append("<tr><td colspan='3'>&nbsp;</td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>Tanggal Kontrol</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'><b>").append(rs2.getString("tanggal_rujukan")).append("</b></td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>No. Antrian</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("no_antrian")).append("</td></tr>");

                        if (rs2.getString("nm_poli") != null && !rs2.getString("nm_poli").isEmpty()) {
                            htmlContent.append("<tr><td valign='top' width='20%'>Poliklinik</td>");
                            htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                            htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("nm_poli")).append("</td></tr>");
                        }

                        htmlContent.append("<tr><td valign='top' width='20%'>Dokter</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("nm_dokter")).append("</td></tr>");

                        htmlContent.append("<tr><td colspan='3'>&nbsp;</td></tr>");

                        // Generate QR Code untuk dokter
                        try {
                            get = new GetMethod("http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/penggajian/generateqrcode.php?kodedokter=" + rs2.getString("kd_dokter").replace(" ", "_"));
                            http.executeMethod(get);
                        } catch (Exception e) {
                            System.out.println("Notif Generate QR Code : " + e);
                        } finally {
                            if (get != null) {
                                get.releaseConnection();
                            }
                        }

                        // Tanda tangan
                        htmlContent.append("<tr><td colspan='3'>&nbsp;</td></tr>");
                        htmlContent.append("<tr><td valign='middle' width='50%'>&nbsp;</td>");
                        htmlContent.append("<td valign='middle' width='1%'>&nbsp;</td>");
                        htmlContent.append("<td valign='middle' width='49%' align='center'>");
                        htmlContent.append("Tanggal Cetak: ").append(lokal).append("<br><br>");
                        htmlContent.append("Dokter Penanggung Jawab<br><br>");
                        htmlContent.append("<img width='80' height='80' src='http://").append(koneksiDB.HOSTHYBRIDWEB()).append(":").append(koneksiDB.PORTWEB()).append("/").append(koneksiDB.HYBRIDWEB()).append("/penggajian/temp/").append(rs2.getString("kd_dokter")).append(".png'/><br>");
                        htmlContent.append(rs2.getString("nm_dokter"));
                        htmlContent.append("</td></tr>");

                        htmlContent.append("</table>");
                        htmlContent.append("</fieldset>");

                        // Page break
                        htmlContent.append("<div class='pagebreak'></div>");
                        htmlContent.append("<div style='page-break-after: always; height: 1px; clear: both;'></div>");
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif menampilkanKONTROL : " + e);
        } finally {
            if (rs2 != null) {
                try {
                    rs2.close();
                } catch (Exception e) {
                    System.out.println("Notif Close RS2 menampilkanKONTROL : " + e);
                }
            }
        }
    }

    private void menampilkanKONTROLSKDP(String norawat) {
        try {
            if (chkSuratKontrol.isSelected() == true) {
                rs2 = koneksi.prepareStatement(
                        "select skdp_bpjs.tahun,skdp_bpjs.no_rkm_medis,pasien.nm_pasien,"
                        + "pasien.jk,DATE_FORMAT(pasien.tgl_lahir,'%d-%m-%Y') as tgl_lahir,pasien.alamat,"
                        + "skdp_bpjs.diagnosa,skdp_bpjs.terapi,skdp_bpjs.alasan1,skdp_bpjs.alasan2,"
                        + "skdp_bpjs.rtl1,skdp_bpjs.rtl2,"
                        + "DATE_FORMAT(skdp_bpjs.tanggal_datang,'%d-%m-%Y') as tanggal_datang,"
                        + "DATE_FORMAT(skdp_bpjs.tanggal_rujukan,'%d-%m-%Y') as tanggal_rujukan,"
                        + "skdp_bpjs.no_antrian,skdp_bpjs.kd_dokter,dokter.nm_dokter,skdp_bpjs.status,"
                        + "poliklinik.nm_poli "
                        + "from skdp_bpjs "
                        + "inner join pasien on skdp_bpjs.no_rkm_medis=pasien.no_rkm_medis "
                        + "inner join dokter on skdp_bpjs.kd_dokter=dokter.kd_dokter "
                        + "left join booking_registrasi on booking_registrasi.kd_dokter=skdp_bpjs.kd_dokter "
                        + "and booking_registrasi.tanggal_periksa=DATE(skdp_bpjs.tanggal_datang) "
                        + "and booking_registrasi.no_rkm_medis=skdp_bpjs.no_rkm_medis "
                        + "left join poliklinik on booking_registrasi.kd_poli=poliklinik.kd_poli "
                        + "where skdp_bpjs.no_rkm_medis='" + Sequel.cariIsi("select no_rkm_medis from reg_periksa where no_rawat=?", norawat) + "' "
                        + "order by skdp_bpjs.tanggal_rujukan desc limit 1").executeQuery();
                if (rs2.next()) {
                    if (!rs2.getString("no_rkm_medis").isEmpty()) {

                        // Header surat
                        htmlContent.append("<fieldset>");
                        htmlContent.append("<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>");

                        // Kop surat
                        Copsurat();

                        // Judul
                        htmlContent.append("<tr><td colspan='3' align='center'><h3><b>SURAT KONTROL (SKDP)</b></h3></td></tr>");
                        htmlContent.append("<tr><td colspan='3' align='center'>Tanggal Pembuatan: ").append(rs2.getString("tanggal_datang")).append(" | Tanggal Kontrol: <b>").append(rs2.getString("tanggal_rujukan")).append("</b></td></tr>");
                        htmlContent.append("<tr><td colspan='3'>&nbsp;</td></tr>");

                        // Data pasien
                        htmlContent.append("<tr><td valign='top' width='20%'>No. Rekam Medis</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("no_rkm_medis")).append("</td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>Nama Pasien</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("nm_pasien")).append("</td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>Jenis Kelamin</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("jk").equals("L") ? "Laki-laki" : "Perempuan").append("</td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>Tanggal Lahir</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("tgl_lahir")).append("</td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>Alamat</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("alamat")).append("</td></tr>");

                        htmlContent.append("<tr><td colspan='3'>&nbsp;</td></tr>");

                        // Data surat kontrol SKDP
                        htmlContent.append("<tr><td valign='top' width='20%'>Diagnosa</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("diagnosa")).append("</td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>Terapi</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("terapi")).append("</td></tr>");

                        if (rs2.getString("alasan1") != null && !rs2.getString("alasan1").isEmpty()) {
                            htmlContent.append("<tr><td valign='top' width='20%'>Alasan 1</td>");
                            htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                            htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("alasan1")).append("</td></tr>");
                        }

                        if (rs2.getString("alasan2") != null && !rs2.getString("alasan2").isEmpty()) {
                            htmlContent.append("<tr><td valign='top' width='20%'>Alasan 2</td>");
                            htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                            htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("alasan2")).append("</td></tr>");
                        }

                        if (rs2.getString("rtl1") != null && !rs2.getString("rtl1").isEmpty()) {
                            htmlContent.append("<tr><td valign='top' width='20%'>Rencana Tindak Lanjut 1</td>");
                            htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                            htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("rtl1")).append("</td></tr>");
                        }

                        if (rs2.getString("rtl2") != null && !rs2.getString("rtl2").isEmpty()) {
                            htmlContent.append("<tr><td valign='top' width='20%'>Rencana Tindak Lanjut 2</td>");
                            htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                            htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("rtl2")).append("</td></tr>");
                        }

                        htmlContent.append("<tr><td colspan='3'>&nbsp;</td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>Tanggal Datang</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("tanggal_datang")).append("</td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>Tanggal Kontrol</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'><b>").append(rs2.getString("tanggal_rujukan")).append("</b></td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>No. Antrian</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("no_antrian")).append("</td></tr>");

                        if (rs2.getString("nm_poli") != null && !rs2.getString("nm_poli").isEmpty()) {
                            htmlContent.append("<tr><td valign='top' width='20%'>Poliklinik</td>");
                            htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                            htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("nm_poli")).append("</td></tr>");
                        }

                        htmlContent.append("<tr><td valign='top' width='20%'>Dokter</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("nm_dokter")).append("</td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>Status</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("status")).append("</td></tr>");

                        htmlContent.append("<tr><td colspan='3'>&nbsp;</td></tr>");

                        // Generate QR Code untuk dokter
                        try {
                            get = new GetMethod("http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/penggajian/generateqrcode.php?kodedokter=" + rs2.getString("kd_dokter").replace(" ", "_"));
                            http.executeMethod(get);
                        } catch (Exception e) {
                            System.out.println("Notif Generate QR Code : " + e);
                        } finally {
                            if (get != null) {
                                get.releaseConnection();
                            }
                        }

                        // Tanda tangan
                        htmlContent.append("<tr><td colspan='3'>&nbsp;</td></tr>");
                        htmlContent.append("<tr><td valign='middle' width='50%'>&nbsp;</td>");
                        htmlContent.append("<td valign='middle' width='1%'>&nbsp;</td>");
                        htmlContent.append("<td valign='middle' width='49%' align='center'>");
                        htmlContent.append("Tanggal Cetak: ").append(lokal).append("<br><br>");
                        htmlContent.append("Dokter Penanggung Jawab<br><br>");
                        htmlContent.append("<img width='80' height='80' src='http://").append(koneksiDB.HOSTHYBRIDWEB()).append(":").append(koneksiDB.PORTWEB()).append("/").append(koneksiDB.HYBRIDWEB()).append("/penggajian/temp/").append(rs2.getString("kd_dokter")).append(".png'/><br>");
                        htmlContent.append(rs2.getString("nm_dokter"));
                        htmlContent.append("</td></tr>");

                        htmlContent.append("</table>");
                        htmlContent.append("</fieldset>");

                        // Page break
                        htmlContent.append("<div class='pagebreak'></div>");
                        htmlContent.append("<div style='page-break-after: always; height: 1px; clear: both;'></div>");
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif menampilkanKONTROLSKDP : " + e);
        } finally {
            if (rs2 != null) {
                try {
                    rs2.close();
                } catch (Exception e) {
                    System.out.println("Notif Close RS2 menampilkanKONTROLSKDP : " + e);
                }
            }
        }
    }

    private void menampilkanREHABKUNJUNGANPERTAMA(String norawat) {
        try {
            if (chkRehabKunjunganPertama.isSelected() == true) {
                rs2 = koneksi.prepareStatement(
                        "SELECT rehab_kunjunganpertama.no_rawat, DATE_FORMAT(rehab_kunjunganpertama.tanggal,'%d-%m-%Y %H:%i:%s') as tanggal, "
                        + "rehab_kunjunganpertama.kd_dokter, rehab_kunjunganpertama.anamnesa, "
                        + "rehab_kunjunganpertama.pemeriksaanfisik, rehab_kunjunganpertama.diagnosismedis, "
                        + "rehab_kunjunganpertama.diagnosisfungsi, rehab_kunjunganpertama.penunjang, "
                        + "rehab_kunjunganpertama.tatalaksana, rehab_kunjunganpertama.anjuran, "
                        + "rehab_kunjunganpertama.goal, rehab_kunjunganpertama.evaluasi, "
                        + "rehab_kunjunganpertama.suspek, rehab_kunjunganpertama.suspekket, "
                        + "reg_periksa.no_rkm_medis, pasien.nm_pasien, pasien.jk, "
                        + "DATE_FORMAT(pasien.tgl_lahir,'%d-%m-%Y') as tgl_lahir, pasien.alamat, "
                        + "dokter.nm_dokter "
                        + "FROM rehab_kunjunganpertama "
                        + "INNER JOIN reg_periksa ON rehab_kunjunganpertama.no_rawat = reg_periksa.no_rawat "
                        + "INNER JOIN pasien ON reg_periksa.no_rkm_medis = pasien.no_rkm_medis "
                        + "INNER JOIN dokter ON rehab_kunjunganpertama.kd_dokter = dokter.kd_dokter "
                        + "WHERE rehab_kunjunganpertama.no_rawat='" + norawat + "' "
                        + "ORDER BY rehab_kunjunganpertama.tanggal DESC LIMIT 1").executeQuery();
                if (rs2.next()) {
                    if (!rs2.getString("no_rawat").isEmpty()) {

                        // Header surat
                        htmlContent.append("<fieldset>");
                        htmlContent.append("<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>");

                        // Kop surat
                        Copsurat();

                        // Judul
                        htmlContent.append("<tr><td colspan='3' align='center'><h3><b>LEMBAR FISIOTERAPI KUNJUNGAN PERTAMA</b></h3></td></tr>");
                        htmlContent.append("<tr><td colspan='3' align='center'>Tanggal: ").append(rs2.getString("tanggal")).append("</td></tr>");
                        htmlContent.append("<tr><td colspan='3'>&nbsp;</td></tr>");

                        // Data Pasien
                        htmlContent.append("<tr><td colspan='3'><b>DATA PASIEN</b></td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>No. Rawat</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("no_rawat")).append("</td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>No. Rekam Medis</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("no_rkm_medis")).append("</td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>Nama Pasien</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("nm_pasien")).append("</td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>Jenis Kelamin</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("jk").equals("L") ? "Laki-laki" : "Perempuan").append("</td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>Tanggal Lahir</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("tgl_lahir")).append("</td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>Alamat</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("alamat")).append("</td></tr>");

                        htmlContent.append("<tr><td colspan='3'>&nbsp;</td></tr>");

                        // Data Pemeriksaan
                        htmlContent.append("<tr><td colspan='3'><b>DATA PEMERIKSAAN</b></td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>Anamnesa</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("anamnesa")).append("</td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>Pemeriksaan Fisik</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("pemeriksaanfisik")).append("</td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>Diagnosis Medis</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("diagnosismedis")).append("</td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>Diagnosis Fungsi</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("diagnosisfungsi")).append("</td></tr>");

                        if (rs2.getString("penunjang") != null && !rs2.getString("penunjang").isEmpty()) {
                            htmlContent.append("<tr><td valign='top' width='20%'>Penunjang</td>");
                            htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                            htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("penunjang")).append("</td></tr>");
                        }

                        if (rs2.getString("suspek") != null && !rs2.getString("suspek").isEmpty()) {
                            htmlContent.append("<tr><td valign='top' width='20%'>Suspek</td>");
                            htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                            htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("suspek")).append("</td></tr>");
                        }

                        if (rs2.getString("suspekket") != null && !rs2.getString("suspekket").isEmpty()) {
                            htmlContent.append("<tr><td valign='top' width='20%'>Keterangan Suspek</td>");
                            htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                            htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("suspekket")).append("</td></tr>");
                        }

                        htmlContent.append("<tr><td colspan='3'>&nbsp;</td></tr>");

                        // Rencana & Evaluasi
                        htmlContent.append("<tr><td colspan='3'><b>RENCANA & EVALUASI</b></td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>Tatalaksana</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("tatalaksana")).append("</td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>Anjuran</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("anjuran")).append("</td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>Goal</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("goal")).append("</td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>Evaluasi</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("evaluasi")).append("</td></tr>");

                        htmlContent.append("<tr><td colspan='3'>&nbsp;</td></tr>");

                        // Generate QR Code untuk dokter
                        try {
                            get = new GetMethod("http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/penggajian/generateqrcode.php?kodedokter=" + rs2.getString("kd_dokter").replace(" ", "_"));
                            http.executeMethod(get);
                        } catch (Exception e) {
                            System.out.println("Notif Generate QR Code Dokter : " + e);
                        } finally {
                            if (get != null) {
                                get.releaseConnection();
                            }
                        }

                        // Tanda tangan - Dokter dan Pasien
                        htmlContent.append("<tr><td colspan='3'>&nbsp;</td></tr>");
                        htmlContent.append("<tr>");

                        // Tanda tangan Pasien (kiri)
                        htmlContent.append("<td valign='middle' width='49%' align='center'>");
                        htmlContent.append("Pasien/Keluarga Pasien<br><br>");
                        htmlContent.append("<img width='100' height='100' src='http://").append(koneksiDB.HOSTHYBRIDWEB()).append(":").append(koneksiDB.PORTWEB()).append("/").append(koneksiDB.HYBRIDWEB()).append("/imagefreehand/rehabmedik/pertama/RK").append(rs2.getString("no_rawat").replaceAll("/", "")).append(".png' onerror=\"this.style.display='none'\"/><br>");
                        htmlContent.append(rs2.getString("nm_pasien"));
                        htmlContent.append("</td>");

                        htmlContent.append("<td valign='middle' width='2%'>&nbsp;</td>");

                        // Tanda tangan Dokter (kanan)
                        htmlContent.append("<td valign='middle' width='49%' align='center'>");
                        htmlContent.append("Tanggal Cetak: ").append(lokal).append("<br>");
                        htmlContent.append("Dokter Penanggung Jawab<br><br>");
                        htmlContent.append("<img width='80' height='80' src='http://").append(koneksiDB.HOSTHYBRIDWEB()).append(":").append(koneksiDB.PORTWEB()).append("/").append(koneksiDB.HYBRIDWEB()).append("/penggajian/temp/").append(rs2.getString("kd_dokter")).append(".png'/><br>");
                        htmlContent.append(rs2.getString("nm_dokter"));
                        htmlContent.append("</td>");

                        htmlContent.append("</tr>");

                        htmlContent.append("</table>");
                        htmlContent.append("</fieldset>");

                        // Page break
                        htmlContent.append("<div class='pagebreak'></div>");
                        htmlContent.append("<div style='page-break-after: always; height: 1px; clear: both;'></div>");
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif menampilkanREHABKUNJUNGANPERTAMA : " + e);
        } finally {
            if (rs2 != null) {
                try {
                    rs2.close();
                } catch (Exception e) {
                    System.out.println("Notif Close RS2 menampilkanREHABKUNJUNGANPERTAMA : " + e);
                }
            }
        }
    }

    private void menampilkanREHABPROGRAM(String norawat) {
        try {
            if (chkRehabKunjunganPertama.isSelected() == true) {
                rs2 = koneksi.prepareStatement(
                        "SELECT rehab_program.no_rawat, DATE_FORMAT(rehab_program.tanggal,'%d-%m-%Y %H:%i:%s') as tanggal, "
                        + "rehab_program.kd_dokter, rehab_program.program, rehab_program.kdpetugas, "
                        + "reg_periksa.no_rkm_medis, pasien.nm_pasien, pasien.jk, "
                        + "DATE_FORMAT(pasien.tgl_lahir,'%d-%m-%Y') as tgl_lahir, pasien.alamat, "
                        + "dokter.nm_dokter, petugas.nama as nm_petugas "
                        + "FROM rehab_program "
                        + "INNER JOIN reg_periksa ON rehab_program.no_rawat = reg_periksa.no_rawat "
                        + "INNER JOIN pasien ON reg_periksa.no_rkm_medis = pasien.no_rkm_medis "
                        + "INNER JOIN dokter ON rehab_program.kd_dokter = dokter.kd_dokter "
                        + "INNER JOIN petugas ON rehab_program.kdpetugas = petugas.nip "
                        + "WHERE rehab_program.no_rawat='" + norawat + "' "
                        + "ORDER BY rehab_program.tanggal DESC LIMIT 1").executeQuery();
                if (rs2.next()) {
                    if (!rs2.getString("no_rawat").isEmpty()) {

                        // Header surat
                        htmlContent.append("<fieldset>");
                        htmlContent.append("<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>");

                        // Kop surat
                        Copsurat();

                        // Judul
                        htmlContent.append("<tr><td colspan='3' align='center'><h3><b>LEMBAR FISIOTERAPI PROGRAM</b></h3></td></tr>");
                        htmlContent.append("<tr><td colspan='3' align='center'>Tanggal: ").append(rs2.getString("tanggal")).append("</td></tr>");
                        htmlContent.append("<tr><td colspan='3'>&nbsp;</td></tr>");

                        // Data Pasien
                        htmlContent.append("<tr><td colspan='3'><b>DATA PASIEN</b></td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>No. Rawat</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("no_rawat")).append("</td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>No. Rekam Medis</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("no_rkm_medis")).append("</td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>Nama Pasien</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("nm_pasien")).append("</td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>Jenis Kelamin</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("jk").equals("L") ? "Laki-laki" : "Perempuan").append("</td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>Tanggal Lahir</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("tgl_lahir")).append("</td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>Alamat</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("alamat")).append("</td></tr>");

                        htmlContent.append("<tr><td colspan='3'>&nbsp;</td></tr>");

                        // Program Fisioterapi
                        htmlContent.append("<tr><td colspan='3'><b>PROGRAM FISIOTERAPI</b></td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>Program</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("program")).append("</td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>Dokter</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("nm_dokter")).append("</td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>Petugas</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("nm_petugas")).append("</td></tr>");

                        htmlContent.append("<tr><td colspan='3'>&nbsp;</td></tr>");

                        // Generate QR Code untuk dokter
                        try {
                            get = new GetMethod("http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/penggajian/generateqrcode.php?kodedokter=" + rs2.getString("kd_dokter").replace(" ", "_"));
                            http.executeMethod(get);
                        } catch (Exception e) {
                            System.out.println("Notif Generate QR Code Dokter : " + e);
                        } finally {
                            if (get != null) {
                                get.releaseConnection();
                            }
                        }

                        // Generate QR Code untuk petugas
                        try {
                            get = new GetMethod("http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/penggajian/generateqrcode.php?kodedokter=" + rs2.getString("kdpetugas").replace(" ", "_"));
                            http.executeMethod(get);
                        } catch (Exception e) {
                            System.out.println("Notif Generate QR Code Petugas : " + e);
                        } finally {
                            if (get != null) {
                                get.releaseConnection();
                            }
                        }

                        // Tanda tangan - Pasien, Petugas, dan Dokter
                        htmlContent.append("<tr><td colspan='3'>&nbsp;</td></tr>");
                        htmlContent.append("<tr>");

                        // Tanda tangan Pasien (kiri)
                        htmlContent.append("<td valign='middle' width='33%' align='center'>");
                        htmlContent.append("Pasien/Keluarga Pasien<br><br>");
                        htmlContent.append("<img width='100' height='100' src='http://").append(koneksiDB.HOSTHYBRIDWEB()).append(":").append(koneksiDB.PORTWEB()).append("/").append(koneksiDB.HYBRIDWEB()).append("/imagefreehand/rehabmedik/program/RP").append(rs2.getString("no_rawat").replaceAll("/", "")).append(".png' onerror=\"this.style.display='none'\"/><br>");
                        htmlContent.append(rs2.getString("nm_pasien"));
                        htmlContent.append("</td>");

                        // Tanda tangan Petugas (tengah)
                        htmlContent.append("<td valign='middle' width='34%' align='center'>");
                        htmlContent.append("Petugas Fisioterapi<br><br>");
                        htmlContent.append("<img width='80' height='80' src='http://").append(koneksiDB.HOSTHYBRIDWEB()).append(":").append(koneksiDB.PORTWEB()).append("/").append(koneksiDB.HYBRIDWEB()).append("/penggajian/temp/").append(rs2.getString("kdpetugas")).append(".png'/><br>");
                        htmlContent.append(rs2.getString("nm_petugas"));
                        htmlContent.append("</td>");

                        // Tanda tangan Dokter (kanan)
                        htmlContent.append("<td valign='middle' width='33%' align='center'>");
                        htmlContent.append("Tanggal Cetak: ").append(lokal).append("<br>");
                        htmlContent.append("Dokter Penanggung Jawab<br><br>");
                        htmlContent.append("<img width='80' height='80' src='http://").append(koneksiDB.HOSTHYBRIDWEB()).append(":").append(koneksiDB.PORTWEB()).append("/").append(koneksiDB.HYBRIDWEB()).append("/penggajian/temp/").append(rs2.getString("kd_dokter")).append(".png'/><br>");
                        htmlContent.append(rs2.getString("nm_dokter"));
                        htmlContent.append("</td>");

                        htmlContent.append("</tr>");

                        htmlContent.append("</table>");
                        htmlContent.append("</fieldset>");

                        // Page break
                        htmlContent.append("<div class='pagebreak'></div>");
                        htmlContent.append("<div style='page-break-after: always; height: 1px; clear: both;'></div>");
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif menampilkanREHABPROGRAM : " + e);
        } finally {
            if (rs2 != null) {
                try {
                    rs2.close();
                } catch (Exception e) {
                    System.out.println("Notif Close RS2 menampilkanREHABPROGRAM : " + e);
                }
            }
        }
    }

    private void menampilkanREASSESSMENT(String norawat) {
        try {
            if (chkReassessment.isSelected() == true) {
                rs2 = koneksi.prepareStatement(
                        "SELECT lembar_reassesment.no_rawat, DATE_FORMAT(lembar_reassesment.tanggal,'%d-%m-%Y %H:%i:%s') as tanggal, "
                        + "lembar_reassesment.kd_dokter, lembar_reassesment.subjective, lembar_reassesment.objective, "
                        + "lembar_reassesment.assesment, lembar_reassesment.goal, lembar_reassesment.tindakan, "
                        + "lembar_reassesment.edukasi, lembar_reassesment.frekuensi, lembar_reassesment.rencana, "
                        + "reg_periksa.no_rkm_medis, pasien.nm_pasien, pasien.jk, "
                        + "DATE_FORMAT(pasien.tgl_lahir,'%d-%m-%Y') as tgl_lahir, pasien.alamat, "
                        + "dokter.nm_dokter, CONCAT(reg_periksa.umurdaftar,' ',reg_periksa.sttsumur) as umur "
                        + "FROM lembar_reassesment "
                        + "INNER JOIN reg_periksa ON lembar_reassesment.no_rawat = reg_periksa.no_rawat "
                        + "INNER JOIN pasien ON reg_periksa.no_rkm_medis = pasien.no_rkm_medis "
                        + "INNER JOIN dokter ON lembar_reassesment.kd_dokter = dokter.kd_dokter "
                        + "WHERE lembar_reassesment.no_rawat='" + norawat + "' "
                        + "ORDER BY lembar_reassesment.tanggal DESC LIMIT 1").executeQuery();
                if (rs2.next()) {
                    if (!rs2.getString("no_rawat").isEmpty()) {

                        // Header surat
                        htmlContent.append("<fieldset>");
                        htmlContent.append("<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>");

                        // Kop surat
                        Copsurat();

                        // Judul
                        htmlContent.append("<tr><td colspan='3' align='center'><h3><b>LEMBAR REASSESSMENT</b></h3></td></tr>");
                        htmlContent.append("<tr><td colspan='3' align='center'>Tanggal: ").append(rs2.getString("tanggal")).append("</td></tr>");
                        htmlContent.append("<tr><td colspan='3'>&nbsp;</td></tr>");

                        // Data Pasien
                        htmlContent.append("<tr><td colspan='3'><b>DATA PASIEN</b></td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>No. Rawat</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("no_rawat")).append("</td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>No. Rekam Medis</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("no_rkm_medis")).append("</td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>Nama Pasien</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("nm_pasien")).append("</td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>Jenis Kelamin</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("jk").equals("L") ? "Laki-laki" : "Perempuan").append("</td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>Tanggal Lahir</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("tgl_lahir")).append("</td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>Umur</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("umur")).append("</td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>Alamat</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("alamat")).append("</td></tr>");

                        htmlContent.append("<tr><td colspan='3'>&nbsp;</td></tr>");

                        // Data Reassessment (SOAP)
                        htmlContent.append("<tr><td colspan='3'><b>SOAP REASSESSMENT</b></td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>S (Subjective)</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("subjective")).append("</td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>O (Objective)</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("objective")).append("</td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>A (Assessment)</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("assesment")).append("</td></tr>");

                        htmlContent.append("<tr><td colspan='3'>&nbsp;</td></tr>");

                        // Rencana Tindak Lanjut
                        htmlContent.append("<tr><td colspan='3'><b>RENCANA TINDAK LANJUT</b></td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>Goal</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("goal")).append("</td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>Tindakan</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("tindakan")).append("</td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>Edukasi</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("edukasi")).append("</td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>Frekuensi</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("frekuensi")).append("</td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>Rencana</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("rencana")).append("</td></tr>");

                        htmlContent.append("<tr><td colspan='3'>&nbsp;</td></tr>");

                        // Generate QR Code untuk dokter
                        try {
                            get = new GetMethod("http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/penggajian/generateqrcode.php?kodedokter=" + rs2.getString("kd_dokter").replace(" ", "_"));
                            http.executeMethod(get);
                        } catch (Exception e) {
                            System.out.println("Notif Generate QR Code Dokter : " + e);
                        } finally {
                            if (get != null) {
                                get.releaseConnection();
                            }
                        }

                        // Tanda tangan Dokter
                        htmlContent.append("<tr><td colspan='3' align='center'>");
                        htmlContent.append("Tanggal Cetak: ").append(lokal).append("<br>");
                        htmlContent.append("Dokter Penanggung Jawab<br><br>");
                        htmlContent.append("<img width='80' height='80' src='http://").append(koneksiDB.HOSTHYBRIDWEB()).append(":").append(koneksiDB.PORTWEB()).append("/").append(koneksiDB.HYBRIDWEB()).append("/penggajian/temp/").append(rs2.getString("kd_dokter")).append(".png'/><br>");
                        htmlContent.append(rs2.getString("nm_dokter"));
                        htmlContent.append("</td></tr>");

                        htmlContent.append("</table>");
                        htmlContent.append("</fieldset>");

                        // Page break
                        htmlContent.append("<div class='pagebreak'></div>");
                        htmlContent.append("<div style='page-break-after: always; height: 1px; clear: both;'></div>");
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif menampilkanREASSESSMENT : " + e);
        } finally {
            if (rs2 != null) {
                try {
                    rs2.close();
                } catch (Exception e) {
                    System.out.println("Notif Close RS2 menampilkanREASSESSMENT : " + e);
                }
            }
        }
    }

    private void menampilkanLEMBARPROGRAMTERAPI(String norawat) {
        try {
            if (chkLembarProgramTerapi.isSelected() == true) {
                rs2 = koneksi.prepareStatement(
                        "SELECT lembar_program_terapi.no_rawat, DATE_FORMAT(lembar_program_terapi.tanggal,'%d-%m-%Y %H:%i:%s') as tanggal, "
                        + "lembar_program_terapi.kd_dokter, lembar_program_terapi.subjective, lembar_program_terapi.objective, "
                        + "lembar_program_terapi.assesment, lembar_program_terapi.procedure, lembar_program_terapi.kd_pegawai, "
                        + "reg_periksa.no_rkm_medis, pasien.nm_pasien, pasien.jk, "
                        + "DATE_FORMAT(pasien.tgl_lahir,'%d-%m-%Y') as tgl_lahir, pasien.alamat, "
                        + "dokter.nm_dokter, pegawai.nama as nm_pegawai, CONCAT(reg_periksa.umurdaftar,' ',reg_periksa.sttsumur) as umur "
                        + "FROM lembar_program_terapi "
                        + "INNER JOIN reg_periksa ON lembar_program_terapi.no_rawat = reg_periksa.no_rawat "
                        + "INNER JOIN pasien ON reg_periksa.no_rkm_medis = pasien.no_rkm_medis "
                        + "INNER JOIN dokter ON lembar_program_terapi.kd_dokter = dokter.kd_dokter "
                        + "INNER JOIN pegawai ON lembar_program_terapi.kd_pegawai = pegawai.nik "
                        + "WHERE lembar_program_terapi.no_rawat='" + norawat + "' "
                        + "ORDER BY lembar_program_terapi.tanggal DESC LIMIT 1").executeQuery();
                if (rs2.next()) {
                    if (!rs2.getString("no_rawat").isEmpty()) {

                        // Header surat
                        htmlContent.append("<fieldset>");
                        htmlContent.append("<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>");

                        // Kop surat
                        Copsurat();

                        // Judul
                        htmlContent.append("<tr><td colspan='3' align='center'><h3><b>LEMBAR PROGRAM TERAPI</b></h3></td></tr>");
                        htmlContent.append("<tr><td colspan='3' align='center'>Tanggal: ").append(rs2.getString("tanggal")).append("</td></tr>");
                        htmlContent.append("<tr><td colspan='3'>&nbsp;</td></tr>");

                        // Data Pasien
                        htmlContent.append("<tr><td colspan='3'><b>DATA PASIEN</b></td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>No. Rawat</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("no_rawat")).append("</td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>No. Rekam Medis</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("no_rkm_medis")).append("</td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>Nama Pasien</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("nm_pasien")).append("</td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>Jenis Kelamin</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("jk").equals("L") ? "Laki-laki" : "Perempuan").append("</td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>Tanggal Lahir</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("tgl_lahir")).append("</td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>Umur</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("umur")).append("</td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>Alamat</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("alamat")).append("</td></tr>");

                        htmlContent.append("<tr><td colspan='3'>&nbsp;</td></tr>");

                        // Data Program Terapi (SOAP)
                        htmlContent.append("<tr><td colspan='3'><b>SOAP</b></td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>S (Subjective)</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("subjective")).append("</td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>O (Objective)</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("objective")).append("</td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>A (Assessment)</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("assesment")).append("</td></tr>");

                        htmlContent.append("<tr><td colspan='3'>&nbsp;</td></tr>");

                        // Prosedur
                        htmlContent.append("<tr><td colspan='3'><b>PROSEDUR/TERAPI</b></td></tr>");

                        htmlContent.append("<tr><td valign='top' width='20%'>Prosedur</td>");
                        htmlContent.append("<td valign='top' width='1%' align='center'>:</td>");
                        htmlContent.append("<td valign='top' width='79%'>").append(rs2.getString("procedure")).append("</td></tr>");

                        htmlContent.append("<tr><td colspan='3'>&nbsp;</td></tr>");

                        // Generate QR Code untuk dokter
                        try {
                            get = new GetMethod("http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/penggajian/generateqrcode.php?kodedokter=" + rs2.getString("kd_dokter").replace(" ", "_"));
                            http.executeMethod(get);
                        } catch (Exception e) {
                            System.out.println("Notif Generate QR Code Dokter : " + e);
                        } finally {
                            if (get != null) {
                                get.releaseConnection();
                            }
                        }

                        // Generate QR Code untuk petugas
                        try {
                            get = new GetMethod("http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/penggajian/generateqrcode.php?kodedokter=" + rs2.getString("kd_pegawai").replace(" ", "_"));
                            http.executeMethod(get);
                        } catch (Exception e) {
                            System.out.println("Notif Generate QR Code Petugas : " + e);
                        } finally {
                            if (get != null) {
                                get.releaseConnection();
                            }
                        }

                        // Tanda tangan - Petugas dan Dokter
                        htmlContent.append("<tr><td colspan='3'>&nbsp;</td></tr>");
                        htmlContent.append("<tr>");

                        // Tanda tangan Petugas (kiri)
                        htmlContent.append("<td valign='middle' width='50%' align='center'>");
                        htmlContent.append("Petugas<br><br>");
                        htmlContent.append("<img width='80' height='80' src='http://").append(koneksiDB.HOSTHYBRIDWEB()).append(":").append(koneksiDB.PORTWEB()).append("/").append(koneksiDB.HYBRIDWEB()).append("/penggajian/temp/").append(rs2.getString("kd_pegawai")).append(".png'/><br>");
                        htmlContent.append(rs2.getString("nm_pegawai"));
                        htmlContent.append("</td>");

                        // Tanda tangan Dokter (kanan)
                        htmlContent.append("<td valign='middle' width='50%' align='center'>");
                        htmlContent.append("Tanggal Cetak: ").append(lokal).append("<br>");
                        htmlContent.append("Dokter Penanggung Jawab<br><br>");
                        htmlContent.append("<img width='80' height='80' src='http://").append(koneksiDB.HOSTHYBRIDWEB()).append(":").append(koneksiDB.PORTWEB()).append("/").append(koneksiDB.HYBRIDWEB()).append("/penggajian/temp/").append(rs2.getString("kd_dokter")).append(".png'/><br>");
                        htmlContent.append(rs2.getString("nm_dokter"));
                        htmlContent.append("</td>");

                        htmlContent.append("</tr>");

                        htmlContent.append("</table>");
                        htmlContent.append("</fieldset>");

                        // Page break
                        htmlContent.append("<div class='pagebreak'></div>");
                        htmlContent.append("<div style='page-break-after: always; height: 1px; clear: both;'></div>");
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif menampilkanLEMBARPROGRAMTERAPI : " + e);
        } finally {
            if (rs2 != null) {
                try {
                    rs2.close();
                } catch (Exception e) {
                    System.out.println("Notif Close RS2 menampilkanLEMBARPROGRAMTERAPI : " + e);
                }
            }
        }
    }

    private void menampilkanSPRIBPJS(String norawat) {
        try {
            if (chkSuratPRI.isSelected() == true) {
                try {
                    pskoders = koneksi.prepareStatement("select kode_ppk from setting");
                    try {
                        rskode = pskoders.executeQuery();
                        rskode.next();

                        if (rskode.getString("kode_ppk").equals("0090R034")) {
                            try {
                                rs2 = koneksi.prepareStatement(
                                        "select permintaan_ranap.no_rawat,reg_periksa.no_rkm_medis,pasien.nm_pasien,IF (pasien.jk = 'L', 'LAKI-LAKI', 'PEREMPUAN') as jk,reg_periksa.umurdaftar,reg_periksa.sttsumur,"
                                        + "pasien.no_tlp,penjab.png_jawab,poliklinik.nm_poli,dokter.nm_dokter,DATE_FORMAT(permintaan_ranap.tanggal, '%d/%m/%Y') as tanggal,permintaan_ranap.kd_kamar,kamar.kd_bangsal,"
                                        + "bangsal.nm_bangsal,kamar.trf_kamar,permintaan_ranap.diagnosa,permintaan_ranap.catatan,reg_periksa.kd_dokter from permintaan_ranap "
                                        + "inner join reg_periksa on permintaan_ranap.no_rawat=reg_periksa.no_rawat "
                                        + "inner join pasien on reg_periksa.no_rkm_medis=pasien.no_rkm_medis "
                                        + "inner join penjab on reg_periksa.kd_pj=penjab.kd_pj "
                                        + "inner join dokter on reg_periksa.kd_dokter=dokter.kd_dokter "
                                        + "inner join poliklinik on reg_periksa.kd_poli=poliklinik.kd_poli "
                                        + "inner join kamar on permintaan_ranap.kd_kamar=kamar.kd_kamar "
                                        + "inner join bangsal on kamar.kd_bangsal=bangsal.kd_bangsal "
                                        + "where reg_periksa.no_rawat='" + rs.getString("no_rawat") + "'").executeQuery();
                                if (rs2.next()) {
                                    if (!rs2.getString("no_rawat").isEmpty()) {
                                        htmlContent.append(
                                                "<br><br><br>"
                                                + "<p class='pagebreak'>"
                                                + "<fieldset>");

                                        Copsurat();
                                        htmlContent.append("<h2><center>FORMULIR PERMINTAAN RAWAT INAP</center></h2>");

                                        htmlContent.append("<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'style='page-break-before:always'>");
                                        htmlContent.append("<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'><tr><td valign='top' width='35%'>Yang bertanda tangan di bawah ini <td valign='top' width='1%' align='center'>:</td></td></tr><tr><td valign='top' width='20%'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dokter Yang Memeriksa <td valign='top' width='%' align='center'>:</td></td><td valign='top' width='79%'>").append(rs2.getString("nm_dokter")).append("</td></tr><tr><td valign='top' width='35%'>Menyatakan bahwa <td valign='top' width='1%' align='center'>:</td></td></tr><tr><td valign='top' width='20%'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Nama Pasien</td><td valign='top' width='1%' align='center'>:</td><td valign='top' width='79%'>").append(rs2.getString("nm_pasien")).append("</td></tr><tr><td valign='top' width='20%'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No.Rekam Medis</td><td valign='top' width='1%' align='center'>:</td><td valign='top' width='79%'>").append(rs2.getString("no_rkm_medis")).append("</td></tr><tr><td valign='top' width='20%'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Jenis Kelamin</td><td valign='top' width='1%' align='center'>:</td><td valign='top' width='79%'>").append(rs2.getString("jk")).append("</td></tr><tr><td valign='top' width='20%'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Umur</td><td valign='top' width='1%' align='center'>:</td><td valign='top' width='79%'>").append(rs2.getString("umurdaftar")).append(" Th</td></tr><tr><td valign='top' width='20%'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No.Hp</td><td valign='top' width='1%' align='center'>:</td><td valign='top' width='79%'>").append(rs2.getString("no_tlp")).append("</td></tr><tr><td valign='top' width='20%'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Asal Poli/Unit</td><td valign='top' width='1%' align='center'>:</td><td valign='top' width='79%'>").append(rs2.getString("nm_poli")).append("</td></tr><tr><td valign='top' width='20%'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Cara Bayar/Asuransi</td><td valign='top' width='1%' align='center'>:</td><td valign='top' width='79%'>").append(rs2.getString("png_jawab")).append("</td></tr><tr><td valign='top' width='20%'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Diagnosa Awal</td><td valign='top' width='1%' align='center'>:</td><td valign='top' width='79%'>").append(rs2.getString("diagnosa")).append("</td></tr></tr><tr><td valign='top' width='20%'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Kamar Diminta</td><td valign='top' width='1%' align='center'>:</td><td valign='top' width='79%'>").append(rs2.getString("nm_bangsal")).append("</td></tr><tr><td valign='top' width='50%'>Memerlukan perawatan inap di RS BUNDA PALEMBANG</td></tr>");

                                        rs2.beforeFirst();
                                        while (rs2.next()) {
                                            get = new GetMethod("http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/penggajian/generateqrcode.php?kodedokter=" + rs2.getString("kd_dokter").replace(" ", "_"));
                                            http.executeMethod(get);

                                            // ===== PERKECIL QR CODE (DARI width='90' height='90') =====
                                            htmlContent.append("<tr><td valign='middle' width='18%' colspan='2'>Tanda Tangan/Verifikasi :</td><td valign='middle' width='79%' align='center' colspan='5'>PALEMBANG, ").append(rs2.getString("tanggal")).append("<br>Dokter Penanggung Jawab<br><img width='70' height='70' src='http://").append(koneksiDB.HOSTHYBRIDWEB()).append(":").append(koneksiDB.PORTWEB()).append("/").append(koneksiDB.HYBRIDWEB()).append("/penggajian/temp/").append(rs2.getString("kd_dokter")).append(".png'/><br>").append(rs2.getString("nm_dokter")).append("</td></tr>");
                                        }

                                        htmlContent.append(
                                                "</table>"
                                                + "</td>"
                                                + "</tr>");
                                        htmlContent.append(
                                                "</table>"
                                                + "</fieldset>"
                                        );

                                        // ===== TAMBAHAN PAGE BREAK DI AKHIR =====
                                        htmlContent.append("<div class='pagebreak'></div>");
                                        htmlContent.append("<div style='page-break-after: always; height: 1px; clear: both;'></div>");
                                        // ========================================
                                    }
                                }
                            } catch (Exception e) {
                                System.out.println("Notifikasi : " + e);
                            } finally {
                                if (rs2 != null) {
                                    rs2.close();
                                }
                            }

                        } else {
                            try {
                                if (chkSuratPRI.isSelected() == true) {
                                    rs2 = koneksi.prepareStatement(
                                            "select bridging_surat_pri_bpjs.no_rawat,bridging_surat_pri_bpjs.no_kartu,reg_periksa.no_rkm_medis,pasien.nm_pasien,DATE_FORMAT(pasien.tgl_lahir, '%d %M %Y') as tgl_lahir, pasien.jk,bridging_surat_pri_bpjs.diagnosa,DATE_FORMAT(bridging_surat_pri_bpjs.tgl_surat, '%d %M %Y') as tgl_surat,bridging_surat_pri_bpjs.no_surat, DATE_FORMAT(bridging_surat_pri_bpjs.tgl_rencana, '%d %M %Y') as tgl_rencana,bridging_surat_pri_bpjs.kd_dokter_bpjs,bridging_surat_pri_bpjs.nm_dokter_bpjs, bridging_surat_pri_bpjs.kd_poli_bpjs,bridging_surat_pri_bpjs.nm_poli_bpjs from reg_periksa inner join bridging_surat_pri_bpjs on bridging_surat_pri_bpjs.no_rawat=reg_periksa.no_rawat inner join pasien on reg_periksa.no_rkm_medis=pasien.no_rkm_medis where bridging_surat_pri_bpjs.no_rawat='" + norawat + "'").executeQuery();
                                    if (rs2.next()) {
                                        if (!rs2.getString("no_rawat").isEmpty()) {

                                            // ===== HAPUS PAGE BREAK DI AWAL =====
                                            // Ganti dari: "</br></br></br><p class='pagebreak'><fieldset>..."
                                            // Menjadi: "<fieldset>..."
                                            htmlContent.append("<fieldset><table class='sep' width='1000' style='font-size:11px;padding:0;border:0px solid #fff;' border='0' padding='0'><tr><td><table border='0' padding='0'><tr><td rowspan='2' width='350' ><img alt='Image' src='http://").append(koneksiDB.HOSTHYBRIDWEB()).append(":").append(koneksiDB.PORTWEB()).append("/").append(koneksiDB.HYBRIDWEB()).append("/images/bpjslogo.png' width='300' ></td><td><b>SURAT PERINTAH RAWAT INAP</b><td width='50'></td><td>NO. " + rs2.getString("no_surat") + "</td></tr><tr><td><b>" + akses.getnamars() + "</b></td><td></td><td>Tgl." + rs2.getString("tgl_rencana") + "</td></tr><tr><td><br/><br/></td></tr></table></td></tr>");

                                            htmlContent.append("<table><tr><td width='150'>Kepada Yth</td><td>" + rs2.getString("nm_dokter_bpjs") + "</td></tr><tr><td></td><td>" + rs2.getString("nm_poli_bpjs") + "</td></tr><td colspan='2'>Mohon Pemeriksaan dan Penanganan Lebih Lanjut :</td></table>");

                                            htmlContent.append("<table><tr><td width='150'>No. Kartu</td><td>: " + rs2.getString("no_kartu") + "</td></tr><tr><td>Nama Pasien</td><td>: " + rs2.getString("nm_pasien") + "(" + (rs2.getString("jk").equals("L") ? "LAKI-LAKI" : "PEREMPUAN") + ")</td></tr><tr><td>Tgl. Lahir</td><td>: " + rs2.getString("tgl_lahir") + "</td></tr><tr><td>Diagnosa Awal</td><td>: " + rs2.getString("diagnosa") + "</td></tr><tr><td>Tgl. Entri</td><td>: " + rs2.getString("tgl_surat") + "</td></tr><td colspan='2'>Demikian atas bantuannya diucapkan banyak terima kasih</td></tr></table>");

                                            // Generate QR Code untuk dokter DPJP
                                            get = new GetMethod("http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/penggajian/generateqrcode.php?kodedokter=" + Sequel.cariIsi("select dokter.kd_dokter from dokter INNER JOIN maping_dokter_dpjpvclaim ON dokter.kd_dokter=maping_dokter_dpjpvclaim.kd_dokter WHERE maping_dokter_dpjpvclaim.kd_dokter_bpjs=?", rs2.getString("kd_dokter_bpjs")));
                                            http.executeMethod(get);

                                            // ===== PERKECIL QR CODE (DARI width='150') =====
                                            htmlContent.append("<table><tr><td width='600'>Tgl.Cetak " + lokal + "</td><td>Mengetahui DPJP</td></tr><tr><td></td><td><img width='80' src='http://").append(koneksiDB.HOSTHYBRIDWEB()).append(":").append(koneksiDB.PORTWEB()).append("/").append(koneksiDB.HYBRIDWEB()).append("/penggajian/temp/" + Sequel.cariIsi("select dokter.kd_dokter from dokter INNER JOIN maping_dokter_dpjpvclaim ON dokter.kd_dokter=maping_dokter_dpjpvclaim.kd_dokter WHERE maping_dokter_dpjpvclaim.kd_dokter_bpjs=?", rs2.getString("kd_dokter_bpjs"))).append(".png' /><br>").append(Sequel.cariIsi("select dokter.nm_dokter from dokter INNER JOIN maping_dokter_dpjpvclaim ON dokter.kd_dokter=maping_dokter_dpjpvclaim.kd_dokter WHERE maping_dokter_dpjpvclaim.kd_dokter_bpjs=?", rs2.getString("kd_dokter_bpjs"))).append("</td></tr></table>");

                                            htmlContent.append("<tr><td></br></br></br></td></tr></table></fieldset>");

                                            // ===== TAMBAHAN PAGE BREAK DI AKHIR =====
                                            htmlContent.append("<div class='pagebreak'></div>");
                                            htmlContent.append("<div style='page-break-after: always; height: 1px; clear: both;'></div>");
                                            // ========================================
                                        }
                                    }
                                }
                            } catch (Exception e) {
                                System.out.println("Notif SPRI BPJS : " + e);
                            }
                        }

                    } catch (Exception e) {
                        System.out.println("Notif : " + rskode);
                    } finally {
                        rskode.close();
                    }

                } catch (Exception e) {
                    System.out.println("Notif : " + rskode);

                }
            }
        } catch (Exception e) {
            System.out.println("Notif SPRI BPJS : " + e);
        }
    }

    /*    private void Copsurat() {
        try {
            rs3 = koneksi.prepareStatement(
                    "select setting.nama_instansi,setting.alamat_instansi,setting.kabupaten,setting.propinsi,setting.kontak,setting.email,setting.logo from setting").executeQuery();
            if (rs3.next()) {
                htmlContent.append("<table width='100%' bgcolor='#ffffff' align='left' border='0' padding='0' class='tbl_form' cellspacing='0' cellpadding='0'>"
                        + "<tr class='isi12' padding='0'>"
                        + "<td colspan='7' padding='0'>"
                        + "<table width='100%' bgcolor='#ffffff' align='center' border='0' cellspacing='0' cellpadding='0'>"
                        + "<tr>"
                        + "<td width='20%'>"
                        + "<img width='100' height='100' src='http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/logo.png'/></td>"
                        + "<td width='500px' align='center'>"
                        + "<font color='000000' face='Tahoma' style='font-size:10px!important;'><b>PEMERINTAH PROVINSI " + rs3.getString("propinsi").toUpperCase() + "</b></font><br/>"
                        + "<font color='000000' face='Tahoma' style='font-size:8px!important;'><b>DINAS KESEHATAN</b></font><br/>"
                        + "<font color='000000' face='Tahoma' style='font-size:10px!important;'><b>" + rs3.getString("nama_instansi") + "</b></font><br/>"
                        + "<font color='000000' face='Tahoma' style='font-size:8px!important;'>" + rs3.getString("alamat_instansi") + ", " + rs3.getString("kabupaten") + ", " + rs3.getString("propinsi") + "<br/>"
                        + rs3.getString("kontak") + ", E-mail: " + rs3.getString("email") + "</font>"
                        + "</td>"
                        + "<td width='20%' align='right'>"
                        + Sequel.cariIsi("SELECT penjab.png_jawab FROM penjab INNER JOIN reg_periksa ON penjab.kd_pj=reg_periksa.kd_pj WHERE reg_periksa.no_rawat=?", rs.getString("no_rawat"))
                        + "</td>"
                        + "</tr>"
                        + "<tr>"
                        + "<td colspan='3'><hr/></td>"
                        + "</tr>"
                        + "</table>");

            }
        } catch (Exception e) {
        }

    } */
    public void Copsurat2() {
        try {
            rs3 = koneksi.prepareStatement(
                    "select setting.nama_instansi,setting.alamat_instansi,setting.kabupaten,setting.propinsi,setting.kontak,setting.email,setting.logo from setting").executeQuery();
            if (rs3.next()) {
                htmlContent.append("<table width='100%' bgcolor='#ffffff' align='left' border='0' padding='0' class='tbl_form' cellspacing='0' cellpadding='0'>"
                        + "<tr class='isi12' padding='0'>"
                        + "<td colspan='7' padding='0'>"
                        + "<table width='100%' bgcolor='#ffffff' align='left' border='0' cellspacing='0' cellpadding='0'>"
                        + "<tr>"
                        // Logo Kabupaten (kiri)
                        + "<td width='15%' align='center'>"
                        + "<img width='80' height='80' src='http://").append(koneksiDB.HOSTHYBRIDWEB()).append(":").append(koneksiDB.PORTWEB()).append("/").append(koneksiDB.HYBRIDWEB()).append("/logo.png'/></td>"
                        // Konten tengah (nama instansi, alamat, dll)
                        + "<td width='70%'><center><font color='000000' face='Tahoma'> PEMERINTAH KABUPATEN BEKASI <br/> DINAS KESEHATAN <br/>").append(rs3.getString("nama_instansi")).append("</font><br><font color='000000' face='Tahoma'>").append(rs3.getString("alamat_instansi")).append(", ").append(rs3.getString("kabupaten")).append(", ").append(rs3.getString("propinsi")).append("<br/>").append(rs3.getString("kontak")).append(", E-mail : ").append(rs3.getString("email")).append("</font></center>"
                        + "</td>"
                        // Logo Rumah Sakit (kanan)
                        + "<td width='15%' align='center'>"
                        + "<img width='80' height='80' src='http://").append(koneksiDB.HOSTHYBRIDWEB()).append(":").append(koneksiDB.PORTWEB()).append("/").append(koneksiDB.HYBRIDWEB()).append("/logo2.png'/></td>"
                        + "</tr>"
                        + "<tr>"
                        + "<td colspan='3'>"
                        + "<hr/>"
                        + "</td>"
                        + "</tr>"
                        + "</table>");
            }
        } catch (Exception e) {
            e.printStackTrace(); // Tambahkan untuk debugging
        }
    }

    private void menampilkanSJPBPJS(String norawat) {
        try {
            if (chkSJP.isSelected() == true) {
                rs2 = koneksi.prepareStatement(
                        "SELECT bridging_sep.kddpjp,bridging_sep.no_sep,bridging_sep.user,bridging_sep.katarak,bridging_sep.no_rawat,bridging_sep.nomr,bridging_sep.nama_pasien,date_format(bridging_sep.tglsep,'%d-%m-%Y') as tglsep,date_format(bridging_sep.tglrujukan,'%d-%m-%Y') as tglrujukan,"
                        + "bridging_sep.no_rujukan,bridging_sep.kdppkrujukan,bridging_sep.nmppkrujukan,bridging_sep.kdppkpelayanan,bridging_sep.nmppkpelayanan,"
                        + "IF( bridging_sep.jnspelayanan = '1', 'Rawat Inap', 'Rawat Jalan' ) as jnspelayanan,bridging_sep.catatan,bridging_sep.diagawal,bridging_sep.nmdiagnosaawal,"
                        + "bridging_sep.kdpolitujuan,bridging_sep.nmpolitujuan,bridging_sep.klsrawat,IF( bridging_sep.lakalantas = '0', 'Kasus Kecelakaan', 'Bukan Kasus Kecelakaan' ),concat( bridging_sep.nmkec, ', ', bridging_sep.nmkab, ', ',bridging_sep.nmprop ) AS lokasilaka,bridging_sep.`user`,date_format(bridging_sep.tanggal_lahir,'%d-%m-%Y') as tanggal_lahir,bridging_sep.peserta,bridging_sep.jkel,bridging_sep.no_kartu,"
                        + "bridging_sep.asal_rujukan,bridging_sep.eksekutif,bridging_sep.cob,bridging_sep.notelep,IF(bridging_sep.tujuankunjungan = '0','Konsultasi dokter(pertama)','Kunjungan Kontrol(ulangan)') as tujuankunjungan,bridging_sep.flagprosedur,"
                        + "IF(bridging_sep.klsnaik!='',bridging_sep.klsnaik,'Sesuai Kelas Hak') as klsnaik,bridging_sep.pembiayaan,bridging_sep.nmdpdjp,bridging_sep.lakalantas,bpjs_prb.prb,date_format(adddate(bridging_sep.tglrujukan, interval '3' month), '%d-%m-%Y') as berlaku FROM bridging_sep LEFT JOIN bpjs_prb "
                        + "ON bridging_sep.no_sep = bpjs_prb.no_sep where bridging_sep.no_rawat='" + norawat + "'").executeQuery();
                if (rs2.next()) {
                    if (!rs2.getString("no_rawat").isEmpty()) {
                        htmlContent.append("</br></br></br><p class='pagebreak'><fieldset><table class='sep' width='1000' style='font-size:11px;padding:0;border:0px solid #fff;page-break-after: always;' border='0' padding='0'><tr><td align='center' style='font-size:28px;'><b>SURAT JAMINAN PELAYANAN PELAYANAN " + rs2.getString("jnspelayanan").toUpperCase() + "</b></td></tr><tr><td align='center'><b>" + akses.getnamars() + "<br/><br/></b></td></tr>");

                        if (rs2.getString("jnspelayanan").toLowerCase().equals("rawat inap")) {
                            htmlContent.append("<tr><td><table><tr><td width='170'>No. SEP</td><td>:</td><td width='450'><b>" + rs2.getString("no_sep") + "</b></td><td width='90'>No.SJP</td><td>:</td><td><b>" + rs2.getString("no_rawat") + "</b><td></td></td></tr></table></td></tr><tr><td><table><tr><td width='170'>Tgl. SEP</td><td>:</td><td width='450'>" + rs2.getString("tglsep") + "</td><td width='90'>Tgl. SJP</td><td>:</td><td>" + rs2.getString("tglsep") + "</td></tr></table></td></tr><tr><td><table><tr><td width='170'>No. Kartu</td><td>:</td><td width='450'>" + rs2.getString("no_kartu") + "</td><td width='90'>No. RM</td><td>:</td><td>" + rs2.getString("nomr") + "</td></tr></table></td></tr><tr><td><table><tr><td width='170'>Tgl. Rujukan</td><td>:</td><td width='450'>" + rs2.getString("tglrujukan") + "</td><td width='90'>Nama</td><td>:</td><td>" + rs2.getString("nama_pasien") + "</td></tr></table></td></tr><tr><td><table><tr><td width='170'>Asal Faskes</td><td>:</td><td width='450'>" + rs2.getString("nmppkrujukan") + "</td><td width='90'>Jns.Kelamin</td><td>:</td><td>" + (rs2.getString("jkel").equals("L") ? "LAKI-LAKI" : "PEREMPUAN") + "</td></tr></table></td></tr><tr><td><table><tr><td width='170'>Tgl. Masuk</td><td>:</td><td width='450'>" + rs2.getString("tglsep") + "</td><td width='90'>Tgl. Lahir</td><td>:</td><td>" + rs2.getString("tanggal_lahir") + "</td></tr></table></td></tr>"
                                    + "<tr><td><b>DIAGNOSA UTAMA</b></td></tr><tr><td><table>");

                            rs4 = koneksi.prepareStatement(
                                    "select resume_pasien_ranap.kd_diagnosa_utama,resume_pasien_ranap.diagnosa_utama,resume_pasien_ranap.kd_diagnosa_sekunder,resume_pasien_ranap.diagnosa_sekunder,"
                                    + "resume_pasien_ranap.kd_diagnosa_sekunder2,resume_pasien_ranap.diagnosa_sekunder2,resume_pasien_ranap.kd_diagnosa_sekunder3,resume_pasien_ranap.diagnosa_sekunder3,"
                                    + "resume_pasien_ranap.kd_diagnosa_sekunder4,resume_pasien_ranap.diagnosa_sekunder4 FROM resume_pasien_ranap WHERE resume_pasien_ranap.no_rawat='" + rs.getString("no_rawat") + "'").executeQuery();
                            if (rs4.next()) {
                                rs4.beforeFirst();
                                while (rs4.next()) {
                                    htmlContent.append("<tr><td>" + rs4.getString("kd_diagnosa_utama") + "</td><td>" + rs4.getString("diagnosa_utama") + "</td></tr>");
                                    htmlContent.append("<tr><td>" + rs4.getString("kd_diagnosa_sekunder") + "</td><td>" + rs4.getString("diagnosa_sekunder") + "</td></tr>");
                                    htmlContent.append("<tr><td>" + rs4.getString("kd_diagnosa_sekunder2") + "</td><td>" + rs4.getString("diagnosa_sekunder2") + "</td></tr>");
                                    htmlContent.append("<tr><td>" + rs4.getString("kd_diagnosa_sekunder3") + "</td><td>" + rs4.getString("diagnosa_sekunder3") + "</td></tr>");
                                    htmlContent.append("<tr><td>" + rs4.getString("kd_diagnosa_sekunder4") + "</td><td>" + rs4.getString("diagnosa_sekunder4") + "</td></tr>");
                                }
                            }

                            htmlContent.append("</td></tr></table><tr><td><b>DIAGNOSA PROSEDUR</b></td></tr><tr><td><table>");

                            rs5 = koneksi.prepareStatement(
                                    "select resume_pasien_ranap.kd_prosedur_utama,resume_pasien_ranap.prosedur_utama,resume_pasien_ranap.kd_prosedur_sekunder,resume_pasien_ranap.prosedur_sekunder,"
                                    + "resume_pasien_ranap.kd_prosedur_sekunder2,resume_pasien_ranap.prosedur_sekunder2,resume_pasien_ranap.kd_prosedur_sekunder3,resume_pasien_ranap.prosedur_sekunder3 FROM resume_pasien_ranap WHERE resume_pasien_ranap.no_rawat='" + rs.getString("no_rawat") + "'").executeQuery();
                            if (rs5.next()) {
                                rs5.beforeFirst();
                                while (rs5.next()) {
                                    htmlContent.append("<tr><td>" + rs5.getString("kd_prosedur_utama") + "</td><td>" + rs5.getString("prosedur_utama") + "</td></tr>");
                                    htmlContent.append("<tr><td>" + rs5.getString("kd_prosedur_sekunder") + "</td><td>" + rs5.getString("prosedur_sekunder") + "</td></tr>");
                                    htmlContent.append("<tr><td>" + rs5.getString("kd_prosedur_sekunder2") + "</td><td>" + rs5.getString("prosedur_sekunder2") + "</td></tr>");
                                    htmlContent.append("<tr><td>" + rs5.getString("kd_prosedur_sekunder3") + "</td><td>" + rs5.getString("prosedur_sekunder3") + "</td></tr>");
                                }
                            }
                        } else {
                            htmlContent.append("<tr><td><table><tr><td width='170'>No. SEP</td><td>:</td><td width='450'><b>" + rs2.getString("no_sep") + "</b></td><td width='90'>No.SJP</td><td>:</td><td><b>" + rs2.getString("no_rawat") + "</b><td></td></td></tr></table></td></tr><tr><td><table><tr><td width='170'>Tgl. SEP</td><td>:</td><td width='450'>" + rs2.getString("tglsep") + "</td><td width='90'>Tgl. SJP</td><td>:</td><td>" + rs2.getString("tglsep") + "</td></tr></table></td></tr><tr><td><table><tr><td width='170'>No. Kartu</td><td>:</td><td width='450'>" + rs2.getString("no_kartu") + "</td><td width='90'>No. RM</td><td>:</td><td>" + rs2.getString("nomr") + "</td></tr></table></td></tr><tr><td><table><tr><td width='170'>Tgl. Rujukan</td><td>:</td><td width='450'>" + rs2.getString("tglrujukan") + "</td><td width='90'>Nama</td><td>:</td><td>" + rs2.getString("nama_pasien") + "</td></tr></table></td></tr><tr><td><table><tr><td width='170'>Asal Faskes</td><td>:</td><td width='450'>" + rs2.getString("nmppkrujukan") + "</td><td width='90'>Jns.Kelamin</td><td>:</td><td>" + (rs2.getString("jkel").equals("L") ? "LAKI-LAKI" : "PEREMPUAN") + "</td></tr></table></td></tr><tr><td><table><tr><td width='170'>Tgl. Masuk</td><td>:</td><td width='450'>" + rs2.getString("tglsep") + "</td><td width='90'>Tgl. Lahir</td><td>:</td><td>" + rs2.getString("tanggal_lahir") + "</td></tr></table></td></tr>"
                                    + "<tr><td><b>DIAGNOSA UTAMA</b></td></tr><tr><td><table>");

                            rs7 = koneksi.prepareStatement(
                                    "select penyakit.kd_penyakit, penyakit.nm_penyakit FROM diagnosa_pasien JOIN penyakit ON diagnosa_pasien.kd_penyakit=penyakit.kd_penyakit WHERE diagnosa_pasien.no_rawat='" + rs.getString("no_rawat") + "'").executeQuery();
                            if (rs7.next()) {
                                rs7.beforeFirst();
                                while (rs7.next()) {
                                    htmlContent.append("<tr><td>" + rs7.getString("kd_penyakit") + "</td><td>" + rs7.getString("nm_penyakit") + "</td></tr>");
                                }
                            }

                            htmlContent.append("</td></tr></table><tr><td><b>DIAGNOSA PROSEDUR</b></td></tr><tr><td><table>");

                            rs8 = koneksi.prepareStatement(
                                    "select icd9.kode,icd9.deskripsi_panjang FROM prosedur_pasien JOIN icd9 ON prosedur_pasien.kode=icd9.kode WHERE prosedur_pasien.no_rawat='" + rs.getString("no_rawat") + "'").executeQuery();
                            if (rs8.next()) {
                                rs8.beforeFirst();
                                while (rs8.next()) {
                                    htmlContent.append("<tr><td>" + rs8.getString("kode") + "</td><td>" + rs8.getString("deskripsi_panjang") + "</td></tr>");
                                }
                            }
                        }

                        htmlContent.append("</td></tr></table><br/></td></tr></table>");

                        if (rs2.getString("jnspelayanan").toLowerCase().equals("rawat jalan")) {
                            rs6 = koneksi.prepareStatement(
                                    "select databarang.nama_brng,aturan_pakai.aturan,detail_pemberian_obat.jml from resep_obat inner join reg_periksa inner join aturan_pakai inner join databarang inner join detail_pemberian_obat inner join kodesatuan on resep_obat.no_rawat=reg_periksa.no_rawat and databarang.kode_brng=aturan_pakai.kode_brng and detail_pemberian_obat.kode_brng=databarang.kode_brng and resep_obat.no_rawat=aturan_pakai.no_rawat and resep_obat.tgl_perawatan=aturan_pakai.tgl_perawatan and resep_obat.jam=aturan_pakai.jam and resep_obat.no_rawat=detail_pemberian_obat.no_rawat and resep_obat.tgl_perawatan=detail_pemberian_obat.tgl_perawatan and resep_obat.jam=detail_pemberian_obat.jam and kodesatuan.kode_sat=databarang.kode_sat where resep_obat.no_rawat='" + rs.getString("no_rawat") + "' and databarang.kode_brng not in (select detail_obat_racikan.kode_brng from detail_obat_racikan where detail_obat_racikan.no_rawat='" + rs.getString("no_rawat") + "')  order by databarang.nama_brng").executeQuery();
                            if (rs6.next()) {
                                htmlContent.append("<tr><td><b>RESEP DOKTER</b></td></tr><tr><td><table>");
                                rs6.beforeFirst();
                                htmlContent.append("<tr><td>Nama Obat</td><td>Jumlah</td><td><center>Aturan Pakai</center></td></tr>");
                                while (rs6.next()) {
                                    htmlContent.append("<tr><td>" + rs6.getString("nama_brng") + "</td><td><center>" + rs6.getString("jml") + "</center></td><td>" + rs6.getString("aturan") + "</td></tr>");
                                }
                            }
                            htmlContent.append("</td></tr></table></td></tr></table>");

                            //                            racikan
                            rsracikan = koneksi.prepareStatement(
                                    "select databarang.kode_brng,databarang.nama_brng,detail_pemberian_obat.jml,detail_pemberian_obat.biaya_obat,detail_pemberian_obat.embalase,detail_pemberian_obat.tuslah,detail_pemberian_obat.total from detail_pemberian_obat inner join databarang inner join detail_obat_racikan on detail_pemberian_obat.kode_brng=databarang.kode_brng and detail_pemberian_obat.kode_brng=detail_obat_racikan.kode_brng and detail_pemberian_obat.tgl_perawatan=detail_obat_racikan.tgl_perawatan and detail_pemberian_obat.jam=detail_obat_racikan.jam and detail_pemberian_obat.no_rawat=detail_obat_racikan.no_rawat where detail_pemberian_obat.no_rawat='" + rs.getString("no_rawat") + "' order by databarang.kode_brng").executeQuery();
                            if (rsracikan.next()) {
                                htmlContent.append("<tr><td><b>RACIKAN</b></td></tr><tr><td><table>");
                                rsracikan.beforeFirst();
                                while (rsracikan.next()) {
                                    htmlContent.append("<tr><td>" + rsracikan.getString("nama_brng") + "</td><center><td>" + rsracikan.getString("jml") + "</center></td><td></td></tr>");
                                }
                            }
                            htmlContent.append("</td></tr></table>");
                        }

                        htmlContent.append("<table width='1000'>"
                                + "<tr><td></td><td></td><td></td><td></br></br></br></td></tr>"
                                + "<tr align='center'>"
                                + "<td>Pasien / Keluarga</td><td>Verifikator RS</td><td>Dokter DPJP</td><td>Verifikator BPJS</td>"
                                + "</tr><tr align='center'>");

//                            pasien
                        rs3 = koneksi.prepareStatement(
                                "select no_sep from bridging_sep where no_rawat='" + rs.getString("no_rawat") + "'").executeQuery();
                        if (rs3.next()) {

                            rs3.beforeFirst();
                            while (rs3.next()) {
                                get = new GetMethod("http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/berkasrawat/generateqrcodesep.php?sepbpjs=" + rs3.getString("no_sep").replace(" ", "_"));
                                http.executeMethod(get);
                                htmlContent.append("<td><img width='150' alt='Image' src='http://").append(koneksiDB.HOSTHYBRIDWEB()).append(":").append(koneksiDB.PORTWEB()).append("/").append(koneksiDB.HYBRIDWEB()).append("/berkasrawat/temp/").append(rs3.getString("no_sep")).append(".png' /><br>" + rs2.getString("nama_pasien") + "</td>");
                            }
                        }

//                            verif
                        get = new GetMethod("http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/penggajian/generateqrcodepetugas.php?kodepetugas=" + akses.getkode());
                        http.executeMethod(get);
                        htmlContent.append("<td><img width='150' src='http://").append(koneksiDB.HOSTHYBRIDWEB()).append(":").append(koneksiDB.PORTWEB()).append("/").append(koneksiDB.HYBRIDWEB()).append("/penggajian/temp/" + akses.getkode()).append(".png' /><br>").append(Sequel.cariIsi("select petugas.nama FROM petugas WHERE nip=?", akses.getkode())).append("</td>");

//                            dokter dpjp
                        get = new GetMethod("http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/penggajian/generateqrcode.php?kodedokter=" + Sequel.cariIsi("select dokter.kd_dokter from dokter INNER JOIN maping_dokter_dpjpvclaim ON dokter.kd_dokter=maping_dokter_dpjpvclaim.kd_dokter WHERE maping_dokter_dpjpvclaim.kd_dokter_bpjs=?", rs2.getString("kddpjp")));
                        http.executeMethod(get);
                        htmlContent.append("<td><img width='150' src='http://").append(koneksiDB.HOSTHYBRIDWEB()).append(":").append(koneksiDB.PORTWEB()).append("/").append(koneksiDB.HYBRIDWEB()).append("/penggajian/temp/" + Sequel.cariIsi("select dokter.kd_dokter from dokter INNER JOIN maping_dokter_dpjpvclaim ON dokter.kd_dokter=maping_dokter_dpjpvclaim.kd_dokter WHERE maping_dokter_dpjpvclaim.kd_dokter_bpjs=?", rs2.getString("kddpjp"))).append(".png' /><br>").append(Sequel.cariIsi("select dokter.nm_dokter from dokter INNER JOIN maping_dokter_dpjpvclaim ON dokter.kd_dokter=maping_dokter_dpjpvclaim.kd_dokter WHERE maping_dokter_dpjpvclaim.kd_dokter_bpjs=?", rs2.getString("kddpjp"))).append("</td>");

                        htmlContent.append("<td></td></tr></table></td></tr><tr><td></br></br></br></td></tr></table></fieldset>");

                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif SJP BPJS : " + e);
        }
    }

    // Method untuk Resume Medis Pasien (Rawat Jalan)
    private void menampilkanResumeRawatJalan(String norawat) {
        if (chkResume.isSelected() == true) {
            try {
                rs2 = koneksi.prepareStatement(
                        "select resume_pasien.kd_dokter,dokter.nm_dokter,resume_pasien.keluhan_utama,resume_pasien.jalannya_penyakit,"
                        + "resume_pasien.pemeriksaan_penunjang,resume_pasien.hasil_laborat,resume_pasien.diagnosa_utama,resume_pasien.kd_diagnosa_utama,"
                        + "resume_pasien.diagnosa_sekunder,resume_pasien.kd_diagnosa_sekunder,resume_pasien.diagnosa_sekunder2,resume_pasien.kd_diagnosa_sekunder2,"
                        + "resume_pasien.diagnosa_sekunder3,resume_pasien.kd_diagnosa_sekunder3,resume_pasien.diagnosa_sekunder4,resume_pasien.kd_diagnosa_sekunder4,"
                        + "resume_pasien.prosedur_utama,resume_pasien.kd_prosedur_utama,resume_pasien.prosedur_sekunder,resume_pasien.kd_prosedur_sekunder,"
                        + "resume_pasien.prosedur_sekunder2,resume_pasien.kd_prosedur_sekunder2,resume_pasien.prosedur_sekunder3,resume_pasien.kd_prosedur_sekunder3,"
                        + "resume_pasien.kondisi_pulang,resume_pasien.obat_pulang,reg_periksa.almt_pj "
                        + "from resume_pasien inner join dokter on resume_pasien.kd_dokter=dokter.kd_dokter "
                        + "inner join reg_periksa on resume_pasien.no_rawat=reg_periksa.no_rawat inner join pasien on reg_periksa.no_rkm_medis=pasien.no_rkm_medis "
                        + "where resume_pasien.no_rawat='" + rs.getString("no_rawat") + "'").executeQuery();
                if (rs2.next()) {
                    htmlContent.append(
                            "<br><br><br>"
                            + "<p class='pagebreak'>"
                            + "<fieldset>");
                    Copsurat();
                    htmlContent.append("<h2><center>RESUME MEDIS PASIEN</center></h2>");

                    // Tabel informasi pasien
                    htmlContent.append("<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                            + "<tr><td width='25%'>Nama Pasien</td><td width='70%'>: ").append(rs.getString("nm_pasien")).append("</td></tr>"
                            + "<tr><td>No. RM</td><td>: ").append(rs.getString("no_rkm_medis")).append("</td></tr>"
                            + "<tr><td>Tgl Lahir</td><td>: ").append(rs.getString("tgl_lahir")).append("</td></tr>"
                            + "<tr><td>Poli/Unit</td><td>: ").append(rs.getString("nm_poli")).append("</td></tr>"
                            + "<tr><td>Alamat</td><td>: ").append(rs2.getString("almt_pj")).append("</td></tr>"
                            + "<tr><td>Dokter</td><td>: ").append(rs2.getString("nm_dokter")).append("</td></tr>"
                            + "<tr><td>Tgl Periksa</td><td>: ").append(rs.getString("tgl_registrasi")).append(" ").append(rs.getString("jam_reg")).append("</td></tr>"
                            + "</table><br>");

                    // Keluhan utama dan riwayat penyakit
                    String keluhanUtama = rs2.getString("keluhan_utama");
                    htmlContent.append("<table width='100%' border='0' cellpadding='3px' cellspacing='0'>"
                            + "<tr><td><strong>Keluhan utama dan riwayat penyakit yang positif:</strong></td></tr>"
                            + "<tr><td style='padding-left: 20px;'>").append(keluhanUtama != null ? keluhanUtama.replaceAll("(\r\n|\r|\n|\n\r)", "<br>") : "-").append("</td></tr>"
                            + "</table><br>");

                    // Jalannya penyakit selama perawatan
                    String jalanyaPenyakit = rs2.getString("jalannya_penyakit");
                    htmlContent.append("<table width='100%' border='0' cellpadding='3px' cellspacing='0'>"
                            + "<tr><td><strong>Jalannya penyakit selama perawatan:</strong></td></tr>"
                            + "<tr><td style='padding-left: 20px;'>").append(jalanyaPenyakit != null ? jalanyaPenyakit.replaceAll("(\r\n|\r|\n|\n\r)", "<br>") : "-").append("</td></tr>"
                            + "</table><br>");

                    // Pemeriksaan penunjang yang positif
                    String pemeriksaanPenunjang = rs2.getString("pemeriksaan_penunjang");
                    htmlContent.append("<table width='100%' border='0' cellpadding='3px' cellspacing='0'>"
                            + "<tr><td><strong>Pemeriksaan penunjang yang positif:</strong></td></tr>"
                            + "<tr><td style='padding-left: 20px;'>").append(pemeriksaanPenunjang != null ? pemeriksaanPenunjang.replaceAll("(\r\n|\r|\n|\n\r)", "<br>") : "-").append("</td></tr>"
                            + "</table><br>");

                    // Hasil laboratorium yang positif
                    String hasilLaborat = rs2.getString("hasil_laborat");
                    htmlContent.append("<table width='100%' border='0' cellpadding='3px' cellspacing='0'>"
                            + "<tr><td><strong>Hasil laboratorium yang positif:</strong></td></tr>"
                            + "<tr><td style='padding-left: 20px;'>").append(hasilLaborat != null ? hasilLaborat.replaceAll("(\r\n|\r|\n|\n\r)", "<br>") : "-").append("</td></tr>"
                            + "</table><br>");

                    // Diagnosa Akhir
                    htmlContent.append("<table width='100%' border='0' cellpadding='3px' cellspacing='0'>"
                            + "<tr><td><strong>Diagnosa Akhir:</strong></td><td width='15%' align='right'><strong>Kode ICD</strong></td></tr>");

                    // Diagnosa Utama
                    String diagnosisUtama = rs2.getString("diagnosa_utama");
                    String kdDiagnosisUtama = rs2.getString("kd_diagnosa_utama");
                    if (diagnosisUtama != null && !diagnosisUtama.trim().isEmpty()) {
                        htmlContent.append("<tr><td style='padding-left: 20px;'>- Diagnosa Utama : ").append(diagnosisUtama).append("</td>"
                                + "<td align='center'>( ").append(kdDiagnosisUtama != null ? kdDiagnosisUtama : "").append(" )</td></tr>");
                    }

                    // Diagnosa Sekunder
                    String diagnosisSekunder = rs2.getString("diagnosa_sekunder");
                    String kdDiagnosisSekunder = rs2.getString("kd_diagnosa_sekunder");
                    if (diagnosisSekunder != null && !diagnosisSekunder.trim().isEmpty()) {
                        htmlContent.append("<tr><td style='padding-left: 20px;'>- Diagnosa Sekunder : ").append(diagnosisSekunder).append("</td>"
                                + "<td align='center'>( ").append(kdDiagnosisSekunder != null ? kdDiagnosisSekunder : "").append(" )</td></tr>");
                    }

                    String diagnosisSekunder2 = rs2.getString("diagnosa_sekunder2");
                    String kdDiagnosisSekunder2 = rs2.getString("kd_diagnosa_sekunder2");
                    if (diagnosisSekunder2 != null && !diagnosisSekunder2.trim().isEmpty()) {
                        htmlContent.append("<tr><td style='padding-left: 40px;'>: ").append(diagnosisSekunder2).append("</td>"
                                + "<td align='center'>( ").append(kdDiagnosisSekunder2 != null ? kdDiagnosisSekunder2 : "").append(" )</td></tr>");
                    }

                    String diagnosisSekunder3 = rs2.getString("diagnosa_sekunder3");
                    String kdDiagnosisSekunder3 = rs2.getString("kd_diagnosa_sekunder3");
                    if (diagnosisSekunder3 != null && !diagnosisSekunder3.trim().isEmpty()) {
                        htmlContent.append("<tr><td style='padding-left: 40px;'>: ").append(diagnosisSekunder3).append("</td>"
                                + "<td align='center'>( ").append(kdDiagnosisSekunder3 != null ? kdDiagnosisSekunder3 : "").append(" )</td></tr>");
                    }

                    String diagnosisSekunder4 = rs2.getString("diagnosa_sekunder4");
                    String kdDiagnosisSekunder4 = rs2.getString("kd_diagnosa_sekunder4");
                    if (diagnosisSekunder4 != null && !diagnosisSekunder4.trim().isEmpty()) {
                        htmlContent.append("<tr><td style='padding-left: 40px;'>: ").append(diagnosisSekunder4).append("</td>"
                                + "<td align='center'>( ").append(kdDiagnosisSekunder4 != null ? kdDiagnosisSekunder4 : "").append(" )</td></tr>");
                    }

                    // Prosedur/Tindakan Utama
                    String prosedurUtama = rs2.getString("prosedur_utama");
                    String kdProsedurUtama = rs2.getString("kd_prosedur_utama");
                    if (prosedurUtama != null && !prosedurUtama.trim().isEmpty()) {
                        htmlContent.append("<tr><td style='padding-left: 20px;'>- Prosedur/Tindakan Utama : ").append(prosedurUtama).append("</td>"
                                + "<td align='center'>( ").append(kdProsedurUtama != null ? kdProsedurUtama : "").append(" )</td></tr>");
                    }

                    // Prosedur/Tindakan Sekunder
                    String prosedurSekunder = rs2.getString("prosedur_sekunder");
                    String kdProsedurSekunder = rs2.getString("kd_prosedur_sekunder");
                    if (prosedurSekunder != null && !prosedurSekunder.trim().isEmpty()) {
                        htmlContent.append("<tr><td style='padding-left: 20px;'>- Prosedur/Tindakan Sekunder : ").append(prosedurSekunder).append("</td>"
                                + "<td align='center'>( ").append(kdProsedurSekunder != null ? kdProsedurSekunder : "").append(" )</td></tr>");
                    }

                    // Prosedur/Tindakan Sekunder 2
                    String prosedurSekunder2 = rs2.getString("prosedur_sekunder2");
                    String kdProsedurSekunder2 = rs2.getString("kd_prosedur_sekunder2");
                    if (prosedurSekunder2 != null && !prosedurSekunder2.trim().isEmpty()) {
                        htmlContent.append("<tr><td style='padding-left: 40px;'>: ").append(prosedurSekunder2).append("</td>"
                                + "<td align='center'>( ").append(kdProsedurSekunder2 != null ? kdProsedurSekunder2 : "").append(" )</td></tr>");
                    }

                    // Prosedur/Tindakan Sekunder 3
                    String prosedurSekunder3 = rs2.getString("prosedur_sekunder3");
                    String kdProsedurSekunder3 = rs2.getString("kd_prosedur_sekunder3");
                    if (prosedurSekunder3 != null && !prosedurSekunder3.trim().isEmpty()) {
                        htmlContent.append("<tr><td style='padding-left: 40px;'>: ").append(prosedurSekunder3).append("</td>"
                                + "<td align='center'>( ").append(kdProsedurSekunder3 != null ? kdProsedurSekunder3 : "").append(" )</td></tr>");
                    }

                    htmlContent.append("</table><br>");

                    // Status pulang - disesuaikan dengan struktur tabel yang tersedia
                    String kondisiPulang = rs2.getString("kondisi_pulang");
                    htmlContent.append("<table width='100%' border='0' cellpadding='3px' cellspacing='0'>"
                            + "<tr><td width='50%'><strong>Kondisi pasien pulang: ").append(kondisiPulang != null ? kondisiPulang : "-").append("</strong></td>"
                            + "<td width='50%'><strong>Tanggal Kontrol: </strong></td></tr>"
                            + "</table><br>");

                    // Terapi Pulang
                    String obatPulang = rs2.getString("obat_pulang");
                    htmlContent.append("<table width='100%' border='0' cellpadding='3px' cellspacing='0'>"
                            + "<tr><td><strong>Terapi Pulang:</strong></td></tr>"
                            + "<tr><td style='padding-left: 20px;'>").append(obatPulang != null ? obatPulang.replaceAll("(\r\n|\r|\n|\n\r)", "<br>") : "-").append("</td></tr>"
                            + "</table><br>");

                    // Tanda tangan dokter sederhana
                    htmlContent.append("<table width='100%' border='0' cellpadding='10px' cellspacing='0'>"
                            + "<tr><td width='50%'></td><td width='50%' align='center'>Dokter Penanggung Jawab</td></tr>"
                            + "<tr><td></td><td align='center'>");

                    // QR Code untuk dokter
                    get = new GetMethod("http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/penggajian/generateqrcode.php?kodedokter=" + rs2.getString("kd_dokter").replace(" ", "_"));
                    http.executeMethod(get);
                    htmlContent.append("<img width='90' height='90' src='http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/penggajian/temp/" + rs2.getString("kd_dokter") + ".png'/>");

                    htmlContent.append("</td></tr>"
                            + "<tr><td></td><td align='center'>").append(rs2.getString("nm_dokter")).append("</td></tr>"
                            + "</table>");

                    htmlContent.append("</fieldset></p>");
                }
            } catch (Exception e) {
                System.out.println("Notifikasi Resume Rawat Jalan : " + e);
            } finally {
                if (rs2 != null) {
                    try {
                        rs2.close();
                    } catch (Exception e) {
                        System.out.println("Error closing rs2: " + e);
                    }
                }
            }
        }
    }

    private void menampilkanHasilLab(String norawat) {
        if (chkHasilLab.isSelected() == true) {
            if (!Sequel.cariIsi("SELECT COUNT(no_rawat) FROM periksa_lab WHERE no_rawat=?", norawat).equals("0")) {
                try {
                    htmlContent.append(
                            "<br><br><br>"
                            + "<p class='pagebreak'>"
                            + "<fieldset>");

                    Copsurat();
                    htmlContent.append("<h2><center>HASIL LABORATORIUM</center></h2>");

                    // Tabel informasi pasien
                    htmlContent.append("<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                            + "<tr><td valign='top' width='20%'>No.Rekam Medis</td><td valign='top' width='1%' align='center'>:</td><td valign='top' width='79%'>").append(rs.getString("no_rkm_medis")).append("</td></tr>"
                            + "<tr><td valign='top' width='20%'>Nama Pasien</td><td valign='top' width='1%' align='center'>:</td><td valign='top' width='79%'>").append(rs.getString("nm_pasien")).append("</td></tr>"
                            + "<tr><td valign='top' width='20%'>Tgl. Lahir</td><td valign='top' width='1%' align='center'>:</td><td valign='top' width='79%'>").append(rs.getString("tgl_lahir")).append("</td></tr>"
                            + "<tr><td valign='top' width='20%'>No.Rawat</td><td valign='top' width='1%' align='center'>:</td><td valign='top' width='79%'>").append(rs.getString("no_rawat")).append("</td></tr>"
                            + "<tr><td valign='top' width='20%'>No.Registrasi</td><td valign='top' width='1%' align='center'>:</td><td valign='top' width='79%'>").append(rs.getString("no_reg")).append("</td></tr>"
                            + "<tr><td valign='top' width='20%'>Tanggal Registrasi</td><td valign='top' width='1%' align='center'>:</td><td valign='top' width='79%'>").append(rs.getString("tgl_registrasi")).append(" ").append(rs.getString("jam_reg")).append("</td></tr>"
                            + "<tr><td valign='top' width='20%'>Unit/Poliklinik</td><td valign='top' width='1%' align='center'>:</td><td valign='top' width='79%'>").append(rs.getString("nm_poli")).append(polirujukan).append("</td></tr>"
                            + "<tr><td valign='top' width='20%'>Dokter Poli</td><td valign='top' width='1%' align='center'>:</td><td valign='top' width='79%'>").append(rs.getString("nm_dokter")).append(dokterrujukan).append("</td></tr>");

                    // Informasi DPJP Ranap jika rawat inap
                    if (rs.getString("status_lanjut").equals("Ranap")) {
                        try {
                            rs3 = koneksi.prepareStatement(
                                    "select dokter.nm_dokter from dpjp_ranap inner join dokter on dpjp_ranap.kd_dokter=dokter.kd_dokter where dpjp_ranap.no_rawat='" + rs.getString("no_rawat") + "'").executeQuery();
                            if (rs3.next()) {
                                htmlContent.append(
                                        "<tr>"
                                        + "<td valign='top' width='20%'>DPJP Ranap</td>"
                                        + "<td valign='top' width='1%' align='center'>:</td>"
                                        + "<td valign='top' width='79%'>");
                                rs3.beforeFirst();
                                urutdpjp = 1;
                                while (rs3.next()) {
                                    htmlContent.append(urutdpjp).append(". ").append(rs3.getString("nm_dokter")).append("&nbsp;&nbsp;");
                                    urutdpjp++;
                                }
                                htmlContent.append("</td></tr>");
                            }
                        } catch (SQLException e) {
                            System.out.println("Error getting DPJP Ranap: " + e.getMessage());
                        } finally {
                            if (rs3 != null) {
                                try {
                                    rs3.close();
                                } catch (SQLException e) {
                                    System.out.println("Error closing rs3: " + e.getMessage());
                                }
                            }
                        }
                    }

                    // Informasi tambihan pasien
                    htmlContent.append("<tr><td valign='top' width='20%'>Cara Bayar</td><td valign='top' width='1%' align='center'>:</td><td valign='top' width='79%'>").append(rs.getString("png_jawab")).append("</td></tr>"
                            + "<tr><td valign='top' width='20%'>Penanggung Jawab</td><td valign='top' width='1%' align='center'>:</td><td valign='top' width='79%'>").append(rs.getString("p_jawab")).append("</td></tr>"
                            + "<tr><td valign='top' width='20%'>Alamat P.J.</td><td valign='top' width='1%' align='center'>:</td><td valign='top' width='79%'>").append(rs.getString("almt_pj")).append("</td></tr>"
                            + "<tr><td valign='top' width='20%'>Hubungan P.J.</td><td valign='top' width='1%' align='center'>:</td><td valign='top' width='79%'>").append(rs.getString("hubunganpj")).append("</td></tr>"
                            + "<tr><td valign='top' width='20%'>Status</td><td valign='top' width='1%' align='center'>:</td><td valign='top' width='79%'>").append(rs.getString("status_lanjut")).append("</td></tr>"
                            + "</table>");

                    // Pemeriksaan Laboratorium PK & MB
                    try {
                        rs4 = koneksi.prepareStatement(
                                "select periksa_lab.tgl_periksa,periksa_lab.jam from periksa_lab where periksa_lab.kategori<>'PA' and periksa_lab.no_rawat='" + rs.getString("no_rawat") + "' "
                                + "group by concat(periksa_lab.no_rawat,periksa_lab.tgl_periksa,periksa_lab.jam) order by periksa_lab.tgl_periksa,periksa_lab.jam").executeQuery();
                        if (rs4.next()) {
                            htmlContent.append(
                                    "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                    + "<tr><td valign='top' colspan='5'>Pemeriksaan Laboratorium PK & MB</td><td valign='top' colspan='1' align='right'>:</td><td valign='top'></td></tr>"
                                    + "<tr align='center'>"
                                    + "<td valign='top' width='4%' bgcolor='#FFFAF8'>No.</td>"
                                    + "<td valign='top' width='15%' bgcolor='#FFFAF8'>Tanggal</td>"
                                    + "<td valign='top' width='25%' bgcolor='#FFFAF8'>Nama Pemeriksaan</td>"
                                    + "<td valign='top' width='40%' bgcolor='#FFFAF8'>Hasil</td>"
                                    + "<td valign='top' width='17%' bgcolor='#FFFAF8'>Nilai Rujukan</td>"
                                    + "</tr>");
                            rs4.beforeFirst();
                            w = 1;
                            while (rs4.next()) {
                                try {
                                    rs2 = koneksi.prepareStatement(
                                            "select periksa_lab.kd_jenis_prw, "
                                            + "jns_perawatan_lab.nm_perawatan,petugas.nama,periksa_lab.biaya,periksa_lab.dokter_perujuk,dokter.nm_dokter "
                                            + "from periksa_lab inner join jns_perawatan_lab on periksa_lab.kd_jenis_prw=jns_perawatan_lab.kd_jenis_prw "
                                            + "inner join petugas on periksa_lab.nip=petugas.nip inner join dokter on periksa_lab.kd_dokter=dokter.kd_dokter "
                                            + "where periksa_lab.kategori<>'PA' and periksa_lab.no_rawat='" + rs.getString("no_rawat") + "' "
                                            + "and periksa_lab.tgl_periksa='" + rs4.getString("tgl_periksa") + "' and periksa_lab.jam='" + rs4.getString("jam") + "'").executeQuery();
                                    s = 1;
                                    while (rs2.next()) {
                                        if (s == 1) {
                                            htmlContent.append("<tr><td valign='top' align='center'>").append(w).append("</td><td valign='top'>").append(rs4.getString("tgl_periksa")).append(" ").append(rs4.getString("jam")).append("</td><td valign='top'><b>").append(rs2.getString("nm_perawatan")).append("</b></td><td valign='top'></td><td valign='top'></td></tr>");
                                        } else {
                                            htmlContent.append("<tr><td valign='top' align='center'></td><td valign='top'></td><td valign='top'><b>").append(rs2.getString("nm_perawatan")).append("</b></td><td valign='top'></td><td valign='top'></td></tr>");
                                        }

                                        try {
                                            rs3 = koneksi.prepareStatement(
                                                    "select template_laboratorium.Pemeriksaan, detail_periksa_lab.nilai,"
                                                    + "template_laboratorium.satuan,detail_periksa_lab.nilai_rujukan,detail_periksa_lab.biaya_item,"
                                                    + "detail_periksa_lab.keterangan from detail_periksa_lab inner join "
                                                    + "template_laboratorium on detail_periksa_lab.id_template=template_laboratorium.id_template "
                                                    + "where detail_periksa_lab.no_rawat='" + rs.getString("no_rawat") + "' and "
                                                    + "detail_periksa_lab.kd_jenis_prw='" + rs2.getString("kd_jenis_prw") + "' and "
                                                    + "detail_periksa_lab.tgl_periksa='" + rs4.getString("tgl_periksa") + "' and "
                                                    + "detail_periksa_lab.jam='" + rs4.getString("jam") + "' order by detail_periksa_lab.kd_jenis_prw,template_laboratorium.urut ").executeQuery();
                                            if (rs3.next()) {
                                                rs3.beforeFirst();
                                                while (rs3.next()) {
                                                    String pemeriksaan = rs3.getString("Pemeriksaan") != null ? rs3.getString("Pemeriksaan") : "";
                                                    String keterangan = rs3.getString("keterangan") != null ? rs3.getString("keterangan") : "";
                                                    String nilai = rs3.getString("nilai") != null ? rs3.getString("nilai") : "";
                                                    String satuan = rs3.getString("satuan") != null ? rs3.getString("satuan") : "";
                                                    String nilaiRujukan = rs3.getString("nilai_rujukan") != null ? rs3.getString("nilai_rujukan") : "";

                                                    htmlContent.append("<tr><td valign='top' align='center'></td><td valign='top'></td><td valign='top'>&nbsp;&nbsp;&nbsp;&nbsp;").append(pemeriksaan + keterangan.replaceAll("(H|L|R|NR|N|P)", "<font color='red'>*</font></b>")).append("</td><td valign='top' " + keterangan.replaceAll("(H|L|R|NR|N|P)", "bgcolor='#ffaba8'") + ">&nbsp;&nbsp;&nbsp;&nbsp;<b>").append(nilai).append(" ").append(satuan).append("</b></td><td valign='top'>&nbsp;&nbsp;&nbsp;&nbsp;<b>").append(nilaiRujukan).append("</b></td></tr>");
                                                }
                                            }
                                        } catch (SQLException e) {
                                            System.out.println("Error getting lab details: " + e.getMessage());
                                        } finally {
                                            if (rs3 != null) {
                                                try {
                                                    rs3.close();
                                                } catch (SQLException e) {
                                                    System.out.println("Error closing rs3: " + e.getMessage());
                                                }
                                            }
                                        }
                                        s++;
                                    }

                                    try {
                                        rs3 = koneksi.prepareStatement("select saran,kesan from saran_kesan_lab where no_rawat='" + rs.getString("no_rawat") + "' and tgl_periksa='" + rs4.getString("tgl_periksa") + "' and jam='" + rs4.getString("jam") + "'").executeQuery();
                                        if (rs3.next()) {
                                            String kesan = rs3.getString("kesan") != null ? rs3.getString("kesan") : "";
                                            String saran = rs3.getString("saran") != null ? rs3.getString("saran") : "";
                                            htmlContent.append("<tr><td valign='top'>Kesan</td><td valign='top' colspan='5'>: <b>").append(kesan).append("</b></td></tr><tr><td valign='top'>Saran</td><td valign='top' colspan='5'>: <b>").append(saran).append("</b></td></tr>");
                                        }
                                    } catch (SQLException e) {
                                        System.out.println("Error getting saran kesan: " + e.getMessage());
                                    } finally {
                                        if (rs3 != null) {
                                            try {
                                                rs3.close();
                                            } catch (SQLException e) {
                                                System.out.println("Error closing rs3: " + e.getMessage());
                                            }
                                        }
                                    }
                                } catch (SQLException e) {
                                    System.out.println("Error in lab processing: " + e.getMessage());
                                } finally {
                                    if (rs2 != null) {
                                        try {
                                            rs2.close();
                                        } catch (SQLException e) {
                                            System.out.println("Error closing rs2: " + e.getMessage());
                                        }
                                    }
                                }
                                w++;
                            }
                            htmlContent.append("</table>");
                        }
                    } catch (SQLException e) {
                        System.out.println("Error getting lab PK & MB: " + e.getMessage());
                    } finally {
                        if (rs4 != null) {
                            try {
                                rs4.close();
                            } catch (SQLException e) {
                                System.out.println("Error closing rs4: " + e.getMessage());
                            }
                        }
                    }

                    // Pemeriksaan Laboratorium PA
                    try {
                        rs2 = koneksi.prepareStatement(
                                "select periksa_lab.tgl_periksa,periksa_lab.jam,periksa_lab.kd_jenis_prw, "
                                + "jns_perawatan_lab.nm_perawatan,petugas.nama,periksa_lab.biaya,periksa_lab.dokter_perujuk,dokter.nm_dokter "
                                + "from periksa_lab inner join jns_perawatan_lab on periksa_lab.kd_jenis_prw=jns_perawatan_lab.kd_jenis_prw "
                                + "inner join petugas on periksa_lab.nip=petugas.nip inner join dokter on periksa_lab.kd_dokter=dokter.kd_dokter "
                                + "where periksa_lab.kategori='PA' and periksa_lab.no_rawat='" + rs.getString("no_rawat") + "' order by periksa_lab.tgl_periksa,periksa_lab.jam").executeQuery();
                        if (rs2.next()) {
                            htmlContent.append(
                                    "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                    + "<tr><td valign='top' colspan='5'>Pemeriksaan Laboratorium PA</td><td valign='top' colspan='1' align='right'>:</td><td valign='top'></td></tr>"
                                    + "<tr align='center'>"
                                    + "<td valign='top' width='4%' bgcolor='#FFFAF8'>No.</td>"
                                    + "<td valign='top' width='15%' bgcolor='#FFFAF8'>Tanggal</td>"
                                    + "<td valign='top' width='36%' bgcolor='#FFFAF8'>Nama Pemeriksaan</td>"
                                    + "<td valign='top' width='18%' bgcolor='#FFFAF8'>Dokter PJ</td>"
                                    + "<td valign='top' width='17%' bgcolor='#FFFAF8'>Petugas</td>"
                                    + "</tr>");
                            rs2.beforeFirst();
                            w = 1;
                            while (rs2.next()) {
                                htmlContent.append("<tr><td valign='top' align='center'>").append(w).append("</td><td valign='top'>").append(rs2.getString("tgl_periksa")).append(" ").append(rs2.getString("jam")).append("</td><td valign='top'><b>").append(rs2.getString("nm_perawatan")).append("</b></td><td valign='top'>").append(rs2.getString("nm_dokter")).append("</td><td valign='top'>").append(rs2.getString("nama")).append("</td></tr>");
                                try {
                                    rs3 = koneksi.prepareStatement(
                                            "select diagnosa_klinik,makroskopik,mikroskopik,kesimpulan,kesan from detail_periksa_labpa "
                                            + "where no_rawat='" + rs.getString("no_rawat") + "' and kd_jenis_prw='" + rs2.getString("kd_jenis_prw") + "' and "
                                            + "tgl_periksa='" + rs2.getString("tgl_periksa") + "' and jam='" + rs2.getString("jam") + "'").executeQuery();
                                    if (rs3.next()) {
                                        file = Sequel.cariIsi("select photo from detail_periksa_labpa_gambar where no_rawat='" + rs.getString("no_rawat") + "' and kd_jenis_prw='" + rs2.getString("kd_jenis_prw") + "' and tgl_periksa='" + rs2.getString("tgl_periksa") + "' and jam='" + rs2.getString("jam") + "'");

                                        String diagnosisKlinik = rs3.getString("diagnosa_klinik") != null ? rs3.getString("diagnosa_klinik") : "";
                                        String makroskopik = rs3.getString("makroskopik") != null ? rs3.getString("makroskopik") : "";
                                        String mikroskopik = rs3.getString("mikroskopik") != null ? rs3.getString("mikroskopik") : "";
                                        String kesimpulan = rs3.getString("kesimpulan") != null ? rs3.getString("kesimpulan") : "";
                                        String kesan = rs3.getString("kesan") != null ? rs3.getString("kesan") : "";

                                        htmlContent.append("<tr><td valign='top' align='center'></td><td valign='top'></td><td valign='top'>Diagnosa Klinis</td><td valign='top' colspan='3'>: ").append(diagnosisKlinik).append("</td></tr>"
                                                + "<tr><td valign='top' align='center'></td><td valign='top'></td><td valign='top'>Makroskopik</td><td valign='top' colspan='3'>: ").append(makroskopik).append("</td></tr>"
                                                + "<tr><td valign='top' align='center'></td><td valign='top'></td><td valign='top'>Mikroskopik</td><td valign='top' colspan='3'>: ").append(mikroskopik).append("</td></tr>"
                                                + "<tr><td valign='top' align='center'></td><td valign='top'></td><td valign='top'>Kesimpulan</td><td valign='top' colspan='3'>: ").append(kesimpulan).append("</td></tr>"
                                                + "<tr><td valign='top' align='center'></td><td valign='top'></td><td valign='top'>Kesan</td><td valign='top' colspan='3'>: ").append(kesan).append("</td></tr>");

                                        if (file != null && !file.isEmpty()) {
                                            htmlContent.append("<tr><td valign='top' align='center'></td><td valign='top'></td><td valign='top' colspan='4' align='center'><a href='http://").append(koneksiDB.HOSTHYBRIDWEB()).append(":").append(koneksiDB.PORTWEB()).append("/").append(koneksiDB.HYBRIDWEB()).append("/labpa/").append(file).append("'><img alt='Gambar PA' src='http://").append(koneksiDB.HOSTHYBRIDWEB()).append(":").append(koneksiDB.PORTWEB()).append("/").append(koneksiDB.HYBRIDWEB()).append("/labpa/").append(file).append("' width='450' height='450'/></a></td></tr>");
                                        }
                                    }
                                } catch (SQLException e) {
                                    System.out.println("Error getting PA details: " + e.getMessage());
                                } finally {
                                    if (rs3 != null) {
                                        try {
                                            rs3.close();
                                        } catch (SQLException e) {
                                            System.out.println("Error closing rs3: " + e.getMessage());
                                        }
                                    }
                                }
                                w++;
                            }
                            htmlContent.append("</table>");
                        }
                    } catch (SQLException e) {
                        System.out.println("Error getting lab PA: " + e.getMessage());
                    } finally {
                        if (rs2 != null) {
                            try {
                                rs2.close();
                            } catch (SQLException e) {
                                System.out.println("Error closing rs2: " + e.getMessage());
                            }
                        }
                    }

                    // Tanda tangan Penanggung Jawab Lab dan Petugas
                    try {
                        rs3 = koneksi.prepareStatement(
                                "select set_pjlab.kd_dokterlab,dokter.nm_dokter from set_pjlab inner join dokter on set_pjlab.kd_dokterlab=dokter.kd_dokter").executeQuery();
                        if (rs3.next()) {
                            htmlContent.append("<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                    + "<tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr>");

                            rs3.beforeFirst();
                            while (rs3.next()) {
                                get = new GetMethod("http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/penggajian/generateqrcode.php?kodedokter=" + rs3.getString("kd_dokterlab").replace(" ", "_"));
                                http.executeMethod(get);
                                htmlContent.append("<tr><td border='0' align='center'>Penangung Jawab Laboratorium <br><img width='80' height='80' src='http://").append(koneksiDB.HOSTHYBRIDWEB()).append(":").append(koneksiDB.PORTWEB()).append("/").append(koneksiDB.HYBRIDWEB()).append("/penggajian/temp/").append(rs3.getString("kd_dokterlab")).append(".png'/><br>").append(rs3.getString("nm_dokter")).append("</td>");

                                try {
                                    rs4 = koneksi.prepareStatement(
                                            "select periksa_lab.nip,petugas.nama from periksa_lab inner join petugas on periksa_lab.nip=petugas.nip where no_rawat='" + rs.getString("no_rawat") + "' ORDER BY periksa_lab.tgl_periksa, periksa_lab.jam limit 1").executeQuery();
                                    if (rs4.next()) {
                                        get = new GetMethod("http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/penggajian/generateqrcodepetugas.php?kodepetugas=" + rs4.getString("nip").replace(" ", "_"));
                                        http.executeMethod(get);
                                        htmlContent.append("<td border='0' align='center'>Petugas Laboratorium <br><img width='80' height='80' src='http://").append(koneksiDB.HOSTHYBRIDWEB()).append(":").append(koneksiDB.PORTWEB()).append("/").append(koneksiDB.HYBRIDWEB()).append("/penggajian/temp/").append(rs4.getString("nip")).append(".png'/><br>").append(rs4.getString("nama")).append("</td>");
                                    }
                                } catch (SQLException e) {
                                    System.out.println("Error getting petugas: " + e.getMessage());
                                } finally {
                                    if (rs4 != null) {
                                        try {
                                            rs4.close();
                                        } catch (SQLException e) {
                                            System.out.println("Error closing rs4: " + e.getMessage());
                                        }
                                    }
                                }
                                htmlContent.append("</tr>");
                            }
                            htmlContent.append("</table>");
                        }
                    } catch (SQLException e) {
                        System.out.println("Error getting lab signature: " + e.getMessage());
                    } finally {
                        if (rs3 != null) {
                            try {
                                rs3.close();
                            } catch (SQLException e) {
                                System.out.println("Error closing rs3: " + e.getMessage());
                            }
                        }
                    }

                    htmlContent.append("</fieldset></p>");

                } catch (SQLException e) {
                    System.out.println("SQLException in menampilkanHasilLab: " + e.getMessage());
                    e.printStackTrace();
                    // Optional: Tambahkan pesan error ke HTML jika diperlukan
                    htmlContent.append("<p>Error: Tidak dapat menampilkan hasil laboratorium. Silakan coba lagi.</p>");
                } catch (Exception e) {
                    System.out.println("General Exception in menampilkanHasilLab: " + e.getMessage());
                    e.printStackTrace();
                    // Optional: Tambahkan pesan error ke HTML jika diperlukan
                    htmlContent.append("<p>Error: Terjadi kesalahan sistem. Silakan hubungi administrator.</p>");
                }
            }
        }
    }

    private void menampilkanHasilRadiologi(String norawat) {
        if (chkHasilRad.isSelected() == true) {
            try {
                if (!Sequel.cariIsi("SELECT COUNT(no_rawat) FROM periksa_radiologi WHERE no_rawat=?", rs.getString("no_rawat")).equals("0")) {
                    htmlContent.append(
                            "<br><br><br>"
                            + "<p class='pagebreak'>"
                            + "<fieldset>");

                    Copsurat();
                    htmlContent.append("<h2><center>HASIL RADIOLOGI</center></h2>");

                    // Tabel informasi pasien
                    htmlContent.append("<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                            + "<tr><td valign='top' width='20%'>No.Rekam Medis</td><td valign='top' width='1%' align='center'>:</td><td valign='top' width='79%'>").append(rs.getString("no_rkm_medis")).append("</td></tr>"
                            + "<tr><td valign='top' width='20%'>Nama Pasien</td><td valign='top' width='1%' align='center'>:</td><td valign='top' width='79%'>").append(rs.getString("nm_pasien")).append("</td></tr>"
                            + "<tr><td valign='top' width='20%'>Tgl. Lahir</td><td valign='top' width='1%' align='center'>:</td><td valign='top' width='79%'>").append(rs.getString("tgl_lahir")).append("</td></tr>"
                            + "<tr><td valign='top' width='20%'>No.Rawat</td><td valign='top' width='1%' align='center'>:</td><td valign='top' width='79%'>").append(rs.getString("no_rawat")).append("</td></tr>"
                            + "<tr><td valign='top' width='20%'>No.Registrasi</td><td valign='top' width='1%' align='center'>:</td><td valign='top' width='79%'>").append(rs.getString("no_reg")).append("</td></tr>"
                            + "<tr><td valign='top' width='20%'>Tanggal Registrasi</td><td valign='top' width='1%' align='center'>:</td><td valign='top' width='79%'>").append(rs.getString("tgl_registrasi")).append(" ").append(rs.getString("jam_reg")).append("</td></tr>"
                            + "<tr><td valign='top' width='20%'>Unit/Poliklinik</td><td valign='top' width='1%' align='center'>:</td><td valign='top' width='79%'>").append(rs.getString("nm_poli")).append(polirujukan).append("</td></tr>"
                            + "<tr><td valign='top' width='20%'>Dokter Poli</td><td valign='top' width='1%' align='center'>:</td><td valign='top' width='79%'>").append(rs.getString("nm_dokter")).append(dokterrujukan).append("</td></tr>");

                    // Informasi DPJP Ranap jika rawat inap
                    if (rs.getString("status_lanjut").equals("Ranap")) {
                        try {
                            rs3 = koneksi.prepareStatement(
                                    "select dokter.nm_dokter from dpjp_ranap inner join dokter on dpjp_ranap.kd_dokter=dokter.kd_dokter where dpjp_ranap.no_rawat='" + rs.getString("no_rawat") + "'").executeQuery();
                            if (rs3.next()) {
                                htmlContent.append(
                                        "<tr>"
                                        + "<td valign='top' width='20%'>DPJP Ranap</td>"
                                        + "<td valign='top' width='1%' align='center'>:</td>"
                                        + "<td valign='top' width='79%'>");
                                rs3.beforeFirst();
                                urutdpjp = 1;
                                while (rs3.next()) {
                                    htmlContent.append(urutdpjp).append(". ").append(rs3.getString("nm_dokter")).append("&nbsp;&nbsp;");
                                    urutdpjp++;
                                }
                                htmlContent.append("</td></tr>");
                            }
                        } catch (SQLException e) {
                            System.out.println("Error getting DPJP Ranap: " + e.getMessage());
                        } finally {
                            if (rs3 != null) {
                                try {
                                    rs3.close();
                                } catch (SQLException e) {
                                    System.out.println("Error closing rs3: " + e.getMessage());
                                }
                            }
                        }
                    }

                    // Informasi tambahan pasien
                    htmlContent.append("<tr><td valign='top' width='20%'>Cara Bayar</td><td valign='top' width='1%' align='center'>:</td><td valign='top' width='79%'>").append(rs.getString("png_jawab")).append("</td></tr>"
                            + "<tr><td valign='top' width='20%'>Penanggung Jawab</td><td valign='top' width='1%' align='center'>:</td><td valign='top' width='79%'>").append(rs.getString("p_jawab")).append("</td></tr>"
                            + "<tr><td valign='top' width='20%'>Alamat P.J.</td><td valign='top' width='1%' align='center'>:</td><td valign='top' width='79%'>").append(rs.getString("almt_pj")).append("</td></tr>"
                            + "<tr><td valign='top' width='20%'>Hubungan P.J.</td><td valign='top' width='1%' align='center'>:</td><td valign='top' width='79%'>").append(rs.getString("hubunganpj")).append("</td></tr>"
                            + "<tr><td valign='top' width='20%'>Status</td><td valign='top' width='1%' align='center'>:</td><td valign='top' width='79%'>").append(rs.getString("status_lanjut")).append("</td></tr>"
                            + "</table>");

                    // Pemeriksaan Radiologi
                    try {
                        rs2 = koneksi.prepareStatement(
                                "select periksa_radiologi.tgl_periksa,periksa_radiologi.jam,periksa_radiologi.kd_jenis_prw, "
                                + "jns_perawatan_radiologi.nm_perawatan,petugas.nama,periksa_radiologi.biaya,periksa_radiologi.dokter_perujuk,"
                                + "dokter.nm_dokter,concat("
                                + "if(periksa_radiologi.proyeksi<>'',concat('Proyeksi : ',periksa_radiologi.proyeksi,', '),''),"
                                + "if(periksa_radiologi.kV<>'',concat('kV : ',periksa_radiologi.kV,', '),''),"
                                + "if(periksa_radiologi.mAS<>'',concat('mAS : ',periksa_radiologi.mAS,', '),''),"
                                + "if(periksa_radiologi.FFD<>'',concat('FFD : ',periksa_radiologi.FFD,', '),''),"
                                + "if(periksa_radiologi.BSF<>'',concat('BSF : ',periksa_radiologi.BSF,', '),''),"
                                + "if(periksa_radiologi.inak<>'',concat('Inak : ',periksa_radiologi.inak,', '),''),"
                                + "if(periksa_radiologi.jml_penyinaran<>'',concat('Jml Penyinaran : ',periksa_radiologi.jml_penyinaran,', '),''),"
                                + "if(periksa_radiologi.dosis<>'',concat('Dosis Radiasi : ',periksa_radiologi.dosis),'')) as proyeksi "
                                + "from periksa_radiologi inner join jns_perawatan_radiologi on periksa_radiologi.kd_jenis_prw=jns_perawatan_radiologi.kd_jenis_prw "
                                + "inner join petugas on periksa_radiologi.nip=petugas.nip inner join dokter on periksa_radiologi.kd_dokter=dokter.kd_dokter "
                                + "where periksa_radiologi.no_rawat='" + rs.getString("no_rawat") + "' order by periksa_radiologi.tgl_periksa,periksa_radiologi.jam").executeQuery();
                        if (rs2.next()) {
                            htmlContent.append(
                                    "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                    + "<tr><td valign='top' colspan='5'>Pemeriksaan Radiologi</td><td valign='top' colspan='1' align='right'>:</td><td valign='top'></td></tr>"
                                    + "<tr align='center'>"
                                    + "<td valign='top' width='4%' bgcolor='#FFFAF8'>No.</td>"
                                    + "<td valign='top' width='15%' bgcolor='#FFFAF8'>Tanggal</td>"
                                    + "<td valign='top' width='36%' bgcolor='#FFFAF8'>Nama Pemeriksaan</td>"
                                    + "<td valign='top' width='18%' bgcolor='#FFFAF8'>Dokter PJ</td>"
                                    + "<td valign='top' width='17%' bgcolor='#FFFAF8'>Petugas</td>"
                                    + "</tr>");
                            rs2.beforeFirst();
                            w = 1;
                            while (rs2.next()) {
                                String tglPeriksa = rs2.getString("tgl_periksa") != null ? rs2.getString("tgl_periksa") : "";
                                String jam = rs2.getString("jam") != null ? rs2.getString("jam") : "";
                                String nmPerawatan = rs2.getString("nm_perawatan") != null ? rs2.getString("nm_perawatan") : "";
                                String proyeksi = rs2.getString("proyeksi") != null ? rs2.getString("proyeksi") : "";
                                String nmDokter = rs2.getString("nm_dokter") != null ? rs2.getString("nm_dokter") : "";
                                String nama = rs2.getString("nama") != null ? rs2.getString("nama") : "";

                                htmlContent.append("<tr align='center'><td valign='top' align='center'>").append(w).append("</td><td valign='top'>").append(tglPeriksa).append(" ").append(jam).append("</td><td valign='top'>").append(nmPerawatan).append("<br>").append(proyeksi).append("</td><td valign='top'>").append(nmDokter).append("</td><td valign='top'>").append(nama).append("</td></tr>");
                                w++;
                            }
                            htmlContent.append("</table>");
                        }
                    } catch (SQLException e) {
                        System.out.println("Error getting periksa radiologi: " + e.getMessage());
                    } finally {
                        if (rs2 != null) {
                            try {
                                rs2.close();
                            } catch (SQLException e) {
                                System.out.println("Error closing rs2: " + e.getMessage());
                            }
                        }
                    }

                    // Hasil pemeriksaan radiologi
                    try {
                        rs2 = koneksi.prepareStatement(
                                "select tgl_periksa,jam, hasil from hasil_radiologi where no_rawat='" + rs.getString("no_rawat") + "' order by tgl_periksa,jam").executeQuery();
                        if (rs2.next()) {
                            htmlContent.append(
                                    "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                    + "<tr><td valign='top' colspan='3'>Bacaan/Hasil Radiologi</td></tr>"
                                    + "<tr align='center'>"
                                    + "<td valign='top' width='4%' bgcolor='#FFFAF8'>No.</td>"
                                    + "<td valign='top' width='15%' bgcolor='#FFFAF8'>Tanggal</td>"
                                    + "<td valign='top' width='81%' bgcolor='#FFFAF8'>Hasil Pemeriksaan</td>"
                                    + "</tr>");
                            rs2.beforeFirst();
                            w = 1;
                            while (rs2.next()) {
                                String tglPeriksa = rs2.getString("tgl_periksa") != null ? rs2.getString("tgl_periksa") : "";
                                String jam = rs2.getString("jam") != null ? rs2.getString("jam") : "";
                                String hasil = rs2.getString("hasil") != null ? rs2.getString("hasil") : "";

                                htmlContent.append("<tr><td valign='top' align='center'>").append(w).append("</td><td valign='top'>").append(tglPeriksa).append(" ").append(jam).append("</td><td valign='top'>").append(hasil.replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr>");
                                w++;
                            }
                            htmlContent.append("</table>");
                        }

                        // Tanda tangan Penanggung Jawab Radiologi dan Petugas
                        try {
                            rs3 = koneksi.prepareStatement(
                                    "select set_pjlab.kd_dokterrad,dokter.nm_dokter from set_pjlab inner join dokter on set_pjlab.kd_dokterrad=dokter.kd_dokter").executeQuery();
                            if (rs3.next()) {
                                htmlContent.append("<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                        + "<tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr>");

                                rs3.beforeFirst();
                                while (rs3.next()) {
                                    get = new GetMethod("http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/penggajian/generateqrcode.php?kodedokter=" + rs3.getString("kd_dokterrad").replace(" ", "_"));
                                    http.executeMethod(get);
                                    htmlContent.append("<tr><td border='0' align='center'>Penangung Jawab Radiologi <br><img width='80' height='80' src='http://").append(koneksiDB.HOSTHYBRIDWEB()).append(":").append(koneksiDB.PORTWEB()).append("/").append(koneksiDB.HYBRIDWEB()).append("/penggajian/temp/").append(rs3.getString("kd_dokterrad")).append(".png'/><br>").append(rs3.getString("nm_dokter")).append("</td>");

                                    try {
                                        rs4 = koneksi.prepareStatement(
                                                "select periksa_radiologi.nip,petugas.nama from periksa_radiologi inner join petugas on periksa_radiologi.nip=petugas.nip where no_rawat='" + rs.getString("no_rawat") + "' ORDER BY periksa_radiologi.tgl_periksa,periksa_radiologi.jam limit 1").executeQuery();
                                        if (rs4.next()) {
                                            get = new GetMethod("http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/penggajian/generateqrcodepetugas.php?kodepetugas=" + rs4.getString("nip").replace(" ", "_"));
                                            http.executeMethod(get);
                                            htmlContent.append("<td border='0' align='center'>Petugas Radiologi <br><img width='80' height='80' src='http://").append(koneksiDB.HOSTHYBRIDWEB()).append(":").append(koneksiDB.PORTWEB()).append("/").append(koneksiDB.HYBRIDWEB()).append("/penggajian/temp/").append(rs4.getString("nip")).append(".png'/><br>").append(rs4.getString("nama")).append("</td>");
                                        }
                                    } catch (SQLException e) {
                                        System.out.println("Error getting petugas radiologi: " + e.getMessage());
                                    } finally {
                                        if (rs4 != null) {
                                            try {
                                                rs4.close();
                                            } catch (SQLException e) {
                                                System.out.println("Error closing rs4: " + e.getMessage());
                                            }
                                        }
                                    }
                                    htmlContent.append("</tr>");
                                }
                                htmlContent.append("</table>");
                            }
                        } catch (SQLException e) {
                            System.out.println("Error getting radiologi signature: " + e.getMessage());
                        } finally {
                            if (rs3 != null) {
                                try {
                                    rs3.close();
                                } catch (SQLException e) {
                                    System.out.println("Error closing rs3: " + e.getMessage());
                                }
                            }
                        }

                    } catch (SQLException e) {
                        System.out.println("Error getting hasil radiologi: " + e.getMessage());
                    } finally {
                        if (rs2 != null) {
                            try {
                                rs2.close();
                            } catch (SQLException e) {
                                System.out.println("Error closing rs2: " + e.getMessage());
                            }
                        }
                    }

                    // Gambar pemeriksaan radiologi
                    if (chkGambarRad.isSelected() == true) {
                        try {
                            rs2 = koneksi.prepareStatement(
                                    "select tgl_periksa,jam, lokasi_gambar from gambar_radiologi where no_rawat='" + rs.getString("no_rawat") + "' order by tgl_periksa,jam").executeQuery();
                            if (rs2.next()) {
                                htmlContent.append(
                                        "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                        + "<tr><td valign='top' colspan='3'>Gambar Radiologi</td></tr>"
                                        + "<tr align='center'>"
                                        + "<td valign='top' width='4%' bgcolor='#FFFAF8'>No.</td>"
                                        + "<td valign='top' width='10%' bgcolor='#FFFAF8'>Tanggal</td>"
                                        + "<td valign='top' width='86%' bgcolor='#FFFAF8'>Gambar Radiologi</td>"
                                        + "</tr>");
                                rs2.beforeFirst();
                                w = 1;
                                while (rs2.next()) {
                                    String tglPeriksa = rs2.getString("tgl_periksa") != null ? rs2.getString("tgl_periksa") : "";
                                    String jam = rs2.getString("jam") != null ? rs2.getString("jam") : "";
                                    String lokasiGambar = rs2.getString("lokasi_gambar") != null ? rs2.getString("lokasi_gambar") : "";

                                    htmlContent.append("<tr><td valign='top' align='center'>").append(w).append("</td><td valign='top'>").append(tglPeriksa).append(" ").append(jam).append("</td><td valign='top' align='center'><a href='http://").append(koneksiDB.HOSTHYBRIDWEB()).append(":").append(koneksiDB.PORTWEB()).append("/").append(koneksiDB.HYBRIDWEB()).append("/radiologi/").append(lokasiGambar).append("'><img alt='Gambar Radiologi' src='http://").append(koneksiDB.HOSTHYBRIDWEB()).append(":").append(koneksiDB.PORTWEB()).append("/").append(koneksiDB.HYBRIDWEB()).append("/radiologi/").append(lokasiGambar).append("' width='88%' height='auto'/></a></td></tr>");
                                    w++;
                                }
                                htmlContent.append("</table>");
                            }
                        } catch (SQLException e) {
                            System.out.println("Error getting gambar radiologi: " + e.getMessage());
                        } finally {
                            if (rs2 != null) {
                                try {
                                    rs2.close();
                                } catch (SQLException e) {
                                    System.out.println("Error closing rs2: " + e.getMessage());
                                }
                            }
                        }
                    }

                    htmlContent.append("</fieldset></p>");
                }
            } catch (SQLException e) {
                System.out.println("SQLException in menampilkanHasilRadiologi: " + e.getMessage());
                e.printStackTrace();
                // Optional: Tambahkan pesan error ke HTML jika diperlukan
                htmlContent.append("<p>Error: Tidak dapat menampilkan hasil radiologi. Silakan coba lagi.</p>");
            } catch (Exception e) {
                System.out.println("General Exception in menampilkanHasilRadiologi: " + e.getMessage());
                e.printStackTrace();
                // Optional: Tambahkan pesan error ke HTML jika diperlukan
                htmlContent.append("<p>Error: Terjadi kesalahan sistem. Silakan hubungi administrator.</p>");
            }
        }
    }

    private void menampilkanSbpkRawatJalan(String norawat) {
        if (chkSbpk.isSelected() == true) {
            try {
                // Query untuk mengambil data pasien, resume, kamar_inap, dan bridging_sep
                rs2 = koneksi.prepareStatement(
                        "select resume_pasien.kd_dokter,dokter.nm_dokter,resume_pasien.keluhan_utama,resume_pasien.jalannya_penyakit,"
                        + "resume_pasien.pemeriksaan_penunjang,resume_pasien.hasil_laborat,resume_pasien.diagnosa_utama,resume_pasien.kd_diagnosa_utama,"
                        + "resume_pasien.diagnosa_sekunder,resume_pasien.kd_diagnosa_sekunder,resume_pasien.diagnosa_sekunder2,resume_pasien.kd_diagnosa_sekunder2,"
                        + "resume_pasien.diagnosa_sekunder3,resume_pasien.kd_diagnosa_sekunder3,resume_pasien.diagnosa_sekunder4,resume_pasien.kd_diagnosa_sekunder4,"
                        + "resume_pasien.prosedur_utama,resume_pasien.kd_prosedur_utama,resume_pasien.prosedur_sekunder,resume_pasien.kd_prosedur_sekunder,"
                        + "resume_pasien.prosedur_sekunder2,resume_pasien.kd_prosedur_sekunder2,resume_pasien.prosedur_sekunder3,resume_pasien.kd_prosedur_sekunder3,"
                        + "resume_pasien.kondisi_pulang,resume_pasien.obat_pulang,"
                        + "reg_periksa.almt_pj,pasien.jk,pasien.umur,reg_periksa.kd_pj,penjab.png_jawab,"
                        + "kamar_inap.stts_pulang,bridging_sep.tujuankunjungan,bridging_sep.no_sep,DATE_FORMAT(reg_periksa.tgl_registrasi,'%d %M %Y') as tgl_masuk_format "
                        + "from resume_pasien inner join dokter on resume_pasien.kd_dokter=dokter.kd_dokter "
                        + "inner join reg_periksa on resume_pasien.no_rawat=reg_periksa.no_rawat "
                        + "inner join pasien on reg_periksa.no_rkm_medis=pasien.no_rkm_medis "
                        + "inner join penjab on reg_periksa.kd_pj=penjab.kd_pj "
                        + "left join kamar_inap on resume_pasien.no_rawat=kamar_inap.no_rawat "
                        + "left join bridging_sep on resume_pasien.no_rawat=bridging_sep.no_rawat "
                        + "where resume_pasien.no_rawat='" + rs.getString("no_rawat") + "'").executeQuery();

                if (rs2.next()) {
                    // Ambil data cara pulang dari kamar_inap atau default dari kondisi_pulang
                    String caraPulang = "";
                    if (rs2.getString("stts_pulang") != null && !rs2.getString("stts_pulang").isEmpty()) {
                        caraPulang = rs2.getString("stts_pulang");
                    } else {
                        caraPulang = rs2.getString("kondisi_pulang");
                    }

                    // Ambil jenis kunjungan dari bridging_sep
                    String jenisKunjungan = "";
                    if (rs2.getString("tujuankunjungan") != null) {
                        String tujuanKunjungan = rs2.getString("tujuankunjungan");
                        jenisKunjungan = tujuanKunjungan.equals("0") ? "Konsultasi dokter(pertama)" : "Kunjungan Kontrol(ulangan)";
                    } else {
                        jenisKunjungan = "-";
                    }

                    htmlContent.append(
                            "<br><br><br>"
                            + "<fieldset>");

                    // Menggunakan fungsi Copsurat() yang sudah ada
                    Copsurat();

                    htmlContent.append("<h2><center>SURAT BUKTI PELAYANAN KESEHATAN (SBPK)</center></h2>");

                    // Informasi Pasien
                    htmlContent.append(
                            "<table width='100%' border='0' cellpadding='2' cellspacing='0' style='font-size:11px;'>"
                            + "<tr><td width='3%'>1.</td><td width='22%'>Nama Pasien</td><td width='2%'>:</td><td width='40%'>").append(rs.getString("nm_pasien")).append("</td><td width='15%'>Cara Pulang</td><td width='2%'>:</td><td>").append(caraPulang).append("</td></tr>"
                            + "<tr><td>2.</td><td>No. Rekam Medis</td><td>:</td><td>").append(rs.getString("no_rkm_medis")).append("</td><td>Alas Persetujuan Dokter</td><td>:</td><td></td></tr>"
                            + "<tr><td>3.</td><td>Tanggal Lahir</td><td>:</td><td>").append(rs.getString("tgl_lahir")).append("</td><td>Jenis Kunjungan</td><td>:</td><td>").append(jenisKunjungan).append("</td></tr>"
                            + "<tr><td>4.</td><td>Jenis Kelamin</td><td>:</td><td>").append(rs2.getString("jk")).append("</td><td></td><td></td><td>- Konsultasi dokter pertama</td></tr>"
                            + "<tr><td>5.</td><td>Tanggal Masuk RS</td><td>:</td><td>").append(rs2.getString("tgl_masuk_format")).append("</td><td></td><td></td><td></td></tr>"
                            + "<tr><td>6.</td><td>Jam Masuk</td><td>:</td><td>").append(rs.getString("jam_reg")).append("</td><td></td><td></td><td></td></tr>"
                            + "</table>");

                    // Box Anamnesa
                    htmlContent.append(
                            "<div style='border: 1px solid black; margin: 10px 0; padding: 8px;'>"
                            + "<strong style='font-size:11px;'>ANAMNESA :</strong><br>"
                            + "<span style='font-size:10px;'>").append(rs2.getString("keluhan_utama").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</span>"
                            + "</div>");

                    // Box Jalannya Penyakit
                    htmlContent.append(
                            "<div style='border: 1px solid black; margin: 10px 0; padding: 8px;'>"
                            + "<strong style='font-size:11px;'>JALANNYA PENYAKIT :</strong><br>"
                            + "<span style='font-size:10px;'>").append(rs2.getString("jalannya_penyakit").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</span>"
                            + "</div>");

                    // Box Pemeriksaan Penunjang
                    htmlContent.append(
                            "<div style='border: 1px solid black; margin: 10px 0; padding: 8px;'>"
                            + "<strong style='font-size:11px;'>PEMERIKSAAN PENUNJANG :</strong><br>"
                            + "<span style='font-size:10px;'>").append(rs2.getString("pemeriksaan_penunjang").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</span>"
                            + "</div>");

                    // Box Hasil Laborat
                    htmlContent.append(
                            "<div style='border: 1px solid black; margin: 10px 0; padding: 8px;'>"
                            + "<strong style='font-size:11px;'>HASIL LABORAT :</strong><br>"
                            + "<span style='font-size:10px;'>").append(rs2.getString("hasil_laborat").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</span>"
                            + "</div>");

                    // Tabel Diagnosa dan Tindakan
                    htmlContent.append(
                            "<table width='100%' border='1' cellpadding='3' cellspacing='0' style='border-collapse:collapse; font-size:10px; margin: 10px 0;'>"
                            + "<tr style='background-color:#f0f0f0;'>"
                            + "<th width='20%'>POLI/PLIN/<br/>PENUNJANG</th>"
                            + "<th width='25%'>DIAGNOSA</th>"
                            + "<th width='15%'>ICD X</th>"
                            + "<th width='25%'>TINDAKAN PEMERIKSAAN<br/>PENUNJANG / TETAP</th>"
                            + "<th width='15%'>TDT PASIEN</th>"
                            + "</tr>");

                    // Row pertama dengan data
                    htmlContent.append(
                            "<tr>"
                            + "<td>IGD / INSTALASI<br/>GAWAT DARURAT</td>"
                            + "<td>").append(rs2.getString("diagnosa_utama")).append("</td>"
                            + "<td>").append(rs2.getString("kd_diagnosa_utama")).append("</td>"
                            + "<td>").append(rs2.getString("prosedur_utama")).append("</td>"
                            + "<td></td>"
                            + "</tr>");

                    // Row kedua jika ada diagnosa sekunder
                    if (rs2.getString("diagnosa_sekunder") != null && !rs2.getString("diagnosa_sekunder").isEmpty()) {
                        htmlContent.append(
                                "<tr>"
                                + "<td></td>"
                                + "<td>").append(rs2.getString("diagnosa_sekunder")).append("</td>"
                                + "<td>").append(rs2.getString("kd_diagnosa_sekunder")).append("</td>"
                                + "<td>").append(rs2.getString("prosedur_sekunder")).append("</td>"
                                + "<td></td>"
                                + "</tr>");
                    }

                    // Row ketiga jika ada diagnosa sekunder2
                    if (rs2.getString("diagnosa_sekunder2") != null && !rs2.getString("diagnosa_sekunder2").isEmpty()) {
                        htmlContent.append(
                                "<tr>"
                                + "<td></td>"
                                + "<td>").append(rs2.getString("diagnosa_sekunder2")).append("</td>"
                                + "<td>").append(rs2.getString("kd_diagnosa_sekunder2")).append("</td>"
                                + "<td>").append(rs2.getString("prosedur_sekunder2")).append("</td>"
                                + "<td></td>"
                                + "</tr>");
                    }

                    // Row keempat jika ada diagnosa sekunder3
                    if (rs2.getString("diagnosa_sekunder3") != null && !rs2.getString("diagnosa_sekunder3").isEmpty()) {
                        htmlContent.append(
                                "<tr>"
                                + "<td></td>"
                                + "<td>").append(rs2.getString("diagnosa_sekunder3")).append("</td>"
                                + "<td>").append(rs2.getString("kd_diagnosa_sekunder3")).append("</td>"
                                + "<td>").append(rs2.getString("prosedur_sekunder3")).append("</td>"
                                + "<td></td>"
                                + "</tr>");
                    }

                    // Row kelima jika ada diagnosa sekunder4
                    if (rs2.getString("diagnosa_sekunder4") != null && !rs2.getString("diagnosa_sekunder4").isEmpty()) {
                        htmlContent.append(
                                "<tr>"
                                + "<td></td>"
                                + "<td>").append(rs2.getString("diagnosa_sekunder4")).append("</td>"
                                + "<td>").append(rs2.getString("kd_diagnosa_sekunder4")).append("</td>"
                                + "<td></td>"
                                + "<td></td>"
                                + "</tr>");
                    }

                    // Empty rows for additional entries
                    int emptyRows = 5 - getFilledDiagnosisCount(rs2);
                    for (int i = 0; i < emptyRows; i++) {
                        htmlContent.append(
                                "<tr>"
                                + "<td>&nbsp;</td>"
                                + "<td>&nbsp;</td>"
                                + "<td>&nbsp;</td>"
                                + "<td>&nbsp;</td>"
                                + "<td>&nbsp;</td>"
                                + "</tr>");
                    }

                    htmlContent.append("</table>");

                    // Tabel Diagnosa Utama
                    htmlContent.append(
                            "<table width='100%' border='1' cellpadding='3' cellspacing='0' style='border-collapse:collapse; font-size:10px; margin: 10px 0;'>"
                            + "<tr style='background-color:#f0f0f0;'>"
                            + "<th width='70%'>DIAGNOSA UTAMA</th>"
                            + "<th width='30%'>KODE ICD X</th>"
                            + "</tr>"
                            + "<tr>"
                            + "<td>").append(rs2.getString("diagnosa_utama")).append("</td>"
                            + "<td>").append(rs2.getString("kd_diagnosa_utama")).append("</td>"
                            + "</tr>"
                            + "</table>");

                    // Tabel Diagnosa Tambahan
                    htmlContent.append(
                            "<table width='100%' border='1' cellpadding='3' cellspacing='0' style='border-collapse:collapse; font-size:10px; margin: 10px 0;'>"
                            + "<tr style='background-color:#f0f0f0;'>"
                            + "<th width='70%'>DIAGNOSA TAMBAHAN</th>"
                            + "<th width='30%'>KODE ICD X</th>"
                            + "</tr>");

                    // Tampilkan semua diagnosa sekunder yang ada
                    if (rs2.getString("diagnosa_sekunder") != null && !rs2.getString("diagnosa_sekunder").isEmpty()) {
                        htmlContent.append(
                                "<tr>"
                                + "<td>").append(rs2.getString("diagnosa_sekunder")).append("</td>"
                                + "<td>").append(rs2.getString("kd_diagnosa_sekunder")).append("</td>"
                                + "</tr>");
                    }

                    if (rs2.getString("diagnosa_sekunder2") != null && !rs2.getString("diagnosa_sekunder2").isEmpty()) {
                        htmlContent.append(
                                "<tr>"
                                + "<td>").append(rs2.getString("diagnosa_sekunder2")).append("</td>"
                                + "<td>").append(rs2.getString("kd_diagnosa_sekunder2")).append("</td>"
                                + "</tr>");
                    }

                    if (rs2.getString("diagnosa_sekunder3") != null && !rs2.getString("diagnosa_sekunder3").isEmpty()) {
                        htmlContent.append(
                                "<tr>"
                                + "<td>").append(rs2.getString("diagnosa_sekunder3")).append("</td>"
                                + "<td>").append(rs2.getString("kd_diagnosa_sekunder3")).append("</td>"
                                + "</tr>");
                    }

                    if (rs2.getString("diagnosa_sekunder4") != null && !rs2.getString("diagnosa_sekunder4").isEmpty()) {
                        htmlContent.append(
                                "<tr>"
                                + "<td>").append(rs2.getString("diagnosa_sekunder4")).append("</td>"
                                + "<td>").append(rs2.getString("kd_diagnosa_sekunder4")).append("</td>"
                                + "</tr>");
                    }

                    // Empty rows jika belum ada 4 diagnosa tambahan
                    int filledSecondaryDiagnosis = getFilledSecondaryDiagnosisCount(rs2);
                    for (int i = filledSecondaryDiagnosis; i < 4; i++) {
                        htmlContent.append(
                                "<tr>"
                                + "<td>&nbsp;</td>"
                                + "<td>&nbsp;</td>"
                                + "</tr>");
                    }

                    htmlContent.append("</table>");

                    // Tabel Tindakan
                    htmlContent.append(
                            "<table width='100%' border='1' cellpadding='3' cellspacing='0' style='border-collapse:collapse; font-size:10px; margin: 10px 0;'>"
                            + "<tr style='background-color:#f0f0f0;'>"
                            + "<th width='70%'>TINDAKAN UTAMA</th>"
                            + "<th width='30%'>KODE ICD 9 CM</th>"
                            + "</tr>"
                            + "<tr>"
                            + "<td>").append(rs2.getString("prosedur_utama")).append("</td>"
                            + "<td>").append(rs2.getString("kd_prosedur_utama")).append("</td>"
                            + "</tr>"
                            + "<tr style='background-color:#f0f0f0;'>"
                            + "<th>TINDAKAN TAMBAHAN</th>"
                            + "<th>KODE ICD 9 CM</th>"
                            + "</tr>");

                    // Tampilkan semua prosedur sekunder yang ada
                    if (rs2.getString("prosedur_sekunder") != null && !rs2.getString("prosedur_sekunder").isEmpty()) {
                        htmlContent.append(
                                "<tr>"
                                + "<td>").append(rs2.getString("prosedur_sekunder")).append("</td>"
                                + "<td>").append(rs2.getString("kd_prosedur_sekunder")).append("</td>"
                                + "</tr>");
                    }

                    if (rs2.getString("prosedur_sekunder2") != null && !rs2.getString("prosedur_sekunder2").isEmpty()) {
                        htmlContent.append(
                                "<tr>"
                                + "<td>").append(rs2.getString("prosedur_sekunder2")).append("</td>"
                                + "<td>").append(rs2.getString("kd_prosedur_sekunder2")).append("</td>"
                                + "</tr>");
                    }

                    if (rs2.getString("prosedur_sekunder3") != null && !rs2.getString("prosedur_sekunder3").isEmpty()) {
                        htmlContent.append(
                                "<tr>"
                                + "<td>").append(rs2.getString("prosedur_sekunder3")).append("</td>"
                                + "<td>").append(rs2.getString("kd_prosedur_sekunder3")).append("</td>"
                                + "</tr>");
                    }

                    // Empty rows untuk prosedur tambahan
                    int filledSecondaryProcedures = getFilledSecondaryProceduresCount(rs2);
                    for (int i = filledSecondaryProcedures; i < 3; i++) {
                        htmlContent.append(
                                "<tr>"
                                + "<td>&nbsp;</td>"
                                + "<td>&nbsp;</td>"
                                + "</tr>");
                    }

                    htmlContent.append("</table>");

                    // Box Obat Pulang
                    htmlContent.append(
                            "<div style='border: 1px solid black; margin: 10px 0; padding: 8px;'>"
                            + "<strong style='font-size:11px;'>OBAT PULANG :</strong><br>"
                            + "<span style='font-size:10px;'>").append(rs2.getString("obat_pulang").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</span>"
                            + "</div>");

                    // Footer dengan QR Code dan Tanda Tangan
                    htmlContent.append(
                            "<table width='100%' border='0' cellpadding='10' cellspacing='0' style='margin-top: 20px;'>"
                            + "<tr>"
                            + "<td width='50%' align='center'>"
                            + "<strong>Peserta JKN</strong><br><br>");

                    // Generate QR Code Pasien seperti di SEP BPJS
                    try {
                        String noSep = rs2.getString("no_sep");
                        String qrFilename = "";

                        if (noSep != null && !noSep.isEmpty()) {
                            qrFilename = noSep.replace(" ", "_");
                            get = new GetMethod("http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/berkasrawat/generateqrcodesep.php?sepbpjs=" + qrFilename);
                            int qrStatus = http.executeMethod(get);
                            System.out.println("QR Code generation status: " + qrStatus);
                            Thread.sleep(500); // tunggu file terbuat
                            htmlContent.append("<img width='80' height='80' src='http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/berkasrawat/temp/" + qrFilename + ".png' onerror=\"this.style.display='none';\"/>");
                        } else {
                            // Fallback ke no_rkm_medis jika no_sep kosong
                            qrFilename = rs.getString("no_rkm_medis").replace(" ", "_");
                            get = new GetMethod("http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/berkasrawat/generateqrcodesep.php?sepbpjs=" + qrFilename);
                            int qrStatus = http.executeMethod(get);
                            System.out.println("QR Code generation status: " + qrStatus);
                            Thread.sleep(500); // tunggu file terbuat
                            htmlContent.append("<img width='80' height='80' src='http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/berkasrawat/temp/" + qrFilename + ".png' onerror=\"this.style.display='none';\"/>");
                        }
                    } catch (Exception e) {
                        System.out.println("Error generating QR Code: " + e.getMessage());
                        htmlContent.append("<small>QR Code tidak dapat dibuat</small>");
                    }

                    htmlContent.append(
                            "<br><br>"
                            + rs.getString("nm_pasien")
                            + "</td>"
                            + "<td width='50%' align='center'>"
                            + "<strong>DPJP/Dokter Pemeriksa</strong><br><br>");

                    // QR Code Dokter
                    try {
                        get = new GetMethod("http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/penggajian/generateqrcode.php?kodedokter=" + rs2.getString("kd_dokter").replace(" ", "_"));
                        http.executeMethod(get);
                        htmlContent.append("<img width='80' height='80' src='http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/penggajian/temp/" + rs2.getString("kd_dokter") + ".png'/>");
                    } catch (Exception e) {
                        htmlContent.append("<div style='width:80px; height:80px; border:1px solid black;'></div>");
                    }

                    // Untuk SBPK - ganti bagian akhir script
                    htmlContent.append(
                            "<br><br>"
                            + "dr. " + rs2.getString("nm_dokter")
                            + "</td>"
                            + "</tr>"
                            + "</table>"
                            + "</fieldset>"
                            + "<div style='page-break-after: always; clear: both;'></div>");
                }
            } catch (Exception e) {
                System.out.println("Notifikasi SBPK Rawat Jalan : " + e);
            } finally {
                if (rs2 != null) {
                    try {
                        rs2.close();
                    } catch (Exception e) {
                        System.out.println("Error closing rs2: " + e);
                    }
                }
            }
        }
    }
// Helper method untuk menghitung jumlah diagnosa yang terisi

    private int getFilledDiagnosisCount(ResultSet rs) throws SQLException {
        int count = 1; // diagnosa utama selalu ada

        if (rs.getString("diagnosa_sekunder") != null && !rs.getString("diagnosa_sekunder").isEmpty()) {
            count++;
        }
        if (rs.getString("diagnosa_sekunder2") != null && !rs.getString("diagnosa_sekunder2").isEmpty()) {
            count++;
        }
        if (rs.getString("diagnosa_sekunder3") != null && !rs.getString("diagnosa_sekunder3").isEmpty()) {
            count++;
        }
        if (rs.getString("diagnosa_sekunder4") != null && !rs.getString("diagnosa_sekunder4").isEmpty()) {
            count++;
        }

        return count;
    }

// Helper method untuk menghitung jumlah diagnosa sekunder yang terisi
    private int getFilledSecondaryDiagnosisCount(ResultSet rs) throws SQLException {
        int count = 0;

        if (rs.getString("diagnosa_sekunder") != null && !rs.getString("diagnosa_sekunder").isEmpty()) {
            count++;
        }
        if (rs.getString("diagnosa_sekunder2") != null && !rs.getString("diagnosa_sekunder2").isEmpty()) {
            count++;
        }
        if (rs.getString("diagnosa_sekunder3") != null && !rs.getString("diagnosa_sekunder3").isEmpty()) {
            count++;
        }
        if (rs.getString("diagnosa_sekunder4") != null && !rs.getString("diagnosa_sekunder4").isEmpty()) {
            count++;
        }

        return count;
    }

// Helper method untuk menghitung jumlah prosedur sekunder yang terisi
    private int getFilledSecondaryProceduresCount(ResultSet rs) throws SQLException {
        int count = 0;

        if (rs.getString("prosedur_sekunder") != null && !rs.getString("prosedur_sekunder").isEmpty()) {
            count++;
        }
        if (rs.getString("prosedur_sekunder2") != null && !rs.getString("prosedur_sekunder2").isEmpty()) {
            count++;
        }
        if (rs.getString("prosedur_sekunder3") != null && !rs.getString("prosedur_sekunder3").isEmpty()) {
            count++;
        }

        return count;
    }

// Method untuk Resume Rawat Jalan JKN
    private void menampilkanResumeJKN(String norawat) {
        if (chkResume.isSelected() == true) {
            try {
                rs2 = koneksi.prepareStatement(
                        "select resume_pasien_jkn.kd_dokter,dokter.nm_dokter,resume_pasien_jkn.pemeriksaan_fisik,"
                        + "resume_pasien_jkn.diagnosa_utama,resume_pasien_jkn.kd_diagnosa_utama,resume_pasien_jkn.diagnosa_sekunder,resume_pasien_jkn.kd_diagnosa_sekunder,"
                        + "resume_pasien_jkn.diagnosa_sekunder2,resume_pasien_jkn.kd_diagnosa_sekunder2,resume_pasien_jkn.diagnosa_sekunder3,resume_pasien_jkn.kd_diagnosa_sekunder3,"
                        + "resume_pasien_jkn.prosedur_utama,resume_pasien_jkn.kd_prosedur_utama,resume_pasien_jkn.prosedur_sekunder,resume_pasien_jkn.kd_prosedur_sekunder,"
                        + "resume_pasien_jkn.obat_pulang,resume_pasien_jkn.rawatinap,resume_pasien_jkn.alasan "
                        + "from resume_pasien_jkn inner join dokter on resume_pasien_jkn.kd_dokter=dokter.kd_dokter "
                        + "where resume_pasien_jkn.no_rawat='" + rs.getString("no_rawat") + "'").executeQuery();
                if (rs2.next()) {
                    htmlContent.append(
                            "<br><br><br>"
                            + "<p class='pagebreak'>"
                            + "<fieldset>");
                    Copsurat();
                    htmlContent.append("<h2><center>RESUME RAWAT JALAN JKN<br>RSUD Cabang Bungin - Dev</center></h2>");

                    // Tabel informasi pasien
                    htmlContent.append("<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                            + "<tr><td width='25%'>No. Rekam Medis</td><td width='5%'>:</td><td width='70%'>").append(rs.getString("no_rkm_medis")).append("</td></tr>"
                            + "<tr><td>Nama</td><td>:</td><td>").append(rs.getString("nm_pasien")).append("</td></tr>"
                            + "<tr><td>Tempat/ Tgl Lahir</td><td>:</td><td>").append(rs.getString("tgl_lahir")).append("</td></tr>"
                            + "<tr><td>Jenis Kelamin</td><td>:</td><td>").append(rs.getString("jk").equals("L") ? "Laki-Laki" : "Perempuan").append("</td></tr>"
                            + "</table><br>");

                    // Pemeriksaan Fisik
                    htmlContent.append("<table width='100%' border='0' cellpadding='3px' cellspacing='0'>"
                            + "<tr><td><strong>Pemeriksaan Fisik:</strong></td></tr>"
                            + "<tr><td style='padding-left: 20px;'>").append(rs2.getString("pemeriksaan_fisik").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr>"
                            + "</table><br>");

                    // Diagnosa
                    htmlContent.append("<table width='100%' border='0' cellpadding='3px' cellspacing='0'>"
                            + "<tr><td width='70%'><strong>Diagnosa</strong></td><td width='30%'><strong>Kode ICD 10</strong></td></tr>");

                    if (!rs2.getString("diagnosa_utama").isEmpty()) {
                        htmlContent.append("<tr><td>: ").append(rs2.getString("diagnosa_utama")).append("</td>"
                                + "<td align='center'>( ").append(rs2.getString("kd_diagnosa_utama")).append(" )</td></tr>");
                    }
                    if (!rs2.getString("diagnosa_sekunder").isEmpty()) {
                        htmlContent.append("<tr><td>: ").append(rs2.getString("diagnosa_sekunder")).append("</td>"
                                + "<td align='center'>( ").append(rs2.getString("kd_diagnosa_sekunder")).append(" )</td></tr>");
                    }
                    if (!rs2.getString("diagnosa_sekunder2").isEmpty()) {
                        htmlContent.append("<tr><td>: ").append(rs2.getString("diagnosa_sekunder2")).append("</td>"
                                + "<td align='center'>( ").append(rs2.getString("kd_diagnosa_sekunder2")).append(" )</td></tr>");
                    }
                    if (!rs2.getString("diagnosa_sekunder3").isEmpty()) {
                        htmlContent.append("<tr><td>: ").append(rs2.getString("diagnosa_sekunder3")).append("</td>"
                                + "<td align='center'>( ").append(rs2.getString("kd_diagnosa_sekunder3")).append(" )</td></tr>");
                    }

                    // Prosedur/Tindakan Utama
                    if (!rs2.getString("prosedur_utama").isEmpty()) {
                        htmlContent.append("<tr><td colspan='2'><strong>- Prosedur/Tindakan Utama</strong></td></tr>"
                                + "<tr><td>: ").append(rs2.getString("prosedur_utama")).append("</td>"
                                + "<td align='center'>( ").append(rs2.getString("kd_prosedur_utama")).append(" )</td></tr>");
                    }
                    if (!rs2.getString("prosedur_sekunder").isEmpty()) {
                        htmlContent.append("<tr><td>: ").append(rs2.getString("prosedur_sekunder")).append("</td>"
                                + "<td align='center'>( ").append(rs2.getString("kd_prosedur_sekunder")).append(" )</td></tr>");
                    }

                    htmlContent.append("</table><br>");

                    // Terapi
                    htmlContent.append("<table width='100%' border='0' cellpadding='3px' cellspacing='0'>"
                            + "<tr><td><strong>Terapi:</strong></td></tr>"
                            + "<tr><td style='padding-left: 20px;'>").append(rs2.getString("obat_pulang").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr>"
                            + "</table><br>");

                    // Dirawat Inappkan
                    htmlContent.append("<table width='100%' border='0' cellpadding='3px' cellspacing='0'>"
                            + "<tr><td><strong>Dirawat Inappkan: ").append(rs2.getString("rawatinap")).append("</strong></td></tr>"
                            + "</table><br>");

                    // Tanda tangan dokter
                    htmlContent.append("<table width='100%' border='0' cellpadding='10px' cellspacing='0'>"
                            + "<tr><td width='50%'></td><td width='50%' align='center'>Dokter Penanggung Jawab</td></tr>"
                            + "<tr><td></td><td align='center'>");

                    // QR Code
                    htmlContent.append(Sequel.cariIsi("select qrcode.qrcode from qrcode where qrcode.no_rawat=?", rs.getString("no_rawat")));

                    htmlContent.append("</td></tr>"
                            + "<tr><td></td><td align='center'>dr. ").append(rs2.getString("nm_dokter")).append("</td></tr>"
                            + "</table>");

                    htmlContent.append("</fieldset></p>");
                }
            } catch (Exception e) {
                System.out.println("Notifikasi Resume JKN : " + e);
            } finally {
                if (rs2 != null) {
                    try {
                        rs2.close();
                    } catch (Exception e) {
                        System.out.println("Error closing rs2: " + e);
                    }
                }
            }
        }
    }

// Method untuk Resume Rawat Inap RSCB
    private void menampilkanResumeRanapRSCB(String norawat) {
        if (chkResume.isSelected() == true) {
            try {
                rs2 = koneksi.prepareStatement(
                        "select resume_pasien_ranap_rscb.kd_dokter,dokter.nm_dokter,resume_pasien_ranap_rscb.diagnosa_awal,resume_pasien_ranap_rscb.alasan,resume_pasien_ranap_rscb.kriteria,"
                        + "resume_pasien_ranap_rscb.keluhan_utama,resume_pasien_ranap_rscb.pemeriksaan_fisik,resume_pasien_ranap_rscb.pemeriksaan_penunjang,resume_pasien_ranap_rscb.obat_di_rs,"
                        + "resume_pasien_ranap_rscb.diagnosa_utama,resume_pasien_ranap_rscb.kd_diagnosa_utama,resume_pasien_ranap_rscb.diagnosa_sekunder,resume_pasien_ranap_rscb.kd_diagnosa_sekunder,"
                        + "resume_pasien_ranap_rscb.diagnosa_sekunder2,resume_pasien_ranap_rscb.kd_diagnosa_sekunder2,resume_pasien_ranap_rscb.diagnosa_sekunder3,resume_pasien_ranap_rscb.kd_diagnosa_sekunder3,"
                        + "resume_pasien_ranap_rscb.diagnosa_sekunder4,resume_pasien_ranap_rscb.kd_diagnosa_sekunder4,resume_pasien_ranap_rscb.prosedur_utama,resume_pasien_ranap_rscb.kd_prosedur_utama,"
                        + "resume_pasien_ranap_rscb.prosedur_sekunder,resume_pasien_ranap_rscb.kd_prosedur_sekunder,resume_pasien_ranap_rscb.prosedur_sekunder2,resume_pasien_ranap_rscb.kd_prosedur_sekunder2,"
                        + "resume_pasien_ranap_rscb.prosedur_sekunder3,resume_pasien_ranap_rscb.kd_prosedur_sekunder3,resume_pasien_ranap_rscb.anjuran,resume_pasien_ranap_rscb.cara_keluar,resume_pasien_ranap_rscb.ket_keluar,"
                        + "resume_pasien_ranap_rscb.keadaan,resume_pasien_ranap_rscb.ket_dilanjutkan,resume_pasien_ranap_rscb.kontrol,resume_pasien_ranap_rscb.obat_pulang "
                        + "from resume_pasien_ranap_rscb inner join dokter on resume_pasien_ranap_rscb.kd_dokter=dokter.kd_dokter "
                        + "where resume_pasien_ranap_rscb.no_rawat='" + rs.getString("no_rawat") + "'").executeQuery();
                if (rs2.next()) {
                    htmlContent.append(
                            "<br><br><br>"
                            + "<p class='pagebreak'>"
                            + "<fieldset>");
                    Copsurat();
                    htmlContent.append("<h2><center>RESUME MEDIS</center></h2>");

                    // Tabel informasi pasien dalam format 2 kolom
                    htmlContent.append("<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                            + "<tr>"
                            + "<td valign='top' width='50%'>"
                            + "<table width='100%' border='0' cellpadding='3px' cellspacing='0'>"
                            + "<tr><td width='40%'>No. Rekam Medis</td><td width='5%'>:</td><td width='55%'>").append(rs.getString("no_rkm_medis")).append("</td></tr>"
                            + "<tr><td>Nama</td><td>:</td><td>").append(rs.getString("nm_pasien")).append("</td></tr>"
                            + "<tr><td>Tgl Lahir</td><td>:</td><td>").append(rs.getString("tgl_lahir")).append("</td></tr>"
                            + "<tr><td>Jenis Kelamin</td><td>:</td><td>").append(rs.getString("jk").equals("L") ? "Laki-laki" : "Perempuan").append("</td></tr>"
                            + "</table>"
                            + "</td>"
                            + "<td valign='top' width='50%'>"
                            + "<table width='100%' border='0' cellpadding='3px' cellspacing='0'>"
                            + "<tr><td width='40%'>DP-JP</td><td width='5%'>:</td><td width='55%'>VIP,01 Kamar Kelas VIP</td></tr>"
                            + "<tr><td>Ruang Rawat</td><td>:</td><td>VIP,01 Kamar Kelas VIP</td></tr>"
                            + "<tr><td>Lama Rawat</td><td>:</td><td>VIP,01 Kamar Kelas VIP</td></tr>"
                            + "<tr><td>Pembayaran</td><td>:</td><td>VIP,01 Kamar Kelas VIP</td></tr>"
                            + "<tr><td>Kriteria Pulang</td><td>:</td><td>").append(rs2.getString("kriteria")).append("</td></tr>"
                            + "</table>"
                            + "</td>"
                            + "</tr>"
                            + "</table><br>");

                    // Tanggal Masuk dan Keluar
                    htmlContent.append("<table width='100%' border='0' cellpadding='3px' cellspacing='0'>"
                            + "<tr><td width='50%'><strong>Tanggal Masuk</strong></td><td width='50%'><strong>Tanggal Keluar</strong></td></tr>"
                            + "<tr><td>").append(rs.getString("tgl_registrasi")).append("</td><td>").append(rs.getString("tgl_registrasi")).append("</td></tr>"
                            + "<tr><td colspan='2'><strong>Diagnosa Masuk Rawat: ").append(rs2.getString("diagnosa_awal")).append("</strong></td></tr>"
                            + "<tr><td colspan='2'><strong>Indikasi Masuk Rawat:</strong> ").append(rs2.getString("alasan")).append("</td></tr>"
                            + "</table><br>");

                    // Ringkasan Riwayat Penyakit
                    htmlContent.append("<table width='100%' border='0' cellpadding='3px' cellspacing='0'>"
                            + "<tr><td><strong>Ringkasan Riwayat Penyakit:</strong></td></tr>"
                            + "<tr><td style='padding-left: 20px;'>").append(rs2.getString("keluhan_utama").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr>"
                            + "</table><br>");

                    // Pemeriksaan Fisik
                    htmlContent.append("<table width='100%' border='0' cellpadding='3px' cellspacing='0'>"
                            + "<tr><td><strong>Pemeriksaan Fisik:</strong></td></tr>"
                            + "<tr><td style='padding-left: 20px;'>").append(rs2.getString("pemeriksaan_fisik").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr>"
                            + "</table><br>");

                    // Pemeriksaan Penunjang/Diagnostik
                    htmlContent.append("<table width='100%' border='0' cellpadding='3px' cellspacing='0'>"
                            + "<tr><td><strong>Pemeriksaan Penunjang/ Diagnostik:</strong></td></tr>"
                            + "<tr><td style='padding-left: 20px;'>").append(rs2.getString("pemeriksaan_penunjang").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr>"
                            + "</table><br>");

                    // Terapi/Pengobatan Selama Di Rumah Sakit
                    htmlContent.append("<table width='100%' border='0' cellpadding='3px' cellspacing='0'>"
                            + "<tr><td><strong>Terapi/ Pengobatan Selama Di Rumah Sakit:</strong></td></tr>"
                            + "<tr><td style='padding-left: 20px;'>").append(rs2.getString("obat_di_rs").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr>"
                            + "</table><br>");

                    // Diagnosa
                    htmlContent.append("<table width='100%' border='0' cellpadding='3px' cellspacing='0'>"
                            + "<tr><td><strong>Diagnosa:</strong></td><td width='15%' align='right'><strong>Kode ICD</strong></td></tr>");

                    // Diagnosa Utama
                    if (!rs2.getString("diagnosa_utama").isEmpty()) {
                        htmlContent.append("<tr><td style='padding-left: 20px;'>- Diagnosa Utama : ").append(rs2.getString("diagnosa_utama")).append("</td>"
                                + "<td align='center'>( ").append(rs2.getString("kd_diagnosa_utama")).append(" )</td></tr>");
                    }

                    // Diagnosa Sekunder
                    if (!rs2.getString("diagnosa_sekunder").isEmpty()) {
                        htmlContent.append("<tr><td style='padding-left: 20px;'>- Diagnosa Sekunder</td><td></td></tr>"
                                + "<tr><td style='padding-left: 40px;'>1. ").append(rs2.getString("diagnosa_sekunder")).append("</td>"
                                + "<td align='center'>( ").append(rs2.getString("kd_diagnosa_sekunder")).append(" )</td></tr>");
                    }
                    if (!rs2.getString("diagnosa_sekunder2").isEmpty()) {
                        htmlContent.append("<tr><td style='padding-left: 40px;'>2. ").append(rs2.getString("diagnosa_sekunder2")).append("</td>"
                                + "<td align='center'>( ").append(rs2.getString("kd_diagnosa_sekunder2")).append(" )</td></tr>");
                    }
                    if (!rs2.getString("diagnosa_sekunder3").isEmpty()) {
                        htmlContent.append("<tr><td style='padding-left: 40px;'>3. ").append(rs2.getString("diagnosa_sekunder3")).append("</td>"
                                + "<td align='center'>( ").append(rs2.getString("kd_diagnosa_sekunder3")).append(" )</td></tr>");
                    }
                    if (!rs2.getString("diagnosa_sekunder4").isEmpty()) {
                        htmlContent.append("<tr><td style='padding-left: 40px;'>4. ").append(rs2.getString("diagnosa_sekunder4")).append("</td>"
                                + "<td align='center'>( ").append(rs2.getString("kd_diagnosa_sekunder4")).append(" )</td></tr>");
                    }

                    // Tindakan/Prosedur
                    if (!rs2.getString("prosedur_utama").isEmpty()) {
                        htmlContent.append("<tr><td style='padding-left: 20px;'>- Tindakan/ Prosedur</td><td></td></tr>"
                                + "<tr><td style='padding-left: 40px;'>1. ").append(rs2.getString("prosedur_utama")).append("</td>"
                                + "<td align='center'>( ").append(rs2.getString("kd_prosedur_utama")).append(" )</td></tr>");
                    }
                    if (!rs2.getString("prosedur_sekunder").isEmpty()) {
                        htmlContent.append("<tr><td style='padding-left: 40px;'>2. ").append(rs2.getString("prosedur_sekunder")).append("</td>"
                                + "<td align='center'>( ").append(rs2.getString("kd_prosedur_sekunder")).append(" )</td></tr>");
                    }
                    if (!rs2.getString("prosedur_sekunder2").isEmpty()) {
                        htmlContent.append("<tr><td style='padding-left: 40px;'>3. ").append(rs2.getString("prosedur_sekunder2")).append("</td>"
                                + "<td align='center'>( ").append(rs2.getString("kd_prosedur_sekunder2")).append(" )</td></tr>");
                    }
                    if (!rs2.getString("prosedur_sekunder3").isEmpty()) {
                        htmlContent.append("<tr><td style='padding-left: 40px;'>4. ").append(rs2.getString("prosedur_sekunder3")).append("</td>"
                                + "<td align='center'>( ").append(rs2.getString("kd_prosedur_sekunder3")).append(" )</td></tr>");
                    }

                    htmlContent.append("</table><br>");

                    // Instruksi/Anjuran & Edukasi (Follow Up)
                    htmlContent.append("<table width='100%' border='0' cellpadding='3px' cellspacing='0'>"
                            + "<tr><td><strong>Instruksi/ Anjuran & Edukasi (Follow Up):</strong></td></tr>"
                            + "<tr><td style='padding-left: 20px;'>").append(rs2.getString("anjuran").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr>"
                            + "</table><br>");

                    // Status Pulang
                    htmlContent.append("<table width='100%' border='0' cellpadding='3px' cellspacing='0'>"
                            + "<tr><td width='33%'><strong>Keadaan Pulang</strong></td><td width='33%'><strong>Cara Keluar</strong></td><td width='34%'><strong>Tanggal Kontrol</strong></td></tr>"
                            + "<tr><td>").append(rs2.getString("cara_keluar")).append("</td><td>").append(rs2.getString("keadaan")).append("</td><td>").append(rs2.getString("kontrol")).append("</td></tr>"
                            + "<tr><td><strong>Dilanjutkan</strong></td><td><strong>:</strong></td><td>").append(rs2.getString("keadaan")).append("</td></tr>"
                            + "</table><br>");

                    // Terapi Pulang
                    htmlContent.append("<table width='100%' border='0' cellpadding='3px' cellspacing='0'>"
                            + "<tr><td><strong>Terapi Pulang:</strong></td></tr>"
                            + "<tr><td style='padding-left: 20px;'>").append(rs2.getString("obat_pulang").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr>"
                            + "</table><br>");

                    // Tanda tangan dokter dengan 3 kolom
                    htmlContent.append("<table width='100%' border='0' cellpadding='10px' cellspacing='0'>"
                            + "<tr>"
                            + "<td width='33%' align='center'>Dokter Penanggung Jawab 3</td>"
                            + "<td width='33%' align='center'>Dokter Penanggung Jawab 2</td>"
                            + "<td width='34%' align='center'>Dokter Penanggung Jawab</td>"
                            + "</tr>"
                            + "<tr>"
                            + "<td align='center'>");

                    // QR Code 1
                    htmlContent.append(Sequel.cariIsi("select qrcode.qrcode from qrcode where qrcode.no_rawat=?", rs.getString("no_rawat")));

                    htmlContent.append("</td>"
                            + "<td align='center'>");

                    // QR Code 2
                    htmlContent.append(Sequel.cariIsi("select qrcode.qrcode from qrcode where qrcode.no_rawat=?", rs.getString("no_rawat")));

                    htmlContent.append("</td>"
                            + "<td align='center'>");

                    // QR Code 3
                    htmlContent.append(Sequel.cariIsi("select qrcode.qrcode from qrcode where qrcode.no_rawat=?", rs.getString("no_rawat")));

                    htmlContent.append("</td>"
                            + "</tr>"
                            + "<tr>"
                            + "<td align='center'>dr. ").append(rs2.getString("nm_dokter")).append("</td>"
                            + "<td align='center'>dr. ").append(rs2.getString("nm_dokter")).append("</td>"
                            + "<td align='center'>dr. ").append(rs2.getString("nm_dokter")).append("</td>"
                            + "</tr>"
                            + "</table>");

                    htmlContent.append("</fieldset></p>");
                }
            } catch (Exception e) {
                System.out.println("Notifikasi Resume Ranap RSCB : " + e);
            } finally {
                if (rs2 != null) {
                    try {
                        rs2.close();
                    } catch (Exception e) {
                        System.out.println("Error closing rs2: " + e);
                    }
                }
            }
        }
    }

    private void menampilkanRESUMEBPJS(String norawat) {
        if (chkResume.isSelected() == true) {
            //RESUME RANAP SAJA
            try {
                rs2 = koneksi.prepareStatement(
                        "select resume_pasien_ranap.kd_dokter,dokter.nm_dokter,resume_pasien_ranap.diagnosa_awal,resume_pasien_ranap.alasan,resume_pasien_ranap.keluhan_utama,resume_pasien_ranap.pemeriksaan_fisik,"
                        + "resume_pasien_ranap.jalannya_penyakit,resume_pasien_ranap.pemeriksaan_penunjang,resume_pasien_ranap.hasil_laborat,resume_pasien_ranap.tindakan_dan_operasi,resume_pasien_ranap.obat_di_rs,"
                        + "resume_pasien_ranap.diagnosa_utama,resume_pasien_ranap.kd_diagnosa_utama,resume_pasien_ranap.diagnosa_sekunder,resume_pasien_ranap.kd_diagnosa_sekunder,resume_pasien_ranap.diagnosa_sekunder2,"
                        + "resume_pasien_ranap.kd_diagnosa_sekunder2,resume_pasien_ranap.diagnosa_sekunder3,resume_pasien_ranap.kd_diagnosa_sekunder3,resume_pasien_ranap.diagnosa_sekunder4,"
                        + "resume_pasien_ranap.kd_diagnosa_sekunder4,resume_pasien_ranap.prosedur_utama,resume_pasien_ranap.kd_prosedur_utama,resume_pasien_ranap.prosedur_sekunder,resume_pasien_ranap.kd_prosedur_sekunder,"
                        + "resume_pasien_ranap.prosedur_sekunder2,resume_pasien_ranap.kd_prosedur_sekunder2,resume_pasien_ranap.prosedur_sekunder3,resume_pasien_ranap.kd_prosedur_sekunder3,resume_pasien_ranap.alergi,"
                        + "resume_pasien_ranap.diet,resume_pasien_ranap.lab_belum,resume_pasien_ranap.edukasi,resume_pasien_ranap.cara_keluar,resume_pasien_ranap.ket_keluar,resume_pasien_ranap.keadaan,"
                        + "resume_pasien_ranap.ket_keadaan,resume_pasien_ranap.dilanjutkan,resume_pasien_ranap.ket_dilanjutkan,resume_pasien_ranap.kontrol,resume_pasien_ranap.obat_pulang,pasien.pekerjaan,reg_periksa.almt_pj "
                        + "from resume_pasien_ranap inner join dokter on resume_pasien_ranap.kd_dokter=dokter.kd_dokter "
                        + "inner join reg_periksa on resume_pasien_ranap.no_rawat=reg_periksa.no_rawat inner join pasien on reg_periksa.no_rkm_medis=pasien.no_rkm_medis "
                        + "where resume_pasien_ranap.no_rawat='" + rs.getString("no_rawat") + "'").executeQuery();
                if (rs2.next()) {
                    htmlContent.append(
                            "<br><br><br>"
                            + "<p class='pagebreak'>"
                            + "<fieldset>");
                    Copsurat();
                    htmlContent.append("<h2><center>RESUME MEDIS PASIEN</center></h2>");

                    // Tabel informasi pasien dalam format 2 kolom
                    htmlContent.append("<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                            + "<tr>"
                            + "<td valign='top' width='50%'>"
                            + "<table width='100%' border='0' cellpadding='3px' cellspacing='0'>"
                            + "<tr><td width='30%'>Nama Pasien</td><td width='5%'>:</td><td width='65%'>").append(rs.getString("nm_pasien")).append("</td></tr>"
                            + "<tr><td>Umur</td><td>:</td><td>").append(rs.getString("umurdaftar")).append(" ").append(rs.getString("sttsumur")).append("</td></tr>"
                            + "<tr><td>Tgl Lahir</td><td>:</td><td>").append(rs.getString("tgl_lahir")).append("</td></tr>"
                            + "<tr><td>Pekerjaan</td><td>:</td><td>").append(rs2.getString("pekerjaan")).append("</td></tr>"
                            + "<tr><td>Alamat</td><td>:</td><td>").append(rs2.getString("almt_pj")).append("</td></tr>"
                            + "</table>"
                            + "</td>"
                            + "<td valign='top' width='50%'>"
                            + "<table width='100%' border='0' cellpadding='3px' cellspacing='0'>"
                            + "<tr><td width='30%'>No. Rekam Medis</td><td width='5%'>:</td><td width='65%'>").append(rs.getString("no_rkm_medis")).append("</td></tr>"
                            + "<tr><td>Ruang</td><td>:</td><td>").append(rs.getString("nm_poli")).append("</td></tr>"
                            + "<tr><td>Jenis Kelamin</td><td>:</td><td>").append(rs.getString("jk").equals("L") ? "Laki-laki" : "Perempuan").append("</td></tr>"
                            + "<tr><td>Tanggal Masuk</td><td>:</td><td>").append(rs.getString("tgl_registrasi")).append("</td></tr>"
                            + "<tr><td>Tanggal Keluar</td><td>:</td><td>").append(rs.getString("tgl_registrasi")).append("</td></tr>"
                            + "</table>"
                            + "</td>"
                            + "</tr>"
                            + "</table>");

                    // Konten khusus rawat inap
                    htmlContent.append("<br>");

                    // Diagnosa Awal Masuk
                    htmlContent.append("<table width='100%' border='0' cellpadding='3px' cellspacing='0'>"
                            + "<tr><td><strong>Diagnosa Awal Masuk :</strong> ").append(rs2.getString("diagnosa_awal")).append("</td></tr>"
                            + "<tr><td><strong>Alasan Masuk Dirawat :</strong></td></tr>"
                            + "<tr><td style='padding-left: 20px;'>").append(rs2.getString("alasan").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr>"
                            + "</table><br>");

                    // Keluhan Utama Riwayat Penyakit
                    htmlContent.append("<table width='100%' border='0' cellpadding='3px' cellspacing='0'>"
                            + "<tr><td><strong>Keluhan Utama Riwayat Penyakit :</strong></td></tr>"
                            + "<tr><td style='padding-left: 20px;'>").append(rs2.getString("keluhan_utama").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr>"
                            + "</table><br>");

                    // Pemeriksaan Fisik
                    htmlContent.append("<table width='100%' border='0' cellpadding='3px' cellspacing='0'>"
                            + "<tr><td><strong>Pemeriksaan Fisik :</strong></td></tr>"
                            + "<tr><td style='padding-left: 20px;'>").append(rs2.getString("pemeriksaan_fisik").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr>"
                            + "</table><br>");

                    // Jalannya Penyakit Selama Perawatan
                    htmlContent.append("<table width='100%' border='0' cellpadding='3px' cellspacing='0'>"
                            + "<tr><td><strong>Jalannya Penyakit Selama Perawatan :</strong></td></tr>"
                            + "<tr><td style='padding-left: 20px;'>").append(rs2.getString("jalannya_penyakit").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr>"
                            + "</table><br>");

                    // Pemeriksaan Penunjang Rad Terpenting
                    htmlContent.append("<table width='100%' border='0' cellpadding='3px' cellspacing='0'>"
                            + "<tr><td><strong>Pemeriksaan Penunjang Radiologi Terpenting :</strong></td></tr>"
                            + "<tr><td style='padding-left: 20px;'>").append(rs2.getString("pemeriksaan_penunjang").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr>"
                            + "</table><br>");

                    // Pemeriksaan Penunjang Lab Terpenting
                    htmlContent.append("<table width='100%' border='0' cellpadding='3px' cellspacing='0'>"
                            + "<tr><td><strong>Pemeriksaan Penunjang Laboratorium Terpenting :</strong></td></tr>"
                            + "<tr><td style='padding-left: 20px;'>").append(rs2.getString("hasil_laborat").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr>"
                            + "</table><br>");

                    // Tindakan/Operasi Selama Perawatan
                    htmlContent.append("<table width='100%' border='0' cellpadding='3px' cellspacing='0'>"
                            + "<tr><td><strong>Tindakan/Operasi Selama Perawatan :</strong></td></tr>"
                            + "<tr><td style='padding-left: 20px;'>").append(rs2.getString("tindakan_dan_operasi").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr>"
                            + "</table><br>");

                    // Obat-obatan Selama Perawatan
                    htmlContent.append("<table width='100%' border='0' cellpadding='3px' cellspacing='0'>"
                            + "<tr><td><strong>Obat-obatan Selama Perawatan :</strong></td></tr>"
                            + "<tr><td style='padding-left: 20px;'>").append(rs2.getString("obat_di_rs").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr>"
                            + "</table><br>");

                    // Diagnosa Akhir untuk Rawat Inap
                    htmlContent.append("<table width='100%' border='0' cellpadding='3px' cellspacing='0'>"
                            + "<tr><td><strong>Diagnosa Akhir :</strong></td><td width='15%' align='right'><strong>Kode ICD</strong></td></tr>");

                    // Diagnosa Utama
                    if (!rs2.getString("diagnosa_utama").isEmpty()) {
                        htmlContent.append("<tr><td style='padding-left: 20px;'>- Diagnosa Utama</td><td></td></tr>"
                                + "<tr><td style='padding-left: 40px;'>: ").append(rs2.getString("diagnosa_utama")).append("</td>"
                                + "<td align='center'>( ").append(rs2.getString("kd_diagnosa_utama")).append(" )</td></tr>");
                    }

                    // Diagnosa Sekunder 1-4
                    if (!rs2.getString("diagnosa_sekunder").isEmpty()) {
                        htmlContent.append("<tr><td style='padding-left: 20px;'>- Diagnosa Sekunder</td><td></td></tr>"
                                + "<tr><td style='padding-left: 40px;'>1. ").append(rs2.getString("diagnosa_sekunder")).append("</td>"
                                + "<td align='center'>( ").append(rs2.getString("kd_diagnosa_sekunder")).append(" )</td></tr>");
                    }
                    if (!rs2.getString("diagnosa_sekunder2").isEmpty()) {
                        htmlContent.append("<tr><td style='padding-left: 40px;'>2. ").append(rs2.getString("diagnosa_sekunder2")).append("</td>"
                                + "<td align='center'>( ").append(rs2.getString("kd_diagnosa_sekunder2")).append(" )</td></tr>");
                    }
                    if (!rs2.getString("diagnosa_sekunder3").isEmpty()) {
                        htmlContent.append("<tr><td style='padding-left: 40px;'>3. ").append(rs2.getString("diagnosa_sekunder3")).append("</td>"
                                + "<td align='center'>( ").append(rs2.getString("kd_diagnosa_sekunder3")).append(" )</td></tr>");
                    }
                    if (!rs2.getString("diagnosa_sekunder4").isEmpty()) {
                        htmlContent.append("<tr><td style='padding-left: 40px;'>4. ").append(rs2.getString("diagnosa_sekunder4")).append("</td>"
                                + "<td align='center'>( ").append(rs2.getString("kd_diagnosa_sekunder4")).append(" )</td></tr>");
                    }

                    // Prosedur/Tindakan untuk Rawat Inap
                    if (!rs2.getString("prosedur_utama").isEmpty()) {
                        htmlContent.append("<tr><td style='padding-left: 20px;'>- Prosedur/Tindakan Utama</td><td></td></tr>"
                                + "<tr><td style='padding-left: 40px;'>1. ").append(rs2.getString("prosedur_utama")).append("</td>"
                                + "<td align='center'>( ").append(rs2.getString("kd_prosedur_utama")).append(" )</td></tr>");
                    }
                    if (!rs2.getString("prosedur_sekunder").isEmpty()) {
                        htmlContent.append("<tr><td style='padding-left: 20px;'>- Prosedur/Tindakan Sekunder</td><td></td></tr>"
                                + "<tr><td style='padding-left: 40px;'>1. ").append(rs2.getString("prosedur_sekunder")).append("</td>"
                                + "<td align='center'>( ").append(rs2.getString("kd_prosedur_sekunder")).append(" )</td></tr>");
                    }
                    if (!rs2.getString("prosedur_sekunder2").isEmpty()) {
                        htmlContent.append("<tr><td style='padding-left: 40px;'>2. ").append(rs2.getString("prosedur_sekunder2")).append("</td>"
                                + "<td align='center'>( ").append(rs2.getString("kd_prosedur_sekunder2")).append(" )</td></tr>");
                    }
                    if (!rs2.getString("prosedur_sekunder3").isEmpty()) {
                        htmlContent.append("<tr><td style='padding-left: 40px;'>3. ").append(rs2.getString("prosedur_sekunder3")).append("</td>"
                                + "<td align='center'>( ").append(rs2.getString("kd_prosedur_sekunder3")).append(" )</td></tr>");
                    }

                    htmlContent.append("</table><br>");

                    // Alergi Obat
                    htmlContent.append("<table width='100%' border='0' cellpadding='3px' cellspacing='0'>"
                            + "<tr><td><strong>Alergi / Reaksi Obat :</strong></td></tr>"
                            + "<tr><td style='padding-left: 20px;'>").append(rs2.getString("alergi").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr>"
                            + "</table><br>");

                    // Diet Selama Perawatan
                    htmlContent.append("<table width='100%' border='0' cellpadding='3px' cellspacing='0'>"
                            + "<tr><td><strong>Diet Selama Perawatan :</strong></td></tr>"
                            + "<tr><td style='padding-left: 20px;'>").append(rs2.getString("diet").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr>"
                            + "</table><br>");

                    // Hasil Lab Yang Belum Selesai (Pending)
                    htmlContent.append("<table width='100%' border='0' cellpadding='3px' cellspacing='0'>"
                            + "<tr><td><strong>Hasil Lab Yang Belum Selesai (Pending) :</strong></td></tr>"
                            + "<tr><td style='padding-left: 20px;'>").append(rs2.getString("lab_belum").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr>"
                            + "</table><br>");

                    // Instruksi/Anjuran Dan Edukasi (Follow Up)
                    htmlContent.append("<table width='100%' border='0' cellpadding='3px' cellspacing='0'>"
                            + "<tr><td><strong>Instruksi/Anjuran Dan Edukasi (Follow Up) :</strong></td></tr>"
                            + "<tr><td style='padding-left: 20px;'>").append(rs2.getString("edukasi").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr>"
                            + "</table><br>");

                    // Status pulang untuk rawat inap
                    htmlContent.append("<table width='100%' border='0' cellpadding='3px' cellspacing='0'>"
                            + "<tr><td width='16%'><strong>Keadaan Pulang</strong></td><td width='2%'>:</td><td width='15%'>").append(rs2.getString("keadaan")).append(rs2.getString("ket_keadaan").equals("") ? "" : ", " + rs2.getString("ket_keadaan")).append("</td>"
                            + "<td width='16%'><strong>Cara Keluar</strong></td><td width='2%'>:</td><td width='15%'>").append(rs2.getString("cara_keluar")).append(rs2.getString("ket_keluar").equals("") ? "" : ", " + rs2.getString("ket_keluar")).append("</td>"
                            + "<td width='16%'><strong>Dilanjutkan</strong></td><td width='2%'>:</td><td width='16%'>").append(rs2.getString("dilanjutkan")).append(rs2.getString("ket_dilanjutkan").equals("") ? "" : ", " + rs2.getString("ket_dilanjutkan")).append("</td></tr>"
                            + "<tr><td><strong>Tanggal Kontrol</strong></td><td>:</td><td colspan='7'>").append(rs2.getString("kontrol")).append("</td></tr>"
                            + "</table><br>");

                    // Obat-obatan Waktu Pulang
                    htmlContent.append("<table width='100%' border='0' cellpadding='3px' cellspacing='0'>"
                            + "<tr><td><strong>Obat-obatan waktu pulang :</strong></td></tr>"
                            + "<tr><td style='padding-left: 20px;'>").append(rs2.getString("obat_pulang").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr>"
                            + "</table><br>");

                    // Footer dengan tanda tangan untuk rawat inap
                    htmlContent.append("<table width='100%' border='0' cellpadding='10px' cellspacing='0'>"
                            + "<tr>"
                            + "<td width='20%' align='center'>Keadaan Pulang</td>"
                            + "<td width='20%' align='center'>Cara Keluar</td>"
                            + "<td width='20%' align='center'>Atas Izin Dokter</td>"
                            + "<td width='20%' align='center'>Dokter Penanggung Jawab 2</td>"
                            + "<td width='20%' align='center'>Dokter Penanggung Jawab</td>"
                            + "</tr>"
                            + "<tr>"
                            + "<td align='center'>").append(rs2.getString("keadaan")).append("</td>"
                            + "<td align='center'>").append(rs2.getString("cara_keluar")).append("</td>"
                            + "<td align='center'>Atas Izin Dokter</td>"
                            + "<td align='center'>Tanggal Kontrol : ").append(rs2.getString("kontrol")).append("</td>"
                            + "<td align='center'></td>"
                            + "</tr>"
                            + "<tr><td colspan='5' height='30px'></td></tr>"
                            + "<tr>"
                            + "<td align='center'></td>"
                            + "<td align='center'></td>"
                            + "<td align='center'>");

                    // QR Code untuk rawat inap
                    htmlContent.append(Sequel.cariIsi("select qrcode.qrcode from qrcode where qrcode.no_rawat=?", rs.getString("no_rawat")));

                    htmlContent.append("</td>"
                            + "<td align='center'>");

                    htmlContent.append(Sequel.cariIsi("select qrcode.qrcode from qrcode where qrcode.no_rawat=?", rs.getString("no_rawat")));

                    htmlContent.append("</td>"
                            + "<td align='center'>");

                    htmlContent.append(Sequel.cariIsi("select qrcode.qrcode from qrcode where qrcode.no_rawat=?", rs.getString("no_rawat")));

                    htmlContent.append("</td>"
                            + "</tr>"
                            + "<tr>"
                            + "<td></td>"
                            + "<td></td>"
                            + "<td align='center'>").append(rs2.getString("nm_dokter")).append("</td>"
                            + "<td align='center'>").append(rs2.getString("nm_dokter")).append("</td>"
                            + "<td align='center'>").append(rs2.getString("nm_dokter")).append("</td>"
                            + "</tr>"
                            + "</table>");

                    // Tambahkan bagian tanda tangan/verifikasi untuk rawat inap
                    if (R4.isSelected() == true) {
                        if (rs.getString("status_lanjut").equals("Ranap")) {
                            try {
                                rs3 = koneksi.prepareStatement(
                                        "select dpjp_ranap.kd_dokter,dokter.nm_dokter from dpjp_ranap inner join dokter on dpjp_ranap.kd_dokter=dokter.kd_dokter where dpjp_ranap.no_rawat='" + rs.getString("no_rawat") + "'").executeQuery();
                                if (rs3.next()) {
                                    htmlContent.append(
                                            "<tr class='isi'>"
                                            + "<td valign='top' width='2%'></td>"
                                            + "<td valign='middle' width='18%'>Tanda Tangan/Verifikasi</td>"
                                            + "<td valign='middle' width='1%' align='center'>:</td>"
                                            + "<td valign='top' width='79%' align='center'>"
                                            + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                            + "<tr class='isi'>"
                                    );
                                    rs3.beforeFirst();
                                    urutdpjp = 1;
                                    while (rs3.next()) {
                                        get = new GetMethod("http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/penggajian/generateqrcode.php?kodedokter=" + rs3.getString("kd_dokter").replace(" ", "_"));
                                        http.executeMethod(get);
                                        htmlContent.append("<td border='0' align='center'>Dokter DPJP " + urutdpjp + "<br><img width='90' height='90' src='http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/penggajian/temp/" + rs3.getString("kd_dokter") + ".png'/><br>" + rs3.getString("nm_dokter") + "</td>");
                                        urutdpjp++;
                                    }
                                    htmlContent.append(
                                            "</tr>"
                                            + "</table>"
                                            + "</td>"
                                            + "</tr>"
                                    );
                                } else {
                                    get = new GetMethod("http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/penggajian/generateqrcode.php?kodedokter=" + rs.getString("kd_dokter").replace(" ", "_"));
                                    http.executeMethod(get);

                                    htmlContent.append(
                                            "<tr class='isi'>"
                                            + "<td valign='top' width='2%'></td>"
                                            + "<td valign='middle' width='18%'>Tanda Tangan/Verifikasi</td>"
                                            + "<td valign='middle' width='1%' align='center'>:</td>"
                                            + "<td valign='middle' width='79%' align='center'>Dokter DPJP<br><img width='90' height='90' src='http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/penggajian/temp/" + rs.getString("kd_dokter") + ".png'/><br>" + rs.getString("nm_dokter") + "</td>"
                                            + "</tr>"
                                    );
                                }
                            } catch (Exception e) {
                                System.out.println("Tanda Tangan IGD : " + e);
                            } finally {
                                if (rs3 != null) {
                                    rs3.close();
                                }
                            }
                        }
                    }

                    htmlContent.append("</fieldset></p>");
                }
            } catch (Exception e) {
                System.out.println("Notifikasi Resume Rawat Inap : " + e);
            } finally {
                if (rs2 != null) {
                    try {
                        rs2.close();
                    } catch (Exception e) {
                        System.out.println("Error closing rs2: " + e);
                    }
                }
            }
        }
    }

    // Method untuk format tanggal dari YYYY-MM-DD ke DD MMMM YYYY (dengan jam jika ada)
    private String formatTanggal(String tanggalDb) {
        if (tanggalDb == null || tanggalDb.trim().isEmpty()) {
            return "";
        }

        try {
            String[] bulanIndonesia = {
                "", "Januari", "Februari", "Maret", "April", "Mei", "Juni",
                "Juli", "Agustus", "September", "Oktober", "November", "Desember"
            };

            String jam = "";
            String tanggalSaja = tanggalDb;

            // Cek apakah ada jam (format datetime YYYY-MM-DD HH:mm:ss)
            if (tanggalDb.contains(" ")) {
                String[] bagianDateTime = tanggalDb.split(" ");
                tanggalSaja = bagianDateTime[0];
                if (bagianDateTime.length > 1) {
                    jam = " " + bagianDateTime[1]; // Simpan bagian jam
                }
            }

            String[] bagianTanggal = tanggalSaja.split("-");
            if (bagianTanggal.length == 3) {
                int tahun = Integer.parseInt(bagianTanggal[0]);
                int bulan = Integer.parseInt(bagianTanggal[1]);
                int hari = Integer.parseInt(bagianTanggal[2]);

                if (bulan >= 1 && bulan <= 12) {
                    return hari + " " + bulanIndonesia[bulan] + " " + tahun + jam;
                }
            }
        } catch (Exception e) {
            System.out.println("Error formatting date: " + e);
        }

        // Jika gagal format, kembalikan tanggal asli
        return tanggalDb;
    }

    private void menampilkanLaporanOperasi(String norawat) {
        try {
            if (chkLaporanOperasi.isSelected() == true) {
                // Deklarasi ResultSet sebagai variabel lokal
                ResultSet rs = null;
                ResultSet rs2 = null;

                try {
                    // Query utama untuk mendapatkan data pasien dari operasi
                    rs = koneksi.prepareStatement(
                            "select operasi.no_rawat, reg_periksa.no_rkm_medis, pasien.nm_pasien, pasien.jk, pasien.tgl_lahir, "
                            + "concat(reg_periksa.umurdaftar,' ',reg_periksa.sttsumur) as umurdaftar, reg_periksa.sttsumur, "
                            + "bangsal.nm_bangsal, reg_periksa.status_lanjut, operasi.tgl_operasi "
                            + "from operasi inner join reg_periksa on operasi.no_rawat=reg_periksa.no_rawat "
                            + "inner join pasien on reg_periksa.no_rkm_medis=pasien.no_rkm_medis "
                            + "left join kamar_inap on operasi.no_rawat=kamar_inap.no_rawat "
                            + "left join kamar on kamar_inap.kd_kamar=kamar.kd_kamar "
                            + "left join bangsal on kamar.kd_bangsal=bangsal.kd_bangsal "
                            + "where operasi.no_rawat='" + norawat + "' "
                            + "group by operasi.no_rawat order by operasi.tgl_operasi").executeQuery();

                    if (rs.next()) {
                        // Simpan SEMUA data dari rs sebelum query lain
                        String no_rawat = rs.getString("no_rawat");
                        String no_rkm_medis = rs.getString("no_rkm_medis");
                        String nm_pasien = rs.getString("nm_pasien");
                        String jk = rs.getString("jk");
                        String tgl_lahir_raw = rs.getString("tgl_lahir");
                        String nm_bangsal = rs.getString("nm_bangsal") != null ? rs.getString("nm_bangsal") : "Rawat Jalan";
                        String umurdaftar = rs.getString("umurdaftar");
                        String status_lanjut = rs.getString("status_lanjut");
                        String tgl_operasi_raw = rs.getString("tgl_operasi");

                        // Format tanggal lahir
                        String tgl_lahir = formatTanggal(tgl_lahir_raw);
                        String tgl_operasi = formatTanggal(tgl_operasi_raw);

                        // Tutup rs sebelum membuka rs2
                        if (rs != null) {
                            rs.close();
                            rs = null;
                        }

                        // Query untuk laporan operasi
                        rs2 = koneksi.prepareStatement(
                                "select tanggal, diagnosa_preop, diagnosa_postop, jaringan_dieksekusi, selesaioperasi, permintaan_pa, laporan_operasi,perdarahan "
                                + "from laporan_operasi where no_rawat='" + no_rawat + "' group by no_rawat,tanggal order by tanggal").executeQuery();

                        if (rs2.next()) {
                            // Simpan SEMUA data dari rs2
                            String tanggal_raw = rs2.getString("tanggal");
                            String diagnosa_preop = rs2.getString("diagnosa_preop") != null ? rs2.getString("diagnosa_preop") : "";
                            String diagnosa_postop = rs2.getString("diagnosa_postop") != null ? rs2.getString("diagnosa_postop") : "";
                            String jaringan_dieksekusi = rs2.getString("jaringan_dieksekusi") != null ? rs2.getString("jaringan_dieksekusi") : "";
                            String selesaioperasi = rs2.getString("selesaioperasi") != null ? rs2.getString("selesaioperasi") : "";
                            String permintaan_pa = rs2.getString("permintaan_pa") != null ? rs2.getString("permintaan_pa") : "";
                            String laporan_operasi = rs2.getString("laporan_operasi") != null ? rs2.getString("laporan_operasi") : "";
                            String perdarahan = rs2.getString("laporan_operasi") != null ? rs2.getString("perdarahan") : "";

                            // Format tanggal
                            String tanggal = formatTanggal(tanggal_raw);

                            // Tutup rs2 setelah mengambil data
                            if (rs2 != null) {
                                rs2.close();
                                rs2 = null;
                            }

                            // Ambil data tim operasi dari tabel operasi dengan join ke dokter dan petugas
                            PreparedStatement psOperasi = null;
                            ResultSet rsOperasi = null;
                            String operator1 = "", operator2 = "", dokterAnestesi = "", asistenOperator1 = "", instrumen = "";
                            String jenisAnestesi = "", kategori = "", jenisPembedahan = "", kdoperator1 = "";

                            try {
                                psOperasi = koneksi.prepareStatement(
                                        "SELECT "
                                        + "(SELECT nm_dokter FROM dokter WHERE dokter.kd_dokter = operasi.operator1) as operator1, "
                                        + "(SELECT nm_dokter FROM dokter WHERE dokter.kd_dokter = operasi.operator2) as operator2, "
                                        + "(SELECT nm_dokter FROM dokter WHERE dokter.kd_dokter = operasi.dokter_anestesi) as dokter_anestesi, "
                                        + "(SELECT nama FROM petugas WHERE petugas.nip = operasi.asisten_operator1) as asisten_operator1, "
                                        + "(SELECT nama FROM petugas WHERE petugas.nip = operasi.instrumen) as instrumen, "
                                        + "(SELECT nm_perawatan FROM paket_operasi WHERE paket_operasi.kode_paket = operasi.kode_paket) as jenis_pembedahan, "
                                        + "operasi.operator1 as kdoperator1, operasi.jenis_anasthesi, operasi.kategori "
                                        + "FROM operasi WHERE operasi.no_rawat='" + no_rawat + "' "
                                        + "AND operasi.tgl_operasi='" + tanggal_raw + "'");

                                rsOperasi = psOperasi.executeQuery();

                                if (rsOperasi.next()) {
                                    operator1 = rsOperasi.getString("operator1") != null ? rsOperasi.getString("operator1") : "";
                                    operator2 = rsOperasi.getString("operator2") != null ? rsOperasi.getString("operator2") : "";
                                    dokterAnestesi = rsOperasi.getString("dokter_anestesi") != null ? rsOperasi.getString("dokter_anestesi") : "";
                                    asistenOperator1 = rsOperasi.getString("asisten_operator1") != null ? rsOperasi.getString("asisten_operator1") : "";
                                    instrumen = rsOperasi.getString("instrumen") != null ? rsOperasi.getString("instrumen") : "";
                                    jenisAnestesi = rsOperasi.getString("jenis_anasthesi") != null ? rsOperasi.getString("jenis_anasthesi") : "";
                                    kategori = rsOperasi.getString("kategori") != null ? rsOperasi.getString("kategori") : "";
                                    jenisPembedahan = rsOperasi.getString("jenis_pembedahan") != null ? rsOperasi.getString("jenis_pembedahan") : "";
                                    kdoperator1 = rsOperasi.getString("kdoperator1") != null ? rsOperasi.getString("kdoperator1") : "";
                                }
                            } catch (Exception e) {
                                System.out.println("Error getting operasi data: " + e);
                                // Fallback ke data static jika query gagal
                                operator1 = "Dr. Operator Utama";
                                dokterAnestesi = "Dr. Anestesi";
                                asistenOperator1 = "Asisten Operator 1";
                                instrumen = "Perawat Instrumen";
                                jenisAnestesi = "General Anestesi";
                                kategori = "Sedang";
                                jenisPembedahan = "Operasi Bedah Umum";
                                kdoperator1 = "";
                            } finally {
                                if (rsOperasi != null) {
                                    try {
                                        rsOperasi.close();
                                    } catch (Exception e) {
                                    }
                                }
                                if (psOperasi != null) {
                                    try {
                                        psOperasi.close();
                                    } catch (Exception e) {
                                    }
                                }
                            }

                            htmlContent.append(
                                    "<br><br><br>"
                                    + "<p class='pagebreak'>"
                                    + "<fieldset>");

                            // Header Rumah Sakit menggunakan method Copsurat()
                            Copsurat();

                            // Judul Form
                            htmlContent.append("<table width='100%' border='0' cellpadding='0' cellspacing='0'>"
                                    + "<tr>"
                                    + "<td width='80%' align='center'><h3><b>FORMULIR LAPORAN OPERASI</b></h3></td>"
                                    + "<td width='20%' align='right' valign='top'><small><b>RM.IBS.11.010.A.2019</b></small></td>"
                                    + "</tr>"
                                    + "</table>");

                            // Data Pasien - Format lebih rapi
                            htmlContent.append(
                                    "<table width='100%' border='1' cellpadding='8' cellspacing='0' style='border-collapse: collapse; margin-top: 10px;'>"
                                    + "<tr style='background-color: #f8f9fa;'>"
                                    + "<td colspan='6' style='text-align: center; font-weight: bold; font-size: 14px; padding: 12px;'>DATA IDENTITAS PASIEN</td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td width='15%' style='font-weight: bold; vertical-align: top; padding: 8px;'>No. RM</td>"
                                    + "<td width='2%' style='text-align: center; vertical-align: top; padding: 8px;'>:</td>"
                                    + "<td width='33%' style='vertical-align: top; padding: 8px;'>" + no_rkm_medis + "</td>"
                                    + "<td width='15%' style='font-weight: bold; vertical-align: top; padding: 8px;'>Nama Pasien</td>"
                                    + "<td width='2%' style='text-align: center; vertical-align: top; padding: 8px;'>:</td>"
                                    + "<td width='33%' style='vertical-align: top; padding: 8px;'>" + nm_pasien + "</td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td style='font-weight: bold; vertical-align: top; padding: 8px;'>Tanggal Lahir</td>"
                                    + "<td style='text-align: center; vertical-align: top; padding: 8px;'>:</td>"
                                    + "<td style='vertical-align: top; padding: 8px;'>" + tgl_lahir + "</td>"
                                    + "<td style='font-weight: bold; vertical-align: top; padding: 8px;'>Jenis Kelamin</td>"
                                    + "<td style='text-align: center; vertical-align: top; padding: 8px;'>:</td>"
                                    + "<td style='vertical-align: top; padding: 8px;'>" + jk + "</td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td style='font-weight: bold; vertical-align: top; padding: 8px;'>Umur</td>"
                                    + "<td style='text-align: center; vertical-align: top; padding: 8px;'>:</td>"
                                    + "<td style='vertical-align: top; padding: 8px;'>" + umurdaftar + "</td>"
                                    + "<td style='font-weight: bold; vertical-align: top; padding: 8px;'>Ruangan</td>"
                                    + "<td style='text-align: center; vertical-align: top; padding: 8px;'>:</td>"
                                    + "<td style='vertical-align: top; padding: 8px;'>" + nm_bangsal + "</td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td style='font-weight: bold; vertical-align: top; padding: 8px;'>Tanggal Operasi</td>"
                                    + "<td style='text-align: center; vertical-align: top; padding: 8px;'>:</td>"
                                    + "<td colspan='4' style='vertical-align: top; padding: 8px;'>" + tanggal + "</td>"
                                    + "</tr>");

                            // Tim Operasi
                            htmlContent.append(
                                    "<tr>"
                                    + "<td width='15%'><b>Ahli Bedah</b></td>"
                                    + "<td width='1%'>:</td>"
                                    + "<td width='34%'>" + operator1 + "</td>"
                                    + "<td width='15%'><b>Asisten Bedah</b></td>"
                                    + "<td width='1%'>:</td>"
                                    + "<td width='34%'>" + asistenOperator1 + "</td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td><b>Ahli Anestesi</b></td>"
                                    + "<td>:</td>"
                                    + "<td>" + dokterAnestesi + "</td>"
                                    + "<td><b>Instrumen</b></td>"
                                    + "<td>:</td>"
                                    + "<td>" + instrumen + "</td>"
                                    + "</tr>");

                            // Diagnosa dan Waktu Operasi
                            htmlContent.append(
                                    "<tr>"
                                    + "<td rowspan='4' width='15%'><b>Diagnosa Prabedah<br><br>Diagnosa Pascabedah</b></td>"
                                    + "<td rowspan='4' width='1%'>:<br><br>:</td>"
                                    + "<td rowspan='4' width='34%'>" + diagnosa_preop + "<br><br>" + diagnosa_postop + "</td>"
                                    + "<td width='25%'><b>Pembedahan mulai pukul</b></td>"
                                    + "<td width='1%'>:</td>"
                                    + "<td width='24%'>" + tgl_operasi + "</td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td><b>Pembedahan selesai pukul</b></td>"
                                    + "<td>:</td>"
                                    + "<td>" + selesaioperasi + "</td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td><b>Lamanya</b></td>"
                                    + "<td>:</td>"
                                    + "<td>2 jam</td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td><b>Tanggal</b></td>"
                                    + "<td>:</td>"
                                    + "<td>" + tanggal + "</td>"
                                    + "</tr>");

                            // Jenis Pembedahan - Tanpa checkbox
                            htmlContent.append(
                                    "<tr>"
                                    + "<td rowspan='2'><b>Jenis Pembedahan</b></td>"
                                    + "<td rowspan='2'>:</td>"
                                    + "<td rowspan='2'>" + jenisPembedahan + "</td>"
                                    + "<td colspan='3'><b>Macam Pembedahan</b></td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td colspan='3'>" + kategori + "</td>"
                                    + "</tr>");

                            // Uraian Pembedahan
                            htmlContent.append(
                                    "<tr>"
                                    + "<td colspan='6'>"
                                    + "<b>Uraian Pembedahan :</b><br>"
                                    + laporan_operasi.replaceAll("(\r\n|\r|\n|\n\r)", "<br>")
                                    + "</td>"
                                    + "</tr>");

                            // Perkiraan Perdarahan - row terpisah
                            htmlContent.append(
                                    "<tr>"
                                    + "<td colspan='6'>"
                                    + "<b>Perkiraan Perdarahan :</b> " + perdarahan + " cc"
                                    + "</td>"
                                    + "</tr>");

                            // Jaringan ke Patologi dan Tanda Tangan
                            String centangTidak = "";
                            String centangYa = "";

                            if (permintaan_pa != null && permintaan_pa.toLowerCase().contains("ya")) {
                                centangYa = "";
                                centangTidak = "";
                            } else {
                                centangYa = "";
                                centangTidak = "";
                            }

                            htmlContent.append(
                                    "<tr>"
                                    + "<td colspan='3'><b>Jaringan dikirim ke Patologi</b><br>"
                                    + centangTidak + " Tidak &nbsp;&nbsp;&nbsp; " + centangYa + " Ya<br>"
                                    + "<i>Keterangan: " + permintaan_pa + "</i></td>"
                                    + "<td colspan='3' align='center'>"
                                    + "<b>Dokter Ahli Bedah</b><br>"
                                    + "<img width='90' height='90' src='http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/penggajian/temp/" + kdoperator1 + ".png'/><br>"
                                    + operator1
                                    + "</td>"
                                    + "</tr>"
                                    + "</table>");

                            // Generate QR Code untuk tanda tangan dokter
                            try {
                                get = new GetMethod("http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/penggajian/generateqrcode.php?kodedokter=" + kdoperator1.replace(" ", "_"));
                                http.executeMethod(get);
                            } catch (Exception e) {
                                System.out.println("Error generating QR code: " + e);
                            }

                            htmlContent.append("</fieldset>");
                        }
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    // Tutup semua resource yang masih terbuka
                    if (rs != null) {
                        try {
                            rs.close();
                        } catch (Exception e) {
                        }
                    }
                    if (rs2 != null) {
                        try {
                            rs2.close();
                        } catch (Exception e) {
                        }
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Laporan Operasi : " + e);
        }
    }

    private void menampilkanLaporanTindakanMedis(String norawat) {
        try {
            if (chkLaporanTindakan.isSelected() == true) {
                // Deklarasi ResultSet sebagai variabel lokal
                ResultSet rs = null;
                ResultSet rs2 = null;

                try {
                    // Query utama untuk mendapatkan data pasien
                    rs = koneksi.prepareStatement(
                            "select reg_periksa.no_rawat, reg_periksa.no_rkm_medis, pasien.nm_pasien, pasien.jk, pasien.tgl_lahir, "
                            + "pasien.alamat, concat(reg_periksa.umurdaftar,' ',reg_periksa.sttsumur) as umurdaftar, reg_periksa.sttsumur, "
                            + "bangsal.nm_bangsal, reg_periksa.status_lanjut, poli.nm_poli "
                            + "from reg_periksa inner join pasien on reg_periksa.no_rkm_medis=pasien.no_rkm_medis "
                            + "left join kamar_inap on reg_periksa.no_rawat=kamar_inap.no_rawat "
                            + "left join kamar on kamar_inap.kd_kamar=kamar.kd_kamar "
                            + "left join bangsal on kamar.kd_bangsal=bangsal.kd_bangsal "
                            + "left join poliklinik poli on reg_periksa.kd_poli=poli.kd_poli "
                            + "where reg_periksa.no_rawat='" + norawat + "' ").executeQuery();

                    if (rs.next()) {
                        // Simpan SEMUA data dari rs sebelum query lain
                        String no_rawat = rs.getString("no_rawat");
                        String no_rkm_medis = rs.getString("no_rkm_medis");
                        String nm_pasien = rs.getString("nm_pasien");
                        String jk = rs.getString("jk");
                        String tgl_lahir = rs.getString("tgl_lahir");
                        String alamat = rs.getString("alamat") != null ? rs.getString("alamat") : "";
                        String nm_bangsal = rs.getString("nm_bangsal") != null ? rs.getString("nm_bangsal") : "Rawat Jalan";
                        String umurdaftar = rs.getString("umurdaftar");
                        String status_lanjut = rs.getString("status_lanjut");
                        String nm_poli = rs.getString("nm_poli") != null ? rs.getString("nm_poli") : "";

                        // Tutup rs sebelum membuka rs2
                        if (rs != null) {
                            rs.close();
                            rs = null;
                        }

                        // Query untuk laporan tindakan medis
                        rs2 = koneksi.prepareStatement(
                                "select tanggal, kd_dokter, nip, diagnosa_pra_tindakan, diagnosa_pasca_tindakan, "
                                + "tindakan_medik, uraian, hasil, kesimpulan "
                                + "from laporan_tindakan where no_rawat='" + no_rawat + "' "
                                + "order by tanggal desc limit 1").executeQuery();

                        if (rs2.next()) {
                            // Simpan SEMUA data dari rs2
                            String tanggal = rs2.getString("tanggal");
                            String kd_dokter = rs2.getString("kd_dokter") != null ? rs2.getString("kd_dokter") : "";
                            String nip = rs2.getString("nip") != null ? rs2.getString("nip") : "";
                            String diagnosa_pra = rs2.getString("diagnosa_pra_tindakan") != null ? rs2.getString("diagnosa_pra_tindakan") : "";
                            String diagnosa_pasca = rs2.getString("diagnosa_pasca_tindakan") != null ? rs2.getString("diagnosa_pasca_tindakan") : "";
                            String tindakan_medik = rs2.getString("tindakan_medik") != null ? rs2.getString("tindakan_medik") : "";
                            String uraian = rs2.getString("uraian") != null ? rs2.getString("uraian") : "";
                            String hasil = rs2.getString("hasil") != null ? rs2.getString("hasil") : "";
                            String kesimpulan = rs2.getString("kesimpulan") != null ? rs2.getString("kesimpulan") : "";

                            // Tutup rs2 setelah mengambil data
                            if (rs2 != null) {
                                rs2.close();
                                rs2 = null;
                            }

                            // Ambil data dokter dan petugas
                            PreparedStatement psDokter = null;
                            ResultSet rsDokter = null;
                            String nm_dokter = "";
                            String nm_petugas = "";

                            try {
                                // Query untuk mendapatkan nama dokter
                                if (!kd_dokter.isEmpty()) {
                                    psDokter = koneksi.prepareStatement(
                                            "SELECT nm_dokter FROM dokter WHERE kd_dokter='" + kd_dokter + "'");
                                    rsDokter = psDokter.executeQuery();
                                    if (rsDokter.next()) {
                                        nm_dokter = rsDokter.getString("nm_dokter");
                                    }
                                    if (rsDokter != null) {
                                        rsDokter.close();
                                    }
                                    if (psDokter != null) {
                                        psDokter.close();
                                    }
                                }

                                // Query untuk mendapatkan nama petugas
                                if (!nip.isEmpty()) {
                                    psDokter = koneksi.prepareStatement(
                                            "SELECT nama FROM petugas WHERE nip='" + nip + "'");
                                    rsDokter = psDokter.executeQuery();
                                    if (rsDokter.next()) {
                                        nm_petugas = rsDokter.getString("nama");
                                    }
                                }
                            } catch (Exception e) {
                                System.out.println("Error getting dokter/petugas data: " + e);
                            } finally {
                                if (rsDokter != null) {
                                    try {
                                        rsDokter.close();
                                    } catch (Exception e) {
                                    }
                                }
                                if (psDokter != null) {
                                    try {
                                        psDokter.close();
                                    } catch (Exception e) {
                                    }
                                }
                            }

                            // Format tanggal untuk tampilan
                            String tanggalFormatted = "";
                            String jamFormatted = "";
                            String tglLahirFormatted = "";
                            try {
                                java.text.SimpleDateFormat inputFormat = new java.text.SimpleDateFormat("yyyy-MM-dd HH:mm:ss");
                                java.text.SimpleDateFormat outputDateFormat = new java.text.SimpleDateFormat("dd/MM/yyyy");
                                java.text.SimpleDateFormat outputTimeFormat = new java.text.SimpleDateFormat("HH:mm:ss");
                                java.util.Date date = inputFormat.parse(tanggal);
                                tanggalFormatted = outputDateFormat.format(date);
                                jamFormatted = outputTimeFormat.format(date);

                                // Format tanggal lahir
                                java.text.SimpleDateFormat inputDateFormat = new java.text.SimpleDateFormat("yyyy-MM-dd");
                                java.util.Date tglLahirDate = inputDateFormat.parse(tgl_lahir);
                                tglLahirFormatted = outputDateFormat.format(tglLahirDate);
                            } catch (Exception e) {
                                tanggalFormatted = tanggal;
                                jamFormatted = "";
                                tglLahirFormatted = tgl_lahir;
                            }

                            htmlContent.append(
                                    "<br><br><br>"
                                    + "<p class='pagebreak'>"
                                    + "<fieldset>");

                            // Header Rumah Sakit menggunakan method Copsurat()
                            Copsurat();

                            // Judul Laporan
                            htmlContent.append(
                                    "<table width='100%' border='0' cellpadding='5' cellspacing='0'>"
                                    + "<tr>"
                                    + "<td align='center'><h3><b>LAPORAN TINDAKAN MEDIS</b></h3></td>"
                                    + "</tr>"
                                    + "</table>");

                            // Tabel Data Pasien dan Info Tindakan
                            htmlContent.append(
                                    "<table width='100%' border='1' cellpadding='8' cellspacing='0' style='border-collapse: collapse; margin-top: 10px;'>"
                                    + "<tr>"
                                    + "<td width='12%'><b>No. RM</b></td>"
                                    + "<td width='2%'>:</td>"
                                    + "<td width='20%'>" + no_rkm_medis + "</td>"
                                    + "<td width='15%'><b>Jenis Kelamin</b></td>"
                                    + "<td width='2%'>:</td>"
                                    + "<td width='15%'>" + (jk.equals("L") ? "Laki-Laki" : "Perempuan") + "</td>"
                                    + "<td width='12%'><b>Tanggal</b></td>"
                                    + "<td width='2%'>:</td>"
                                    + "<td width='20%'>" + tanggalFormatted + " " + jamFormatted + "</td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td><b>Nama Pasien</b></td>"
                                    + "<td>:</td>"
                                    + "<td>" + nm_pasien + "</td>"
                                    + "<td><b>Tanggal Lahir</b></td>"
                                    + "<td>:</td>"
                                    + "<td>" + tglLahirFormatted + "</td>"
                                    + "<td><b>Asal Poli</b></td>"
                                    + "<td>:</td>"
                                    + "<td>" + (nm_poli.isEmpty() ? nm_bangsal : nm_poli) + "</td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td><b>Alamat Pasien</b></td>"
                                    + "<td>:</td>"
                                    + "<td colspan='4'>" + alamat + "</td>"
                                    + "<td><b>Dokter</b></td>"
                                    + "<td>:</td>"
                                    + "<td>" + nm_dokter + "</td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td colspan='6'></td>"
                                    + "<td><b>Asisten</b></td>"
                                    + "<td>:</td>"
                                    + "<td>" + nm_petugas + "</td>"
                                    + "</tr>"
                                    + "</table>");

                            // Tabel Diagnosis/Asesmen
                            htmlContent.append(
                                    "<table width='100%' border='1' cellpadding='8' cellspacing='0' style='border-collapse: collapse; margin-top: 5px;'>"
                                    + "<tr style='background-color: #f5f5f5;'>"
                                    + "<td colspan='4'><b>DIAGNOSIS/ASESMEN</b></td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td width='15%'><b>Pra Tindakan</b></td>"
                                    + "<td width='2%'>:</td>"
                                    + "<td width='33%'>" + diagnosa_pra + "</td>"
                                    + "<td width='50%'><b>Paska Tindakan</b> : " + diagnosa_pasca + "</td>"
                                    + "</tr>"
                                    + "</table>");

                            // Tabel Tindakan Medis
                            htmlContent.append(
                                    "<table width='100%' border='1' cellpadding='8' cellspacing='0' style='border-collapse: collapse; margin-top: 5px;'>"
                                    + "<tr style='background-color: #f5f5f5;'>"
                                    + "<td><b>TINDAKAN MEDIS</b></td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td>" + tindakan_medik + "</td>"
                                    + "</tr>"
                                    + "</table>");

                            // Tabel Uraian Tindakan Medis
                            htmlContent.append(
                                    "<table width='100%' border='1' cellpadding='8' cellspacing='0' style='border-collapse: collapse; margin-top: 5px;'>"
                                    + "<tr style='background-color: #f5f5f5;'>"
                                    + "<td><b>URAIAN TINDAKAN MEDIS</b></td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td style='height: 80px; vertical-align: top;'>" + uraian.replaceAll("(\r\n|\r|\n|\n\r)", "<br>") + "</td>"
                                    + "</tr>"
                                    + "</table>");

                            // Tabel Hasil
                            htmlContent.append(
                                    "<table width='100%' border='1' cellpadding='8' cellspacing='0' style='border-collapse: collapse; margin-top: 5px;'>"
                                    + "<tr style='background-color: #f5f5f5;'>"
                                    + "<td><b>HASIL</b></td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td style='height: 80px; vertical-align: top;'>" + hasil.replaceAll("(\r\n|\r|\n|\n\r)", "<br>") + "</td>"
                                    + "</tr>"
                                    + "</table>");

                            // Tabel Kesimpulan
                            htmlContent.append(
                                    "<table width='100%' border='1' cellpadding='8' cellspacing='0' style='border-collapse: collapse; margin-top: 5px;'>"
                                    + "<tr style='background-color: #f5f5f5;'>"
                                    + "<td><b>KESIMPULAN</b></td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td style='height: 60px; vertical-align: top;'>" + kesimpulan.replaceAll("(\r\n|\r|\n|\n\r)", "<br>") + "</td>"
                                    + "</tr>"
                                    + "</table>");

                            // Tabel Tanda Tangan
                            htmlContent.append(
                                    "<table width='100%' border='1' cellpadding='8' cellspacing='0' style='border-collapse: collapse; margin-top: 5px;'>"
                                    + "<tr>"
                                    + "<td width='50%' align='center' style='height: 120px; vertical-align: bottom;'>"
                                    + "<b>Tanggal dan Jam</b><br><br><br>"
                                    + "Jun, " + tanggalFormatted + " " + jamFormatted + " WIB"
                                    + "</td>"
                                    + "<td width='50%' align='center' style='height: 120px; vertical-align: bottom;'>"
                                    + "<b>Nama Dokter dan Tanda Tangan</b><br>"
                                    + "<img width='90' height='90' src='http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/penggajian/temp/" + kd_dokter + ".png'/><br>"
                                    + nm_dokter
                                    + "</td>"
                                    + "</tr>"
                                    + "</table>");

                            // Generate QR Code untuk tanda tangan dokter
                            try {
                                get = new GetMethod("http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/penggajian/generateqrcode.php?kodedokter=" + kd_dokter.replace(" ", "_"));
                                http.executeMethod(get);
                            } catch (Exception e) {
                                System.out.println("Error generating QR code: " + e);
                            }

                            htmlContent.append("</fieldset>");
                        }
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    // Tutup semua resource yang masih terbuka
                    if (rs != null) {
                        try {
                            rs.close();
                        } catch (Exception e) {
                        }
                    }
                    if (rs2 != null) {
                        try {
                            rs2.close();
                        } catch (Exception e) {
                        }
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Laporan Tindakan Medis : " + e);
        }
    }

    private void menampilkanTriaseIGD(String norawat) {
        try {
            if (chkTriase.isSelected() == true) {
                // ==================== TRIASE PRIMER ====================
                try {
                    rs2 = koneksi.prepareStatement(
                            "SELECT data_triase_igdprimer.keluhan_utama, data_triase_igdprimer.kebutuhan_khusus, "
                            + "data_triase_igdprimer.catatan, data_triase_igdprimer.plan, DATE_FORMAT(data_triase_igdprimer.tanggaltriase,'%d-%m-%Y %H:%i:%s') as tanggaltriase, "
                            + "data_triase_igdprimer.nik, data_triase_igd.tekanan_darah, data_triase_igd.nadi, "
                            + "data_triase_igd.pernapasan, data_triase_igd.suhu, data_triase_igd.saturasi_o2, "
                            + "data_triase_igd.nyeri, data_triase_igd.cara_masuk, data_triase_igd.alat_transportasi, "
                            + "data_triase_igd.alasan_kedatangan, data_triase_igd.keterangan_kedatangan, "
                            + "data_triase_igd.kode_kasus, master_triase_macam_kasus.macam_kasus, pegawai.nama "
                            + "FROM data_triase_igdprimer "
                            + "INNER JOIN data_triase_igd ON data_triase_igd.no_rawat = data_triase_igdprimer.no_rawat "
                            + "INNER JOIN master_triase_macam_kasus ON data_triase_igd.kode_kasus = master_triase_macam_kasus.kode_kasus "
                            + "INNER JOIN pegawai ON data_triase_igdprimer.nik = pegawai.nik "
                            + "WHERE data_triase_igd.no_rawat = '" + norawat + "'"
                    ).executeQuery();

                    if (rs2.next()) {
                        htmlContent.append(
                                "<br><br><br>"
                                + "<p class='pagebreak'>"
                                + "<div style='border: 2px solid #007bff; border-radius: 8px; padding: 20px; margin: 10px; background: #ffffff; box-shadow: 0 4px 8px rgba(0,0,0,0.1);'>"
                        );

                        Copsurat();

                        // Header Section dengan styling yang lebih menarik
                        htmlContent.append(
                                "<div style='background: linear-gradient(135deg, #007bff, #0056b3); color: white; padding: 15px; margin: -20px -20px 20px -20px; border-radius: 6px 6px 0 0;'>"
                                + "<h2 style='margin: 0; text-align: center; font-size: 24px; letter-spacing: 1px;'>TRIASE IGD PRIMER</h2>"
                                + "</div>"
                        );

                        // Patient Information dengan layout yang lebih rapi
                        htmlContent.append(buildPatientInfoSection());

                        // Triase Content Section
                        htmlContent.append(buildTriasePrimerContent(rs2, norawat));

                        // Footer Section
                        htmlContent.append(buildTriaseFooter(rs2, "PRIMER", "Zona Merah"));

                        htmlContent.append("</div></p>");
                    }

                } catch (Exception e) {
                    System.out.println("Error Data Triase IGD Primer: " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }

                // ==================== TRIASE SEKUNDER ====================
                try {
                    rs2 = koneksi.prepareStatement(
                            "SELECT data_triase_igdsekunder.anamnesa_singkat, data_triase_igdsekunder.catatan, "
                            + "data_triase_igdsekunder.plan, DATE_FORMAT(data_triase_igdsekunder.tanggaltriase,'%d-%m-%Y %H:%i:%s') as tanggaltriase, "
                            + "data_triase_igdsekunder.nik, data_triase_igd.tekanan_darah, data_triase_igd.nadi, "
                            + "data_triase_igd.pernapasan, data_triase_igd.suhu, data_triase_igd.saturasi_o2, "
                            + "data_triase_igd.nyeri, data_triase_igd.cara_masuk, data_triase_igd.alat_transportasi, "
                            + "data_triase_igd.alasan_kedatangan, data_triase_igd.keterangan_kedatangan, "
                            + "data_triase_igd.kode_kasus, master_triase_macam_kasus.macam_kasus, pegawai.nama "
                            + "FROM data_triase_igdsekunder "
                            + "INNER JOIN data_triase_igd ON data_triase_igd.no_rawat = data_triase_igdsekunder.no_rawat "
                            + "INNER JOIN master_triase_macam_kasus ON data_triase_igd.kode_kasus = master_triase_macam_kasus.kode_kasus "
                            + "INNER JOIN pegawai ON data_triase_igdsekunder.nik = pegawai.nik "
                            + "WHERE data_triase_igd.no_rawat = '" + norawat + "'"
                    ).executeQuery();

                    if (rs2.next()) {
                        htmlContent.append(
                                "<br><br><br>"
                                + "<p class='pagebreak'>"
                                + "<div style='border: 2px solid #28a745; border-radius: 8px; padding: 20px; margin: 10px; background: #ffffff; box-shadow: 0 4px 8px rgba(0,0,0,0.1);'>"
                        );

                        Copsurat();

                        // Header Section untuk Sekunder
                        htmlContent.append(
                                "<div style='background: linear-gradient(135deg, #28a745, #1e7e34); color: white; padding: 15px; margin: -20px -20px 20px -20px; border-radius: 6px 6px 0 0;'>"
                                + "<h2 style='margin: 0; text-align: center; font-size: 24px; letter-spacing: 1px;'>TRIASE IGD SEKUNDER</h2>"
                                + "</div>"
                        );

                        // Patient Information
                        htmlContent.append(buildPatientInfoSection());

                        // Triase Content Section untuk Sekunder
                        htmlContent.append(buildTriaseSekunderContent(rs2, norawat));

                        // Footer Section untuk Sekunder
                        htmlContent.append(buildTriaseFooter(rs2, "SEKUNDER", ""));

                        htmlContent.append("</div></p>");
                    }

                } catch (Exception e) {
                    System.out.println("Error Data Triase IGD Sekunder: " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }

            // Handle chkTriase1 dengan struktur yang sama...
            handleChkTriase1(norawat);

        } catch (Exception e) {
            System.out.println("Error Triase IGD: " + e);
        }
    }

// ==================== HELPER METHODS ====================
    private String buildPatientInfoSection() throws SQLException {
        StringBuilder patientInfo = new StringBuilder();

        patientInfo.append(
                "<div style='background: #ffffff; padding: 15px; margin-bottom: 20px; border-radius: 6px; border: 1px solid #dee2e6;'>"
                + "<h3 style='margin: 0 0 15px 0; color: #000000; font-size: 18px;'>Informasi Pasien</h3>"
                + "<table style='width: 100%; border-collapse: collapse;'>"
        );

        String[][] patientData = {
            {"No. Rekam Medis", rs.getString("no_rkm_medis")},
            {"Nama Pasien", rs.getString("nm_pasien")},
            {"Tanggal Lahir", rs.getString("tgl_lahir")},
            {"No. Rawat", rs.getString("no_rawat")},
            {"No. Registrasi", rs.getString("no_reg")},
            {"Tanggal Registrasi", rs.getString("tgl_registrasi") + " " + rs.getString("jam_reg")},
            {"Unit/Poliklinik", rs.getString("nm_poli") + polirujukan},
            {"Dokter Poli", rs.getString("nm_dokter") + dokterrujukan}
        };

        for (int i = 0; i < patientData.length; i++) {
            String bgColor = (i % 2 == 0) ? "#ffffff" : "#f1f3f4";
            patientInfo.append(String.format(
                    "<tr style='background-color: %s;'>"
                    + "<td style='padding: 8px 12px; font-weight: 600; color: #000000; width: 25%%; border-bottom: 1px solid #dee2e6;'>%s</td>"
                    + "<td style='padding: 8px; text-align: center; width: 3%%; border-bottom: 1px solid #dee2e6;'>:</td>"
                    + "<td style='padding: 8px 12px; color: #000000; border-bottom: 1px solid #dee2e6;'>%s</td>"
                    + "</tr>",
                    bgColor, patientData[i][0], patientData[i][1]
            ));
        }

        patientInfo.append("</table></div>");
        return patientInfo.toString();
    }

    private String buildTriasePrimerContent(ResultSet rs2, String norawat) throws SQLException {
        StringBuilder content = new StringBuilder();

        // Informasi Kedatangan Section
        content.append(
                "<div style='background: #ffffff; padding: 15px; margin-bottom: 15px; border-radius: 6px; border: 1px solid #dee2e6;'>"
                + "<h3 style='margin: 0 0 15px 0; color: #000000; font-size: 18px;'>Informasi Kedatangan</h3>"
                + "<table style='width: 100%; border-collapse: collapse;'>"
        );

        String[][] kedatanganInfo = {
            {"Cara Masuk", rs2.getString("cara_masuk")},
            {"Transportasi", rs2.getString("alat_transportasi")},
            {"Alasan Kedatangan", rs2.getString("alasan_kedatangan")},
            {"Keterangan Kedatangan", rs2.getString("keterangan_kedatangan")},
            {"Macam Kasus", rs2.getString("macam_kasus")}
        };

        for (int i = 0; i < kedatanganInfo.length; i++) {
            String bgColor = (i % 2 == 0) ? "#ffffff" : "#f1f3f4";
            content.append(String.format(
                    "<tr style='background-color: %s;'>"
                    + "<td style='padding: 8px 12px; font-weight: 600; color: #000000; width: 25%%; border-bottom: 1px solid #dee2e6;'>%s</td>"
                    + "<td style='padding: 8px 12px; color: #000000; border-bottom: 1px solid #dee2e6;'>%s</td>"
                    + "</tr>",
                    bgColor, kedatanganInfo[i][0], kedatanganInfo[i][1]
            ));
        }
        content.append("</table></div>");

        // Pemeriksaan Triase Primer Section
        content.append(
                "<div style='background: #ffffff; padding: 15px; margin-bottom: 15px; border-radius: 6px; border: 1px solid #dee2e6;'>"
                + "<h3 style='margin: 0 0 15px 0; color: #000000; font-size: 18px;'>Pemeriksaan Triase Primer</h3>"
                + "<table style='width: 100%; border-collapse: collapse;'>"
        );

        // Keluhan Utama
        content.append(
                "<tr style='background-color: #ffffff;'>"
                + "<td style='padding: 12px; font-weight: 600; color: #000000; width: 25%; border-bottom: 1px solid #dee2e6; vertical-align: top;'>Keluhan Utama</td>"
                + "<td style='padding: 12px; color: #000000; border-bottom: 1px solid #dee2e6;'>"
                + rs2.getString("keluhan_utama").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")
                + "</td></tr>"
        );

        // Tanda Vital
        content.append(
                "<tr style='background-color: #f1f3f4;'>"
                + "<td style='padding: 12px; font-weight: 600; color: #000000; width: 25%; border-bottom: 1px solid #dee2e6; vertical-align: top;'>Tanda Vital</td>"
                + "<td style='padding: 12px; color: #000000; border-bottom: 1px solid #dee2e6;'>"
                + buildVitalSignsDisplay(rs2)
                + "</td></tr>"
        );

        // Kebutuhan Khusus
        content.append(
                "<tr style='background-color: #ffffff;'>"
                + "<td style='padding: 12px; font-weight: 600; color: #000000; width: 25%; border-bottom: 1px solid #dee2e6; vertical-align: top;'>Kebutuhan Khusus</td>"
                + "<td style='padding: 12px; color: #000000; border-bottom: 1px solid #dee2e6;'>"
                + rs2.getString("kebutuhan_khusus")
                + "</td></tr>"
        );

        content.append("</table></div>");

        // Assessment Skala
        content.append(buildSkalaAssessments(norawat, new int[]{1, 2}));

        return content.toString();
    }

    private String buildTriaseSekunderContent(ResultSet rs2, String norawat) throws SQLException {
        StringBuilder content = new StringBuilder();

        // Similar structure but for Sekunder...
        content.append(
                "<div style='background: #ffffff; padding: 15px; margin-bottom: 15px; border-radius: 6px; border: 1px solid #dee2e6;'>"
                + "<h3 style='margin: 0 0 15px 0; color: #000000; font-size: 18px;'>Informasi Kedatangan</h3>"
                + "<table style='width: 100%; border-collapse: collapse;'>"
        );

        String[][] kedatanganInfo = {
            {"Cara Masuk", rs2.getString("cara_masuk")},
            {"Transportasi", rs2.getString("alat_transportasi")},
            {"Alasan Kedatangan", rs2.getString("alasan_kedatangan")},
            {"Keterangan Kedatangan", rs2.getString("keterangan_kedatangan")},
            {"Macam Kasus", rs2.getString("macam_kasus")}
        };

        for (int i = 0; i < kedatanganInfo.length; i++) {
            String bgColor = (i % 2 == 0) ? "#ffffff" : "#f1f3f4";
            content.append(String.format(
                    "<tr style='background-color: %s;'>"
                    + "<td style='padding: 8px 12px; font-weight: 600; color: #000000; width: 25%%; border-bottom: 1px solid #dee2e6;'>%s</td>"
                    + "<td style='padding: 8px 12px; color: #000000; border-bottom: 1px solid #dee2e6;'>%s</td>"
                    + "</tr>",
                    bgColor, kedatanganInfo[i][0], kedatanganInfo[i][1]
            ));
        }
        content.append("</table></div>");

        // Pemeriksaan Triase Sekunder
        content.append(
                "<div style='background: #ffffff; padding: 15px; margin-bottom: 15px; border-radius: 6px; border: 1px solid #dee2e6;'>"
                + "<h3 style='margin: 0 0 15px 0; color: #000000; font-size: 18px;'>Pemeriksaan Triase Sekunder</h3>"
                + "<table style='width: 100%; border-collapse: collapse;'>"
        );

        // Anamnesa Singkat
        content.append(
                "<tr style='background-color: #ffffff;'>"
                + "<td style='padding: 12px; font-weight: 600; color: #000000; width: 25%; border-bottom: 1px solid #dee2e6; vertical-align: top;'>Anamnesa Singkat</td>"
                + "<td style='padding: 12px; color: #000000; border-bottom: 1px solid #dee2e6;'>"
                + rs2.getString("anamnesa_singkat").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")
                + "</td></tr>"
        );

        // Tanda Vital
        content.append(
                "<tr style='background-color: #f1f3f4;'>"
                + "<td style='padding: 12px; font-weight: 600; color: #000000; width: 25%; border-bottom: 1px solid #dee2e6; vertical-align: top;'>Tanda Vital</td>"
                + "<td style='padding: 12px; color: #000000; border-bottom: 1px solid #dee2e6;'>"
                + buildVitalSignsDisplay(rs2)
                + "</td></tr>"
        );

        content.append("</table></div>");

        // Assessment Skala untuk Sekunder (3, 4, 5)
        content.append(buildSkalaAssessments(norawat, new int[]{3, 4, 5}));

        return content.toString();
    }

    private String buildVitalSignsDisplay(ResultSet rs2) throws SQLException {
        return String.format(
                "<div style='display: flex; flex-wrap: wrap; gap: 15px; align-items: center;'>"
                + "<span style='display: inline-block; margin: 3px; padding: 6px 12px; background: #f5f5f5; border-radius: 4px; font-size: 14px; color: #000; white-space: nowrap;'>Suhu: <span style='font-weight: bold;'>%sC</span></span>"
                + "<span style='display: inline-block; margin: 3px; padding: 6px 12px; background: #f5f5f5; border-radius: 4px; font-size: 14px; color: #000; white-space: nowrap;'>Nyeri: <span style='font-weight: bold;'>%s</span></span>"
                + "<span style='display: inline-block; margin: 3px; padding: 6px 12px; background: #f5f5f5; border-radius: 4px; font-size: 14px; color: #000; white-space: nowrap;'>Tensi: <span style='font-weight: bold;'>%s</span></span>"
                + "<span style='display: inline-block; margin: 3px; padding: 6px 12px; background: #f5f5f5; border-radius: 4px; font-size: 14px; color: #000; white-space: nowrap;'>Nadi: <span style='font-weight: bold;'>%s/menit</span></span>"
                + "<span style='display: inline-block; margin: 3px; padding: 6px 12px; background: #f5f5f5; border-radius: 4px; font-size: 14px; color: #000; white-space: nowrap;'>Saturasi O: <span style='font-weight: bold;'>%s%%</span></span>"
                + "<span style='display: inline-block; margin: 3px; padding: 6px 12px; background: #f5f5f5; border-radius: 4px; font-size: 14px; color: #000; white-space: nowrap;'>Respirasi: <span style='font-weight: bold;'>%s/menit</span></span>"
                + "</div>",
                rs2.getString("suhu"), rs2.getString("nyeri"), rs2.getString("tekanan_darah"),
                rs2.getString("nadi"), rs2.getString("saturasi_o2"), rs2.getString("pernapasan")
        );
    }

    private String buildSkalaAssessments(String norawat, int[] skalaNumbers) {
        StringBuilder assessments = new StringBuilder();

        for (int skalaNum : skalaNumbers) {
            assessments.append(buildSingleSkalaAssessment(norawat, skalaNum));
        }

        return assessments.toString();
    }

    private String buildSingleSkalaAssessment(String norawat, int skalaNumber) {
        StringBuilder content = new StringBuilder();
        String skalaTable = "master_triase_skala" + skalaNumber;
        String detailTable = "data_triase_igddetail_skala" + skalaNumber;
        String skalaField = "pengkajian_skala" + skalaNumber;
        String skalaKey = "kode_skala" + skalaNumber;

        String[] colors = {"", "#AA0000", "#FF0000", "#C8C800", "#00AA00", "#969696"};
        String[] labels = {"", "Immediate/Segera", "Emergensi", "Urgensi", "Semi Urgensi/Urgensi Rendah", "Non Urgensi"};

        try {
            rs3 = koneksi.prepareStatement(
                    "SELECT mp.kode_pemeriksaan, mp.nama_pemeriksaan "
                    + "FROM master_triase_pemeriksaan mp "
                    + "INNER JOIN " + skalaTable + " ms ON mp.kode_pemeriksaan = ms.kode_pemeriksaan "
                    + "INNER JOIN " + detailTable + " dt ON ms." + skalaKey + " = dt." + skalaKey + " "
                    + "WHERE dt.no_rawat = '" + norawat + "' "
                    + "GROUP BY mp.kode_pemeriksaan ORDER BY mp.kode_pemeriksaan"
            ).executeQuery();

            if (rs3.next()) {
                content.append(
                        "<div style='background: #f8f9fa; padding: 15px; margin-bottom: 15px; border-radius: 6px; border-left: 4px solid " + colors[skalaNumber] + ";'>"
                        + "<h3 style='margin: 0 0 15px 0; color: " + colors[skalaNumber] + "; font-size: 18px;'>" + labels[skalaNumber] + "</h3>"
                        + "<table style='width: 100%; border-collapse: collapse; border: 1px solid " + colors[skalaNumber] + "; border-radius: 6px; overflow: hidden;'>"
                );

                // Header
                content.append(
                        "<tr style='background: " + colors[skalaNumber] + "; color: #000;'>"
                        + "<th style='padding: 12px; text-align: left; font-weight: 600; width: 30%; color: #000;'>Pemeriksaan</th>"
                        + "<th style='padding: 12px; text-align: left; font-weight: 600; color: #000;'>Detail Pengkajian</th>"
                        + "</tr>"
                );

                rs3.beforeFirst();
                int rowIndex = 0;
                while (rs3.next()) {
                    String bgColor = (rowIndex % 2 == 0) ? "#ffffff" : "#f8f9fa";
                    content.append(
                            "<tr style='background-color: " + bgColor + ";'>"
                            + "<td style='padding: 12px; font-weight: 600; color: #000; border-bottom: 1px solid #dee2e6; vertical-align: top;'>"
                            + rs3.getString("nama_pemeriksaan")
                            + "</td>"
                            + "<td style='padding: 12px; border-bottom: 1px solid #dee2e6; color: #000;'>"
                    );

                    // Get detail assessments
                    rs4 = koneksi.prepareStatement(
                            "SELECT ms." + skalaField + " FROM " + skalaTable + " ms "
                            + "INNER JOIN " + detailTable + " dt ON ms." + skalaKey + " = dt." + skalaKey + " "
                            + "WHERE ms.kode_pemeriksaan = '" + rs3.getString("kode_pemeriksaan") + "' "
                            + "AND dt.no_rawat = '" + norawat + "' "
                            + "ORDER BY dt." + skalaKey
                    ).executeQuery();

                    boolean first = true;
                    while (rs4.next()) {
                        if (!first) {
                            content.append("<br>");
                        }
                        content.append(
                                "<span style='display: inline-block; margin: 2px 5px 2px 0; padding: 3px 8px; background: #f5f5f5; color: #000; border-radius: 3px; font-size: 14px; border: 1px solid " + colors[skalaNumber] + ";'>"
                                + rs4.getString(skalaField)
                                + "</span>"
                        );
                        first = false;
                    }

                    content.append("</td></tr>");
                    rowIndex++;
                }

                content.append("</table></div>");
                keputusan = colors[skalaNumber];
            }

        } catch (Exception e) {
            System.out.println("Error Skala " + skalaNumber + ": " + e);
        } finally {
            try {
                if (rs4 != null) {
                    rs4.close();
                }
                if (rs3 != null) {
                    rs3.close();
                }
            } catch (SQLException e) {
                System.out.println("Error closing ResultSet: " + e);
            }
        }

        return content.toString();
    }

    private String buildTriaseFooter(ResultSet rs2, String triaseType, String zonLabel) throws SQLException {
        StringBuilder footer = new StringBuilder();

        // Decision Section
        footer.append(
                "<div style='background: #fff; padding: 15px; margin-bottom: 15px; border-radius: 6px; border: 2px solid " + keputusan + ";'>"
                + "<table style='width: 100%; border-collapse: collapse;'>"
                + "<tr>"
                + "<td style='padding: 12px; font-weight: 600; color: #000; width: 25%; vertical-align: top;'>Plan/Keputusan</td>"
                + "<td style='padding: 12px; background: " + keputusan + "; color: #000; border-radius: 4px; font-weight: 600;'>"
                + zonLabel + " " + rs2.getString("plan")
                + "</td>"
                + "</tr>"
                + "</table>"
                + "</div>"
        );

        // Officer Information
        footer.append(
                "<div style='background: #e9ecef; padding: 15px; margin-bottom: 15px; border-radius: 6px;'>"
                + "<h3 style='margin: 0 0 15px 0; color: #495057; font-size: 18px;'>Petugas Triase " + triaseType + "</h3>"
                + "<table style='width: 100%; border-collapse: collapse;'>"
        );

        String[][] officerData = {
            {"Tanggal & Jam", rs2.getString("tanggaltriase")},
            {"Catatan", rs2.getString("catatan")},
            {"Dokter/Petugas IGD", rs2.getString("nik") + " - " + rs2.getString("nama")}
        };

        for (int i = 0; i < officerData.length; i++) {
            String bgColor = (i % 2 == 0) ? "#ffffff" : "#f8f9fa";
            footer.append(
                    "<tr style='background-color: " + bgColor + ";'>"
                    + "<td style='padding: 10px 12px; font-weight: 600; color: #000; width: 25%; border-bottom: 1px solid #dee2e6; vertical-align: top;'>" + officerData[i][0] + "</td>"
                    + "<td style='padding: 10px 12px; color: #000; border-bottom: 1px solid #dee2e6;'>" + officerData[i][1] + "</td>"
                    + "</tr>"
            );
        }
        footer.append("</table></div>");

        // Signature Section
        // Check if user is dokter or petugas by looking in dokter table
        String kdDokter = Sequel.cariIsi("SELECT kd_dokter FROM dokter WHERE kd_dokter='" + rs2.getString("nik") + "'");

        if (!kdDokter.equals("")) {
            // Found in dokter table, so it's a doctor
            try {
                get = new GetMethod("http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/penggajian/generateqrcode.php?kodedokter=" + rs2.getString("nik").replace(" ", "_"));
                http.executeMethod(get);
            } catch (IOException e) {
                System.out.println("Error generating QR code: " + e);
            }
        } else {
            // Not found in dokter table, so it's a petugas
            try {
                get = new GetMethod("http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/penggajian/generateqrcodepetugas.php?kodepetugas=" + rs2.getString("nik").replace(" ", "_"));
                http.executeMethod(get);
            } catch (IOException e) {
                System.out.println("Error generating QR code: " + e);
            }
        }

        footer.append(
                "<div style='background: #ffffff; padding: 20px; border-radius: 6px; border: 1px solid #dee2e6; text-align: center;'>"
                + "<div style='margin-bottom: 15px;'>"
                + "<h4 style='margin: 0; color: #000;'>Tanda Tangan/Verifikasi</h4>"
                + "</div>"
                + "<div style='display: inline-block; text-align: center; padding: 15px; background: #f8f9fa; border-radius: 6px;'>"
                + "<div style='margin-bottom: 10px; font-weight: 600; color: #000;'>Dokter/Petugas IGD</div>"
                + "<div style='margin: 10px 0;'>"
                + "<img src='http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/penggajian/temp/" + rs2.getString("nik").replace(" ", "_") + ".png' "
                + "style='width: 90px; height: 90px; border: 2px solid #007bff; border-radius: 6px; background: white; padding: 5px;' "
                + "alt='QR Code Dokter/Petugas'/>"
                + "</div>"
                + "<div style='margin-top: 10px; font-weight: 600; color: #000;'>" + rs2.getString("nama") + "</div>"
                + "</div>"
                + "</div>"
        );

        return footer.toString();
    }

// ==================== ADDITIONAL HELPER METHOD FOR chkTriase1 ====================
    private void handleChkTriase1(String norawat) {
        try {
            if (chkAwalMedisIgd.isSelected() == true) {
                // ==================== TRIASE PRIMER untuk chkTriase1 ====================
                try {
                    rs2 = koneksi.prepareStatement(
                            "SELECT data_triase_igdprimer.keluhan_utama, data_triase_igdprimer.kebutuhan_khusus, "
                            + "data_triase_igdprimer.catatan, data_triase_igdprimer.plan, DATE_FORMAT(data_triase_igdprimer.tanggaltriase,'%d-%m-%Y %H:%i:%s') as tanggaltriase, "
                            + "data_triase_igdprimer.nik, data_triase_igd.tekanan_darah, data_triase_igd.nadi, "
                            + "data_triase_igd.pernapasan, data_triase_igd.suhu, data_triase_igd.saturasi_o2, "
                            + "data_triase_igd.nyeri, data_triase_igd.cara_masuk, data_triase_igd.alat_transportasi, "
                            + "data_triase_igd.alasan_kedatangan, data_triase_igd.keterangan_kedatangan, "
                            + "data_triase_igd.kode_kasus, master_triase_macam_kasus.macam_kasus, pegawai.nama "
                            + "FROM data_triase_igdprimer "
                            + "INNER JOIN data_triase_igd ON data_triase_igd.no_rawat = data_triase_igdprimer.no_rawat "
                            + "INNER JOIN master_triase_macam_kasus ON data_triase_igd.kode_kasus = master_triase_macam_kasus.kode_kasus "
                            + "INNER JOIN pegawai ON data_triase_igdprimer.nik = pegawai.nik "
                            + "WHERE data_triase_igd.no_rawat = '" + norawat + "'"
                    ).executeQuery();

                    if (rs2.next()) {
                        htmlContent.append(
                                "<br><br><br>"
                                + "<p class='pagebreak'>"
                                + "<div style='border: 2px solid #dc3545; border-radius: 8px; padding: 20px; margin: 10px; background: #ffffff; box-shadow: 0 4px 8px rgba(0,0,0,0.1);'>"
                        );

                        Copsurat();

                        // Header Section dengan warna berbeda untuk chkTriase1
                        htmlContent.append(
                                "<div style='background: linear-gradient(135deg, #dc3545, #c82333); color: white; padding: 15px; margin: -20px -20px 20px -20px; border-radius: 6px 6px 0 0;'>"
                                + "<h2 style='margin: 0; text-align: center; font-size: 24px; letter-spacing: 1px;'>TRIASE IGD PRIMER (PRIORITAS)</h2>"
                                + "</div>"
                        );

                        // Patient Information
                        htmlContent.append(buildPatientInfoSection());

                        // Triase Content Section
                        htmlContent.append(buildTriasePrimerContent(rs2, norawat));

                        // Footer Section
                        htmlContent.append(buildTriaseFooter(rs2, "PRIMER", "Zona Merah"));

                        htmlContent.append("</div></p>");
                    }

                } catch (Exception e) {
                    System.out.println("Error Data Triase IGD Primer (chkTriase1): " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }

                // ==================== TRIASE SEKUNDER untuk chkTriase1 ====================
                try {
                    rs2 = koneksi.prepareStatement(
                            "SELECT data_triase_igdsekunder.anamnesa_singkat, data_triase_igdsekunder.catatan, "
                            + "data_triase_igdsekunder.plan, DATE_FORMAT(data_triase_igdsekunder.tanggaltriase,'%d-%m-%Y %H:%i:%s') as tanggaltriase, "
                            + "data_triase_igdsekunder.nik, data_triase_igd.tekanan_darah, data_triase_igd.nadi, "
                            + "data_triase_igd.pernapasan, data_triase_igd.suhu, data_triase_igd.saturasi_o2, "
                            + "data_triase_igd.nyeri, data_triase_igd.cara_masuk, data_triase_igd.alat_transportasi, "
                            + "data_triase_igd.alasan_kedatangan, data_triase_igd.keterangan_kedatangan, "
                            + "data_triase_igd.kode_kasus, master_triase_macam_kasus.macam_kasus, pegawai.nama "
                            + "FROM data_triase_igdsekunder "
                            + "INNER JOIN data_triase_igd ON data_triase_igd.no_rawat = data_triase_igdsekunder.no_rawat "
                            + "INNER JOIN master_triase_macam_kasus ON data_triase_igd.kode_kasus = master_triase_macam_kasus.kode_kasus "
                            + "INNER JOIN pegawai ON data_triase_igdsekunder.nik = pegawai.nik "
                            + "WHERE data_triase_igd.no_rawat = '" + norawat + "'"
                    ).executeQuery();

                    if (rs2.next()) {
                        htmlContent.append(
                                "<br><br><br>"
                                + "<p class='pagebreak'>"
                                + "<div style='border: 2px solid #fd7e14; border-radius: 8px; padding: 20px; margin: 10px; background: #ffffff; box-shadow: 0 4px 8px rgba(0,0,0,0.1);'>"
                        );

                        Copsurat();

                        // Header Section untuk Sekunder chkTriase1
                        htmlContent.append(
                                "<div style='background: linear-gradient(135deg, #fd7e14, #e55a00); color: white; padding: 15px; margin: -20px -20px 20px -20px; border-radius: 6px 6px 0 0;'>"
                                + "<h2 style='margin: 0; text-align: center; font-size: 24px; letter-spacing: 1px;'>TRIASE IGD SEKUNDER (PRIORITAS)</h2>"
                                + "</div>"
                        );

                        // Patient Information
                        htmlContent.append(buildPatientInfoSection());

                        // Triase Content Section untuk Sekunder
                        htmlContent.append(buildTriaseSekunderContent(rs2, norawat));

                        // Footer Section untuk Sekunder
                        htmlContent.append(buildTriaseFooter(rs2, "SEKUNDER", ""));

                        htmlContent.append("</div></p>");
                    }

                } catch (Exception e) {
                    System.out.println("Error Data Triase IGD Sekunder (chkTriase1): " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Error chkTriase1: " + e);
        }
    }

// ==================== UTILITY METHODS ====================
    /**
     * Method untuk membersihkan dan memformat text input dari database
     */
    private String formatTextContent(String text) {
        if (text == null || text.trim().isEmpty()) {
            return "<em style='color: #6c757d;'>Tidak ada data</em>";
        }
        return text.replaceAll("(\r\n|\r|\n|\n\r)", "<br>").trim();
    }

    /**
     * Method untuk generate color berdasarkan prioritas
     */
    private String getPriorityColor(int priority) {
        String[] colors = {
            "#6c757d", // Default/No priority
            "#AA0000", // Highest priority (Immediate)
            "#FF0000", // High priority (Emergency)  
            "#C8C800", // Medium priority (Urgent)
            "#00AA00", // Low priority (Semi-urgent)
            "#969696" // Lowest priority (Non-urgent)
        };

        if (priority >= 0 && priority < colors.length) {
            return colors[priority];
        }
        return colors[0]; // Default color
    }

    /**
     * Method untuk generate summary stats (opsional)
     */
    private String generateTriaseSummary(String norawat) {
        StringBuilder summary = new StringBuilder();

        summary.append(
                "<div style='background: linear-gradient(135deg, #6f42c1, #5a2d91); color: white; padding: 15px; margin: 20px 0; border-radius: 8px;'>"
                + "<h3 style='margin: 0 0 10px 0; font-size: 18px;'>Ringkasan Triase</h3>"
                + "<div style='display: flex; justify-content: space-around; flex-wrap: wrap;'>"
                + "<div style='text-align: center; margin: 5px;'>"
                + "<div style='font-size: 24px; font-weight: bold;'>Waktu Proses</div>"
                + "<div style='font-size: 12px;'>Durasi</div>"
                + "</div>"
                + "<div style='text-align: center; margin: 5px;'>"
                + "<div style='font-size: 24px; font-weight: bold;'>Prioritas</div>"
                + "<div style='font-size: 12px;'>Tingkat</div>"
                + "</div>"
                + "<div style='text-align: center; margin: 5px;'>"
                + "<div style='font-size: 24px; font-weight: bold;'>Status</div>"
                + "<div style='font-size: 12px;'>Kondisi</div>"
                + "</div>"
                + "</div>"
                + "</div>"
        );

        return summary.toString();
    }

    private void menampilkanPERNYATAANDPJPBPJS(String norawat) {
        try {
            if (chkPernyataanDPJP.isSelected() == true) {
                try {
                    pskoders = koneksi.prepareStatement("select kode_ppk from setting");
                    try {
                        rskode = pskoders.executeQuery();
                        rskode.next();

                        if (rskode.getString("kode_ppk").equals("0090R034")) {
                            if (rs.getString("status_lanjut").equals("Ralan")) {
                                try {
                                    rs2 = koneksi.prepareStatement(
                                            "select reg_periksa.no_reg,reg_periksa.no_rawat,DATE_FORMAT(reg_periksa.tgl_registrasi, '%d/%m/%Y') as tgl_registrasi,"
                                            + "reg_periksa.kd_dokter,dokter.nm_dokter,reg_periksa.umurdaftar,reg_periksa.sttsumur,pasien.nm_pasien,IF (pasien.jk = 'L', 'LAKI-LAKI', 'PEREMPUAN') as jk "
                                            + "from reg_periksa inner join dokter on reg_periksa.kd_dokter=dokter.kd_dokter "
                                            + "inner join pasien on reg_periksa.no_rkm_medis=pasien.no_rkm_medis  "
                                            + "where reg_periksa.stts<>'Batal' and reg_periksa.no_rawat='" + rs.getString("no_rawat") + "'").executeQuery();
                                    if (rs2.next()) {
                                        htmlContent.append(
                                                "<br><br><br>"
                                                + "<p class='pagebreak'>"
                                                + "<fieldset>");

                                        Copsurat();
                                        htmlContent.append("<h2><center>SURAT PERNYATAAN DPJP</center></h2>");

                                        htmlContent.append("<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'style='page-break-before:always'>");
                                        htmlContent.append("<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'><tr><td valign='top' colspan='2'>Dengan Hormat,</td></tr><tr><td valign='top' colspan='2'>Melalui surat ini, saya menerangkan bahwa pasien saya :</td></tr><tr><td valign='top'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Nama Pasien</td><td valign='top'> : ").append(rs2.getString("nm_pasien")).append("</td></tr><tr><td valign='top''>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Jenis Kelamin</td><td valign='top'> : ").append(rs2.getString("jk")).append("</td></tr><tr><td valign='top'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Usia</td><td valign='top'> : ").append(rs.getString("umurdaftar")).append(" Th</td></tr><tr><td valign='top' colspan='2'>Bahwa benar memerlukan terapi antihipertensi golongan ARB yaitu <br> Candesartan/Irbesartan dengan alasan obat antihipertensi golongan ACE <br> Inhibitor menimbulkan efek samping batuk</td></tr>");

                                        rs2.beforeFirst();
                                        while (rs2.next()) {
                                            get = new GetMethod("http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/penggajian/generateqrcode.php?kodedokter=" + rs2.getString("kd_dokter").replace(" ", "_"));
                                            http.executeMethod(get);

                                            htmlContent.append("<tr></tr><tr><td valign='middle' width='18%'>Tanda Tangan/Verifikasi :</td><td valign='middle' width='79%' align='center' colspan='1'>PALEMBANG, ").append(rs2.getString("tgl_registrasi")).append("<br>Dokter Penanggung Jawab<br><img width='90' height='90' src='http://").append(koneksiDB.HOSTHYBRIDWEB()).append(":").append(koneksiDB.PORTWEB()).append("/").append(koneksiDB.HYBRIDWEB()).append("/penggajian/temp/").append(rs2.getString("kd_dokter")).append(".png'/><br>").append(rs2.getString("nm_dokter")).append("</td></tr>");
                                        }

                                        htmlContent.append(
                                                "</table>"
                                                + "</td>"
                                                + "</tr>");
                                        htmlContent.append(
                                                "</table>"
                                                + "</fieldset>"
                                        );
                                    }
                                } catch (Exception e) {
                                    System.out.println("Status Lanjut : " + e);
                                } finally {
                                    if (rs3 != null) {
                                        rs3.close();
                                    }
                                }
                            }
                        }

                    } catch (Exception e) {
                        System.out.println("Notif : " + rskode);
                    } finally {
                        rskode.close();
                    }
                } catch (Exception e) {
                    System.out.println("Notif : " + rskode);

                }
            }
        } catch (Exception e) {
            System.out.println("Notif PERNYATAAN DPJPJ BPJS : " + e);
        }
    }

    private void menampilkanAsuhanKeperawatanIGD(String norawat) {
        try {
            if (chkAsuhanKeperawatanIGD.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select penilaian_awal_keperawatan_igd.tanggal,penilaian_awal_keperawatan_igd.informasi,"
                            + "penilaian_awal_keperawatan_igd.keluhan_utama,penilaian_awal_keperawatan_igd.rpd,penilaian_awal_keperawatan_igd.rpo,penilaian_awal_keperawatan_igd.status_kehamilan,penilaian_awal_keperawatan_igd.gravida,penilaian_awal_keperawatan_igd.para,"
                            + "penilaian_awal_keperawatan_igd.abortus,penilaian_awal_keperawatan_igd.hpht,penilaian_awal_keperawatan_igd.tekanan,penilaian_awal_keperawatan_igd.pupil,penilaian_awal_keperawatan_igd.neurosensorik,penilaian_awal_keperawatan_igd.integumen,penilaian_awal_keperawatan_igd.turgor,"
                            + "penilaian_awal_keperawatan_igd.edema,penilaian_awal_keperawatan_igd.mukosa,penilaian_awal_keperawatan_igd.perdarahan,penilaian_awal_keperawatan_igd.jumlah_perdarahan,penilaian_awal_keperawatan_igd.warna_perdarahan,penilaian_awal_keperawatan_igd.intoksikasi,"
                            + "penilaian_awal_keperawatan_igd.bab,penilaian_awal_keperawatan_igd.xbab,penilaian_awal_keperawatan_igd.kbab,penilaian_awal_keperawatan_igd.wbab,penilaian_awal_keperawatan_igd.bak,penilaian_awal_keperawatan_igd.xbak,penilaian_awal_keperawatan_igd.wbak,"
                            + "penilaian_awal_keperawatan_igd.lbak,penilaian_awal_keperawatan_igd.psikologis,penilaian_awal_keperawatan_igd.jiwa,penilaian_awal_keperawatan_igd.perilaku,penilaian_awal_keperawatan_igd.dilaporkan,penilaian_awal_keperawatan_igd.sebutkan,penilaian_awal_keperawatan_igd.hubungan,"
                            + "penilaian_awal_keperawatan_igd.tinggal_dengan,penilaian_awal_keperawatan_igd.ket_tinggal,penilaian_awal_keperawatan_igd.budaya,penilaian_awal_keperawatan_igd.ket_budaya,penilaian_awal_keperawatan_igd.pendidikan_pj,penilaian_awal_keperawatan_igd.ket_pendidikan_pj,"
                            + "penilaian_awal_keperawatan_igd.edukasi,penilaian_awal_keperawatan_igd.ket_edukasi,penilaian_awal_keperawatan_igd.kemampuan,penilaian_awal_keperawatan_igd.aktifitas,penilaian_awal_keperawatan_igd.alat_bantu,penilaian_awal_keperawatan_igd.ket_bantu,"
                            + "penilaian_awal_keperawatan_igd.nyeri,penilaian_awal_keperawatan_igd.provokes,penilaian_awal_keperawatan_igd.ket_provokes,penilaian_awal_keperawatan_igd.quality,penilaian_awal_keperawatan_igd.ket_quality,penilaian_awal_keperawatan_igd.lokasi,penilaian_awal_keperawatan_igd.menyebar,"
                            + "penilaian_awal_keperawatan_igd.skala_nyeri,penilaian_awal_keperawatan_igd.durasi,penilaian_awal_keperawatan_igd.nyeri_hilang,penilaian_awal_keperawatan_igd.ket_nyeri,penilaian_awal_keperawatan_igd.pada_dokter,penilaian_awal_keperawatan_igd.ket_dokter,"
                            + "penilaian_awal_keperawatan_igd.berjalan_a,penilaian_awal_keperawatan_igd.berjalan_b,penilaian_awal_keperawatan_igd.berjalan_c,penilaian_awal_keperawatan_igd.hasil,penilaian_awal_keperawatan_igd.lapor,penilaian_awal_keperawatan_igd.ket_lapor,"
                            + "penilaian_awal_keperawatan_igd.rencana,penilaian_awal_keperawatan_igd.nip,petugas.nama "
                            + "from penilaian_awal_keperawatan_igd inner join petugas on penilaian_awal_keperawatan_igd.nip=petugas.nip where "
                            + "penilaian_awal_keperawatan_igd.no_rawat='" + norawat + "'").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<fieldset>"
                                + "<h2><center>ASUHAN KEPERAWATAN IGD</center></h2>"
                                + "<table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Penilaian Awal Keperawatan IGD</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                        );
                        rs2.beforeFirst();
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top'>YANG MELAKUKAN PENGKAJIAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='33%' border='0'>Tanggal : ").append(rs2.getString("tanggal")).append("</td><td width='33%' border='0'>Petugas : ").append(rs2.getString("nip")).append(" ").append(rs2.getString("nama")).append("</td><td width='33%' border='0'>Informasi didapat dari : ").append(rs2.getString("informasi")).append("</td></tr></table></td></tr><tr><td valign='top'>I. RIWAYAT KESEHATAN PASIEN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%'>Riwayat Penyakit Sekarang : ").append(rs2.getString("keluhan_utama").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='100%'>Riwayat Penyakit Dahulu : ").append(rs2.getString("rpd").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='100%'>Riwayat Penggunaan Obat : ").append(rs2.getString("rpo").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='100%'>Status Kehamilan : ").append(rs2.getString("status_kehamilan")).append(rs2.getString("para").isEmpty() ? "" : ", Para : " + rs2.getString("para")).append(rs2.getString("abortus").isEmpty() ? "" : ", Abortus : " + rs2.getString("abortus")).append(rs2.getString("gravida").isEmpty() ? "" : ", Gravida : " + rs2.getString("gravida")).append(rs2.getString("hpht").isEmpty() ? "" : ", HPHT : " + rs2.getString("hpht")).append("</td></tr></table></td></tr><tr><td valign='top'>II. PEMERIKSAAN FISIK<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='33%' border='0'>Tekanan Intrakranial : ").append(rs2.getString("tekanan")).append("</td><td width='33%' border='0'>Pupil : ").append(rs2.getString("pupil")).append("</td><td width='33%' border='0'>Neurosensorik / Muskuloskeletal : ").append(rs2.getString("neurosensorik")).append("</td></tr><tr><td width='33%' border='0'>Integumen : ").append(rs2.getString("integumen")).append("</td><td width='33%' border='0'>Turgor Kulit : ").append(rs2.getString("turgor")).append("</td><td width='33%' border='0'>Edema : ").append(rs2.getString("edema")).append("</td></tr><tr><td width='33%' border='0'>Mukosa Mulut : ").append(rs2.getString("mukosa")).append("</td><td width='33%' border='0'>Perdarahan : ").append(rs2.getString("perdarahan")).append(rs2.getString("jumlah_perdarahan").isEmpty() ? "" : ", Jumlah : " + rs2.getString("jumlah_perdarahan").isEmpty() + " cc").append(rs2.getString("warna_perdarahan").isEmpty() ? "" : ", Warna : " + rs2.getString("warna_perdarahan").isEmpty()).append("</td><td width='33%' border='0'>Intoksikasi : ").append(rs2.getString("intoksikasi")).append("</td></tr><tr><td width='100%' border='0' colspan='3'>Eliminasi :</td></tr><tr><td width='100%' border='0' colspan='3'>&nbsp;&nbsp;&nbsp;&nbsp;BAB : Frekuensi : ").append(rs2.getString("bab")).append(" X/ ").append(rs2.getString("xbab")).append(rs2.getString("kbab").isEmpty() ? "" : ", Konsistensi : " + rs2.getString("kbab")).append(rs2.getString("kbab").isEmpty() ? "" : ", Warna : " + rs2.getString("wbab")).append("<br>&nbsp;&nbsp;&nbsp;&nbsp;BAK : Frekuensi : ").append(rs2.getString("bak")).append(" X/ ").append(rs2.getString("xbak")).append(rs2.getString("wbak").isEmpty() ? "" : ", Warna : " + rs2.getString("wbak")).append(rs2.getString("lbak").isEmpty() ? "" : ", Lain-lain : " + rs2.getString("lbak")).append("</td></tr></table></td></tr><tr><td valign='top'>III. RIWAYAT PSIKOLOGIS - SOSIAL - EKONOMI - BUDAYA - SPIRITUAL<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='50%' border='0'>Kondisi Psikologis</td><td width='50%' border='0'>: ").append(rs2.getString("psikologis")).append("</td></tr><tr><td width='50%' border='0'>Gangguan Jiwa Di Masa Lalu</td><td width='50%' border='0'>: ").append(rs2.getString("jiwa")).append("</td></tr><tr><td width='50%' border='0'>Adakah Perilaku</td><td width='50%' border='0'>: ").append(rs2.getString("perilaku")).append(rs2.getString("dilaporkan").isEmpty() ? "" : ", Dilaporkan Ke : " + rs2.getString("dilaporkan").isEmpty()).append(rs2.getString("sebutkan").isEmpty() ? "" : ", Sebutkan : " + rs2.getString("sebutkan").isEmpty()).append("</td></tr><tr><td width='50%' border='0'>Hubungan Pasien Dengan Anggota Keluarga</td><td width='50%' border='0'>: ").append(rs2.getString("hubungan")).append("</td></tr><tr><td width='50%' border='0'>Tinggal Dengan</td><td width='50%' border='0'>: ").append(rs2.getString("tinggal_dengan")).append(rs2.getString("ket_tinggal").isEmpty() ? "" : ", " + rs2.getString("ket_tinggal").isEmpty()).append("</td></tr><tr><td width='50%' border='0'>Kepercayaan / Budaya / Nilai-nilai Khusus Yang Perlu Diperhatikan</td><td width='50%' border='0'>: ").append(rs2.getString("budaya")).append(rs2.getString("ket_budaya").isEmpty() ? "" : ", " + rs2.getString("ket_budaya").isEmpty()).append("</td></tr><tr><td width='50%' border='0'>Pendidikan Penanggung Jawab</td><td width='50%' border='0'>: ").append(rs2.getString("pendidikan_pj")).append(rs2.getString("ket_pendidikan_pj").isEmpty() ? "" : ", " + rs2.getString("ket_pendidikan_pj").isEmpty()).append("</td></tr><tr><td width='50%' border='0'>Edukasi Diberikan Kepada</td><td width='50%' border='0'>: ").append(rs2.getString("edukasi")).append(rs2.getString("ket_edukasi").isEmpty() ? "" : ", " + rs2.getString("ket_edukasi").isEmpty()).append("</td></tr></table></td></tr><tr><td valign='top'>IV. PENGKAJIAN FUNGSI<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='42%' border='0'>Kemampuan Aktifitas Sehari-hari : ").append(rs2.getString("kemampuan")).append("</td><td width='20%' border='0'>Aktifitas : ").append(rs2.getString("aktifitas")).append("</td><td width='38%' border='0'>Alat Bantu : ").append(rs2.getString("alat_bantu")).append(rs2.getString("ket_bantu").isEmpty() ? "" : ", " + rs2.getString("ket_bantu")).append("</td></tr></table></td></tr><tr><td valign='top'>V. SKALA NYERI<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='50%' border='0'>Tingkat Nyeri : ").append(rs2.getString("nyeri")).append(", Waktu / Durasi : ").append(rs2.getString("durasi")).append(" Menit</td><td width='50%' border='0'>Penyebab : ").append(rs2.getString("provokes")).append(rs2.getString("ket_provokes").isEmpty() ? "" : ", " + rs2.getString("ket_provokes")).append("</td></tr><tr><td width='50%' border='0'>Kualitas : ").append(rs2.getString("quality")).append(rs2.getString("ket_quality").isEmpty() ? "" : ", " + rs2.getString("ket_quality")).append("</td><td width='50%' border='0'>Severity : Skala Nyeri ").append(rs2.getString("skala_nyeri")).append("</td></tr><tr><td colspan='0' border='0'>Wilayah :</td></tr><tr><td width='50%' border='0'>&nbsp;&nbsp;&nbsp;&nbsp;Lokasi : ").append(rs2.getString("lokasi")).append("</td><td width='50%' border='0'>Menyebar : ").append(rs2.getString("menyebar")).append("</td></tr><tr><td width='50%' border='0'>Nyeri hilang bila : ").append(rs2.getString("nyeri_hilang")).append(rs2.getString("ket_nyeri").isEmpty() ? "" : ", " + rs2.getString("ket_nyeri")).append("</td><td width='50%' border='0'>Diberitahukan pada dokter ? ").append(rs2.getString("pada_dokter")).append(rs2.getString("ket_dokter").isEmpty() ? "" : ", Jam : " + rs2.getString("ket_dokter")).append("</td></tr></table></td></tr><tr><td valign='top'>VI. PENILAIAN RESIKO JATUH (GET UP AND GO)<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td colpsan='2' border='0'>a. Cara Berjalan :</td></tr><tr><td width='75%' border='0'>&nbsp;&nbsp;&nbsp;&nbsp;1. Tidak seimbang / sempoyongan / limbung</td><td width='25%' border='0'>: ").append(rs2.getString("berjalan_a")).append("</td></tr><tr><td width='75%' border='0'>&nbsp;&nbsp;&nbsp;&nbsp;2. Jalan dengan menggunakan alat bantu (kruk, tripot, kursi roda, orang lain)</td><td width='25%' border='0'>: ").append(rs2.getString("berjalan_b")).append("</td></tr><tr><td width='75%' border='0'>b. Menopang saat akan duduk, tampak memegang pinggiran kursi atau meja / benda lain sebagai penopang</td><td width='25%' border='0'>: ").append(rs2.getString("berjalan_c")).append("</td></tr><tr><td colspan='2' border='0'>Hasil : ").append(rs2.getString("hasil")).append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dilaporkan kepada dokter ? ").append(rs2.getString("lapor")).append(rs2.getString("ket_lapor").isEmpty() ? "" : " Jam dilaporkan : " + rs2.getString("ket_lapor")).append("</td></tr></table></td></tr><tr><td valign='top'><table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td valign='middle' bgcolor='#FFFAF8' align='center' width='50%'>MASALAH KEPERAWATAN :</td><td valign='middle' bgcolor='#FFFAF8' align='center' width='50%'>RENCANA KEPERAWATAN :</td></tr><tr><td valign='top'>");
                            try {
                                rs3 = koneksi.prepareStatement(
                                        "select master_masalah_keperawatan_igd.nama_masalah from master_masalah_keperawatan_igd "
                                        + "inner join penilaian_awal_keperawatan_igd_masalah on penilaian_awal_keperawatan_igd_masalah.kode_masalah=master_masalah_keperawatan_igd.kode_masalah "
                                        + "where penilaian_awal_keperawatan_igd_masalah.no_rawat='" + norawat + "' order by penilaian_awal_keperawatan_igd_masalah.kode_masalah").executeQuery();
                                while (rs3.next()) {
                                    htmlContent.append(rs3.getString("nama_masalah")).append("<br>");
                                }
                            } catch (Exception e) {
                                System.out.println("Notif : " + e);
                            } finally {
                                if (rs3 != null) {
                                    rs3.close();
                                }
                            }
                            htmlContent.append("</td>"
                                    + "<td valign='top'>");
                            try {
                                rs3 = koneksi.prepareStatement(
                                        "select master_rencana_keperawatan_igd.rencana_keperawatan from master_rencana_keperawatan_igd "
                                        + "inner join penilaian_awal_keperawatan_ralan_rencana_igd on penilaian_awal_keperawatan_ralan_rencana_igd.kode_rencana=master_rencana_keperawatan_igd.kode_rencana "
                                        + "where penilaian_awal_keperawatan_ralan_rencana_igd.no_rawat='" + norawat + "' order by penilaian_awal_keperawatan_ralan_rencana_igd.kode_rencana").executeQuery();
                                while (rs3.next()) {
                                    htmlContent.append(rs3.getString("rencana_keperawatan")).append("<br>");
                                }
                            } catch (Exception e) {
                                System.out.println("Notif : " + e);
                            } finally {
                                if (rs3 != null) {
                                    rs3.close();
                                }
                            }
                            htmlContent.append(rs2.getString("rencana")).append("</td></tr></table></td></tr>");
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>"
                                + "</table>"
                                + "</fieldset>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Asuhan Keperawatan IGD : " + e);
        }
    }

    private void menampilkanAsuhanKeperawatanRalan(String norawat) {
        try {
            if (chkAsuhanKeperawatanRalan.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select penilaian_awal_keperawatan_ralan.tanggal,penilaian_awal_keperawatan_ralan.informasi,penilaian_awal_keperawatan_ralan.td,penilaian_awal_keperawatan_ralan.nadi,penilaian_awal_keperawatan_ralan.rr,penilaian_awal_keperawatan_ralan.suhu,penilaian_awal_keperawatan_ralan.bb,penilaian_awal_keperawatan_ralan.tb,"
                            + "penilaian_awal_keperawatan_ralan.nadi,penilaian_awal_keperawatan_ralan.rr,penilaian_awal_keperawatan_ralan.suhu,penilaian_awal_keperawatan_ralan.gcs,penilaian_awal_keperawatan_ralan.bb,penilaian_awal_keperawatan_ralan.tb,penilaian_awal_keperawatan_ralan.bmi,penilaian_awal_keperawatan_ralan.keluhan_utama,"
                            + "penilaian_awal_keperawatan_ralan.rpd,penilaian_awal_keperawatan_ralan.rpk,penilaian_awal_keperawatan_ralan.rpo,penilaian_awal_keperawatan_ralan.alergi,penilaian_awal_keperawatan_ralan.alat_bantu,penilaian_awal_keperawatan_ralan.ket_bantu,penilaian_awal_keperawatan_ralan.prothesa,"
                            + "penilaian_awal_keperawatan_ralan.ket_pro,penilaian_awal_keperawatan_ralan.adl,penilaian_awal_keperawatan_ralan.status_psiko,penilaian_awal_keperawatan_ralan.ket_psiko,penilaian_awal_keperawatan_ralan.hub_keluarga,penilaian_awal_keperawatan_ralan.tinggal_dengan,"
                            + "penilaian_awal_keperawatan_ralan.ket_tinggal,penilaian_awal_keperawatan_ralan.ekonomi,penilaian_awal_keperawatan_ralan.edukasi,penilaian_awal_keperawatan_ralan.ket_edukasi,penilaian_awal_keperawatan_ralan.berjalan_a,penilaian_awal_keperawatan_ralan.berjalan_b,"
                            + "penilaian_awal_keperawatan_ralan.berjalan_c,penilaian_awal_keperawatan_ralan.hasil,penilaian_awal_keperawatan_ralan.lapor,penilaian_awal_keperawatan_ralan.ket_lapor,penilaian_awal_keperawatan_ralan.sg1,penilaian_awal_keperawatan_ralan.nilai1,penilaian_awal_keperawatan_ralan.sg2,penilaian_awal_keperawatan_ralan.nilai2,"
                            + "penilaian_awal_keperawatan_ralan.total_hasil,penilaian_awal_keperawatan_ralan.nyeri,penilaian_awal_keperawatan_ralan.provokes,penilaian_awal_keperawatan_ralan.ket_provokes,penilaian_awal_keperawatan_ralan.quality,penilaian_awal_keperawatan_ralan.ket_quality,penilaian_awal_keperawatan_ralan.lokasi,penilaian_awal_keperawatan_ralan.menyebar,"
                            + "penilaian_awal_keperawatan_ralan.skala_nyeri,penilaian_awal_keperawatan_ralan.durasi,penilaian_awal_keperawatan_ralan.nyeri_hilang,penilaian_awal_keperawatan_ralan.ket_nyeri,penilaian_awal_keperawatan_ralan.pada_dokter,penilaian_awal_keperawatan_ralan.ket_dokter,penilaian_awal_keperawatan_ralan.rencana,"
                            + "penilaian_awal_keperawatan_ralan.nip,petugas.nama,penilaian_awal_keperawatan_ralan.budaya,penilaian_awal_keperawatan_ralan.ket_budaya "
                            + "from penilaian_awal_keperawatan_ralan inner join petugas on penilaian_awal_keperawatan_ralan.nip=petugas.nip where "
                            + "penilaian_awal_keperawatan_ralan.no_rawat='" + norawat + "'").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<fieldset>"
                                + "<h2><center>ASUHAN KEPERAWATAN RAWAT JALAN</center></h2>"
                                + "<table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Penilaian Awal Keperawatan Rawat Jalan Umum</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                        );
                        rs2.beforeFirst();
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top'>YANG MELAKUKAN PENGKAJIAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='33%' border='0'>Tanggal : ").append(rs2.getString("tanggal")).append("</td><td width='33%' border='0'>Petugas : ").append(rs2.getString("nip")).append(" ").append(rs2.getString("nama")).append("</td><td width='33%' border='0'>Informasi didapat dari : ").append(rs2.getString("informasi")).append("</td></tr></table></td></tr><tr><td valign='top'>I. KEADAAN UMUM<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='20%' border='0'>TD : ").append(rs2.getString("td")).append(" mmHg</td><td width='20%' border='0'>Nadi : ").append(rs2.getString("nadi")).append(" x/menit</td><td width='20%' border='0'>RR : ").append(rs2.getString("rr")).append(" x/menit</td><td width='20%' border='0'>Suhu : ").append(rs2.getString("suhu")).append(" \u00b0C</td><td width='20%' border='0'>GCS(E,V,M) : ").append(rs2.getString("gcs")).append("</td></tr></table></td></tr><tr><td valign='top'>II. STATUS NUTRISI<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='33%' border='0'>BB : ").append(rs2.getString("bb")).append(" Kg</td><td width='33%' border='0'>TB : ").append(rs2.getString("tb")).append(" Cm</td><td width='33%' border='0'>BMI : ").append(rs2.getString("bmi")).append(" Kg/m\u00b2</td></tr></table></td></tr><tr><td valign='top'>III. RIWAYAT KESEHATAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td colspan='2'>Keluhan Utama : ").append(rs2.getString("keluhan_utama").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='50%'>Riwayat Penyakit Dahulu : ").append(rs2.getString("rpd").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td><td width='50%'>Riwayat Alergi : ").append(rs2.getString("alergi")).append("</td></tr><tr><td width='50%'>Riwayat Penyakit Keluarga : ").append(rs2.getString("rpk").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td><td width='50%'>Riwayat Pengobatan : ").append(rs2.getString("rpo").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>IV. FUNGSIONAL<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='33%' border='0'>Alat Bantu : ").append(rs2.getString("alat_bantu")).append(rs2.getString("ket_bantu").isEmpty() ? "" : ", " + rs2.getString("ket_bantu")).append("</td><td width='33%' border='0'>Prothesa : ").append(rs2.getString("prothesa")).append(rs2.getString("ket_pro").isEmpty() ? "" : ", " + rs2.getString("ket_pro")).append("</td><td width='33%' border='0'>Aktivitas Sehari-hari ( ADL ) : ").append(rs2.getString("adl")).append("</td></tr></table></td></tr><tr><td valign='top'>V. RIWAYAT PSIKO-SOSIAL, SPIRITUAL DAN BUDAYA<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='50%' border='0'>Status Psikologis</td><td width='50%' border='0'>: ").append(rs2.getString("status_psiko")).append(rs2.getString("ket_psiko").isEmpty() ? "" : ", " + rs2.getString("ket_psiko")).append("</td></tr><tr><td border='0' colspan='2'>Status Sosial dan ekonomi :</td></tr><tr><td width='50%' border='0'>&nbsp;&nbsp;&nbsp;&nbsp;a. Hubungan pasien dengan anggota keluarga</td><td width='50%' border='0'>: ").append(rs2.getString("hub_keluarga")).append("</td></tr><tr><td width='50%' border='0'>&nbsp;&nbsp;&nbsp;&nbsp;b. Tinggal dengan</td><td width='50%' border='0'>: ").append(rs2.getString("tinggal_dengan")).append(rs2.getString("ket_tinggal").isEmpty() ? "" : ", " + rs2.getString("ket_tinggal")).append("</td></tr><tr><td width='50%' border='0'>&nbsp;&nbsp;&nbsp;&nbsp;c. Ekonomi</td><td width='50%' border='0'>: ").append(rs2.getString("ekonomi")).append("</td></tr><tr><td width='50%' border='0'>Kepercayaan / Budaya / Nilai-nilai khusus yang perlu diperhatikan</td><td width='50%' border='0'>: ").append(rs2.getString("budaya")).append(rs2.getString("ket_budaya").isEmpty() ? "" : ", " + rs2.getString("ket_budaya")).append("</td></tr><tr><td width='50%' border='0'>Edukasi diberikan kepada</td><td width='50%' border='0'>: ").append(rs2.getString("edukasi")).append(rs2.getString("ket_edukasi").isEmpty() ? "" : ", " + rs2.getString("ket_edukasi")).append("</td></tr></table></td></tr><tr><td valign='top'>VI. PENILAIAN RESIKO JATUH<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td colpsan='2' border='0'>a. Cara Berjalan :</td></tr><tr><td width='75%' border='0'>&nbsp;&nbsp;&nbsp;&nbsp;1. Tidak seimbang / sempoyongan / limbung</td><td width='25%' border='0'>: ").append(rs2.getString("berjalan_a")).append("</td></tr><tr><td width='75%' border='0'>&nbsp;&nbsp;&nbsp;&nbsp;2. Jalan dengan menggunakan alat bantu (kruk, tripot, kursi roda, orang lain)</td><td width='25%' border='0'>: ").append(rs2.getString("berjalan_b")).append("</td></tr><tr><td width='75%' border='0'>b. Menopang saat akan duduk, tampak memegang pinggiran kursi atau meja / benda lain sebagai penopang</td><td width='25%' border='0'>: ").append(rs2.getString("berjalan_c")).append("</td></tr><tr><td colspan='2' border='0'>Hasil : ").append(rs2.getString("hasil")).append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dilaporkan kepada dokter ? ").append(rs2.getString("lapor")).append(rs2.getString("ket_lapor").isEmpty() ? "" : " Jam dilaporkan : " + rs2.getString("ket_lapor")).append("</td></tr></table></td></tr><tr><td valign='top'>VII. SKRINING GIZI<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td valign='middle' bgcolor='#FFFAF8' align='center' width='5%'>No</td><td valign='middle' bgcolor='#FFFAF8' align='center' width='70%'>Parameter</td><td valign='middle' bgcolor='#FFFAF8' align='center' width='25%' colspan='2'>Nilai</td></tr><tr><td valign='top'>1</td><td valign='top'>Apakah ada penurunan berat badan yang tidak diinginkan selama enam bulan terakhir ?</td><td valign='top' align='center' width='20%'>").append(rs2.getString("sg1")).append("</td><td valign='top' align='right' width='5%'>").append(rs2.getString("nilai1")).append("&nbsp;&nbsp;</td></tr><tr><td valign='top'>2</td><td valign='top'>Apakah nafsu makan berkurang karena tidak nafsu makan ?</td><td valign='top' align='center' width='20%'>").append(rs2.getString("sg2")).append("</td><td valign='top' align='right' width='5%'>").append(rs2.getString("nilai2")).append("&nbsp;&nbsp;</td></tr><tr><td valign='top' align='right' colspan='2'>Total Skor</td><td valign='top' align='right' colspan='2'>").append(rs2.getString("total_hasil")).append("&nbsp;&nbsp;</td></tr></table></td></tr><tr><td valign='top'>VIII. PENILAIAN TINGKAT NYERI<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='50%' border='0'>Tingkat Nyeri : ").append(rs2.getString("nyeri")).append(", Waktu / Durasi : ").append(rs2.getString("durasi")).append(" Menit</td><td width='50%' border='0'>Penyebab : ").append(rs2.getString("provokes")).append(rs2.getString("ket_provokes").isEmpty() ? "" : ", " + rs2.getString("ket_provokes")).append("</td></tr><tr><td width='50%' border='0'>Kualitas : ").append(rs2.getString("quality")).append(rs2.getString("ket_quality").isEmpty() ? "" : ", " + rs2.getString("ket_quality")).append("</td><td width='50%' border='0'>Severity : Skala Nyeri ").append(rs2.getString("skala_nyeri")).append("</td></tr><tr><td colspan='0' border='0'>Wilayah :</td></tr><tr><td width='50%' border='0'>&nbsp;&nbsp;&nbsp;&nbsp;Lokasi : ").append(rs2.getString("lokasi")).append("</td><td width='50%' border='0'>Menyebar : ").append(rs2.getString("menyebar")).append("</td></tr><tr><td width='50%' border='0'>Nyeri hilang bila : ").append(rs2.getString("nyeri_hilang")).append(rs2.getString("ket_nyeri").isEmpty() ? "" : ", " + rs2.getString("ket_nyeri")).append("</td><td width='50%' border='0'>Diberitahukan pada dokter ? ").append(rs2.getString("pada_dokter")).append(rs2.getString("ket_dokter").isEmpty() ? "" : ", Jam : " + rs2.getString("ket_dokter")).append("</td></tr></table></td></tr><tr><td valign='top'><table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td valign='middle' bgcolor='#FFFAF8' align='center' width='50%'>MASALAH KEPERAWATAN :</td><td valign='middle' bgcolor='#FFFAF8' align='center' width='50%'>RENCANA KEPERAWATAN :</td></tr><tr><td valign='top'>");
                            try {
                                rs3 = koneksi.prepareStatement(
                                        "select master_masalah_keperawatan.nama_masalah from master_masalah_keperawatan "
                                        + "inner join penilaian_awal_keperawatan_ralan_masalah on penilaian_awal_keperawatan_ralan_masalah.kode_masalah=master_masalah_keperawatan.kode_masalah "
                                        + "where penilaian_awal_keperawatan_ralan_masalah.no_rawat='" + norawat + "' order by penilaian_awal_keperawatan_ralan_masalah.kode_masalah").executeQuery();
                                while (rs3.next()) {
                                    htmlContent.append(rs3.getString("nama_masalah")).append("<br>");
                                }
                            } catch (Exception e) {
                                System.out.println("Notif : " + e);
                            } finally {
                                if (rs3 != null) {
                                    rs3.close();
                                }
                            }
                            htmlContent.append("</td>"
                                    + "<td valign='top'>");
                            try {
                                rs3 = koneksi.prepareStatement(
                                        "select master_rencana_keperawatan.rencana_keperawatan from master_rencana_keperawatan "
                                        + "inner join penilaian_awal_keperawatan_ralan_rencana on penilaian_awal_keperawatan_ralan_rencana.kode_rencana=master_rencana_keperawatan.kode_rencana "
                                        + "where penilaian_awal_keperawatan_ralan_rencana.no_rawat='" + norawat + "' order by penilaian_awal_keperawatan_ralan_rencana.kode_rencana").executeQuery();
                                while (rs3.next()) {
                                    htmlContent.append(rs3.getString("rencana_keperawatan")).append("<br>");
                                }
                            } catch (Exception e) {
                                System.out.println("Notif : " + e);
                            } finally {
                                if (rs3 != null) {
                                    rs3.close();
                                }
                            }
                            htmlContent.append(rs2.getString("rencana")).append("</td></tr></table></td></tr>");
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>"
                                + "</table>"
                                + "</fieldset>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Asuhan Keperawatan Ralan : " + e);
        }
    }

    private void menampilkanAsuhanKeperawatanRalanGigi(String norawat) {
        try {
            if (chkAsuhanKeperawatanRalanGigi.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select penilaian_awal_keperawatan_gigi.tanggal,penilaian_awal_keperawatan_gigi.informasi,penilaian_awal_keperawatan_gigi.td,penilaian_awal_keperawatan_gigi.nadi,penilaian_awal_keperawatan_gigi.rr,penilaian_awal_keperawatan_gigi.suhu,penilaian_awal_keperawatan_gigi.bb,"
                            + "penilaian_awal_keperawatan_gigi.tb,penilaian_awal_keperawatan_gigi.bmi,penilaian_awal_keperawatan_gigi.keluhan_utama,penilaian_awal_keperawatan_gigi.riwayat_penyakit,penilaian_awal_keperawatan_gigi.ket_riwayat_penyakit,"
                            + "penilaian_awal_keperawatan_gigi.alergi,penilaian_awal_keperawatan_gigi.riwayat_perawatan_gigi,penilaian_awal_keperawatan_gigi.ket_riwayat_perawatan_gigi,penilaian_awal_keperawatan_gigi.kebiasaan_sikat_gigi,"
                            + "penilaian_awal_keperawatan_gigi.kebiasaan_lain,penilaian_awal_keperawatan_gigi.ket_kebiasaan_lain,penilaian_awal_keperawatan_gigi.obat_yang_diminum_saatini,penilaian_awal_keperawatan_gigi.alat_bantu,"
                            + "penilaian_awal_keperawatan_gigi.ket_alat_bantu,penilaian_awal_keperawatan_gigi.prothesa,penilaian_awal_keperawatan_gigi.ket_pro,penilaian_awal_keperawatan_gigi.status_psiko,penilaian_awal_keperawatan_gigi.ket_psiko,"
                            + "penilaian_awal_keperawatan_gigi.hub_keluarga,penilaian_awal_keperawatan_gigi.tinggal_dengan,penilaian_awal_keperawatan_gigi.ket_tinggal,penilaian_awal_keperawatan_gigi.ekonomi,penilaian_awal_keperawatan_gigi.budaya,"
                            + "penilaian_awal_keperawatan_gigi.ket_budaya,penilaian_awal_keperawatan_gigi.edukasi,penilaian_awal_keperawatan_gigi.ket_edukasi,penilaian_awal_keperawatan_gigi.berjalan_a,penilaian_awal_keperawatan_gigi.berjalan_b,"
                            + "penilaian_awal_keperawatan_gigi.berjalan_c,penilaian_awal_keperawatan_gigi.hasil,penilaian_awal_keperawatan_gigi.lapor,penilaian_awal_keperawatan_gigi.ket_lapor,penilaian_awal_keperawatan_gigi.nyeri,"
                            + "penilaian_awal_keperawatan_gigi.lokasi,penilaian_awal_keperawatan_gigi.skala_nyeri,penilaian_awal_keperawatan_gigi.durasi,penilaian_awal_keperawatan_gigi.frekuensi,penilaian_awal_keperawatan_gigi.nyeri_hilang,"
                            + "penilaian_awal_keperawatan_gigi.ket_nyeri,penilaian_awal_keperawatan_gigi.pada_dokter,penilaian_awal_keperawatan_gigi.ket_dokter,penilaian_awal_keperawatan_gigi.kebersihan_mulut,penilaian_awal_keperawatan_gigi.mukosa_mulut,"
                            + "penilaian_awal_keperawatan_gigi.karies,penilaian_awal_keperawatan_gigi.karang_gigi,penilaian_awal_keperawatan_gigi.gingiva,penilaian_awal_keperawatan_gigi.palatum,penilaian_awal_keperawatan_gigi.rencana,"
                            + "penilaian_awal_keperawatan_gigi.nip,petugas.nama "
                            + "from penilaian_awal_keperawatan_gigi inner join petugas on penilaian_awal_keperawatan_gigi.nip=petugas.nip "
                            + "where penilaian_awal_keperawatan_gigi.no_rawat='" + norawat + "'").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<fieldset>"
                                + "<h2><center>ASUHAN KEPERAWATAN RAWAT JALAN GIGI</center></h2>"
                                + "<table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Penilaian Awal Keperawatan Rawat Jalan Gigi & Mulut</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                        );
                        rs2.beforeFirst();
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top'>YANG MELAKUKAN PENGKAJIAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='33%' border='0'>Tanggal : ").append(rs2.getString("tanggal")).append("</td><td width='33%' border='0'>Petugas : ").append(rs2.getString("nip")).append(" ").append(rs2.getString("nama")).append("</td><td width='33%' border='0'>Informasi didapat dari : ").append(rs2.getString("informasi")).append("</td></tr></table></td></tr><tr><td valign='top'>I. KEADAAN UMUM<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='20%' border='0'>TD : ").append(rs2.getString("td")).append(" mmHg</td><td width='20%' border='0'>Nadi : ").append(rs2.getString("nadi")).append(" x/menit</td><td width='20%' border='0'>RR : ").append(rs2.getString("rr")).append(" x/menit</td><td width='20%' border='0'>Suhu : ").append(rs2.getString("suhu")).append(" \u00b0C</td></tr></table></td></tr><tr><td valign='top'>II. STATUS NUTRISI<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='33%' border='0'>BB : ").append(rs2.getString("bb")).append(" Kg</td><td width='33%' border='0'>TB : ").append(rs2.getString("tb")).append(" Cm</td><td width='33%' border='0'>BMI : ").append(rs2.getString("bmi")).append(" Kg/m\u00b2</td></tr></table></td></tr><tr><td valign='top'>III. RIWAYAT KESEHATAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td colspan='2'>Keluhan Utama : ").append(rs2.getString("keluhan_utama").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='50%'>Riwayat Penyakit : ").append(rs2.getString("riwayat_penyakit")).append(rs2.getString("ket_riwayat_penyakit").isEmpty() ? "" : ", " + rs2.getString("ket_riwayat_penyakit")).append("</td><td width='50%'>Riwayat Perawatan Gigi : ").append(rs2.getString("riwayat_perawatan_gigi")).append(rs2.getString("ket_riwayat_perawatan_gigi").isEmpty() ? "" : ", " + rs2.getString("ket_riwayat_perawatan_gigi")).append("</td></tr><tr><td width='50%'>Riwayat Alergi : ").append(rs2.getString("alergi")).append("</td><td width='50%'>Kebiasaan Lain : ").append(rs2.getString("kebiasaan_lain")).append(rs2.getString("ket_kebiasaan_lain").isEmpty() ? "" : ", " + rs2.getString("ket_kebiasaan_lain")).append("</td></tr><tr><td width='50%'>Kebiasaan Sikat Gigi : ").append(rs2.getString("kebiasaan_sikat_gigi")).append("</td><td width='50%'>Obat Yang Diminum Saat Ini : ").append(rs2.getString("obat_yang_diminum_saatini")).append("</td></tr></table></td></tr><tr><td valign='top'>IV. FUNGSIONAL<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='50%' border='0'>Alat Bantu : ").append(rs2.getString("alat_bantu")).append(rs2.getString("ket_alat_bantu").isEmpty() ? "" : ", " + rs2.getString("ket_alat_bantu")).append("</td><td width='50%' border='0'>Prothesa : ").append(rs2.getString("prothesa")).append(rs2.getString("ket_pro").isEmpty() ? "" : ", " + rs2.getString("ket_pro")).append("</td></tr></table></td></tr><tr><td valign='top'>V. RIWAYAT PSIKO-SOSIAL, SPIRITUAL DAN BUDAYA<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='50%' border='0'>Status Psikologis</td><td width='50%' border='0'>: ").append(rs2.getString("status_psiko")).append(rs2.getString("ket_psiko").isEmpty() ? "" : ", " + rs2.getString("ket_psiko")).append("</td></tr><tr><td border='0' colspan='2'>Status Sosial dan ekonomi :</td></tr><tr><td width='50%' border='0'>&nbsp;&nbsp;&nbsp;&nbsp;a. Hubungan pasien dengan anggota keluarga</td><td width='50%' border='0'>: ").append(rs2.getString("hub_keluarga")).append("</td></tr><tr><td width='50%' border='0'>&nbsp;&nbsp;&nbsp;&nbsp;b. Tinggal dengan</td><td width='50%' border='0'>: ").append(rs2.getString("tinggal_dengan")).append(rs2.getString("ket_tinggal").isEmpty() ? "" : ", " + rs2.getString("ket_tinggal")).append("</td></tr><tr><td width='50%' border='0'>&nbsp;&nbsp;&nbsp;&nbsp;c. Ekonomi</td><td width='50%' border='0'>: ").append(rs2.getString("ekonomi")).append("</td></tr><tr><td width='50%' border='0'>Kepercayaan / Budaya / Nilai-nilai khusus yang perlu diperhatikan</td><td width='50%' border='0'>: ").append(rs2.getString("budaya")).append(rs2.getString("ket_budaya").isEmpty() ? "" : ", " + rs2.getString("ket_budaya")).append("</td></tr><tr><td width='50%' border='0'>Edukasi diberikan kepada</td><td width='50%' border='0'>: ").append(rs2.getString("edukasi")).append(rs2.getString("ket_edukasi").isEmpty() ? "" : ", " + rs2.getString("ket_edukasi")).append("</td></tr></table></td></tr><tr><td valign='top'>VI. PENILAIAN RESIKO JATUH<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td colpsan='2' border='0'>a. Cara Berjalan :</td></tr><tr><td width='75%' border='0'>&nbsp;&nbsp;&nbsp;&nbsp;1. Tidak seimbang / sempoyongan / limbung</td><td width='25%' border='0'>: ").append(rs2.getString("berjalan_a")).append("</td></tr><tr><td width='75%' border='0'>&nbsp;&nbsp;&nbsp;&nbsp;2. Jalan dengan menggunakan alat bantu (kruk, tripot, kursi roda, orang lain)</td><td width='25%' border='0'>: ").append(rs2.getString("berjalan_b")).append("</td></tr><tr><td width='75%' border='0'>b. Menopang saat akan duduk, tampak memegang pinggiran kursi atau meja / benda lain sebagai penopang</td><td width='25%' border='0'>: ").append(rs2.getString("berjalan_c")).append("</td></tr><tr><td colspan='2' border='0'>Hasil : ").append(rs2.getString("hasil")).append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dilaporkan kepada dokter ? ").append(rs2.getString("lapor")).append(rs2.getString("ket_lapor").isEmpty() ? "" : " Jam dilaporkan : " + rs2.getString("ket_lapor")).append("</td></tr></table></td></tr><tr><td valign='top'>VII. PENILAIAN TINGKAT NYERI<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='50%' border='0'>Tingkat Nyeri : ").append(rs2.getString("nyeri")).append("</td><td width='50%' border='0'>Skala Nyeri : ").append(rs2.getString("skala_nyeri")).append("</td></tr><tr><td width='50%' border='0'>Lokasi : ").append(rs2.getString("lokasi")).append("</td><td width='50%' border='0'>Durasi : ").append(rs2.getString("durasi")).append("</td></tr><tr><td width='50%' border='0'>Frekuensi : ").append(rs2.getString("frekuensi")).append("</td><td width='50%' border='0'>Nyeri hilang bila : ").append(rs2.getString("nyeri_hilang")).append(rs2.getString("ket_nyeri").isEmpty() ? "" : ", " + rs2.getString("ket_nyeri")).append("</td></tr><tr><td border='0'  colspan='2'>Diberitahukan pada dokter ? ").append(rs2.getString("pada_dokter")).append(rs2.getString("ket_dokter").isEmpty() ? "" : " Jam " + rs2.getString("ket_dokter")).append("</td></tr></table></td></tr><td valign='top'>VIII. PENILAIAN INTRAORAL<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='50%' border='0'>Kebersihan Mulut : ").append(rs2.getString("kebersihan_mulut")).append("</td><td width='50%' border='0'>Mukosa Mulut : ").append(rs2.getString("mukosa_mulut")).append("</td></tr><tr><td width='50%' border='0'>Karies : ").append(rs2.getString("karies")).append("</td><td width='50%' border='0'>Karang Gigi : ").append(rs2.getString("karang_gigi")).append("</td></tr><tr><td width='50%' border='0'>Gingiva : ").append(rs2.getString("gingiva")).append("</td><td width='50%' border='0'>Palatum : ").append(rs2.getString("palatum")).append("</td></tr></table></td></tr><tr><td valign='top'><table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td valign='middle' bgcolor='#FFFAF8' align='center' width='50%'>MASALAH KEPERAWATAN :</td><td valign='middle' bgcolor='#FFFAF8' align='center' width='50%'>RENCANA KEPERAWATAN :</td></tr><tr><td valign='top'>");
                            try {
                                rs3 = koneksi.prepareStatement(
                                        "select master_masalah_keperawatan_gigi.nama_masalah from master_masalah_keperawatan_gigi "
                                        + "inner join penilaian_awal_keperawatan_gigi_masalah on penilaian_awal_keperawatan_gigi_masalah.kode_masalah=master_masalah_keperawatan_gigi.kode_masalah "
                                        + "where penilaian_awal_keperawatan_gigi_masalah.no_rawat='" + norawat + "' order by penilaian_awal_keperawatan_gigi_masalah.kode_masalah").executeQuery();
                                while (rs3.next()) {
                                    htmlContent.append(rs3.getString("nama_masalah")).append("<br>");
                                }
                            } catch (Exception e) {
                                System.out.println("Notif : " + e);
                            } finally {
                                if (rs3 != null) {
                                    rs3.close();
                                }
                            }
                            htmlContent.append("</td>"
                                    + "<td valign='top'>");
                            try {
                                rs3 = koneksi.prepareStatement(
                                        "select master_rencana_keperawatan_gigi.rencana_keperawatan from master_rencana_keperawatan_gigi "
                                        + "inner join penilaian_awal_keperawatan_ralan_rencana_gigi on penilaian_awal_keperawatan_ralan_rencana_gigi.kode_rencana=master_rencana_keperawatan_gigi.kode_rencana "
                                        + "where penilaian_awal_keperawatan_ralan_rencana_gigi.no_rawat='" + norawat + "' order by penilaian_awal_keperawatan_ralan_rencana_gigi.kode_rencana").executeQuery();
                                while (rs3.next()) {
                                    htmlContent.append(rs3.getString("rencana_keperawatan")).append("<br>");
                                }
                            } catch (Exception e) {
                                System.out.println("Notif : " + e);
                            } finally {
                                if (rs3 != null) {
                                    rs3.close();
                                }
                            }
                            htmlContent.append(rs2.getString("rencana")).append("</td></tr></table></td></tr>");
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>"
                                + "</table>"
                                + "</fieldset>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Asuhan Keperawatan Ralan Gigi : " + e);
        }
    }

    private void menampilkanAsuhanKeperawatanRalanBayi(String norawat) {
        try {
            if (chkAsuhanKeperawatanRalanBayi.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select penilaian_awal_keperawatan_ralan_bayi.tanggal,penilaian_awal_keperawatan_ralan_bayi.informasi,penilaian_awal_keperawatan_ralan_bayi.td,penilaian_awal_keperawatan_ralan_bayi.nadi,penilaian_awal_keperawatan_ralan_bayi.rr,penilaian_awal_keperawatan_ralan_bayi.suhu,penilaian_awal_keperawatan_ralan_bayi.gcs,"
                            + "penilaian_awal_keperawatan_ralan_bayi.bb,penilaian_awal_keperawatan_ralan_bayi.tb,penilaian_awal_keperawatan_ralan_bayi.lp,penilaian_awal_keperawatan_ralan_bayi.lk,penilaian_awal_keperawatan_ralan_bayi.ld,penilaian_awal_keperawatan_ralan_bayi.keluhan_utama,"
                            + "penilaian_awal_keperawatan_ralan_bayi.rpd,penilaian_awal_keperawatan_ralan_bayi.rpk,penilaian_awal_keperawatan_ralan_bayi.rpo,penilaian_awal_keperawatan_ralan_bayi.alergi,penilaian_awal_keperawatan_ralan_bayi.anakke,penilaian_awal_keperawatan_ralan_bayi.darisaudara,"
                            + "penilaian_awal_keperawatan_ralan_bayi.caralahir,penilaian_awal_keperawatan_ralan_bayi.ket_caralahir,penilaian_awal_keperawatan_ralan_bayi.umurkelahiran,penilaian_awal_keperawatan_ralan_bayi.kelainanbawaan,penilaian_awal_keperawatan_ralan_bayi.ket_kelainan_bawaan,"
                            + "penilaian_awal_keperawatan_ralan_bayi.usiatengkurap,penilaian_awal_keperawatan_ralan_bayi.usiaduduk,penilaian_awal_keperawatan_ralan_bayi.usiaberdiri,penilaian_awal_keperawatan_ralan_bayi.usiagigipertama,penilaian_awal_keperawatan_ralan_bayi.usiaberjalan,"
                            + "penilaian_awal_keperawatan_ralan_bayi.usiabicara,penilaian_awal_keperawatan_ralan_bayi.usiamembaca,penilaian_awal_keperawatan_ralan_bayi.usiamenulis,penilaian_awal_keperawatan_ralan_bayi.gangguanemosi,penilaian_awal_keperawatan_ralan_bayi.alat_bantu,"
                            + "penilaian_awal_keperawatan_ralan_bayi.ket_bantu,penilaian_awal_keperawatan_ralan_bayi.prothesa,penilaian_awal_keperawatan_ralan_bayi.ket_pro,penilaian_awal_keperawatan_ralan_bayi.adl,penilaian_awal_keperawatan_ralan_bayi.status_psiko,"
                            + "penilaian_awal_keperawatan_ralan_bayi.ket_psiko,penilaian_awal_keperawatan_ralan_bayi.hub_keluarga,penilaian_awal_keperawatan_ralan_bayi.pengasuh,penilaian_awal_keperawatan_ralan_bayi.ket_pengasuh,penilaian_awal_keperawatan_ralan_bayi.ekonomi,"
                            + "penilaian_awal_keperawatan_ralan_bayi.budaya,penilaian_awal_keperawatan_ralan_bayi.ket_budaya,penilaian_awal_keperawatan_ralan_bayi.edukasi,penilaian_awal_keperawatan_ralan_bayi.ket_edukasi,penilaian_awal_keperawatan_ralan_bayi.berjalan_a,"
                            + "penilaian_awal_keperawatan_ralan_bayi.berjalan_b,penilaian_awal_keperawatan_ralan_bayi.berjalan_c,penilaian_awal_keperawatan_ralan_bayi.hasil,penilaian_awal_keperawatan_ralan_bayi.lapor,penilaian_awal_keperawatan_ralan_bayi.ket_lapor,"
                            + "penilaian_awal_keperawatan_ralan_bayi.sg1,penilaian_awal_keperawatan_ralan_bayi.nilai1,penilaian_awal_keperawatan_ralan_bayi.sg2,penilaian_awal_keperawatan_ralan_bayi.nilai2,penilaian_awal_keperawatan_ralan_bayi.sg3,penilaian_awal_keperawatan_ralan_bayi.nilai3,"
                            + "penilaian_awal_keperawatan_ralan_bayi.sg4,penilaian_awal_keperawatan_ralan_bayi.nilai4,penilaian_awal_keperawatan_ralan_bayi.total_hasil,penilaian_awal_keperawatan_ralan_bayi.wajah,penilaian_awal_keperawatan_ralan_bayi.nilaiwajah,penilaian_awal_keperawatan_ralan_bayi.kaki,"
                            + "penilaian_awal_keperawatan_ralan_bayi.nilaikaki,penilaian_awal_keperawatan_ralan_bayi.aktifitas,penilaian_awal_keperawatan_ralan_bayi.nilaiaktifitas,penilaian_awal_keperawatan_ralan_bayi.menangis,penilaian_awal_keperawatan_ralan_bayi.nilaimenangis,"
                            + "penilaian_awal_keperawatan_ralan_bayi.bersuara,penilaian_awal_keperawatan_ralan_bayi.nilaibersuara,penilaian_awal_keperawatan_ralan_bayi.hasilnyeri,penilaian_awal_keperawatan_ralan_bayi.nyeri,penilaian_awal_keperawatan_ralan_bayi.lokasi,"
                            + "penilaian_awal_keperawatan_ralan_bayi.durasi,penilaian_awal_keperawatan_ralan_bayi.frekuensi,penilaian_awal_keperawatan_ralan_bayi.nyeri_hilang,penilaian_awal_keperawatan_ralan_bayi.ket_nyeri,penilaian_awal_keperawatan_ralan_bayi.pada_dokter,"
                            + "penilaian_awal_keperawatan_ralan_bayi.ket_dokter,penilaian_awal_keperawatan_ralan_bayi.rencana,penilaian_awal_keperawatan_ralan_bayi.nip,petugas.nama "
                            + "from penilaian_awal_keperawatan_ralan_bayi inner join petugas on penilaian_awal_keperawatan_ralan_bayi.nip=petugas.nip "
                            + "where penilaian_awal_keperawatan_ralan_bayi.no_rawat='" + norawat + "'").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<fieldset>"
                                + "<h2><center>ASUHAN KEPERAWATAN RAWAT JALAN BAYI</center></h2>"
                                + "<table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Penilaian Awal Keperawatan Rawat Jalan Bayi/Anak</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                        );
                        rs2.beforeFirst();
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top'>YANG MELAKUKAN PENGKAJIAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='33%' border='0'>Tanggal : ").append(rs2.getString("tanggal")).append("</td><td width='33%' border='0'>Petugas : ").append(rs2.getString("nip")).append(" ").append(rs2.getString("nama")).append("</td><td width='33%' border='0'>Informasi didapat dari : ").append(rs2.getString("informasi")).append("</td></tr></table></td></tr><tr><td valign='top'>I. KEADAAN UMUM<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='20%' border='0'>TD : ").append(rs2.getString("td")).append(" mmHg</td><td width='20%' border='0'>Nadi : ").append(rs2.getString("nadi")).append(" x/menit</td><td width='20%' border='0'>RR : ").append(rs2.getString("rr")).append(" x/menit</td><td width='20%' border='0'>Suhu : ").append(rs2.getString("suhu")).append(" \u00b0C</td><td width='20%' border='0'>GCS(E,V,M) : ").append(rs2.getString("gcs")).append(" \u00b0C</td></tr><tr><td width='20%' border='0'>BB : ").append(rs2.getString("bb")).append(" Kg</td><td width='20%' border='0'>TB : ").append(rs2.getString("tb")).append(" Cm</td><td width='20%' border='0'>LP : ").append(rs2.getString("lp")).append(" Cm</td><td width='20%' border='0'>LK : ").append(rs2.getString("lk")).append(" Cm</td><td width='20%' border='0'>LD : ").append(rs2.getString("ld")).append(" Cm</td></tr></table></td></tr><tr><td valign='top'>II. RIWAYAT KESEHATAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td colspan='2'>Keluhan Utama : ").append(rs2.getString("keluhan_utama").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='50%'>Riwayat Penyakit Dahulu : ").append(rs2.getString("rpd").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td><td width='50%'>Riwayat Alergi : ").append(rs2.getString("alergi")).append("</td></tr><tr><td width='50%'>Riwayat Penyakit Keluarga : ").append(rs2.getString("rpk").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td><td width='50%'>Riwayat Pengobatan : ").append(rs2.getString("rpo").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>III. RIWAYAT TUMBUH KEMBANG DAN PERINATAL CARE<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='50%' border='0'>Riwayat Kelahiran : Anak ke ").append(rs2.getString("anakke")).append(" dari ").append(rs2.getString("darisaudara")).append(" saudara</td><td width='50%' border='0'>Cara kelahiran : ").append(rs2.getString("caralahir")).append(rs2.getString("ket_caralahir").isEmpty() ? "" : ", " + rs2.getString("ket_caralahir")).append("</td></tr><tr><td width='50%' border='0'>Umur Kelahiran : ").append(rs2.getString("umurkelahiran")).append("</td><td width='50%' border='0'>Kelainan Bawaan : ").append(rs2.getString("kelainanbawaan")).append(rs2.getString("ket_kelainan_bawaan").isEmpty() ? "" : ", " + rs2.getString("ket_kelainan_bawaan")).append("</td></tr></table></td></tr><tr><td valign='top'>IV. RIWAYAT IMUNISASI<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='70%' bgcolor='#FFFAF8' align='center' valign='middle'>Imunisasi</td><td width='5%' bgcolor='#FFFAF8' align='center' valign='middle'>1</td><td width='5%' bgcolor='#FFFAF8' align='center' valign='middle'>2</td><td width='5%' bgcolor='#FFFAF8' align='center' valign='middle'>3</td><td width='5%' bgcolor='#FFFAF8' align='center' valign='middle'>4</td><td width='5%' bgcolor='#FFFAF8' align='center' valign='middle'>5</td><td width='5%' bgcolor='#FFFAF8' align='center' valign='middle'>6</td></tr>");
                            try {
                                rs3 = koneksi.prepareStatement(
                                        "select master_imunisasi.kode_imunisasi,master_imunisasi.nama_imunisasi from master_imunisasi inner join riwayat_imunisasi on riwayat_imunisasi.kode_imunisasi=master_imunisasi.kode_imunisasi "
                                        + "where riwayat_imunisasi.no_rkm_medis='" + NoRM.getText().trim() + "' group by master_imunisasi.kode_imunisasi order by master_imunisasi.kode_imunisasi").executeQuery();
                                while (rs3.next()) {
                                    ke1 = "";
                                    ke2 = "";
                                    ke3 = "";
                                    ke4 = "";
                                    ke5 = "";
                                    ke6 = "";
                                    try {
                                        rs4 = koneksi.prepareStatement("select * from riwayat_imunisasi where no_rkm_medis='" + NoRM.getText().trim() + "' and kode_imunisasi='" + rs3.getString("kode_imunisasi") + "'").executeQuery();
                                        while (rs4.next()) {
                                            if (rs4.getInt("no_imunisasi") == 1) {
                                                ke1 = "&#10003;";
                                            }
                                            if (rs4.getInt("no_imunisasi") == 2) {
                                                ke2 = "&#10003;";
                                            }
                                            if (rs4.getInt("no_imunisasi") == 3) {
                                                ke3 = "&#10003;";
                                            }
                                            if (rs4.getInt("no_imunisasi") == 4) {
                                                ke4 = "&#10003;";
                                            }
                                            if (rs4.getInt("no_imunisasi") == 5) {
                                                ke5 = "&#10003;";
                                            }
                                            if (rs4.getInt("no_imunisasi") == 6) {
                                                ke6 = "&#10003;";
                                            }
                                        }
                                    } catch (Exception e) {
                                        System.out.println("Notif : " + e);
                                    } finally {
                                        if (rs4 != null) {
                                            rs4.close();
                                        }
                                    }
                                    htmlContent.append("<tr><td align='left'>").append(rs3.getString("nama_imunisasi")).append("</td><td align='center'>").append(ke1).append("</td><td align='center'>").append(ke2).append("</td><td align='center'>").append(ke3).append("</td><td align='center'>").append(ke4).append("</td><td align='center'>").append(ke5).append("</td><td align='center'>").append(ke6).append("</td></tr>");
                                }
                            } catch (Exception e) {
                                System.out.println("Notif : " + e);
                            } finally {
                                if (rs3 != null) {
                                    rs3.close();
                                }
                            }

                            htmlContent.append("</table></td></tr><tr><td valign='top'>V. RIWAYAT TUMBUH KEMBANG ANAK<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='33%' border='0'>a. Tengkurap, usia ").append(rs2.getString("usiatengkurap")).append("</td><td width='33%' border='0'>b. Duduk, usia ").append(rs2.getString("usiaduduk")).append("</td><td width='33%' border='0'>c. Berdiri, usia ").append(rs2.getString("usiaberdiri")).append("</td><td width='33%' border='0'>d. Pertumbuhan gigi pertama, usia ").append(rs2.getString("usiagigipertama")).append("</td></tr><tr><td width='33%' border='0'>e. Berjalan, usia ").append(rs2.getString("usiaberjalan")).append("</td><td width='33%' border='0'>f. Bicara, usia ").append(rs2.getString("usiabicara")).append("</td><td width='33%' border='0'>g. Mulai bisa membaca, usia ").append(rs2.getString("usiamembaca")).append("</td><td width='33%' border='0'>h. Mulai bisa menulis, usia ").append(rs2.getString("usiamenulis")).append("</td></tr><tr><td width='100%' border='0' colspan='4'>Gangguan perkembangan mental / emosi, bila ada, jelaskan ").append(rs2.getString("gangguanemosi")).append("</td></tr></table></td></tr><tr><td valign='top'>VI. FUNGSIONAL<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='33%' border='0'>Alat Bantu : ").append(rs2.getString("alat_bantu")).append(rs2.getString("ket_bantu").isEmpty() ? "" : ", " + rs2.getString("ket_bantu")).append("</td><td width='33%' border='0'>Prothesa : ").append(rs2.getString("prothesa")).append(rs2.getString("ket_pro").isEmpty() ? "" : ", " + rs2.getString("ket_pro")).append("</td><td width='33%' border='0'>Aktivitas Sehari-hari ( ADL ) : ").append(rs2.getString("adl")).append("</td></tr></table></td></tr><tr><td valign='top'>VII. RIWAYAT PSIKO-SOSIAL, SPIRITUAL DAN BUDAYA<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='50%' border='0'>Status Psikologis</td><td width='50%' border='0'>: ").append(rs2.getString("status_psiko")).append(rs2.getString("ket_psiko").isEmpty() ? "" : ", " + rs2.getString("ket_psiko")).append("</td></tr><tr><td border='0' colspan='2'>Status Sosial dan Ekonomi :</td></tr><tr><td width='50%' border='0'>&nbsp;&nbsp;&nbsp;&nbsp;a. Hubungan pasien dengan anggota keluarga</td><td width='50%' border='0'>: ").append(rs2.getString("hub_keluarga")).append("</td></tr><tr><td width='50%' border='0'>&nbsp;&nbsp;&nbsp;&nbsp;b. Pengasuh</td><td width='50%' border='0'>: ").append(rs2.getString("pengasuh")).append(rs2.getString("ket_pengasuh").isEmpty() ? "" : ", " + rs2.getString("ket_pengasuh")).append("</td></tr><tr><td width='50%' border='0'>&nbsp;&nbsp;&nbsp;&nbsp;c. Ekonomi (Orang tua)</td><td width='50%' border='0'>: ").append(rs2.getString("ekonomi")).append("</td></tr><tr><td width='50%' border='0'>Kepercayaan / Budaya / Nilai-nilai khusus yang perlu diperhatikan</td><td width='50%' border='0'>: ").append(rs2.getString("budaya")).append(rs2.getString("ket_budaya").isEmpty() ? "" : ", " + rs2.getString("ket_budaya")).append("</td></tr><tr><td width='50%' border='0'>Edukasi diberikan kepada</td><td width='50%' border='0'>: ").append(rs2.getString("edukasi")).append(rs2.getString("ket_edukasi").isEmpty() ? "" : ", " + rs2.getString("ket_edukasi")).append("</td></tr></table></td></tr><tr><td valign='top'>VIII. PENILAIAN RESIKO JATUH<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td colpsan='2' border='0'>a. Cara Berjalan :</td></tr><tr><td width='75%' border='0'>&nbsp;&nbsp;&nbsp;&nbsp;1. Tidak seimbang / sempoyongan / limbung</td><td width='25%' border='0'>: ").append(rs2.getString("berjalan_a")).append("</td></tr><tr><td width='75%' border='0'>&nbsp;&nbsp;&nbsp;&nbsp;2. Jalan dengan menggunakan alat bantu (kruk, tripot, kursi roda, orang lain)</td><td width='25%' border='0'>: ").append(rs2.getString("berjalan_b")).append("</td></tr><tr><td width='75%' border='0'>b. Duduk di kursi tanpa menggunakan tangan sebagai penopang (tampak memegang kursi atau meja/ benda lain)</td><td width='25%' border='0'>: ").append(rs2.getString("berjalan_c")).append("</td></tr><tr><td colspan='2' border='0'>Hasil : ").append(rs2.getString("hasil")).append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Diberitahukan ke dokter ? ").append(rs2.getString("lapor")).append(rs2.getString("ket_lapor").isEmpty() ? "" : " Jam dilaporkan : " + rs2.getString("ket_lapor")).append("</td></tr></table></td></tr><tr><td valign='top'>IX. SKRINING GIZI (Strong kid)<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='5%' bgcolor='#FFFAF8' align='center' valign='middle'>No.</td><td width='75%' bgcolor='#FFFAF8' align='center' valign='middle'>Parameter</td><td width='20%' bgcolor='#FFFAF8' colspan='2' align='center' valign='middle'>Nilai</td></tr><tr><td>1</td><td>Apakah pasien tampak kurus</td><td align='center'>").append(rs2.getString("sg1")).append("</td><td align='center'>").append(rs2.getString("nilai1")).append("</td></tr><tr><td>2</td><td>Apakah terdapat penurunan berat badan selama satu bulan terakhir? (berdasarkan penilaian objektif data berat badan bila ada atau untuk bayi < 1 tahun ; berat badan tidak naik selama 3 bulan terakhir</td><td align='center'>").append(rs2.getString("sg2")).append("</td><td align='center'>").append(rs2.getString("nilai2")).append("</td></tr><tr><td>3</td><td>Apakah terdapat salah satu dari kondisi tersebut? Diare > 5 kali/hari dan/muntah > 3 kali/hari salam seminggu terakhir; Asupan makanan berkurang selama 1 minggu terakhir</td><td align='center'>").append(rs2.getString("sg3")).append("</td><td align='center'>").append(rs2.getString("nilai3")).append("</td></tr><tr><td>4</td><td>Apakah terdapat penyakit atau keadaan yang menyebabkan pasien beresiko mengalami malnutrisi?</td><td align='center'>").append(rs2.getString("sg4")).append("</td><td align='center'>").append(rs2.getString("nilai4")).append("</td></tr><tr><td align='center' colspan='3'>Total Skor</td><td align='center'>").append(rs2.getString("total_hasil")).append("</td></tr></table></td></tr><tr><td valign='top'>X. PENILAIAN TINGKAT NYERI (Skala FLACCS)<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='30%' bgcolor='#FFFAF8' align='center' valign='middle'>Pengkajian</td><td width='60%' bgcolor='#FFFAF8' align='center' valign='middle'>Parameter</td><td width='10%' bgcolor='#FFFAF8' align='center' valign='middle'>Nilai</td></tr><tr><td align='center'>Wajah</td><td align='center'>").append(rs2.getString("wajah")).append("</td><td align='center'>").append(rs2.getString("nilaiwajah")).append("</td></tr><tr><td align='center'>Kaki</td><td align='center'>").append(rs2.getString("kaki")).append("</td><td align='center'>").append(rs2.getString("nilaikaki")).append("</td></tr><tr><td align='center'>Aktifitas</td><td align='center'>").append(rs2.getString("aktifitas")).append("</td><td align='center'>").append(rs2.getString("nilaiaktifitas")).append("</td></tr><tr><td align='center'>Menangis</td><td align='center'>").append(rs2.getString("menangis")).append("</td><td align='center'>").append(rs2.getString("nilaimenangis")).append("</td></tr><tr><td align='center'>Bersuara</td><td align='center'>").append(rs2.getString("bersuara")).append("</td><td align='center'>").append(rs2.getString("nilaibersuara")).append("</td></tr><tr><td align='left' colspan='2'>Keterangan : 0 : Nyaman 1-3 : Kurang nyaman 4-6 : Nyeri sedang 7-10 : Nyeri berat</td><td align='center'>").append(rs2.getString("hasilnyeri")).append("</td></tr></table><table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='50%' border='0'>Tingkat Nyeri : ").append(rs2.getString("nyeri")).append("</td><td width='50%' border='0'>Lokasi : ").append(rs2.getString("lokasi")).append("</td></tr><tr><td width='50%' border='0'>Durasi : ").append(rs2.getString("durasi")).append("</td><td width='50%' border='0'>Frekuensi : ").append(rs2.getString("frekuensi")).append("</td></tr><tr><td width='50%' border='0'>Nyeri hilang bila : ").append(rs2.getString("nyeri_hilang")).append(rs2.getString("ket_nyeri").isEmpty() ? "" : ", " + rs2.getString("ket_nyeri")).append("</td><td width='50%' border='0'>Diberitahukan pada dokter ? ").append(rs2.getString("pada_dokter")).append(rs2.getString("ket_dokter").isEmpty() ? "" : ", Jam : " + rs2.getString("ket_dokter")).append("</td></tr></table></td></tr><tr><td valign='top'><table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td valign='middle' bgcolor='#FFFAF8' align='center' width='50%'>MASALAH KEPERAWATAN :</td><td valign='middle' bgcolor='#FFFAF8' align='center' width='50%'>RENCANA KEPERAWATAN :</td></tr><tr><td valign='top'>");
                            try {
                                rs3 = koneksi.prepareStatement(
                                        "select master_masalah_keperawatan_anak.nama_masalah from master_masalah_keperawatan_anak "
                                        + "inner join penilaian_awal_keperawatan_ralan_bayi_masalah on penilaian_awal_keperawatan_ralan_bayi_masalah.kode_masalah=master_masalah_keperawatan_anak.kode_masalah "
                                        + "where penilaian_awal_keperawatan_ralan_bayi_masalah.no_rawat='" + norawat + "' order by penilaian_awal_keperawatan_ralan_bayi_masalah.kode_masalah").executeQuery();
                                while (rs3.next()) {
                                    htmlContent.append(rs3.getString("nama_masalah")).append("<br>");
                                }
                            } catch (Exception e) {
                                System.out.println("Notif : " + e);
                            } finally {
                                if (rs3 != null) {
                                    rs3.close();
                                }
                            }
                            htmlContent.append("</td>"
                                    + "<td valign='top'>");
                            try {
                                rs3 = koneksi.prepareStatement(
                                        "select master_rencana_keperawatan_anak.rencana_keperawatan from master_rencana_keperawatan_anak "
                                        + "inner join penilaian_awal_keperawatan_ralan_rencana_anak on penilaian_awal_keperawatan_ralan_rencana_anak.kode_rencana=master_rencana_keperawatan_anak.kode_rencana "
                                        + "where penilaian_awal_keperawatan_ralan_rencana_anak.no_rawat='" + norawat + "' order by penilaian_awal_keperawatan_ralan_rencana_anak.kode_rencana").executeQuery();
                                while (rs3.next()) {
                                    htmlContent.append(rs3.getString("rencana_keperawatan")).append("<br>");
                                }
                            } catch (Exception e) {
                                System.out.println("Notif : " + e);
                            } finally {
                                if (rs3 != null) {
                                    rs3.close();
                                }
                            }
                            htmlContent.append(rs2.getString("rencana")).append("</td></tr></table></td></tr>");
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>"
                                + "</table>"
                                + "</fieldset>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Asuhan Keperawatan Ralan Bayi : " + e);
        }
    }

    private void menampilkanAsuhanKeperawatanRalanKandungan(String norawat) {
        try {
            if (chkAsuhanKeperawatanRalanKandungan.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select penilaian_awal_keperawatan_kebidanan.tanggal,penilaian_awal_keperawatan_kebidanan.informasi,penilaian_awal_keperawatan_kebidanan.td,penilaian_awal_keperawatan_kebidanan.nadi,penilaian_awal_keperawatan_kebidanan.rr,"
                            + "penilaian_awal_keperawatan_kebidanan.suhu,penilaian_awal_keperawatan_kebidanan.bb,penilaian_awal_keperawatan_kebidanan.gcs,penilaian_awal_keperawatan_kebidanan.tb,penilaian_awal_keperawatan_kebidanan.bmi,penilaian_awal_keperawatan_kebidanan.lila,"
                            + "penilaian_awal_keperawatan_kebidanan.tfu,penilaian_awal_keperawatan_kebidanan.tbj,penilaian_awal_keperawatan_kebidanan.letak,penilaian_awal_keperawatan_kebidanan.presentasi,penilaian_awal_keperawatan_kebidanan.penurunan,penilaian_awal_keperawatan_kebidanan.his,"
                            + "penilaian_awal_keperawatan_kebidanan.kekuatan,penilaian_awal_keperawatan_kebidanan.lamanya,penilaian_awal_keperawatan_kebidanan.bjj,penilaian_awal_keperawatan_kebidanan.ket_bjj,penilaian_awal_keperawatan_kebidanan.portio,penilaian_awal_keperawatan_kebidanan.serviks,"
                            + "penilaian_awal_keperawatan_kebidanan.ketuban,penilaian_awal_keperawatan_kebidanan.hodge,penilaian_awal_keperawatan_kebidanan.inspekulo,penilaian_awal_keperawatan_kebidanan.ket_inspekulo,penilaian_awal_keperawatan_kebidanan.ctg,penilaian_awal_keperawatan_kebidanan.ket_ctg,"
                            + "penilaian_awal_keperawatan_kebidanan.usg,penilaian_awal_keperawatan_kebidanan.ket_usg,penilaian_awal_keperawatan_kebidanan.lab,penilaian_awal_keperawatan_kebidanan.ket_lab,penilaian_awal_keperawatan_kebidanan.lakmus,penilaian_awal_keperawatan_kebidanan.ket_lakmus,"
                            + "penilaian_awal_keperawatan_kebidanan.panggul,penilaian_awal_keperawatan_kebidanan.keluhan_utama,penilaian_awal_keperawatan_kebidanan.alergi,penilaian_awal_keperawatan_kebidanan.umur,penilaian_awal_keperawatan_kebidanan.lama,penilaian_awal_keperawatan_kebidanan.banyaknya,penilaian_awal_keperawatan_kebidanan.haid,"
                            + "penilaian_awal_keperawatan_kebidanan.siklus,penilaian_awal_keperawatan_kebidanan.ket_siklus,penilaian_awal_keperawatan_kebidanan.ket_siklus1,penilaian_awal_keperawatan_kebidanan.status,penilaian_awal_keperawatan_kebidanan.kali,penilaian_awal_keperawatan_kebidanan.usia1,"
                            + "penilaian_awal_keperawatan_kebidanan.ket1,penilaian_awal_keperawatan_kebidanan.usia2,penilaian_awal_keperawatan_kebidanan.ket2,penilaian_awal_keperawatan_kebidanan.usia3,penilaian_awal_keperawatan_kebidanan.ket3,penilaian_awal_keperawatan_kebidanan.hpht,"
                            + "penilaian_awal_keperawatan_kebidanan.usia_kehamilan,penilaian_awal_keperawatan_kebidanan.tp,penilaian_awal_keperawatan_kebidanan.imunisasi,penilaian_awal_keperawatan_kebidanan.ket_imunisasi,penilaian_awal_keperawatan_kebidanan.g,penilaian_awal_keperawatan_kebidanan.p,"
                            + "penilaian_awal_keperawatan_kebidanan.a,penilaian_awal_keperawatan_kebidanan.hidup,penilaian_awal_keperawatan_kebidanan.ginekologi,penilaian_awal_keperawatan_kebidanan.kebiasaan,penilaian_awal_keperawatan_kebidanan.ket_kebiasaan,"
                            + "penilaian_awal_keperawatan_kebidanan.kebiasaan1,penilaian_awal_keperawatan_kebidanan.ket_kebiasaan1,penilaian_awal_keperawatan_kebidanan.kebiasaan2,penilaian_awal_keperawatan_kebidanan.ket_kebiasaan2,penilaian_awal_keperawatan_kebidanan.kebiasaan3,"
                            + "penilaian_awal_keperawatan_kebidanan.kb,penilaian_awal_keperawatan_kebidanan.ket_kb,penilaian_awal_keperawatan_kebidanan.komplikasi,penilaian_awal_keperawatan_kebidanan.ket_komplikasi,penilaian_awal_keperawatan_kebidanan.berhenti,"
                            + "penilaian_awal_keperawatan_kebidanan.alasan,penilaian_awal_keperawatan_kebidanan.alat_bantu,penilaian_awal_keperawatan_kebidanan.ket_bantu,penilaian_awal_keperawatan_kebidanan.prothesa,penilaian_awal_keperawatan_kebidanan.ket_pro,"
                            + "penilaian_awal_keperawatan_kebidanan.adl,penilaian_awal_keperawatan_kebidanan.status_psiko,penilaian_awal_keperawatan_kebidanan.ket_psiko,penilaian_awal_keperawatan_kebidanan.hub_keluarga,penilaian_awal_keperawatan_kebidanan.tinggal_dengan,"
                            + "penilaian_awal_keperawatan_kebidanan.ket_tinggal,penilaian_awal_keperawatan_kebidanan.ekonomi,penilaian_awal_keperawatan_kebidanan.budaya,penilaian_awal_keperawatan_kebidanan.ket_budaya,penilaian_awal_keperawatan_kebidanan.edukasi,"
                            + "penilaian_awal_keperawatan_kebidanan.ket_edukasi,penilaian_awal_keperawatan_kebidanan.berjalan_a,penilaian_awal_keperawatan_kebidanan.berjalan_b,penilaian_awal_keperawatan_kebidanan.berjalan_c,penilaian_awal_keperawatan_kebidanan.hasil,"
                            + "penilaian_awal_keperawatan_kebidanan.lapor,penilaian_awal_keperawatan_kebidanan.ket_lapor,penilaian_awal_keperawatan_kebidanan.sg1,penilaian_awal_keperawatan_kebidanan.nilai1,penilaian_awal_keperawatan_kebidanan.sg2,penilaian_awal_keperawatan_kebidanan.nilai2,"
                            + "penilaian_awal_keperawatan_kebidanan.total_hasil,penilaian_awal_keperawatan_kebidanan.nyeri,penilaian_awal_keperawatan_kebidanan.provokes,penilaian_awal_keperawatan_kebidanan.ket_provokes,penilaian_awal_keperawatan_kebidanan.quality,"
                            + "penilaian_awal_keperawatan_kebidanan.ket_quality,penilaian_awal_keperawatan_kebidanan.lokasi,penilaian_awal_keperawatan_kebidanan.menyebar,penilaian_awal_keperawatan_kebidanan.skala_nyeri,penilaian_awal_keperawatan_kebidanan.durasi,"
                            + "penilaian_awal_keperawatan_kebidanan.nyeri_hilang,penilaian_awal_keperawatan_kebidanan.ket_nyeri,penilaian_awal_keperawatan_kebidanan.pada_dokter,penilaian_awal_keperawatan_kebidanan.ket_dokter,penilaian_awal_keperawatan_kebidanan.rencana,"
                            + "penilaian_awal_keperawatan_kebidanan.nip,petugas.nama "
                            + "from penilaian_awal_keperawatan_kebidanan inner join petugas on penilaian_awal_keperawatan_kebidanan.nip=petugas.nip "
                            + "where penilaian_awal_keperawatan_kebidanan.no_rawat='" + norawat + "'").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<fieldset>"
                                + "<h2><center>ASUHAN KEPERAWATAN RAWAT JALAN KANDUNGAN</center></h2>"
                                + "<table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Penilaian Awal Keperawatan Rawat Jalan Kandungan</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                        );
                        rs2.beforeFirst();
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top'>YANG MELAKUKAN PENGKAJIAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='33%' border='0'>Tanggal : ").append(rs2.getString("tanggal")).append("</td><td width='33%' border='0'>Petugas : ").append(rs2.getString("nip")).append(" ").append(rs2.getString("nama")).append("</td><td width='33%' border='0'>Informasi didapat dari : ").append(rs2.getString("informasi")).append("</td></tr></table></td></tr><tr><td valign='top'>I. KEADAAN UMUM<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='20%' border='0'>TD : ").append(rs2.getString("td")).append(" mmHg</td><td width='20%' border='0'>Nadi : ").append(rs2.getString("nadi")).append(" x/menit</td><td width='20%' border='0'>RR : ").append(rs2.getString("rr")).append(" x/menit</td><td width='20%' border='0'>Suhu : ").append(rs2.getString("suhu")).append(" \u00b0C</td><td width='20%' border='0'>GCS(E,V,M) : ").append(rs2.getString("gcs")).append(" \u00b0C</td></tr><tr><td width='20%' border='0'>BB : ").append(rs2.getString("bb")).append(" Kg</td><td width='20%' border='0'>TB : ").append(rs2.getString("tb")).append(" Cm</td><td width='20%' border='0'>LILA : ").append(rs2.getString("lila")).append(" Cm</td><td width='20%' border='0'>BMI : ").append(rs2.getString("bmi")).append(" Kg/m\u00b2</td></tr></table></td></tr><tr><td valign='top'>II. PEMERIKSAAN KEBIDANAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='20%' border='0'>TFU : ").append(rs2.getString("tfu")).append(" cm</td><td width='20%' border='0'>TBJ : ").append(rs2.getString("tbj")).append("</td><td width='20%' border='0'>Letak : ").append(rs2.getString("letak")).append("</td><td width='20%' border='0'>Presentasi : ").append(rs2.getString("presentasi")).append("</td><td width='20%' border='0'>Penurunan : ").append(rs2.getString("penurunan")).append("</td></tr></table><table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='25%' border='0'>Kontraksi/HIS : ").append(rs2.getString("his")).append(" x/10\u2019</td><td width='25%' border='0'>Kekuatan : ").append(rs2.getString("kekuatan")).append("</td><td width='25%' border='0'>Lamanya : ").append(rs2.getString("lamanya")).append("</td><td width='25%' border='0'>Gerak janin x/30 menit, BJJ : ").append(rs2.getString("bjj")).append(" ").append(rs2.getString("ket_bjj")).append("</td></tr></table><table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='25%' border='0'>Portio : ").append(rs2.getString("portio")).append("</td><td width='25%' border='0'>Pembukaan Serviks : ").append(rs2.getString("serviks")).append(" cm</td><td width='25%' border='0'>Ketuban : ").append(rs2.getString("ketuban")).append(" kep/bok</td><td width='25%' border='0'>Hodge : ").append(rs2.getString("hodge")).append("</td></tr></table><table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td border='0' colspan='4'>Pemeriksaan Penunjang :</td></tr><tr><td width='10%' border='0' align='right'>Inspekulo</td><td width='40%' border='0'>: ").append(rs2.getString("inspekulo")).append(", Hasil : ").append(rs2.getString("ket_inspekulo")).append("</td><td colspan='2' border='0' >Laboratorium : ").append(rs2.getString("lab")).append(", Hasil : ").append(rs2.getString("ket_lab")).append("</td></tr><tr><td width='10%' border='0' align='right'>CTG</td><td width='40%' border='0'>: ").append(rs2.getString("ctg")).append(", Hasil : ").append(rs2.getString("ket_ctg")).append("</td><td colspan='2' border='0' >Lakmus : ").append(rs2.getString("lakmus")).append(", Hasil : ").append(rs2.getString("ket_lakmus")).append("</td></tr><tr><td width='10%' border='0' align='right'>USG</td><td width='40%' border='0'>: ").append(rs2.getString("usg")).append(", Hasil : ").append(rs2.getString("ket_usg")).append("</td><td colspan='2' border='0' >Pemeriksaan Panggul : ").append(rs2.getString("panggul")).append("</td></tr></table></td></tr><tr><td valign='top'>III. RIWAYAT KESEHATAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr class='isi'><td width='20%' colspan='2'>Keluhan Utama : ").append(rs2.getString("keluhan_utama").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr class='isi'><td width='20%' colspan='2'>Riwayat Alergi : ").append(rs2.getString("alergi").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr class='isi'><td width='20%'>Riwayat Menstruasi</td><td width='80%'>Umur Menarche : ").append(rs2.getString("umur")).append(" tahun, lamanya : ").append(rs2.getString("lama")).append(" hari, banyaknya : ").append(rs2.getString("banyaknya")).append(" pembalut&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Haid Terakhir : ").append(rs2.getString("haid")).append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Siklus : ").append(rs2.getString("siklus")).append(" hari, ( ").append(rs2.getString("ket_siklus")).append(" ), ").append(rs2.getString("ket_siklus1")).append("</td></tr><tr class='isi'><td width='20%'>Riwayat Perkawinan</td><td width='80%'>Status Menikah : ").append(rs2.getString("status")).append(" ").append(rs2.getString("kali")).append(" kali&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Usia Perkawinan 1 : ").append(rs2.getString("usia1")).append(" tahun, Status : ").append(rs2.getString("ket1")).append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Usia Perkawinan 2 : ").append(rs2.getString("usia2")).append(" tahun, Status : ").append(rs2.getString("ket2")).append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Usia Perkawinan 3 : ").append(rs2.getString("usia3")).append(" tahun, Status : ").append(rs2.getString("ket3")).append("</td></tr><tr class='isi'><td width='20%'>Riwayat Kehamilan Tetap</td><td width='80%'>HPHT : ").append(rs2.getString("hpht")).append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Usia Kehamilan : ").append(rs2.getString("usia_kehamilan")).append(" bln/mgg&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TP : ").append(rs2.getString("tp")).append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Riwayat Imunisasi : ").append(rs2.getString("imunisasi")).append(rs2.getString("ket_imunisasi").isEmpty() ? "" : ", " + rs2.getString("ket_imunisasi") + " kali").append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G : ").append(rs2.getString("g")).append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;P : ").append(rs2.getString("p")).append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A : ").append(rs2.getString("a")).append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Hidup : ").append(rs2.getString("hidup")).append("</td></tr></table><table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr class='isi'><td width='3%' bgcolor='#FFFAF8' align='center' valign='middle' rowspan='2'>No</td><td width='8%' bgcolor='#FFFAF8' align='center' valign='middle' rowspan='2'>Tgl/Thn Persalinan</td><td width='23%' bgcolor='#FFFAF8' align='center' valign='middle' rowspan='2'>Tempat Persalinan</td><td width='5%' bgcolor='#FFFAF8' align='center' valign='middle' rowspan='2'>Usia Hamil</td><td width='8%' bgcolor='#FFFAF8' align='center' valign='middle' rowspan='2'>Jenis persalinan</td><td width='16%' bgcolor='#FFFAF8' align='center' valign='middle' rowspan='2'>Penolong</td><td width='16%' bgcolor='#FFFAF8' align='center' valign='middle' rowspan='2'>Penyulit</td><td bgcolor='#FFFAF8' align='center' valign='middle' colspan='3'>Anak</td></tr><tr class='isi'><td width='3%' bgcolor='#FFFAF8' align='center' valign='middle'>JK</td><td width='5%' bgcolor='#FFFAF8' align='center' valign='middle'>BB/PB</td><td width='13%' bgcolor='#FFFAF8' align='center' valign='middle'>Keadaan</td></tr>");
                            try {
                                w = 1;
                                rs3 = koneksi.prepareStatement(
                                        "select * from riwayat_persalinan_pasien where riwayat_persalinan_pasien.no_rkm_medis='" + NoRM.getText().trim() + "' order by riwayat_persalinan_pasien.tgl_thn").executeQuery();
                                while (rs3.next()) {
                                    htmlContent.append("<tr><td align='center'>").append(w).append("</td><td align='center'>").append(rs3.getString("tgl_thn")).append("</td><td>").append(rs3.getString("tempat_persalinan")).append("</td><td align='center'>").append(rs3.getString("usia_hamil")).append("</td><td align='center'>").append(rs3.getString("jenis_persalinan")).append("</td><td>").append(rs3.getString("penolong")).append("</td><td>").append(rs3.getString("penyulit")).append("</td><td align='center'>").append(rs3.getString("jk")).append("</td><td align='center'>").append(rs3.getString("bbpb")).append("</td><td>").append(rs3.getString("keadaan")).append("</td></tr>");
                                    w++;
                                }
                            } catch (Exception e) {
                                System.out.println("Notif : " + e);
                            } finally {
                                if (rs3 != null) {
                                    rs3.close();
                                }
                            }
                            htmlContent.append("</table><table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr class='isi'><td width='20%'>Riwayat Ginekologi</td><td width='80%'>").append(rs2.getString("ginekologi")).append("</td></tr><tr class='isi'><td width='20%'>Riwayat Kebiasaan</td><td width='80%'>Obat/Vitamin : ").append(rs2.getString("kebiasaan")).append(rs2.getString("ket_kebiasaan").isEmpty() ? "" : ", " + rs2.getString("ket_kebiasaan")).append(". Merokok : ").append(rs2.getString("kebiasaan1")).append(rs2.getString("ket_kebiasaan1").isEmpty() ? "" : ", " + rs2.getString("ket_kebiasaan1") + " batang/hari").append(". Alkohol : ").append(rs2.getString("kebiasaan2")).append(rs2.getString("ket_kebiasaan2").isEmpty() ? "" : " " + rs2.getString("ket_kebiasaan2") + " gelas/hari").append(". Obat Tidur/Narkoba : ").append(rs2.getString("kebiasaan3")).append("</td></tr><tr class='isi'><td width='20%'>Riwayat K.B.</td><td width='80%'>").append(rs2.getString("kb")).append(", Lamanya : ").append(rs2.getString("ket_kb")).append(". Komplikasi KB : ").append(rs2.getString("komplikasi")).append(rs2.getString("ket_komplikasi").isEmpty() ? "" : ", " + rs2.getString("ket_komplikasi")).append(". Berhenti KB : ").append(rs2.getString("berhenti")).append(", Alasan : ").append(rs2.getString("alasan")).append("</td></tr></table></td></tr><tr><td valign='top'>IV. FUNGSIONAL<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='33%' border='0'>Alat Bantu : ").append(rs2.getString("alat_bantu")).append(rs2.getString("ket_bantu").isEmpty() ? "" : ", " + rs2.getString("ket_bantu")).append("</td><td width='33%' border='0'>Prothesa : ").append(rs2.getString("prothesa")).append(rs2.getString("ket_pro").isEmpty() ? "" : ", " + rs2.getString("ket_pro")).append("</td><td width='33%' border='0'>Aktivitas Sehari-hari ( ADL ) : ").append(rs2.getString("adl")).append("</td></tr></table></td></tr><tr><td valign='top'>V. RIWAYAT PSIKO-SOSIAL, SPIRITUAL DAN BUDAYA<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='50%' border='0'>Status Psikologis</td><td width='50%' border='0'>: ").append(rs2.getString("status_psiko")).append(rs2.getString("ket_psiko").isEmpty() ? "" : ", " + rs2.getString("ket_psiko")).append("</td></tr><tr><td border='0' colspan='2'>Status Sosial dan ekonomi :</td></tr><tr><td width='50%' border='0'>&nbsp;&nbsp;&nbsp;&nbsp;a. Hubungan pasien dengan anggota keluarga</td><td width='50%' border='0'>: ").append(rs2.getString("hub_keluarga")).append("</td></tr><tr><td width='50%' border='0'>&nbsp;&nbsp;&nbsp;&nbsp;b. Tinggal dengan</td><td width='50%' border='0'>: ").append(rs2.getString("tinggal_dengan")).append(rs2.getString("ket_tinggal").isEmpty() ? "" : ", " + rs2.getString("ket_tinggal")).append("</td></tr><tr><td width='50%' border='0'>&nbsp;&nbsp;&nbsp;&nbsp;c. Ekonomi</td><td width='50%' border='0'>: ").append(rs2.getString("ekonomi")).append("</td></tr><tr><td width='50%' border='0'>Kepercayaan / Budaya / Nilai-nilai khusus yang perlu diperhatikan</td><td width='50%' border='0'>: ").append(rs2.getString("budaya")).append(rs2.getString("ket_budaya").isEmpty() ? "" : ", " + rs2.getString("ket_budaya")).append("</td></tr><tr><td width='50%' border='0'>Edukasi diberikan kepada</td><td width='50%' border='0'>: ").append(rs2.getString("edukasi")).append(rs2.getString("ket_edukasi").isEmpty() ? "" : ", " + rs2.getString("ket_edukasi")).append("</td></tr></table></td></tr><tr><td valign='top'>VI. PENILAIAN RESIKO JATUH<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td colpsan='2' border='0'>a. Cara Berjalan :</td></tr><tr><td width='75%' border='0'>&nbsp;&nbsp;&nbsp;&nbsp;1. Tidak seimbang / sempoyongan / limbung</td><td width='25%' border='0'>: ").append(rs2.getString("berjalan_a")).append("</td></tr><tr><td width='75%' border='0'>&nbsp;&nbsp;&nbsp;&nbsp;2. Jalan dengan menggunakan alat bantu (kruk, tripot, kursi roda, orang lain)</td><td width='25%' border='0'>: ").append(rs2.getString("berjalan_b")).append("</td></tr><tr><td width='75%' border='0'>b. Menopang saat akan duduk, tampak memegang pinggiran kursi atau meja / benda lain sebagai penopang</td><td width='25%' border='0'>: ").append(rs2.getString("berjalan_c")).append("</td></tr><tr><td colspan='2' border='0'>Hasil : ").append(rs2.getString("hasil")).append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dilaporkan kepada dokter ? ").append(rs2.getString("lapor")).append(rs2.getString("ket_lapor").isEmpty() ? "" : " Jam dilaporkan : " + rs2.getString("ket_lapor")).append("</td></tr></table></td></tr><tr><td valign='top'>VII. SKRINING GIZI<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td valign='middle' bgcolor='#FFFAF8' align='center' width='5%'>No</td><td valign='middle' bgcolor='#FFFAF8' align='center' width='70%'>Parameter</td><td valign='middle' bgcolor='#FFFAF8' align='center' width='25%' colspan='2'>Nilai</td></tr><tr><td valign='top'>1</td><td valign='top'>Apakah ada penurunan berat badanyang tidak diinginkan selama enam bulan terakhir ?</td><td valign='top' align='center' width='20%'>").append(rs2.getString("sg1")).append("</td><td valign='top' align='right' width='5%'>").append(rs2.getString("nilai1")).append("&nbsp;&nbsp;</td></tr><tr><td valign='top'>2</td><td valign='top'>Apakah nafsu makan berkurang karena tidak nafsu makan ?</td><td valign='top' align='center' width='20%'>").append(rs2.getString("sg2")).append("</td><td valign='top' align='right' width='5%'>").append(rs2.getString("nilai2")).append("&nbsp;&nbsp;</td></tr><tr><td valign='top' align='right' colspan='2'>Total Skor</td><td valign='top' align='right' colspan='2'>").append(rs2.getString("total_hasil")).append("&nbsp;&nbsp;</td></tr></table></td></tr><tr><td valign='top'>VIII. PENILAIAN TINGKAT NYERI<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='50%' border='0'>Tingkat Nyeri : ").append(rs2.getString("nyeri")).append(", Waktu / Durasi : ").append(rs2.getString("durasi")).append(" Menit</td><td width='50%' border='0'>Penyebab : ").append(rs2.getString("provokes")).append(rs2.getString("ket_provokes").isEmpty() ? "" : ", " + rs2.getString("ket_provokes")).append("</td></tr><tr><td width='50%' border='0'>Kualitas : ").append(rs2.getString("quality")).append(rs2.getString("ket_quality").isEmpty() ? "" : ", " + rs2.getString("ket_quality")).append("</td><td width='50%' border='0'>Severity : Skala Nyeri ").append(rs2.getString("skala_nyeri")).append("</td></tr><tr><td colspan='0' border='0'>Wilayah :</td></tr><tr><td width='50%' border='0'>&nbsp;&nbsp;&nbsp;&nbsp;Lokasi : ").append(rs2.getString("lokasi")).append("</td><td width='50%' border='0'>Menyebar : ").append(rs2.getString("menyebar")).append("</td></tr><tr><td width='50%' border='0'>Nyeri hilang bila : ").append(rs2.getString("nyeri_hilang")).append(rs2.getString("ket_nyeri").isEmpty() ? "" : ", " + rs2.getString("ket_nyeri")).append("</td><td width='50%' border='0'>Diberitahukan pada dokter ? ").append(rs2.getString("pada_dokter")).append(rs2.getString("ket_dokter").isEmpty() ? "" : ", Jam : " + rs2.getString("ket_dokter")).append("</td></tr></table></td></tr><tr><td valign='top'><table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td valign='middle' bgcolor='#FFFAF8' align='center' width='50%'>MASALAH KEBIDANAN :</td><td valign='middle' bgcolor='#FFFAF8' align='center' width='50%'>RENCANA KEBIDANAN :</td></tr><tr><td valign='top'>");
                            try {
                                rs3 = koneksi.prepareStatement(
                                        "select master_masalah_keperawatan_kebidanan.nama_masalah from master_masalah_keperawatan_kebidanan "
                                        + "inner join penilaian_awal_keperawatan_kebidanan_masalah on penilaian_awal_keperawatan_kebidanan_masalah.kode_masalah=master_masalah_keperawatan_kebidanan.kode_masalah "
                                        + "where penilaian_awal_keperawatan_kebidanan_masalah.no_rawat='" + norawat + "' order by penilaian_awal_keperawatan_kebidanan_masalah.kode_masalah").executeQuery();
                                while (rs3.next()) {
                                    htmlContent.append(rs3.getString("nama_masalah")).append("<br>");
                                }
                            } catch (Exception e) {
                                System.out.println("Notif : " + e);
                            } finally {
                                if (rs3 != null) {
                                    rs3.close();
                                }
                            }
                            htmlContent.append("</td>"
                                    + "<td valign='top'>");
                            try {
                                rs3 = koneksi.prepareStatement(
                                        "select master_rencana_keperawatan_kebidanan.rencana_kebidanan from master_rencana_keperawatan_kebidanan "
                                        + "inner join penilaian_awal_keperawatan_kebidanan_rencana on penilaian_awal_keperawatan_kebidanan_rencana.kode_rencana=master_rencana_keperawatan_kebidanan.kode_rencana "
                                        + "where penilaian_awal_keperawatan_kebidanan_rencana.no_rawat='" + norawat + "' order by penilaian_awal_keperawatan_kebidanan_rencana.kode_rencana").executeQuery();
                                while (rs3.next()) {
                                    htmlContent.append(rs3.getString("rencana_kebidanan")).append("<br>");
                                }
                            } catch (Exception e) {
                                System.out.println("Notif : " + e);
                            } finally {
                                if (rs3 != null) {
                                    rs3.close();
                                }
                            }
                            htmlContent.append(rs2.getString("rencana")).append("</td></tr></table></td></tr>");
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>"
                                + "</table>"
                                + "</fieldset>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Asuhan Keperawatan Ralan Kandungan : " + e);
        }
    }

    private void menampilkanAsuhanKeperawatanRalanPsikiatri(String norawat) {
        try {
            if (chkAsuhanKeperawatanRalanKandungan.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "Select penilaian_awal_keperawatan_ralan_psikiatri.no_rawat,penilaian_awal_keperawatan_ralan_psikiatri.tanggal,penilaian_awal_keperawatan_ralan_psikiatri.informasi,"
                            + "penilaian_awal_keperawatan_ralan_psikiatri.keluhan_utama,penilaian_awal_keperawatan_ralan_psikiatri.rkd_sakit_sejak,penilaian_awal_keperawatan_ralan_psikiatri.rkd_keluhan,"
                            + "penilaian_awal_keperawatan_ralan_psikiatri.rkd_berobat,penilaian_awal_keperawatan_ralan_psikiatri.rkd_hasil_pengobatan,penilaian_awal_keperawatan_ralan_psikiatri.fp_putus_obat,"
                            + "penilaian_awal_keperawatan_ralan_psikiatri.ket_putus_obat,penilaian_awal_keperawatan_ralan_psikiatri.fp_ekonomi,penilaian_awal_keperawatan_ralan_psikiatri.ket_masalah_ekonomi,"
                            + "penilaian_awal_keperawatan_ralan_psikiatri.fp_masalah_fisik,penilaian_awal_keperawatan_ralan_psikiatri.ket_masalah_fisik,penilaian_awal_keperawatan_ralan_psikiatri.fp_masalah_psikososial,"
                            + "penilaian_awal_keperawatan_ralan_psikiatri.ket_masalah_psikososial,penilaian_awal_keperawatan_ralan_psikiatri.rh_keluarga,penilaian_awal_keperawatan_ralan_psikiatri.ket_rh_keluarga,"
                            + "penilaian_awal_keperawatan_ralan_psikiatri.resiko_bunuh_diri,penilaian_awal_keperawatan_ralan_psikiatri.rbd_ide,penilaian_awal_keperawatan_ralan_psikiatri.ket_rbd_ide,"
                            + "penilaian_awal_keperawatan_ralan_psikiatri.rbd_rencana,penilaian_awal_keperawatan_ralan_psikiatri.ket_rbd_rencana,penilaian_awal_keperawatan_ralan_psikiatri.rbd_alat,"
                            + "penilaian_awal_keperawatan_ralan_psikiatri.ket_rbd_alat,penilaian_awal_keperawatan_ralan_psikiatri.rbd_percobaan,penilaian_awal_keperawatan_ralan_psikiatri.ket_rbd_percobaan,"
                            + "penilaian_awal_keperawatan_ralan_psikiatri.rbd_keinginan,penilaian_awal_keperawatan_ralan_psikiatri.ket_rbd_keinginan,penilaian_awal_keperawatan_ralan_psikiatri.rpo_penggunaan,"
                            + "penilaian_awal_keperawatan_ralan_psikiatri.ket_rpo_penggunaan,penilaian_awal_keperawatan_ralan_psikiatri.rpo_efek_samping,penilaian_awal_keperawatan_ralan_psikiatri.ket_rpo_efek_samping,"
                            + "penilaian_awal_keperawatan_ralan_psikiatri.rpo_napza,penilaian_awal_keperawatan_ralan_psikiatri.ket_rpo_napza,penilaian_awal_keperawatan_ralan_psikiatri.ket_lama_pemakaian,"
                            + "penilaian_awal_keperawatan_ralan_psikiatri.ket_cara_pemakaian,penilaian_awal_keperawatan_ralan_psikiatri.ket_latar_belakang_pemakaian,penilaian_awal_keperawatan_ralan_psikiatri.rpo_penggunaan_obat_lainnya,"
                            + "penilaian_awal_keperawatan_ralan_psikiatri.ket_penggunaan_obat_lainnya,penilaian_awal_keperawatan_ralan_psikiatri.ket_alasan_penggunaan,penilaian_awal_keperawatan_ralan_psikiatri.rpo_alergi_obat,"
                            + "penilaian_awal_keperawatan_ralan_psikiatri.ket_alergi_obat,penilaian_awal_keperawatan_ralan_psikiatri.rpo_merokok,penilaian_awal_keperawatan_ralan_psikiatri.ket_merokok,"
                            + "penilaian_awal_keperawatan_ralan_psikiatri.rpo_minum_kopi,penilaian_awal_keperawatan_ralan_psikiatri.ket_minum_kopi,penilaian_awal_keperawatan_ralan_psikiatri.td,penilaian_awal_keperawatan_ralan_psikiatri.nadi,"
                            + "penilaian_awal_keperawatan_ralan_psikiatri.gcs,penilaian_awal_keperawatan_ralan_psikiatri.rr,penilaian_awal_keperawatan_ralan_psikiatri.suhu,penilaian_awal_keperawatan_ralan_psikiatri.pf_keluhan_fisik,"
                            + "penilaian_awal_keperawatan_ralan_psikiatri.ket_keluhan_fisik,penilaian_awal_keperawatan_ralan_psikiatri.skala_nyeri,penilaian_awal_keperawatan_ralan_psikiatri.durasi,"
                            + "penilaian_awal_keperawatan_ralan_psikiatri.nyeri,penilaian_awal_keperawatan_ralan_psikiatri.provokes,penilaian_awal_keperawatan_ralan_psikiatri.ket_provokes,penilaian_awal_keperawatan_ralan_psikiatri.quality,"
                            + "penilaian_awal_keperawatan_ralan_psikiatri.ket_quality,penilaian_awal_keperawatan_ralan_psikiatri.lokasi,penilaian_awal_keperawatan_ralan_psikiatri.menyebar,penilaian_awal_keperawatan_ralan_psikiatri.pada_dokter,"
                            + "penilaian_awal_keperawatan_ralan_psikiatri.ket_dokter,penilaian_awal_keperawatan_ralan_psikiatri.nyeri_hilang,penilaian_awal_keperawatan_ralan_psikiatri.ket_nyeri,penilaian_awal_keperawatan_ralan_psikiatri.bb,"
                            + "penilaian_awal_keperawatan_ralan_psikiatri.tb,penilaian_awal_keperawatan_ralan_psikiatri.bmi,penilaian_awal_keperawatan_ralan_psikiatri.lapor_status_nutrisi,penilaian_awal_keperawatan_ralan_psikiatri.ket_lapor_status_nutrisi,"
                            + "penilaian_awal_keperawatan_ralan_psikiatri.sg1,penilaian_awal_keperawatan_ralan_psikiatri.nilai1,penilaian_awal_keperawatan_ralan_psikiatri.sg2,penilaian_awal_keperawatan_ralan_psikiatri.nilai2,"
                            + "penilaian_awal_keperawatan_ralan_psikiatri.total_hasil,penilaian_awal_keperawatan_ralan_psikiatri.resikojatuh,penilaian_awal_keperawatan_ralan_psikiatri.bjm,penilaian_awal_keperawatan_ralan_psikiatri.msa,"
                            + "penilaian_awal_keperawatan_ralan_psikiatri.hasil,penilaian_awal_keperawatan_ralan_psikiatri.lapor,penilaian_awal_keperawatan_ralan_psikiatri.ket_lapor,penilaian_awal_keperawatan_ralan_psikiatri.adl_mandi,"
                            + "penilaian_awal_keperawatan_ralan_psikiatri.adl_berpakaian,penilaian_awal_keperawatan_ralan_psikiatri.adl_makan,penilaian_awal_keperawatan_ralan_psikiatri.adl_bak,penilaian_awal_keperawatan_ralan_psikiatri.adl_bab,"
                            + "penilaian_awal_keperawatan_ralan_psikiatri.adl_hobi,penilaian_awal_keperawatan_ralan_psikiatri.ket_adl_hobi,penilaian_awal_keperawatan_ralan_psikiatri.adl_sosialisasi," + "penilaian_awal_keperawatan_ralan_psikiatri.ket_adl_sosialisasi,"
                            + "penilaian_awal_keperawatan_ralan_psikiatri.adl_kegiatan,penilaian_awal_keperawatan_ralan_psikiatri.ket_adl_kegiatan,penilaian_awal_keperawatan_ralan_psikiatri.sk_penampilan,penilaian_awal_keperawatan_ralan_psikiatri.sk_alam_perasaan,"
                            + "penilaian_awal_keperawatan_ralan_psikiatri.sk_pembicaraan,penilaian_awal_keperawatan_ralan_psikiatri.sk_afek,penilaian_awal_keperawatan_ralan_psikiatri.sk_aktifitas_motorik,penilaian_awal_keperawatan_ralan_psikiatri.sk_gangguan_ringan,"
                            + "penilaian_awal_keperawatan_ralan_psikiatri.sk_proses_pikir,penilaian_awal_keperawatan_ralan_psikiatri.sk_orientasi,penilaian_awal_keperawatan_ralan_psikiatri.sk_tingkat_kesadaran_orientasi,"
                            + "penilaian_awal_keperawatan_ralan_psikiatri.sk_memori,penilaian_awal_keperawatan_ralan_psikiatri.sk_interaksi,penilaian_awal_keperawatan_ralan_psikiatri.sk_konsentrasi,penilaian_awal_keperawatan_ralan_psikiatri.sk_persepsi,"
                            + "penilaian_awal_keperawatan_ralan_psikiatri.ket_sk_persepsi,penilaian_awal_keperawatan_ralan_psikiatri.sk_isi_pikir,penilaian_awal_keperawatan_ralan_psikiatri.sk_waham,penilaian_awal_keperawatan_ralan_psikiatri.ket_sk_waham,"
                            + "penilaian_awal_keperawatan_ralan_psikiatri.sk_daya_tilik_diri,penilaian_awal_keperawatan_ralan_psikiatri.ket_sk_daya_tilik_diri,penilaian_awal_keperawatan_ralan_psikiatri.kk_pembelajaran,"
                            + "penilaian_awal_keperawatan_ralan_psikiatri.ket_kk_pembelajaran,penilaian_awal_keperawatan_ralan_psikiatri.ket_kk_pembelajaran_lainnya,penilaian_awal_keperawatan_ralan_psikiatri.kk_Penerjamah,"
                            + "penilaian_awal_keperawatan_ralan_psikiatri.ket_kk_penerjamah_Lainnya,penilaian_awal_keperawatan_ralan_psikiatri.kk_bahasa_isyarat,penilaian_awal_keperawatan_ralan_psikiatri.kk_kebutuhan_edukasi,"
                            + "penilaian_awal_keperawatan_ralan_psikiatri.ket_kk_kebutuhan_edukasi,penilaian_awal_keperawatan_ralan_psikiatri.rencana,penilaian_awal_keperawatan_ralan_psikiatri.nip,petugas.nama "
                            + "from penilaian_awal_keperawatan_ralan_psikiatri inner join petugas on penilaian_awal_keperawatan_ralan_psikiatri.nip=petugas.nip "
                            + "where penilaian_awal_keperawatan_ralan_psikiatri.no_rawat='" + norawat + "'").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<fieldset>"
                                + "<h2><center>ASUHAN KEPERAWATAN RAWAT JALAN PSIKIATRI</center></h2>"
                                + "<table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Penilaian Awal Keperawatan Rawat Jalan Psikiatri</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                        );
                        rs2.beforeFirst();
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top'>YANG MELAKUKAN PENGKAJIAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='33%' border='0'>Tanggal : ").append(rs2.getString("tanggal")).append("</td><td width='33%' border='0'>Petugas : ").append(rs2.getString("nip")).append(" ").append(rs2.getString("nama")).append("</td><td width='33%' border='0'>Informasi didapat dari : ").append(rs2.getString("informasi")).append("</td></tr></table></td></tr><tr><td valign='top'>I. RIWAYAT KESEHATAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='50%' colspan=2>Keluhan Utama : ").append(rs2.getString("keluhan_utama").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='60%'>Riwayat Penyakit Dahulu : ").append(rs2.getString("rkd_keluhan")).append("</td><td width='40%'>Sakit Sejak : ").append(rs2.getString("rkd_sakit_sejak")).append(", Berobat : ").append(rs2.getString("rkd_berobat")).append(", Hasil Pengobatan : ").append(rs2.getString("rkd_hasil_pengobatan")).append("</td></tr></table></td></tr><tr><td valign='top'>II. FAKTOR PRESIPITASI<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='50%' border='0'>Putus Obat : ").append(rs2.getString("fp_putus_obat")).append(rs2.getString("ket_putus_obat").isEmpty() ? "" : ", " + rs2.getString("ket_putus_obat")).append("</td><td width='50%' border='0'>Masalah Ekonomi : ").append(rs2.getString("fp_ekonomi")).append(rs2.getString("ket_masalah_ekonomi").isEmpty() ? "" : ", " + rs2.getString("ket_masalah_ekonomi")).append("</td></tr><tr><td width='50%' border='0'>Masalah Fisik : ").append(rs2.getString("fp_masalah_fisik")).append(rs2.getString("ket_masalah_fisik").isEmpty() ? "" : ", " + rs2.getString("ket_masalah_fisik")).append("</td><td width='50%' border='0'>Masalah Psikososial : ").append(rs2.getString("fp_masalah_psikososial")).append(rs2.getString("ket_masalah_psikososial").isEmpty() ? "" : ", " + rs2.getString("ket_masalah_psikososial")).append("</td></tr></table></td></tr><tr><td valign='top'>III. FAKTOR RISIKO<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>Resiko Herediter :</td></tr><tr><td width='100%' border='0' style='margin-left: 10px'>Keluarga Dengan Penyakit Jiwa : ").append(rs2.getString("rh_keluarga")).append(", Jika Ya, Sebutkan : ").append(rs2.getString("ket_rh_keluarga")).append("</td></tr><tr><td width='100%' border='0'>Resiko Bunuh Diri : ").append(rs2.getString("resiko_bunuh_diri")).append("</td></tr><tr><td width='100%' border='0' style='margin-left: 10px'>Ada Ide : ").append(rs2.getString("rbd_ide")).append(rs2.getString("ket_rbd_ide").isEmpty() ? "" : ", " + rs2.getString("ket_rbd_ide")).append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ada Rencana : ").append(rs2.getString("rbd_rencana")).append(rs2.getString("ket_rbd_rencana").isEmpty() ? "" : ", " + rs2.getString("ket_rbd_rencana")).append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mempersiapkan Alat : ").append(rs2.getString("rbd_alat")).append(rs2.getString("ket_rbd_alat").isEmpty() ? "" : ", " + rs2.getString("ket_rbd_alat")).append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pernah Mencoba Perilaku Bunuh Diri : ").append(rs2.getString("rbd_percobaan")).append(rs2.getString("ket_rbd_percobaan").isEmpty() ? "" : ", Kapan : " + rs2.getString("ket_rbd_percobaan")).append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Saat Ini Masih Ada Keinginan Untuk Bunuh Diri : ").append(rs2.getString("rbd_keinginan")).append(" Jika Ya, Dengan Cara : ").append(rs2.getString("ket_rbd_keinginan")).append("</td></tr></table></td></tr><tr><td valign='top'>IV. RIWAYAT PENGOBATAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>Penggunaan Obat Psikiatri : ").append(rs2.getString("rpo_penggunaan")).append(rs2.getString("ket_rpo_penggunaan").isEmpty() ? "" : ", " + rs2.getString("ket_rpo_penggunaan")).append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Efek Samping Obat Psikatri : ").append(rs2.getString("rpo_efek_samping")).append(rs2.getString("ket_rpo_efek_samping").isEmpty() ? "" : ", " + rs2.getString("ket_rpo_efek_samping")).append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Riwayat Penggunaan Napza : ").append(rs2.getString("rpo_napza")).append(rs2.getString("ket_rpo_napza").isEmpty() ? "" : ", " + rs2.getString("ket_rpo_napza")).append(rs2.getString("ket_lama_pemakaian").isEmpty() ? "" : ", Lama : " + rs2.getString("ket_lama_pemakaian")).append(rs2.getString("ket_cara_pemakaian").isEmpty() ? "" : ", Cara Pakai : " + rs2.getString("ket_cara_pemakaian")).append(rs2.getString("ket_latar_belakang_pemakaian").isEmpty() ? "" : ", Latar Belakang : " + rs2.getString("ket_latar_belakang_pemakaian")).append("</td></tr><tr><td width='100%' border='0'>Penggunaan Obat Lainnya : ").append(rs2.getString("rpo_penggunaan_obat_lainnya")).append(rs2.getString("ket_penggunaan_obat_lainnya").isEmpty() ? "" : ", " + rs2.getString("ket_penggunaan_obat_lainnya")).append(rs2.getString("ket_alasan_penggunaan").isEmpty() ? "" : ", Alasan Penggunaan : " + rs2.getString("ket_alasan_penggunaan")).append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Riwayat Alergi Obat : ").append(rs2.getString("rpo_alergi_obat")).append(rs2.getString("ket_alergi_obat").isEmpty() ? "" : ", " + rs2.getString("ket_alergi_obat")).append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Merokok : ").append(rs2.getString("rpo_merokok")).append(rs2.getString("ket_merokok").isEmpty() ? "" : ", " + rs2.getString("ket_merokok") + " batang/hari").append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Minum Kopi : ").append(rs2.getString("rpo_minum_kopi")).append(rs2.getString("ket_minum_kopi").isEmpty() ? "" : ", " + rs2.getString("ket_minum_kopi") + " gelas/hari").append("</td></tr></table></td></tr><tr><td valign='top'>V. PEMERIKSAAN FISIK<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>Apakah Terdapat Keluhan Fisik : ").append(rs2.getString("pf_keluhan_fisik")).append(rs2.getString("ket_keluhan_fisik").isEmpty() ? "" : ", " + rs2.getString("ket_keluhan_fisik")).append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TD : ").append(rs2.getString("td")).append(" mmHg&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Nadi : ").append(rs2.getString("nadi")).append(" x/menit&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RR : ").append(rs2.getString("rr")).append(" x/menit&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Suhu : ").append(rs2.getString("suhu")).append(" \u00b0C&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GCS(E,V,M) : ").append(rs2.getString("gcs")).append("</td></tr></table></td></tr><tr><td valign='top'>VI. PENILAIAN TINGKAT NYERI<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='50%' border='0'>Tingkat Nyeri : ").append(rs2.getString("nyeri")).append(", Waktu / Durasi : ").append(rs2.getString("durasi")).append(" Menit</td><td width='50%' border='0'>Penyebab : ").append(rs2.getString("provokes")).append(rs2.getString("ket_provokes").isEmpty() ? "" : ", " + rs2.getString("ket_provokes")).append("</td></tr><tr><td width='50%' border='0'>Kualitas : ").append(rs2.getString("quality")).append(rs2.getString("ket_quality").isEmpty() ? "" : ", " + rs2.getString("ket_quality")).append("</td><td width='50%' border='0'>Severity : Skala Nyeri ").append(rs2.getString("skala_nyeri")).append("</td></tr><tr><td colspan='0' border='0'>Wilayah :</td></tr><tr><td width='50%' border='0'>&nbsp;&nbsp;&nbsp;&nbsp;Lokasi : ").append(rs2.getString("lokasi")).append("</td><td width='50%' border='0'>Menyebar : ").append(rs2.getString("menyebar")).append("</td></tr><tr><td width='50%' border='0'>Nyeri hilang bila : ").append(rs2.getString("nyeri_hilang")).append(rs2.getString("ket_nyeri").isEmpty() ? "" : ", " + rs2.getString("ket_nyeri")).append("</td><td width='50%' border='0'>Diberitahukan pada dokter ? ").append(rs2.getString("pada_dokter")).append(rs2.getString("ket_dokter").isEmpty() ? "" : ", Jam : " + rs2.getString("ket_dokter")).append("</td></tr></table></td></tr><tr><td valign='top'>VII. STATUS NUTRISI<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>BB : ").append(rs2.getString("bb")).append(" Kg&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TB : ").append(rs2.getString("tb")).append(" cm&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BMI : ").append(rs2.getString("nadi")).append(" Kg/m\u00b2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dilaporkan Kepada DPJP ? ").append(rs2.getString("lapor_status_nutrisi")).append(rs2.getString("ket_lapor_status_nutrisi").isEmpty() ? "" : ", Jam Dilaporkan : " + rs2.getString("ket_lapor_status_nutrisi")).append("</td></tr></table></td></tr><tr><td valign='top'>VIII. SKRINING GIZI<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td valign='middle' bgcolor='#FFFAF8' align='center' width='5%'>No</td><td valign='middle' bgcolor='#FFFAF8' align='center' width='55%'>Parameter</td><td valign='middle' bgcolor='#FFFAF8' align='center' width='40%' colspan='2'>Nilai</td></tr><tr><td valign='top'>1</td><td valign='top'>Apakah ada penurunan berat badan yang tidak diinginkan selama 6 bulan terakhir ?</td><td valign='top' align='center' width='35%'>").append(rs2.getString("sg1")).append("</td><td valign='top' align='right' width='5%'>").append(rs2.getString("nilai1")).append("&nbsp;&nbsp;</td></tr><tr><td valign='top'>2</td><td valign='top'>Apakah nafsu makan berkurang, karena tidak nafsu makan ?</td><td valign='top' align='center' width='35%'>").append(rs2.getString("sg2")).append("</td><td valign='top' align='right' width='5%'>").append(rs2.getString("nilai2")).append("&nbsp;&nbsp;</td></tr><tr><td valign='top' align='left' colspan='2'>Total Skor : </td><td valign='top' align='right' colspan='2'>").append(rs2.getString("total_hasil")).append("&nbsp;&nbsp;</td></tr></table></td></tr><tr><td valign='top'>IX. PENILAIAN RESIKO JATUH<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td colpsan='2' border='0'>a. Cara Berjalan :</td></tr><tr><td width='75%' border='0'>&nbsp;&nbsp;&nbsp;&nbsp;1. Tidak seimbang / sempoyongan / limbung</td><td width='25%' border='0'>: ").append(rs2.getString("resikojatuh")).append("</td></tr><tr><td width='75%' border='0'>&nbsp;&nbsp;&nbsp;&nbsp;2. Jalan dengan menggunakan alat bantu (kruk, tripot, kursi roda, orang lain)</td><td width='25%' border='0'>: ").append(rs2.getString("bjm")).append("</td></tr><tr><td width='75%' border='0'>b. Menopang saat akan duduk, tampak memegang pinggiran kursi atau meja / benda lain sebagai penopang</td><td width='25%' border='0'>: ").append(rs2.getString("msa")).append("</td></tr><tr><td colspan='2' border='0'>Hasil : ").append(rs2.getString("hasil")).append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dilaporkan kepada dokter ? ").append(rs2.getString("lapor")).append(rs2.getString("ket_lapor").isEmpty() ? "" : " Jam dilaporkan : " + rs2.getString("ket_lapor")).append("</td></tr></table></td></tr><tr><td valign='top'>X. STATUS FUNGSIONAL<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='25%' border='0'>Mandi : ").append(rs2.getString("adl_mandi")).append("</td><td width='45%' border='0'>Sosialisasi : ").append(rs2.getString("adl_sosialisasi")).append(rs2.getString("ket_adl_sosialisasi").isEmpty() ? "" : ", " + rs2.getString("ket_adl_sosialisasi")).append("</td><td width='30%' border='0'>Berpakaian : ").append(rs2.getString("adl_berpakaian")).append("</td></tr><tr><td width='25%' border='0'>BAK : ").append(rs2.getString("adl_bak")).append("</td><td width='45%' border='0'>Melakukan Hobi : ").append(rs2.getString("adl_hobi")).append(rs2.getString("ket_adl_hobi").isEmpty() ? "" : ", " + rs2.getString("ket_adl_hobi")).append("</td><td width='30%' border='0'>Makan/Minum : ").append(rs2.getString("adl_makan")).append("</td></tr><tr><td width='25%' border='0'>BAB : ").append(rs2.getString("adl_bab")).append("</td><td width='45%' border='0'>Kegiatan RT : ").append(rs2.getString("adl_kegiatan")).append(rs2.getString("ket_adl_kegiatan").isEmpty() ? "" : ", " + rs2.getString("ket_adl_kegiatan")).append("</td></tr></table></td></tr><tr><td valign='top'>XI. STATUS KESEHATAN SAAT INI<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>Penampilan : ").append(rs2.getString("sk_penampilan")).append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pembicaraan : ").append(rs2.getString("sk_pembicaraan")).append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Alam Perasaan : ").append(rs2.getString("sk_alam_perasaan")).append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Afek : ").append(rs2.getString("sk_afek")).append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Aktifitas Motorik/Prilaku : ").append(rs2.getString("sk_aktifitas_motorik")).append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Interaksi Selama Wawancara : ").append(rs2.getString("sk_interaksi")).append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Proses Pikir : ").append(rs2.getString("sk_proses_pikir")).append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Daya Tilik Diri : ").append(rs2.getString("sk_daya_tilik_diri")).append(rs2.getString("ket_sk_daya_tilik_diri").isEmpty() ? "" : ", " + rs2.getString("ket_sk_daya_tilik_diri")).append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Memori : ").append(rs2.getString("sk_memori")).append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tingkat Konsentrasi & Berhitung : ").append(rs2.getString("sk_konsentrasi")).append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Persepsi : ").append(rs2.getString("sk_persepsi")).append(rs2.getString("ket_sk_persepsi").isEmpty() ? "" : ", " + rs2.getString("ket_sk_persepsi")).append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tingkat Kesadaran : Orientasi : ").append(rs2.getString("sk_orientasi")).append(rs2.getString("sk_orientasi").equals("Ya") ? ", Ya : " + rs2.getString("sk_tingkat_kesadaran_orientasi") : "").append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Isi Pikir : ").append(rs2.getString("sk_isi_pikir")).append("&nbsp;&nbsp;&nbsp;&nbsp;Waham : ").append(rs2.getString("sk_waham")).append(rs2.getString("ket_sk_waham").isEmpty() ? "" : ", " + rs2.getString("ket_sk_waham")).append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Kemampuan Penilaian : ").append(rs2.getString("sk_gangguan_ringan")).append("</td></tr></table></td></tr><tr><td valign='top'>XII. KEBUTUHAN KOMUNIKASI DAN EDUKASI<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>Terdapat Hambatan Dalam Pembelajaran : ").append(rs2.getString("kk_pembelajaran")).append(" Jika, Ya : ").append(rs2.getString("ket_kk_pembelajaran")).append(rs2.getString("ket_kk_pembelajaran_lainnya").isEmpty() ? "" : " Lainnya : " + rs2.getString("ket_kk_pembelajaran_lainnya")).append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dibutuhkan Penerjamah : ").append(rs2.getString("kk_Penerjamah")).append(rs2.getString("ket_kk_penerjamah_Lainnya").isEmpty() ? "" : " Jika, Ya : " + rs2.getString("ket_kk_penerjamah_Lainnya")).append(" Bahasa Isyarat : ").append(rs2.getString("kk_bahasa_isyarat")).append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Kebutuhan Edukasi (Pilih Topik Edukasi Pada Kolom Yang Tersedia) : ").append(rs2.getString("kk_kebutuhan_edukasi")).append(", Lainnya : ").append(rs2.getString("ket_kk_kebutuhan_edukasi")).append("</td></tr></table></td></tr><tr><td valign='top'><table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td valign='middle' bgcolor='#FFFAF8' align='center' width='50%'>MASALAH KEPERAWATAN :</td><td valign='middle' bgcolor='#FFFAF8' align='center' width='50%'>RENCANA KEPERAWATAN :</td></tr><tr><td valign='top'>");
                            try {
                                rs3 = koneksi.prepareStatement(
                                        "select master_masalah_keperawatan_psikiatri.nama_masalah from master_masalah_keperawatan_psikiatri "
                                        + "inner join penilaian_awal_keperawatan_ralan_masalah_psikiatri on penilaian_awal_keperawatan_ralan_masalah_psikiatri.kode_masalah=master_masalah_keperawatan_psikiatri.kode_masalah "
                                        + "where penilaian_awal_keperawatan_ralan_masalah_psikiatri.no_rawat='" + norawat + "' order by penilaian_awal_keperawatan_ralan_masalah_psikiatri.kode_masalah").executeQuery();
                                while (rs3.next()) {
                                    htmlContent.append(rs3.getString("nama_masalah")).append("<br>");
                                }
                            } catch (Exception e) {
                                System.out.println("Notif : " + e);
                            } finally {
                                if (rs3 != null) {
                                    rs3.close();
                                }
                            }
                            htmlContent.append("</td>"
                                    + "<td valign='top'>");
                            try {
                                rs3 = koneksi.prepareStatement(
                                        "select master_rencana_keperawatan_psikiatri.rencana_keperawatan from master_rencana_keperawatan_psikiatri "
                                        + "inner join penilaian_awal_keperawatan_ralan_rencana_psikiatri on penilaian_awal_keperawatan_ralan_rencana_psikiatri.kode_rencana=master_rencana_keperawatan_psikiatri.kode_rencana "
                                        + "where penilaian_awal_keperawatan_ralan_rencana_psikiatri.no_rawat='" + norawat + "' order by penilaian_awal_keperawatan_ralan_rencana_psikiatri.kode_rencana").executeQuery();
                                while (rs3.next()) {
                                    htmlContent.append(rs3.getString("rencana_keperawatan")).append("<br>");
                                }
                            } catch (Exception e) {
                                System.out.println("Notif : " + e);
                            } finally {
                                if (rs3 != null) {
                                    rs3.close();
                                }
                            }
                            htmlContent.append(rs2.getString("rencana")).append("</td></tr></table></td></tr>");
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>"
                                + "</table>"
                                + "</fieldset>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Asuhan Keperawatan Ralan Kandungan : " + e);
        }
    }

    private void menampilkanAsuhanFisioterapi(String norawat) {
        try {
            if (chkAsuhanFisioterapi.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select penilaian_fisioterapi.tanggal,penilaian_fisioterapi.informasi,penilaian_fisioterapi.keluhan_utama,penilaian_fisioterapi.rps,"
                            + "penilaian_fisioterapi.rpd,penilaian_fisioterapi.td,penilaian_fisioterapi.hr,penilaian_fisioterapi.rr,penilaian_fisioterapi.suhu,"
                            + "penilaian_fisioterapi.nyeri_tekan,penilaian_fisioterapi.nyeri_gerak,"
                            + "penilaian_fisioterapi.nyeri_diam,penilaian_fisioterapi.palpasi,penilaian_fisioterapi.luas_gerak_sendi,penilaian_fisioterapi.kekuatan_otot,penilaian_fisioterapi.statis,penilaian_fisioterapi.dinamis,penilaian_fisioterapi.kognitif,"
                            + "penilaian_fisioterapi.auskultasi,penilaian_fisioterapi.alat_bantu,penilaian_fisioterapi.ket_bantu,penilaian_fisioterapi.prothesa,penilaian_fisioterapi.ket_pro,penilaian_fisioterapi.deformitas,penilaian_fisioterapi.ket_deformitas,"
                            + "penilaian_fisioterapi.resikojatuh,penilaian_fisioterapi.ket_resikojatuh,penilaian_fisioterapi.adl,penilaian_fisioterapi.lainlain_fungsional,penilaian_fisioterapi.ket_fisik,penilaian_fisioterapi.pemeriksaan_musculoskeletal,"
                            + "penilaian_fisioterapi.pemeriksaan_neuromuscular,penilaian_fisioterapi.pemeriksaan_cardiopulmonal,penilaian_fisioterapi.pemeriksaan_integument,penilaian_fisioterapi.pengukuran_musculoskeletal,penilaian_fisioterapi.pengukuran_neuromuscular,"
                            + "penilaian_fisioterapi.pengukuran_cardiopulmonal,penilaian_fisioterapi.pengukuran_integument,penilaian_fisioterapi.penunjang,penilaian_fisioterapi.diagnosis_fisio,penilaian_fisioterapi.rencana_terapi,penilaian_fisioterapi.nip,petugas.nama "
                            + "from penilaian_fisioterapi inner join petugas on penilaian_fisioterapi.nip=petugas.nip "
                            + "where penilaian_fisioterapi.no_rawat='" + norawat + "'").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<fieldset>"
                                + "<h2><center>ASUHAN FISIOTERAPI</center></h2>"
                                + "<table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Penilaian Awal Fisioterapi</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                        );
                        rs2.beforeFirst();
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top'>YANG MELAKUKAN PENGKAJIAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='33%' border='0'>Tanggal : ").append(rs2.getString("tanggal")).append("</td><td width='33%' border='0'>Petugas : ").append(rs2.getString("nip")).append(" ").append(rs2.getString("nama")).append("</td><td width='33%' border='0'>Informasi didapat dari : ").append(rs2.getString("informasi")).append("</td></tr></table></td></tr><tr><td valign='top'>I. RIWAYAT KESEHATAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td colspan='2'>Keluhan Utama : ").append(rs2.getString("keluhan_utama").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='50%'>Riwayat Penyakit Sekarang : ").append(rs2.getString("rps").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td><td width='50%'>Riwayat Penyakit Dahulu & Penyerta : ").append(rs2.getString("rpd").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>II. PEMERIKSAAN FISIK<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='25%'>TD : ").append(rs2.getString("td")).append(" mmHg</td><td width='25%'>HR : ").append(rs2.getString("hr")).append(" x/menit</td><td width='25%'>RR : ").append(rs2.getString("rr")).append(" x/menit</td><td width='25%'>Suhu : ").append(rs2.getString("suhu")).append(" \u00b0C</td></tr></table><table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='33%'>Nyeri Tekan : ").append(rs2.getString("nyeri_tekan")).append("</td><td width='33%'>Nyeri Gerak : ").append(rs2.getString("nyeri_gerak")).append("</td><td width='33%'>Nyeri Diam : ").append(rs2.getString("nyeri_diam")).append("</td></tr></table><table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%'>Palpasi : ").append(rs2.getString("palpasi")).append("</td></tr><tr><td width='100%'>Luas Gerak Sendi : ").append(rs2.getString("luas_gerak_sendi")).append("</td></tr><tr><td width='100%'>Kekuatan Otot (MMT) : ").append(rs2.getString("kekuatan_otot")).append("</td></tr></table><table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%'>Inspeksi :<table width='98%' border='0' align='right' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='50%' border='0' valign='top'>Statis : ").append(rs2.getString("statis")).append("</td><td width='50%' border='0' valign='top'>Dinamis : ").append(rs2.getString("dinamis")).append("</td></tr><tr><td width='50%' border='0' valign='top'>Kognitif : ").append(rs2.getString("kognitif")).append("</td><td width='50%' border='0' valign='top'>Auskultasi : ").append(rs2.getString("auskultasi")).append("</td></tr></table></td></tr><tr><td width='100%'>Kemampuan Fungsional :<table width='98%' border='0' align='right' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='50%' border='0' valign='top'>Alat Bantu : ").append(rs2.getString("alat_bantu")).append(rs2.getString("ket_bantu").isEmpty() ? "" : ", " + rs2.getString("ket_bantu")).append("</td><td width='50%' border='0' valign='top'>Prothesa : ").append(rs2.getString("prothesa")).append(rs2.getString("ket_pro").isEmpty() ? "" : ", " + rs2.getString("ket_pro")).append("</td></tr><tr><td width='50%' border='0' valign='top'>Deformitas : ").append(rs2.getString("deformitas")).append(rs2.getString("ket_deformitas").isEmpty() ? "" : ", " + rs2.getString("ket_deformitas")).append("</td><td width='50%' border='0' valign='top'>Resiko Jatuh : ").append(rs2.getString("resikojatuh")).append(rs2.getString("ket_resikojatuh").isEmpty() ? "" : ", " + rs2.getString("ket_resikojatuh")).append("</td></tr><tr><td width='50%' border='0' valign='top'>Aktivitas Kehidupan Sehari-hari ( ADL ) : ").append(rs2.getString("adl")).append("</td><td width='50%' border='0' valign='top'>Lain-lain : ").append(rs2.getString("lainlain_fungsional")).append("</td></tr></table></td></tr><tr><td width='100%'>Keterangan Fisik : ").append(rs2.getString("ket_fisik").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='100%'>Pemeriksaan Sistemik Khusus  :<table width='98%' border='0' align='right' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0' valign='top'>a. Musculoskeletal : ").append(rs2.getString("pemeriksaan_musculoskeletal").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='100%' border='0' valign='top'>b. Neuromuscular : ").append(rs2.getString("pemeriksaan_neuromuscular").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='100%' border='0' valign='top'>c. CardioPulmonal : ").append(rs2.getString("pemeriksaan_cardiopulmonal").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='100%' border='0' valign='top'>d. Integument : ").append(rs2.getString("pemeriksaan_integument").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td width='100%'>Pengukuran Khusus :<table width='98%' border='0' align='right' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0' valign='top'>a. Musculoskeletal : ").append(rs2.getString("pengukuran_musculoskeletal").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='100%' border='0' valign='top'>b. Neuromuscular : ").append(rs2.getString("pengukuran_neuromuscular").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='100%' border='0' valign='top'>c. CardioPulmonal : ").append(rs2.getString("pengukuran_cardiopulmonal").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='100%' border='0' valign='top'>d. Integument : ").append(rs2.getString("pengukuran_integument").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr></table></td></tr><tr><td valign='top'>III. PEMERIKSAAN PENUNJANG<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>").append(rs2.getString("penunjang").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>IV. DIAGNOSIS FISIOTERAPI<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>").append(rs2.getString("diagnosis_fisio").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>V. RENCANA INTERVENSI FISIOTERAPI<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>").append(rs2.getString("rencana_terapi").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr>");
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>"
                                + "</table>"
                                + "</fieldset>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Asuhan Fisioterapi : " + e);
        }
    }

    private void menampilkanAsuhanMedisIGD(String norawat) {
        try {
            if (chkAwalMedisIgd.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select DATE_FORMAT(penilaian_medis_igd.tanggal,'%d-%m-%Y %H:%i:%s') as tanggal,penilaian_medis_igd.kd_dokter,penilaian_medis_igd.anamnesis,penilaian_medis_igd.hubungan,penilaian_medis_igd.keluhan_utama,penilaian_medis_igd.rps,"
                            + "penilaian_medis_igd.rpk,penilaian_medis_igd.rpd,penilaian_medis_igd.rpo,penilaian_medis_igd.alergi,penilaian_medis_igd.keadaan,penilaian_medis_igd.gcs,penilaian_medis_igd.kesadaran,"
                            + "penilaian_medis_igd.td,penilaian_medis_igd.nadi,penilaian_medis_igd.rr,penilaian_medis_igd.suhu,penilaian_medis_igd.spo,penilaian_medis_igd.bb,penilaian_medis_igd.tb,penilaian_medis_igd.kepala,"
                            + "penilaian_medis_igd.mata,penilaian_medis_igd.gigi,penilaian_medis_igd.leher,penilaian_medis_igd.thoraks,penilaian_medis_igd.abdomen,penilaian_medis_igd.ekstremitas,penilaian_medis_igd.genital,"
                            + "penilaian_medis_igd.kepala,penilaian_medis_igd.mata,penilaian_medis_igd.gigi,penilaian_medis_igd.leher,penilaian_medis_igd.thoraks,penilaian_medis_igd.abdomen,penilaian_medis_igd.genital,"
                            + "penilaian_medis_igd.ekstremitas,penilaian_medis_igd.ket_lokalis,penilaian_medis_igd.ekg,penilaian_medis_igd.rad,penilaian_medis_igd.lab,penilaian_medis_igd.diagnosis,penilaian_medis_igd.tata,dokter.nm_dokter "
                            + "from penilaian_medis_igd inner join dokter on penilaian_medis_igd.kd_dokter=dokter.kd_dokter "
                            + "where penilaian_medis_igd.no_rawat='" + norawat + "'").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<br><br><br>"
                                + "<p class='pagebreak'>"
                                + "<fieldset>");

                        // Header menggunakan Copsurat()
                        Copsurat();

                        // Judul laporan
                        htmlContent.append("<h3 style='text-align:center; margin:10px 0;'>PENILAIAN AWAL MEDIS IGD</h3>");

                        // Informasi pasien dalam format tabel
                        htmlContent.append(
                                "<table width='100%' border='1' cellpadding='4' cellspacing='0' style='border-collapse:collapse;'>"
                                + "<tr>"
                                + "<td width='15%'>No. RM</td>"
                                + "<td width='2%'>:</td>"
                                + "<td width='20%'>").append(rs.getString("no_rkm_medis")).append("</td>"
                                + "<td width='15%'>Jenis Kelamin</td>"
                                + "<td width='2%'>:</td>"
                                + "<td width='15%'>").append(rs.getString("jk")).append("</td>" // Assuming jk field exists
                                + "<td width='15%'>Tanggal</td>"
                                + "<td width='2%'>:</td>"
                                + "<td width='14%'>").append(rs2.getString("tanggal")).append("</td>"
                                + "</tr>"
                                + "<tr>"
                                + "<td>Nama Pasien</td>"
                                + "<td>:</td>"
                                + "<td>").append(rs.getString("nm_pasien")).append("</td>"
                                + "<td>Tanggal Lahir</td>"
                                + "<td>:</td>"
                                + "<td>").append(rs.getString("tgl_lahir")).append("</td>"
                                + "<td>Anamnesis</td>"
                                + "<td>:</td>"
                                + "<td>").append(rs2.getString("anamnesis")).append("</td>"
                                + "</tr>"
                                + "</table>"
                        );

                        rs2.beforeFirst();
                        while (rs2.next()) {
                            // I. RIWAYAT KESEHATAN
                            htmlContent.append(
                                    "<table width='100%' border='1' cellpadding='4' cellspacing='0' style='border-collapse:collapse; margin-top:10px;'>"
                                    + "<tr style='background-color:#f0f0f0;'>"
                                    + "<td colspan='2'><strong>I. RIWAYAT KESEHATAN</strong></td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td width='20%'>Keluhan Utama</td>"
                                    + "<td>").append(rs2.getString("keluhan_utama").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td>"
                                    + "</tr>"
                                    + "</table>"
                            );

                            // Riwayat Penyakit Sekarang
                            htmlContent.append(
                                    "<table width='100%' border='1' cellpadding='4' cellspacing='0' style='border-collapse:collapse;'>"
                                    + "<tr>"
                                    + "<td colspan='4'>Riwayat Penyakit Sekarang: ").append(rs2.getString("rps").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td width='25%'>Riwayat Penyakit Dahulu: </td>"
                                    + "<td width='25%'>").append(rs2.getString("rpd").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td>"
                                    + "<td width='25%'>Riwayat Penyakit dalam Keluarga: </td>"
                                    + "<td width='25%'>").append(rs2.getString("rpk").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td>Riwayat Pengobatan: </td>"
                                    + "<td>").append(rs2.getString("rpo").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td>"
                                    + "<td>Riwayat Alergi: </td>"
                                    + "<td>").append(rs2.getString("alergi")).append("</td>"
                                    + "</tr>"
                                    + "</table>"
                            );

                            // II. PEMERIKSAAN FISIK
                            htmlContent.append(
                                    "<table width='100%' border='1' cellpadding='4' cellspacing='0' style='border-collapse:collapse; margin-top:10px;'>"
                                    + "<tr style='background-color:#f0f0f0;'>"
                                    + "<td colspan='6'><strong>II. PEMERIKSAAN FISIK</strong></td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td width='16%'>Keadaan Umum: ").append(rs2.getString("keadaan")).append("</td>"
                                    + "<td width='16%'>Kesadaran: ").append(rs2.getString("kesadaran")).append("</td>"
                                    + "<td width='16%'>GCS(E,V,M): ").append(rs2.getString("gcs")).append("</td>"
                                    + "<td width='16%'>BB: ").append(rs2.getString("bb")).append(" Kg</td>"
                                    + "<td width='16%'>TB: ").append(rs2.getString("tb")).append(" cm</td>"
                                    + "<td width='20%'></td>"
                                    + "</tr>"
                                    + "</table>"
                            );

                            // Tanda Vital
                            htmlContent.append(
                                    "<table width='100%' border='1' cellpadding='4' cellspacing='0' style='border-collapse:collapse;'>"
                                    + "<tr>"
                                    + "<td width='16%'>Tanda Vital:</td>"
                                    + "<td width='16%'>TD: ").append(rs2.getString("td")).append(" mmHg</td>"
                                    + "<td width='16%'>N: ").append(rs2.getString("nadi")).append(" x/m</td>"
                                    + "<td width='16%'>R: ").append(rs2.getString("rr")).append(" x/m</td>"
                                    + "<td width='16%'>S: ").append(rs2.getString("suhu")).append("C</td>"
                                    + "<td width='20%'>SpO2: ").append(rs2.getString("spo")).append(" %</td>"
                                    + "</tr>"
                                    + "</table>"
                            );

                            // Pemeriksaan Fisik Detail
                            htmlContent.append(
                                    "<table width='100%' border='1' cellpadding='4' cellspacing='0' style='border-collapse:collapse;'>"
                                    + "<tr>"
                                    + "<td width='12%'>Kepala</td>"
                                    + "<td width='12%'>").append(rs2.getString("kepala")).append("</td>"
                                    + "<td width='12%'>Thoraks</td>"
                                    + "<td width='12%'>").append(rs2.getString("thoraks")).append("</td>"
                                    + "<td width='26%'>Leher: ").append(rs2.getString("leher")).append("</td>"
                                    + "<td width='26%'>Jantung: ").append(rs2.getString("thoraks")).append("</td>" // Assuming heart info is in thoraks
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td>Mata</td>"
                                    + "<td>").append(rs2.getString("mata")).append("</td>"
                                    + "<td>Abdomen</td>"
                                    + "<td>").append(rs2.getString("abdomen")).append("</td>"
                                    + "<td>Ekstremitas</td>"
                                    + "<td>").append(rs2.getString("ekstremitas")).append("</td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td>Gigi & Mulut</td>"
                                    + "<td>").append(rs2.getString("gigi")).append("</td>"
                                    + "<td>Genital & Anus</td>"
                                    + "<td>").append(rs2.getString("genital")).append("</td>"
                                    + "<td colspan='2'></td>"
                                    + "</tr>"
                                    + "</table>"
                            );

                            // III. STATUS LOKALIS
                            htmlContent.append(
                                    "<table width='100%' border='1' cellpadding='4' cellspacing='0' style='border-collapse:collapse; margin-top:10px;'>"
                                    + "<tr style='background-color:#f0f0f0;'>"
                                    + "<td><strong>III. STATUS LOKALIS</strong></td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td style='text-align:center; padding:10px;'>"
                                    + "<img alt='Gambar Lokalis' src='" + (getClass().getResource("/picture/semua.png")) + "' width='100%' height='400'/>"
                                    + "</td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td style='padding:10px;'>Keterangan : ").append(rs2.getString("ket_lokalis").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td>"
                                    + "</tr>"
                                    + "</table>"
                            );

                            // IV. PEMERIKSAAN PENUNJANG
                            htmlContent.append(
                                    "<table width='100%' border='1' cellpadding='4' cellspacing='0' style='border-collapse:collapse; margin-top:10px;'>"
                                    + "<tr style='background-color:#f0f0f0;'>"
                                    + "<td colspan='3'><strong>IV. PEMERIKSAAN PENUNJANG</strong></td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td width='33%'>EKG:</td>"
                                    + "<td width='33%'>Radiologi:</td>"
                                    + "<td width='34%'>Laboratorium:</td>"
                                    + "</tr>"
                                    + "<tr style='height:60px; vertical-align:top;'>"
                                    + "<td>").append(rs2.getString("ekg").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td>"
                                    + "<td>").append(rs2.getString("rad").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td>"
                                    + "<td>").append(rs2.getString("lab").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td>"
                                    + "</tr>"
                                    + "</table>"
                            );

                            // V. DIAGNOSIS
                            htmlContent.append(
                                    "<table width='100%' border='1' cellpadding='4' cellspacing='0' style='border-collapse:collapse; margin-top:10px;'>"
                                    + "<tr style='background-color:#f0f0f0;'>"
                                    + "<td><strong>V. DIAGNOSIS</strong></td>"
                                    + "</tr>"
                                    + "<tr style='height:40px; vertical-align:top;'>"
                                    + "<td>").append(rs2.getString("diagnosis").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td>"
                                    + "</tr>"
                                    + "</table>"
                            );

                            // VI. TATALAKSANA
                            htmlContent.append(
                                    "<table width='100%' border='1' cellpadding='4' cellspacing='0' style='border-collapse:collapse; margin-top:10px;'>"
                                    + "<tr style='background-color:#f0f0f0;'>"
                                    + "<td><strong>VI. TATALAKSANA</strong></td>"
                                    + "</tr>"
                                    + "<tr style='height:60px; vertical-align:top;'>"
                                    + "<td>").append(rs2.getString("tata").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td>"
                                    + "</tr>"
                                    + "</table>"
                            );

                            // Footer dengan tanda tangan
                            get = new GetMethod("http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/penggajian/generateqrcode.php?kodedokter=" + rs2.getString("kd_dokter").replace(" ", "_"));
                            http.executeMethod(get);

                            htmlContent.append(
                                    "<table width='100%' border='1' cellpadding='4' cellspacing='0' style='border-collapse:collapse; margin-top:20px;'>"
                                    + "<tr>"
                                    + "<td width='50%' style='height:80px; vertical-align:bottom; text-align:center;'>"
                                    + "<strong>Tanggal dan Jam</strong><br><br>"
                                    + rs2.getString("tanggal")
                                    + "</td>"
                                    + "<td width='50%' style='height:80px; vertical-align:bottom; text-align:center;'>"
                                    + "<strong>Nama Dokter dan Tanda Tangan</strong><br>"
                                    + "<img width='150' height='150' src='http://").append(koneksiDB.HOSTHYBRIDWEB()).append(":").append(koneksiDB.PORTWEB()).append("/").append(koneksiDB.HYBRIDWEB()).append("/penggajian/temp/").append(rs2.getString("kd_dokter")).append(".png'/><br>"
                                    + rs2.getString("nm_dokter")
                                    + "</td>"
                                    + "</tr>"
                                    + "</table>"
                            );
                        }

                        htmlContent.append("</fieldset>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Asuhan Medis IGD : " + e);
        }
    }

    // Method untuk menampilkan resep saja
    private void menampilkanResep(String norawat) {
        try {
            if (chkResep.isSelected() == true) {
                try {
                    // Query untuk mendapatkan semua resep beserta data SEP, pemeriksaan, dan dokter
                    rs2 = koneksi.prepareStatement(
                            "SELECT DISTINCT ro.no_resep, ro.tgl_perawatan, ro.jam, "
                            + "d.nm_dokter, d.kd_dokter, bs.no_sep, pr.berat, pr.alergi, "
                            + "bs.nmpolitujuan, rp.umurdaftar, rp.sttsumur, rp.p_jawab "
                            + "FROM resep_obat ro "
                            + "INNER JOIN dokter d ON ro.kd_dokter = d.kd_dokter "
                            + "LEFT JOIN bridging_sep bs ON ro.no_rawat = bs.no_rawat "
                            + "LEFT JOIN pemeriksaan_ralan pr ON ro.no_rawat = pr.no_rawat "
                            + "LEFT JOIN reg_periksa rp ON ro.no_rawat = rp.no_rawat "
                            + "WHERE ro.no_rawat = '" + norawat + "' "
                            + "ORDER BY ro.tgl_perawatan, ro.jam"
                    ).executeQuery();

                    if (rs2.next()) {
                        htmlContent.append(
                                "<p class='pagebreak'></p>" // Page break di awal
                                + "<br><br><br>"
                                + "<fieldset>");

                        Copsurat();

                        // Informasi pasien dalam format seperti gambar
                        htmlContent.append("<table width='100%' border='0' cellpadding='3px' cellspacing='0' class='tbl_form'>");
                        htmlContent.append("<tr>");

                        // Kolom kiri
                        htmlContent.append("<td width='50%' valign='top'>");
                        htmlContent.append("<table width='100%' border='0' cellpadding='2px' cellspacing='0'>");
                        htmlContent.append("<tr><td width='30%'>Nama Pasien</td><td width='5%'>:</td><td>").append(rs.getString("nm_pasien")).append("</td></tr>");
                        htmlContent.append("<tr><td>No. RM</td><td>:</td><td>").append(rs.getString("no_rkm_medis")).append("</td></tr>");
                        htmlContent.append("<tr><td>No. Rawat</td><td>:</td><td>").append(rs.getString("no_rawat")).append("</td></tr>");
                        htmlContent.append("<tr><td>Tanggal Lahir</td><td>:</td><td>").append(rs.getString("tgl_lahir")).append("</td></tr>");
                        htmlContent.append("<tr><td>Umur</td><td>:</td><td>").append(rs2.getString("umurdaftar") != null ? rs2.getString("umurdaftar") + " " + rs2.getString("sttsumur") : "-").append("</td></tr>");
                        htmlContent.append("<tr><td>Jenis Pasien</td><td>:</td><td>").append(rs2.getString("p_jawab") != null ? rs2.getString("p_jawab") : "-").append("</td></tr>");
                        htmlContent.append("<tr><td>Pemberi Resep</td><td>:</td><td>dr. ").append(rs2.getString("nm_dokter")).append("</td></tr>");
                        htmlContent.append("</table>");
                        htmlContent.append("</td>");

                        // Kolom kanan
                        htmlContent.append("<td width='50%' valign='top'>");
                        htmlContent.append("<table width='100%' border='0' cellpadding='2px' cellspacing='0'>");
                        htmlContent.append("<tr><td width='30%'>No. Resep</td><td width='5%'>:</td><td>").append(rs2.getString("no_resep")).append("</td></tr>");
                        htmlContent.append("<tr><td>Alergi</td><td>:</td><td>").append(rs2.getString("alergi") != null ? rs2.getString("alergi") : "-").append("</td></tr>");
                        htmlContent.append("<tr><td>BB</td><td>:</td><td>").append(rs2.getString("berat") != null ? rs2.getString("berat") + " Kg" : "-").append("</td></tr>");
                        htmlContent.append("<tr><td>Poli</td><td>:</td><td>").append(rs2.getString("nmpolitujuan") != null ? rs2.getString("nmpolitujuan") : "-").append("</td></tr>");
                        htmlContent.append("<tr><td>No SEP</td><td>:</td><td>").append(rs2.getString("no_sep") != null ? rs2.getString("no_sep") : "-").append("</td></tr>");
                        htmlContent.append("</table>");
                        htmlContent.append("</td>");

                        htmlContent.append("</tr>");
                        htmlContent.append("</table>");

                        htmlContent.append("<hr>");
                        htmlContent.append("<h2><center>RESEP</center></h2>");

                        rs2.beforeFirst();
                        while (rs2.next()) {
                            String currentNoResep = rs2.getString("no_resep");

                            // Tampilkan obat dalam format seperti gambar
                            htmlContent.append("<table width='100%' border='0' cellpadding='5px' cellspacing='0' style='margin-top: 20px;'>");

                            int noUrut = 1;

                            // Query untuk obat non-racikan
                            try {
                                PreparedStatement psObat = koneksi.prepareStatement(
                                        "SELECT databarang.nama_brng, aturan_pakai.aturan, detail_pemberian_obat.jml, kodesatuan.satuan "
                                        + "FROM resep_obat "
                                        + "INNER JOIN aturan_pakai ON resep_obat.no_rawat = aturan_pakai.no_rawat "
                                        + "    AND resep_obat.tgl_perawatan = aturan_pakai.tgl_perawatan "
                                        + "    AND resep_obat.jam = aturan_pakai.jam "
                                        + "INNER JOIN databarang ON databarang.kode_brng = aturan_pakai.kode_brng "
                                        + "INNER JOIN detail_pemberian_obat ON resep_obat.no_rawat = detail_pemberian_obat.no_rawat "
                                        + "    AND resep_obat.tgl_perawatan = detail_pemberian_obat.tgl_perawatan "
                                        + "    AND resep_obat.jam = detail_pemberian_obat.jam "
                                        + "    AND detail_pemberian_obat.kode_brng = databarang.kode_brng "
                                        + "INNER JOIN kodesatuan ON kodesatuan.kode_sat = databarang.kode_sat "
                                        + "WHERE resep_obat.no_resep = ? AND aturan_pakai.aturan <> '' "
                                        + "ORDER BY databarang.nama_brng"
                                );
                                psObat.setString(1, currentNoResep);
                                ResultSet rsObat = psObat.executeQuery();
                                while (rsObat.next()) {
                                    htmlContent.append("<tr>");
                                    htmlContent.append("<td width='3%' valign='top'>R/</td>");
                                    htmlContent.append("<td width='67%' valign='top'>").append(rsObat.getString("nama_brng"));
                                    htmlContent.append("<br>").append(rsObat.getString("aturan")).append("</td>");
                                    htmlContent.append("<td width='30%' valign='top' align='right'>").append(rsObat.getString("jml")).append(" ").append(rsObat.getString("satuan")).append("</td>");
                                    htmlContent.append("</tr>");
                                    htmlContent.append("<tr><td colspan='3' style='height: 10px;'></td></tr>"); // spacing
                                    noUrut++;
                                }
                                rsObat.close();
                                psObat.close();
                            } catch (Exception e) {
                                System.out.println("Error Query Obat Non-Racikan: " + e);
                            }

                            // Query untuk obat racikan
                            try {
                                PreparedStatement psRacikan = koneksi.prepareStatement(
                                        "SELECT obat_racikan.no_racik, obat_racikan.nama_racik, obat_racikan.aturan_pakai, "
                                        + "obat_racikan.jml_dr, metode_racik.nm_racik, "
                                        + "obat_racikan.tgl_perawatan, obat_racikan.jam "
                                        + "FROM resep_obat "
                                        + "INNER JOIN obat_racikan ON resep_obat.no_rawat = obat_racikan.no_rawat "
                                        + "    AND resep_obat.tgl_perawatan = obat_racikan.tgl_perawatan "
                                        + "    AND resep_obat.jam = obat_racikan.jam "
                                        + "INNER JOIN metode_racik ON obat_racikan.kd_racik = metode_racik.kd_racik "
                                        + "WHERE resep_obat.no_resep = ? "
                                        + "ORDER BY obat_racikan.no_racik"
                                );
                                psRacikan.setString(1, currentNoResep);
                                ResultSet rsRacikan = psRacikan.executeQuery();

                                while (rsRacikan.next()) {
                                    String rincianObat = "";
                                    // Get detail obat racikan
                                    try {
                                        PreparedStatement psDetailRacikan = koneksi.prepareStatement(
                                                "SELECT databarang.nama_brng, detail_pemberian_obat.jml "
                                                + "FROM detail_pemberian_obat "
                                                + "INNER JOIN databarang ON detail_pemberian_obat.kode_brng = databarang.kode_brng "
                                                + "INNER JOIN detail_obat_racikan ON detail_pemberian_obat.kode_brng = detail_obat_racikan.kode_brng "
                                                + "    AND detail_pemberian_obat.tgl_perawatan = detail_obat_racikan.tgl_perawatan "
                                                + "    AND detail_pemberian_obat.jam = detail_obat_racikan.jam "
                                                + "    AND detail_pemberian_obat.no_rawat = detail_obat_racikan.no_rawat "
                                                + "WHERE detail_pemberian_obat.tgl_perawatan = ? "
                                                + "    AND detail_pemberian_obat.jam = ? "
                                                + "    AND detail_pemberian_obat.no_rawat = ? "
                                                + "    AND detail_obat_racikan.no_racik = ? "
                                                + "ORDER BY databarang.kode_brng"
                                        );
                                        psDetailRacikan.setString(1, rsRacikan.getString("tgl_perawatan"));
                                        psDetailRacikan.setString(2, rsRacikan.getString("jam"));
                                        psDetailRacikan.setString(3, norawat);
                                        psDetailRacikan.setString(4, rsRacikan.getString("no_racik"));
                                        ResultSet rsDetailRacikan = psDetailRacikan.executeQuery();

                                        while (rsDetailRacikan.next()) {
                                            rincianObat += rsDetailRacikan.getString("nama_brng") + " " + rsDetailRacikan.getString("jml") + ", ";
                                        }

                                        if (rincianObat.length() > 0) {
                                            rincianObat = rincianObat.substring(0, rincianObat.length() - 2); // Remove last comma
                                        }

                                        rsDetailRacikan.close();
                                        psDetailRacikan.close();
                                    } catch (Exception e) {
                                        System.out.println("Error Detail Racikan: " + e);
                                    }

                                    htmlContent.append("<tr>");
                                    htmlContent.append("<td width='3%' valign='top'>R/</td>");
                                    htmlContent.append("<td width='67%' valign='top'>").append(rsRacikan.getString("nama_racik"));
                                    if (!rincianObat.isEmpty()) {
                                        htmlContent.append(" (").append(rincianObat).append(")");
                                    }
                                    htmlContent.append("<br>").append(rsRacikan.getString("aturan_pakai")).append("</td>");
                                    htmlContent.append("<td width='30%' valign='top' align='right'>").append(rsRacikan.getString("jml_dr")).append(" ").append(rsRacikan.getString("nm_racik")).append("</td>");
                                    htmlContent.append("</tr>");
                                    htmlContent.append("<tr><td colspan='3' style='height: 10px;'></td></tr>"); // spacing
                                    noUrut++;
                                }
                                rsRacikan.close();
                                psRacikan.close();
                            } catch (Exception e) {
                                System.out.println("Error Query Racikan: " + e);
                            }

                            htmlContent.append("</table>");

                            // Tambahkan tanggal dan tanda tangan dokter
                            htmlContent.append("<br><br>");
                            htmlContent.append("<table width='100%' border='0' cellpadding='3px' cellspacing='0'>");
                            htmlContent.append("<tr>");
                            htmlContent.append("<td width='50%'></td>");
                            htmlContent.append("<td width='50%' align='center'>");
                            htmlContent.append("Pajangan, ").append(rs2.getString("tgl_perawatan")).append("<br><br>");

                            // Generate QR code untuk dokter
                            get = new GetMethod("http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/penggajian/generateqrcode.php?kodedokter=" + rs2.getString("kd_dokter").replace(" ", "_"));
                            http.executeMethod(get);

                            htmlContent.append("<img width='90' height='90' src='http://")
                                    .append(koneksiDB.HOSTHYBRIDWEB()).append(":").append(koneksiDB.PORTWEB()).append("/")
                                    .append(koneksiDB.HYBRIDWEB()).append("/penggajian/temp/").append(rs2.getString("kd_dokter")).append(".png'/><br>")
                                    .append("dr. ").append(rs2.getString("nm_dokter"));
                            htmlContent.append("</td>");
                            htmlContent.append("</tr>");
                            htmlContent.append("</table>");
                        }
                        htmlContent.append("</fieldset>"
                                + "<p class='pagebreak'></p>"); // Page break dipindah ke akhir
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi Resep : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Resep : " + e);
        }
    }

    // Method untuk menampilkan telaah farmasi
    private void menampilkanTelaah(String norawat) {
        try {
            if (chkResep.isSelected() == true) {
                try {
                    // Query untuk mendapatkan data telaah farmasi
                    rs2 = koneksi.prepareStatement(
                            "SELECT DISTINCT ro.no_resep, ro.tgl_perawatan, ro.jam, "
                            + "d.nm_dokter, d.kd_dokter, tf.resep_identifikasi_pasien, "
                            + "tf.resep_ket_identifikasi_pasien, tf.resep_tepat_obat, "
                            + "tf.resep_ket_tepat_obat, tf.resep_tepat_dosis, "
                            + "tf.resep_ket_tepat_dosis, tf.resep_tepat_cara_pemberian, "
                            + "tf.resep_ket_tepat_cara_pemberian, tf.resep_tepat_waktu_pemberian, "
                            + "tf.resep_ket_tepat_waktu_pemberian, tf.resep_ada_tidak_duplikasi_obat, "
                            + "tf.resep_ket_ada_tidak_duplikasi_obat, tf.resep_interaksi_obat, "
                            + "tf.resep_ket_interaksi_obat, tf.resep_kontra_indikasi_obat, "
                            + "tf.resep_ket_kontra_indikasi_obat, tf.obat_tepat_pasien, "
                            + "tf.obat_tepat_obat, tf.obat_tepat_dosis, tf.obat_tepat_cara_pemberian, "
                            + "tf.obat_tepat_waktu_pemberian, tf.nip, pg.nama, "
                            + "rp.umurdaftar, rp.sttsumur "
                            + "FROM resep_obat ro "
                            + "INNER JOIN dokter d ON ro.kd_dokter = d.kd_dokter "
                            + "LEFT JOIN telaah_farmasi tf ON ro.no_resep = tf.no_resep "
                            + "LEFT JOIN pegawai pg ON tf.nip = pg.nik "
                            + "LEFT JOIN reg_periksa rp ON ro.no_rawat = rp.no_rawat "
                            + "WHERE ro.no_rawat = '" + norawat + "' "
                            + "ORDER BY ro.tgl_perawatan, ro.jam"
                    ).executeQuery();

                    if (rs2.next()) {
                        htmlContent.append(
                                "<br><br><br>"
                                + "<p class='pagebreak'>"
                                + "<fieldset>");

                        Copsurat();
                        htmlContent.append("<h2><center>TELAAH FARMASI</center></h2>");

                        // Header informasi pasien
                        htmlContent.append("<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr><td valign='top' width='20%'>No.Rekam Medis</td><td valign='top' width='1%' align='center'>:</td><td valign='top' width='79%'>").append(rs.getString("no_rkm_medis")).append("</td></tr>"
                                + "<tr><td valign='top' width='20%'>Nama Pasien</td><td valign='top' width='1%' align='center'>:</td><td valign='top' width='79%'>").append(rs.getString("nm_pasien")).append("</td></tr>"
                                + "<tr><td valign='top' width='20%'>Tgl. Lahir</td><td valign='top' width='1%' align='center'>:</td><td valign='top' width='79%'>").append(rs.getString("tgl_lahir")).append("</td></tr>"
                                + "<tr><td valign='top' width='20%'>No.Rawat</td><td valign='top' width='1%' align='center'>:</td><td valign='top' width='79%'>").append(rs.getString("no_rawat")).append("</td></tr>"
                                + "</table>");

                        rs2.beforeFirst();
                        while (rs2.next()) {
                            htmlContent.append("<br><table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>");

                            // Header resep
                            htmlContent.append("<tr><td colspan='4' style='background-color: #f0f0f0; font-weight: bold;'>")
                                    .append("No Resep: ").append(rs2.getString("no_resep"))
                                    .append(" | Tanggal: ").append(rs2.getString("tgl_perawatan"))
                                    .append(" | Jam: ").append(rs2.getString("jam"))
                                    .append(" | Dokter: ").append(rs2.getString("nm_dokter"))
                                    .append("</td></tr>");

                            // Bagian Telaah Resep
                            htmlContent.append("<tr><td colspan='4' style='background-color: #e8e8e8; font-weight: bold; text-align: center;'>TELAAH RESEP</td></tr>");
                            htmlContent.append("<tr style='font-weight: bold;'><td width='60%'>Parameter</td><td width='10%'>Ya</td><td width='10%'>Tidak</td><td width='20%'>Keterangan</td></tr>");

                            // 1. Tepat Identifikasi Pasien
                            htmlContent.append("<tr><td>1. Tepat Identifikasi Pasien</td>");
                            htmlContent.append("<td align='center'>").append("Ya".equals(rs2.getString("resep_identifikasi_pasien")) ? "" : "").append("</td>");
                            htmlContent.append("<td align='center'>").append("Tidak".equals(rs2.getString("resep_identifikasi_pasien")) ? "" : "").append("</td>");
                            htmlContent.append("<td>").append(rs2.getString("resep_ket_identifikasi_pasien") != null ? rs2.getString("resep_ket_identifikasi_pasien") : "").append("</td></tr>");

                            // 2. Tepat Obat
                            htmlContent.append("<tr><td>2. Tepat Obat</td>");
                            htmlContent.append("<td align='center'>").append("Ya".equals(rs2.getString("resep_tepat_obat")) ? "" : "").append("</td>");
                            htmlContent.append("<td align='center'>").append("Tidak".equals(rs2.getString("resep_tepat_obat")) ? "" : "").append("</td>");
                            htmlContent.append("<td>").append(rs2.getString("resep_ket_tepat_obat") != null ? rs2.getString("resep_ket_tepat_obat") : "").append("</td></tr>");

                            // 3. Tepat Dosis
                            htmlContent.append("<tr><td>3. Tepat Dosis</td>");
                            htmlContent.append("<td align='center'>").append("Ya".equals(rs2.getString("resep_tepat_dosis")) ? "" : "").append("</td>");
                            htmlContent.append("<td align='center'>").append("Tidak".equals(rs2.getString("resep_tepat_dosis")) ? "" : "").append("</td>");
                            htmlContent.append("<td>").append(rs2.getString("resep_ket_tepat_dosis") != null ? rs2.getString("resep_ket_tepat_dosis") : "").append("</td></tr>");

                            // 4. Tepat Cara Pemberian
                            htmlContent.append("<tr><td>4. Tepat Cara Pemberian</td>");
                            htmlContent.append("<td align='center'>").append("Ya".equals(rs2.getString("resep_tepat_cara_pemberian")) ? "" : "").append("</td>");
                            htmlContent.append("<td align='center'>").append("Tidak".equals(rs2.getString("resep_tepat_cara_pemberian")) ? "" : "").append("</td>");
                            htmlContent.append("<td>").append(rs2.getString("resep_ket_tepat_cara_pemberian") != null ? rs2.getString("resep_ket_tepat_cara_pemberian") : "").append("</td></tr>");

                            // 5. Tepat Waktu Pemberian
                            htmlContent.append("<tr><td>5. Tepat Waktu Pemberian</td>");
                            htmlContent.append("<td align='center'>").append("Ya".equals(rs2.getString("resep_tepat_waktu_pemberian")) ? "" : "").append("</td>");
                            htmlContent.append("<td align='center'>").append("Tidak".equals(rs2.getString("resep_tepat_waktu_pemberian")) ? "" : "").append("</td>");
                            htmlContent.append("<td>").append(rs2.getString("resep_ket_tepat_waktu_pemberian") != null ? rs2.getString("resep_ket_tepat_waktu_pemberian") : "").append("</td></tr>");

                            // 6. Ada/Tidak Duplikasi Obat
                            htmlContent.append("<tr><td>6. Ada/Tidak Duplikasi Obat</td>");
                            htmlContent.append("<td align='center'>").append("Ya".equals(rs2.getString("resep_ada_tidak_duplikasi_obat")) ? "" : "").append("</td>");
                            htmlContent.append("<td align='center'>").append("Tidak".equals(rs2.getString("resep_ada_tidak_duplikasi_obat")) ? "" : "").append("</td>");
                            htmlContent.append("<td>").append(rs2.getString("resep_ket_ada_tidak_duplikasi_obat") != null ? rs2.getString("resep_ket_ada_tidak_duplikasi_obat") : "").append("</td></tr>");

                            // 7. Interaksi Obat
                            htmlContent.append("<tr><td>7. Interaksi Obat</td>");
                            htmlContent.append("<td align='center'>").append("Ya".equals(rs2.getString("resep_interaksi_obat")) ? "" : "").append("</td>");
                            htmlContent.append("<td align='center'>").append("Tidak".equals(rs2.getString("resep_interaksi_obat")) ? "" : "").append("</td>");
                            htmlContent.append("<td>").append(rs2.getString("resep_ket_interaksi_obat") != null ? rs2.getString("resep_ket_interaksi_obat") : "").append("</td></tr>");

                            // 8. Kontra Indikasi Obat
                            htmlContent.append("<tr><td>8. Kontra Indikasi Obat</td>");
                            htmlContent.append("<td align='center'>").append("Ya".equals(rs2.getString("resep_kontra_indikasi_obat")) ? "" : "").append("</td>");
                            htmlContent.append("<td align='center'>").append("Tidak".equals(rs2.getString("resep_kontra_indikasi_obat")) ? "" : "").append("</td>");
                            htmlContent.append("<td>").append(rs2.getString("resep_ket_kontra_indikasi_obat") != null ? rs2.getString("resep_ket_kontra_indikasi_obat") : "").append("</td></tr>");

                            // Bagian Telaah Obat Sebelum Diserahkan Ke Pasien
                            htmlContent.append("<tr><td colspan='4' style='background-color: #e8e8e8; font-weight: bold; text-align: center;'>TELAAH OBAT SEBELUM DISERAHKAN KE PASIEN</td></tr>");

                            // 1. Tepat Pasien
                            htmlContent.append("<tr><td>1. Tepat Pasien</td>");
                            htmlContent.append("<td align='center'>").append("Ya".equals(rs2.getString("obat_tepat_pasien")) ? "" : "").append("</td>");
                            htmlContent.append("<td align='center'>").append("Tidak".equals(rs2.getString("obat_tepat_pasien")) ? "" : "").append("</td>");
                            htmlContent.append("<td></td></tr>");

                            // 2. Tepat Obat
                            htmlContent.append("<tr><td>2. Tepat Obat</td>");
                            htmlContent.append("<td align='center'>").append("Ya".equals(rs2.getString("obat_tepat_obat")) ? "" : "").append("</td>");
                            htmlContent.append("<td align='center'>").append("Tidak".equals(rs2.getString("obat_tepat_obat")) ? "" : "").append("</td>");
                            htmlContent.append("<td></td></tr>");

                            // 3. Tepat Dosis
                            htmlContent.append("<tr><td>3. Tepat Dosis</td>");
                            htmlContent.append("<td align='center'>").append("Ya".equals(rs2.getString("obat_tepat_dosis")) ? "" : "").append("</td>");
                            htmlContent.append("<td align='center'>").append("Tidak".equals(rs2.getString("obat_tepat_dosis")) ? "" : "").append("</td>");
                            htmlContent.append("<td></td></tr>");

                            // 4. Tepat Cara Pemberian
                            htmlContent.append("<tr><td>4. Tepat Cara Pemberian</td>");
                            htmlContent.append("<td align='center'>").append("Ya".equals(rs2.getString("obat_tepat_cara_pemberian")) ? "" : "").append("</td>");
                            htmlContent.append("<td align='center'>").append("Tidak".equals(rs2.getString("obat_tepat_cara_pemberian")) ? "" : "").append("</td>");
                            htmlContent.append("<td></td></tr>");

                            // 5. Tepat Waktu Pemberian
                            htmlContent.append("<tr><td>5. Tepat Waktu Pemberian</td>");
                            htmlContent.append("<td align='center'>").append("Ya".equals(rs2.getString("obat_tepat_waktu_pemberian")) ? "" : "").append("</td>");
                            htmlContent.append("<td align='center'>").append("Tidak".equals(rs2.getString("obat_tepat_waktu_pemberian")) ? "" : "").append("</td>");
                            htmlContent.append("<td></td></tr>");

                            // Bagian Double Check Obat High Alert
                            htmlContent.append("<tr><td colspan='4' style='background-color: #e8e8e8; font-weight: bold; text-align: center;'>DOUBLE CHECK OBAT HIGH ALERT</td></tr>");
                            htmlContent.append("<tr><td colspan='2'>Telaah</td><td colspan='2'>Verifikasi</td></tr>");
                            htmlContent.append("<tr><td>Obat</td><td></td><td colspan='2'></td></tr>");
                            htmlContent.append("<tr><td>Dosis</td><td></td><td colspan='2'></td></tr>");
                            htmlContent.append("<tr><td>Screening</td><td></td><td colspan='2'></td></tr>");
                            htmlContent.append("<tr><td>Etiket</td><td></td><td colspan='2'></td></tr>");
                            htmlContent.append("<tr><td>Pasiek</td><td></td><td colspan='2'></td></tr>");

                            // Bagian Telaah Obat dengan header SERAH dan TERIMA
                            htmlContent.append("<tr><td colspan='4' style='background-color: #e8e8e8; font-weight: bold; text-align: center;'>TELAAH OBAT</td></tr>");
                            htmlContent.append("<tr><td width='25%'>Obat</td><td width='25%'></td><td width='25%' style='text-align: center; font-weight: bold;'>SERAH</td><td width='25%' style='text-align: center; font-weight: bold;'>TERIMA</td></tr>");
                            htmlContent.append("<tr><td>Jumlah</td><td></td><td></td><td></td></tr>");
                            htmlContent.append("<tr><td>Jenis</td><td></td><td></td><td></td></tr>");
                            htmlContent.append("<tr><td>Waktu</td><td></td><td></td><td></td></tr>");
                            htmlContent.append("<tr><td>Pasien</td><td></td><td></td><td></td></tr>");
                            htmlContent.append("<tr><td>P.O</td><td></td><td></td><td></td></tr>");

                            // Bagian konfirmasi masalah
                            htmlContent.append("<tr><td colspan='4' style='background-color: #e8e8e8; font-weight: bold; text-align: center;'>KONFIRMASI MASALAH RESEP</td></tr>");
                            htmlContent.append("<tr><td colspan='2'>Tanggal/Jam:<br>Masalah sebelum konfirmasi</td><td colspan='2'>Konfirmasi Via:<br>Sesudah konfirmasi</td></tr>");

                            // Tanda tangan petugas farmasi dan dokter
                            if (rs2.getString("nip") != null && !rs2.getString("nip").isEmpty()) {
                                // Generate QR code untuk farmasis
                                get = new GetMethod("http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/penggajian/generateqrcode.php?kodedokter=" + rs2.getString("nip").replace(" ", "_"));
                                http.executeMethod(get);

                                htmlContent.append("<tr><td colspan='4'><br><table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>");
                                htmlContent.append("<tr><td valign='middle' width='50%'>Petugas Farmasi<br><img width='90' height='90' src='http://")
                                        .append(koneksiDB.HOSTHYBRIDWEB()).append(":").append(koneksiDB.PORTWEB()).append("/")
                                        .append(koneksiDB.HYBRIDWEB()).append("/penggajian/temp/").append(rs2.getString("nip")).append(".png'/><br>")
                                        .append(rs2.getString("nama") != null ? rs2.getString("nama") : "").append("</td>");

                                // Tanda tangan dokter
                                get = new GetMethod("http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/penggajian/generateqrcode.php?kodedokter=" + rs2.getString("kd_dokter").replace(" ", "_"));
                                http.executeMethod(get);

                                htmlContent.append("<td valign='middle' width='50%'>Dokter Penulis Resep<br><img width='90' height='90' src='http://")
                                        .append(koneksiDB.HOSTHYBRIDWEB()).append(":").append(koneksiDB.PORTWEB()).append("/")
                                        .append(koneksiDB.HYBRIDWEB()).append("/penggajian/temp/").append(rs2.getString("kd_dokter")).append(".png'/><br>")
                                        .append(rs2.getString("nm_dokter")).append("</td></tr></table></td></tr>");
                            }

                            htmlContent.append("</table><br>");
                        }
                        htmlContent.append("</fieldset>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi Telaah Farmasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Telaah Farmasi : " + e);
        }
    }

    private void tampilkanResepDanTelaah(String norawat) {
        // Panggil method untuk menampilkan resep
        menampilkanResep(norawat);

        // Panggil method untuk menampilkan telaah farmasi
        menampilkanTelaah(norawat);
    }

    private void menampilkanTransferAntarRuang(String norawat) {
        try {
            if (chkTransferAntarRuang.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select transfer_pasien_antar_ruang.tanggal_masuk,transfer_pasien_antar_ruang.tanggal_pindah,"
                            + "transfer_pasien_antar_ruang.asal_ruang,transfer_pasien_antar_ruang.ruang_selanjutnya,"
                            + "transfer_pasien_antar_ruang.diagnosa_utama,transfer_pasien_antar_ruang.diagnosa_sekunder,"
                            + "transfer_pasien_antar_ruang.indikasi_pindah_ruang,transfer_pasien_antar_ruang.keterangan_indikasi_pindah_ruang,"
                            + "transfer_pasien_antar_ruang.prosedur_yang_sudah_dilakukan,transfer_pasien_antar_ruang.obat_yang_telah_diberikan,"
                            + "transfer_pasien_antar_ruang.metode_pemindahan_pasien,transfer_pasien_antar_ruang.peralatan_yang_menyertai,"
                            + "transfer_pasien_antar_ruang.keterangan_peralatan_yang_menyertai,transfer_pasien_antar_ruang.pemeriksaan_penunjang_yang_dilakukan,"
                            + "transfer_pasien_antar_ruang.pasien_keluarga_menyetujui,transfer_pasien_antar_ruang.nama_menyetujui,"
                            + "transfer_pasien_antar_ruang.hubungan_menyetujui,transfer_pasien_antar_ruang.keluhan_utama_sebelum_transfer,"
                            + "transfer_pasien_antar_ruang.keadaan_umum_sebelum_transfer,transfer_pasien_antar_ruang.td_sebelum_transfer,"
                            + "transfer_pasien_antar_ruang.nadi_sebelum_transfer,transfer_pasien_antar_ruang.rr_sebelum_transfer,"
                            + "transfer_pasien_antar_ruang.suhu_sebelum_transfer,transfer_pasien_antar_ruang.keluhan_utama_sesudah_transfer,"
                            + "transfer_pasien_antar_ruang.keadaan_umum_sesudah_transfer,transfer_pasien_antar_ruang.td_sesudah_transfer,"
                            + "transfer_pasien_antar_ruang.nadi_sesudah_transfer,transfer_pasien_antar_ruang.rr_sesudah_transfer,"
                            + "transfer_pasien_antar_ruang.suhu_sesudah_transfer,transfer_pasien_antar_ruang.nip_menyerahkan,"
                            + "petugasmenyerahkan.nama as petugasmenyerahkan,transfer_pasien_antar_ruang.nip_menerima,"
                            + "petugasmenerima.nama as petugasmenerima "
                            + "from transfer_pasien_antar_ruang inner join petugas as petugasmenyerahkan on transfer_pasien_antar_ruang.nip_menyerahkan=petugasmenyerahkan.nip "
                            + "inner join petugas as petugasmenerima on transfer_pasien_antar_ruang.nip_menerima=petugasmenerima.nip where "
                            + "transfer_pasien_antar_ruang.no_rawat='" + norawat + "' order by transfer_pasien_antar_ruang.tanggal_pindah"
                    ).executeQuery();

                    if (rs2.next()) {
                        htmlContent.append(
                                "<br><br><br>"
                                + "<p class='pagebreak'>"
                                + "<fieldset>"
                        );

                        // Header menggunakan Copsurat()
                        Copsurat();

                        // Judul laporan
                        htmlContent.append("<h3 style='text-align:center; margin:10px 0;'>FORMULIR TRANSFER PASIEN ANTAR RUANG</h3>");

                        // Informasi pasien dalam format tabel
                        htmlContent.append(
                                "<table width='100%' border='1' cellpadding='4' cellspacing='0' style='border-collapse:collapse;'>"
                                + "<tr>"
                                + "<td width='15%'>No. RM</td>"
                                + "<td width='2%'>:</td>"
                                + "<td width='20%'>").append(rs.getString("no_rkm_medis")).append("</td>"
                                + "<td width='15%'>Jenis Kelamin</td>"
                                + "<td width='2%'>:</td>"
                                + "<td width='15%'>").append(rs.getString("jk")).append("</td>"
                                + "<td width='15%'>Tanggal Transfer</td>"
                                + "<td width='2%'>:</td>"
                                + "<td width='14%'>").append(rs2.getString("tanggal_pindah")).append("</td>"
                                + "</tr>"
                                + "<tr>"
                                + "<td>Nama Pasien</td>"
                                + "<td>:</td>"
                                + "<td>").append(rs.getString("nm_pasien")).append("</td>"
                                + "<td>Tanggal Lahir</td>"
                                + "<td>:</td>"
                                + "<td>").append(rs.getString("tgl_lahir")).append("</td>"
                                + "<td>Ruang Asal</td>"
                                + "<td>:</td>"
                                + "<td>").append(validasi(rs2.getString("asal_ruang"))).append("</td>"
                                + "</tr>"
                                + "</table>"
                        );

                        rs2.beforeFirst();
                        int transferCount = 1;

                        while (rs2.next()) {
                            // I. DATA TRANSFER
                            htmlContent.append(
                                    "<table width='100%' border='1' cellpadding='4' cellspacing='0' style='border-collapse:collapse; margin-top:10px;'>"
                                    + "<tr style='background-color:#f0f0f0;'>"
                                    + "<td colspan='3'><strong>I. DATA TRANSFER #" + transferCount + "</strong></td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td width='33%'>Tanggal Masuk: " + validasi(rs2.getString("tanggal_masuk")) + "</td>"
                                    + "<td width='33%'>Tanggal Pindah: " + validasi(rs2.getString("tanggal_pindah")) + "</td>"
                                    + "<td width='34%'>Metode Pemindahan: " + validasi(rs2.getString("metode_pemindahan_pasien")) + "</td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td>Ruang Asal: " + validasi(rs2.getString("asal_ruang")) + "</td>"
                                    + "<td>Ruang Tujuan: " + validasi(rs2.getString("ruang_selanjutnya")) + "</td>"
                                    + "<td>Indikasi Pindah: " + validasi(rs2.getString("indikasi_pindah_ruang")) + "</td>"
                                    + "</tr>"
                                    + "</table>"
                            );

                            // II. INFORMASI PETUGAS
                            htmlContent.append(
                                    "<table width='100%' border='1' cellpadding='4' cellspacing='0' style='border-collapse:collapse; margin-top:10px;'>"
                                    + "<tr style='background-color:#f0f0f0;'>"
                                    + "<td colspan='2'><strong>II. INFORMASI PETUGAS</strong></td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td width='50%'>Petugas Yang Menyerahkan:<br><strong>"
                                    + validasi(rs2.getString("petugasmenyerahkan")) + "</strong><br>NIP: "
                                    + validasi(rs2.getString("nip_menyerahkan")) + "</td>"
                                    + "<td width='50%'>Petugas Yang Menerima:<br><strong>"
                                    + validasi(rs2.getString("petugasmenerima")) + "</strong><br>NIP: "
                                    + validasi(rs2.getString("nip_menerima")) + "</td>"
                                    + "</tr>"
                                    + "</table>"
                            );

                            // III. DIAGNOSA & PROSEDUR
                            htmlContent.append(
                                    "<table width='100%' border='1' cellpadding='4' cellspacing='0' style='border-collapse:collapse; margin-top:10px;'>"
                                    + "<tr style='background-color:#f0f0f0;'>"
                                    + "<td colspan='2'><strong>III. DIAGNOSA & PROSEDUR</strong></td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td width='50%'>Diagnosa Utama:</td>"
                                    + "<td width='50%'>Diagnosa Sekunder:</td>"
                                    + "</tr>"
                                    + "<tr style='height:40px; vertical-align:top;'>"
                                    + "<td>" + validasi(rs2.getString("diagnosa_utama")).replaceAll("(\r\n|\r|\n|\n\r)", "<br>") + "</td>"
                                    + "<td>" + validasi(rs2.getString("diagnosa_sekunder")).replaceAll("(\r\n|\r|\n|\n\r)", "<br>") + "</td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td colspan='2'>Prosedur Yang Sudah Dilakukan:</td>"
                                    + "</tr>"
                                    + "<tr style='height:40px; vertical-align:top;'>"
                                    + "<td colspan='2'>" + validasi(rs2.getString("prosedur_yang_sudah_dilakukan")).replaceAll("(\r\n|\r|\n|\n\r)", "<br>") + "</td>"
                                    + "</tr>"
                                    + "</table>"
                            );

                            // IV. OBAT & PEMERIKSAAN PENUNJANG
                            htmlContent.append(
                                    "<table width='100%' border='1' cellpadding='4' cellspacing='0' style='border-collapse:collapse; margin-top:10px;'>"
                                    + "<tr style='background-color:#f0f0f0;'>"
                                    + "<td><strong>IV. OBAT & PEMERIKSAAN PENUNJANG</strong></td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td>Obat Yang Telah Diberikan:</td>"
                                    + "</tr>"
                                    + "<tr style='height:40px; vertical-align:top;'>"
                                    + "<td>" + validasi(rs2.getString("obat_yang_telah_diberikan")).replaceAll("(\r\n|\r|\n|\n\r)", "<br>") + "</td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td>Pemeriksaan Penunjang Yang Sudah Dilakukan:</td>"
                                    + "</tr>"
                                    + "<tr style='height:40px; vertical-align:top;'>"
                                    + "<td>" + validasi(rs2.getString("pemeriksaan_penunjang_yang_dilakukan")).replaceAll("(\r\n|\r|\n|\n\r)", "<br>") + "</td>"
                                    + "</tr>"
                                    + "</table>"
                            );

                            // V. PERSETUJUAN & PERALATAN
                            htmlContent.append(
                                    "<table width='100%' border='1' cellpadding='4' cellspacing='0' style='border-collapse:collapse; margin-top:10px;'>"
                                    + "<tr style='background-color:#f0f0f0;'>"
                                    + "<td colspan='2'><strong>V. PERSETUJUAN & PERALATAN</strong></td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td width='50%'>Peralatan Yang Menyertai:</td>"
                                    + "<td width='50%'>Status Persetujuan:</td>"
                                    + "</tr>"
                                    + "<tr style='height:30px; vertical-align:top;'>"
                                    + "<td>" + validasi(rs2.getString("peralatan_yang_menyertai"))
                                    + (validasi(rs2.getString("keterangan_peralatan_yang_menyertai")).equals("-") ? ""
                                    : "<br><small>(" + rs2.getString("keterangan_peralatan_yang_menyertai") + ")</small>") + "</td>"
                                    + "<td>" + validasi(rs2.getString("pasien_keluarga_menyetujui")) + "</td>"
                                    + "</tr>"
                            );

                            if (!validasi(rs2.getString("nama_menyetujui")).equals("-")) {
                                htmlContent.append(
                                        "<tr>"
                                        + "<td colspan='2'>Keluarga/Penanggung Jawab Yang Menyetujui: <strong>"
                                        + rs2.getString("nama_menyetujui") + "</strong>, Hubungan: "
                                        + validasi(rs2.getString("hubungan_menyetujui")) + "</td>"
                                        + "</tr>"
                                );
                            }
                            htmlContent.append("</table>");

                            // VI. KEADAAN PASIEN SEBELUM TRANSFER
                            htmlContent.append(
                                    "<table width='100%' border='1' cellpadding='4' cellspacing='0' style='border-collapse:collapse; margin-top:10px;'>"
                                    + "<tr style='background-color:#f0f0f0;'>"
                                    + "<td colspan='4'><strong>VI. KEADAAN PASIEN SEBELUM TRANSFER</strong></td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td colspan='4'>Keluhan Utama: " + validasi(rs2.getString("keluhan_utama_sebelum_transfer")).replaceAll("(\r\n|\r|\n|\n\r)", "<br>") + "</td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td width='40%'>Keadaan Umum: " + validasi(rs2.getString("keadaan_umum_sebelum_transfer")) + "</td>"
                                    + "<td width='20%'>TD: " + validasi(rs2.getString("td_sebelum_transfer")) + " mmHg</td>"
                                    + "<td width='20%'>Nadi: " + validasi(rs2.getString("nadi_sebelum_transfer")) + " x/menit</td>"
                                    + "<td width='20%'>RR: " + validasi(rs2.getString("rr_sebelum_transfer")) + " x/menit</td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td colspan='4'>Suhu: " + validasi(rs2.getString("suhu_sebelum_transfer")) + " C</td>"
                                    + "</tr>"
                                    + "</table>"
                            );

                            // VII. KEADAAN PASIEN SETELAH TRANSFER
                            htmlContent.append(
                                    "<table width='100%' border='1' cellpadding='4' cellspacing='0' style='border-collapse:collapse; margin-top:10px;'>"
                                    + "<tr style='background-color:#f0f0f0;'>"
                                    + "<td colspan='4'><strong>VII. KEADAAN PASIEN SETELAH TRANSFER</strong></td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td colspan='4'>Keluhan Utama: " + validasi(rs2.getString("keluhan_utama_sesudah_transfer")).replaceAll("(\r\n|\r|\n|\n\r)", "<br>") + "</td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td width='40%'>Keadaan Umum: " + validasi(rs2.getString("keadaan_umum_sesudah_transfer")) + "</td>"
                                    + "<td width='20%'>TD: " + validasi(rs2.getString("td_sesudah_transfer")) + " mmHg</td>"
                                    + "<td width='20%'>Nadi: " + validasi(rs2.getString("nadi_sesudah_transfer")) + " x/menit</td>"
                                    + "<td width='20%'>RR: " + validasi(rs2.getString("rr_sesudah_transfer")) + " x/menit</td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td colspan='4'>Suhu: " + validasi(rs2.getString("suhu_sesudah_transfer")) + " C</td>"
                                    + "</tr>"
                                    + "</table>"
                            );

                            // Footer dengan tanda tangan petugas
                            // QR Code untuk petugas yang menyerahkan
                            get = new GetMethod("http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/"
                                    + koneksiDB.HYBRIDWEB() + "/penggajian/generateqrcode.php?kodedokter="
                                    + rs2.getString("nip_menyerahkan").replace(" ", "_"));
                            http.executeMethod(get);

                            // QR Code untuk petugas yang menerima
                            get = new GetMethod("http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/"
                                    + koneksiDB.HYBRIDWEB() + "/penggajian/generateqrcode.php?kodedokter="
                                    + rs2.getString("nip_menerima").replace(" ", "_"));
                            http.executeMethod(get);

                            htmlContent.append(
                                    "<table width='100%' border='1' cellpadding='4' cellspacing='0' style='border-collapse:collapse; margin-top:20px;'>"
                                    + "<tr>"
                                    + "<td width='33%' style='height:120px; vertical-align:bottom; text-align:center;'>"
                                    + "<strong>Tanggal dan Jam Transfer</strong><br><br>"
                                    + validasi(rs2.getString("tanggal_pindah"))
                                    + "</td>"
                                    + "<td width='33%' style='height:120px; vertical-align:bottom; text-align:center;'>"
                                    + "<strong>Petugas Yang Menyerahkan</strong><br>"
                                    + "<img width='100' height='100' src='http://").append(koneksiDB.HOSTHYBRIDWEB()).append(":").append(koneksiDB.PORTWEB()).append("/").append(koneksiDB.HYBRIDWEB()).append("/penggajian/temp/").append(rs2.getString("nip_menyerahkan")).append(".png'/><br>"
                                    + validasi(rs2.getString("petugasmenyerahkan"))
                                    + "</td>"
                                    + "<td width='34%' style='height:120px; vertical-align:bottom; text-align:center;'>"
                                    + "<strong>Petugas Yang Menerima</strong><br>"
                                    + "<img width='100' height='100' src='http://").append(koneksiDB.HOSTHYBRIDWEB()).append(":").append(koneksiDB.PORTWEB()).append("/").append(koneksiDB.HYBRIDWEB()).append("/penggajian/temp/").append(rs2.getString("nip_menerima")).append(".png'/><br>"
                                    + validasi(rs2.getString("petugasmenerima"))
                                    + "</td>"
                                    + "</tr>"
                                    + "</table>"
                            );

                            transferCount++;
                        }

                        htmlContent.append("</fieldset>");
                    }

                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Transfer Antar Ruang : " + e);
        }
    }

// Helper method untuk validasi data null
    private String validasi(String str) {
        if (str == null || str.trim().isEmpty()) {
            return "-";
        }
        return str.trim();
    }

    private void menampilkanTransferInternalRs(String norawat) {
        try {
            if (chkTransferAntarRuang.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select transfer_internal_rs.tanggal_masuk,transfer_internal_rs.tanggal_pindah,"
                            + "transfer_internal_rs.asal_ruang,transfer_internal_rs.ruang_selanjutnya,"
                            + "transfer_internal_rs.dpjp,transfer_internal_rs.konsulen,"
                            + "transfer_internal_rs.diagnosa_masuk,transfer_internal_rs.diagnosa_sekarang,"
                            + "transfer_internal_rs.alergi,transfer_internal_rs.derajat,transfer_internal_rs.pendamping,"
                            + "transfer_internal_rs.keadaan_umum_sebelum_transfer,transfer_internal_rs.keadaan_umum_sesudah_transfer,"
                            + "transfer_internal_rs.kesadaran_sebelum_transfer,transfer_internal_rs.kesadaran_sesudah_transfer,"
                            + "transfer_internal_rs.td_sebelum_transfer,transfer_internal_rs.td_sesudah_transfer,"
                            + "transfer_internal_rs.nadi_sebelum_transfer,transfer_internal_rs.nadi_sesudah_transfer,"
                            + "transfer_internal_rs.suhu_sebelum_transfer,transfer_internal_rs.suhu_sesudah_transfer,"
                            + "transfer_internal_rs.pernapasan_sebelum_transfer,transfer_internal_rs.pernapasan_sesudah_transfer,"
                            + "transfer_internal_rs.saturasi_sebelum_transfer,transfer_internal_rs.saturasi_sesudah_transfer,"
                            + "transfer_internal_rs.catatan_sebelum_transfer,transfer_internal_rs.catatan_sesudah_transfer,"
                            + "transfer_internal_rs.diet,transfer_internal_rs.keseimbangan_cairan,transfer_internal_rs.mobilisasi,"
                            + "transfer_internal_rs.perawatan_luka,transfer_internal_rs.iv,transfer_internal_rs.oksigen,"
                            + "transfer_internal_rs.kateter,transfer_internal_rs.syring,transfer_internal_rs.ngt,"
                            + "transfer_internal_rs.dekubitus,transfer_internal_rs.infus,transfer_internal_rs.cvp,"
                            + "transfer_internal_rs.drain,transfer_internal_rs.lain,transfer_internal_rs.lab,"
                            + "transfer_internal_rs.radiologi,transfer_internal_rs.ctscan,transfer_internal_rs.obat_infus,"
                            + "transfer_internal_rs.injeksi,transfer_internal_rs.oral,transfer_internal_rs.rekammedis,"
                            + "transfer_internal_rs.nip_menyerahkan,transfer_internal_rs.nip_menerima,"
                            + "IFNULL(petugasmenyerahkan.nama,'-') as petugasmenyerahkan,"
                            + "IFNULL(petugasmenerima.nama,'-') as petugasmenerima,"
                            + "IFNULL(dokter_dpjp.nm_dokter,'-') as nm_dokter_dpjp,"
                            + "IFNULL(dokter_konsulen.nm_dokter,'-') as nm_dokter_konsulen "
                            + "from transfer_internal_rs "
                            + "left join petugas as petugasmenyerahkan on transfer_internal_rs.nip_menyerahkan=petugasmenyerahkan.nip "
                            + "left join petugas as petugasmenerima on transfer_internal_rs.nip_menerima=petugasmenerima.nip "
                            + "left join dokter as dokter_dpjp on transfer_internal_rs.dpjp=dokter_dpjp.kd_dokter "
                            + "left join dokter as dokter_konsulen on transfer_internal_rs.konsulen=dokter_konsulen.kd_dokter "
                            + "where transfer_internal_rs.no_rawat='" + norawat + "' order by transfer_internal_rs.tanggal_pindah"
                    ).executeQuery();

                    if (rs2.next()) {
                        htmlContent.append(
                                "<br><br><br>"
                                + "<p class='pagebreak'>"
                                + "<fieldset>"
                        );

                        // Header menggunakan Copsurat()
                        Copsurat();

                        // Judul laporan
                        htmlContent.append("<h3 style='text-align:center; margin:10px 0;'>FORMULIR TRANSFER INTERNAL RUMAH SAKIT</h3>");

                        // Informasi pasien dalam format tabel
                        htmlContent.append(
                                "<table width='100%' border='1' cellpadding='4' cellspacing='0' style='border-collapse:collapse;'>"
                                + "<tr>"
                                + "<td width='15%'>No. RM</td>"
                                + "<td width='2%'>:</td>"
                                + "<td width='20%'>").append(rs.getString("no_rkm_medis")).append("</td>"
                                + "<td width='15%'>Jenis Kelamin</td>"
                                + "<td width='2%'>:</td>"
                                + "<td width='15%'>").append(rs.getString("jk")).append("</td>"
                                + "<td width='15%'>Tanggal Transfer</td>"
                                + "<td width='2%'>:</td>"
                                + "<td width='14%'>").append(rs2.getString("tanggal_pindah")).append("</td>"
                                + "</tr>"
                                + "<tr>"
                                + "<td>Nama Pasien</td>"
                                + "<td>:</td>"
                                + "<td>").append(rs.getString("nm_pasien")).append("</td>"
                                + "<td>Tanggal Lahir</td>"
                                + "<td>:</td>"
                                + "<td>").append(rs.getString("tgl_lahir")).append("</td>"
                                + "<td>Ruang Asal</td>"
                                + "<td>:</td>"
                                + "<td>").append(validasi(rs2.getString("asal_ruang"))).append("</td>"
                                + "</tr>"
                                + "</table>"
                        );

                        rs2.beforeFirst();
                        int transferCount = 1;

                        while (rs2.next()) {
                            // I. DATA TRANSFER
                            htmlContent.append(
                                    "<table width='100%' border='1' cellpadding='4' cellspacing='0' style='border-collapse:collapse; margin-top:10px;'>"
                                    + "<tr style='background-color:#f0f0f0;'>"
                                    + "<td colspan='3'><strong>I. DATA TRANSFER INTERNAL #" + transferCount + "</strong></td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td width='33%'>Tanggal Masuk: " + validasi(rs2.getString("tanggal_masuk")) + "</td>"
                                    + "<td width='33%'>Tanggal Pindah: " + validasi(rs2.getString("tanggal_pindah")) + "</td>"
                                    + "<td width='34%'>Derajat: " + validasi(rs2.getString("derajat")) + "</td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td>Ruang Asal: " + validasi(rs2.getString("asal_ruang")) + "</td>"
                                    + "<td>Ruang Tujuan: " + validasi(rs2.getString("ruang_selanjutnya")) + "</td>"
                                    + "<td>Pendamping: " + validasi(rs2.getString("pendamping")) + "</td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td colspan='3'>Rekam Medis: " + validasi(rs2.getString("rekammedis")) + "</td>"
                                    + "</tr>"
                                    + "</table>"
                            );

                            // II. INFORMASI DOKTER & PETUGAS
                            htmlContent.append(
                                    "<table width='100%' border='1' cellpadding='4' cellspacing='0' style='border-collapse:collapse; margin-top:10px;'>"
                                    + "<tr style='background-color:#f0f0f0;'>"
                                    + "<td colspan='4'><strong>II. INFORMASI DOKTER & PETUGAS</strong></td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td width='25%'>DPJP:<br><strong>"
                                    + validasi(rs2.getString("nm_dokter_dpjp")) + "</strong><br>Kode: "
                                    + validasi(rs2.getString("dpjp")) + "</td>"
                                    + "<td width='25%'>Konsulen:<br><strong>"
                                    + validasi(rs2.getString("nm_dokter_konsulen")) + "</strong><br>Kode: "
                                    + validasi(rs2.getString("konsulen")) + "</td>"
                                    + "<td width='25%'>Petugas Menyerahkan:<br><strong>"
                                    + validasi(rs2.getString("petugasmenyerahkan")) + "</strong><br>NIP: "
                                    + validasi(rs2.getString("nip_menyerahkan")) + "</td>"
                                    + "<td width='25%'>Petugas Menerima:<br><strong>"
                                    + validasi(rs2.getString("petugasmenerima")) + "</strong><br>NIP: "
                                    + validasi(rs2.getString("nip_menerima")) + "</td>"
                                    + "</tr>"
                                    + "</table>"
                            );

                            // III. DIAGNOSA & ALERGI
                            htmlContent.append(
                                    "<table width='100%' border='1' cellpadding='4' cellspacing='0' style='border-collapse:collapse; margin-top:10px;'>"
                                    + "<tr style='background-color:#f0f0f0;'>"
                                    + "<td colspan='2'><strong>III. DIAGNOSA & ALERGI</strong></td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td width='50%'>Diagnosa Masuk:</td>"
                                    + "<td width='50%'>Diagnosa Sekarang:</td>"
                                    + "</tr>"
                                    + "<tr style='height:40px; vertical-align:top;'>"
                                    + "<td>" + validasi(rs2.getString("diagnosa_masuk")).replaceAll("(\r\n|\r|\n|\n\r)", "<br>") + "</td>"
                                    + "<td>" + validasi(rs2.getString("diagnosa_sekarang")).replaceAll("(\r\n|\r|\n|\n\r)", "<br>") + "</td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td colspan='2'>Riwayat Alergi:</td>"
                                    + "</tr>"
                                    + "<tr style='height:30px; vertical-align:top;'>"
                                    + "<td colspan='2'>" + validasi(rs2.getString("alergi")).replaceAll("(\r\n|\r|\n|\n\r)", "<br>") + "</td>"
                                    + "</tr>"
                                    + "</table>"
                            );

                            // IV. KEADAAN PASIEN SEBELUM TRANSFER
                            htmlContent.append(
                                    "<table width='100%' border='1' cellpadding='4' cellspacing='0' style='border-collapse:collapse; margin-top:10px;'>"
                                    + "<tr style='background-color:#f0f0f0;'>"
                                    + "<td colspan='6'><strong>IV. KEADAAN PASIEN SEBELUM TRANSFER</strong></td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td width='20%'>Keadaan Umum: " + validasi(rs2.getString("keadaan_umum_sebelum_transfer")) + "</td>"
                                    + "<td width='20%'>Kesadaran: " + validasi(rs2.getString("kesadaran_sebelum_transfer")) + "</td>"
                                    + "<td width='15%'>TD: " + validasi(rs2.getString("td_sebelum_transfer")) + " mmHg</td>"
                                    + "<td width='15%'>Nadi: " + validasi(rs2.getString("nadi_sebelum_transfer")) + " x/mnt</td>"
                                    + "<td width='15%'>Suhu: " + validasi(rs2.getString("suhu_sebelum_transfer")) + " C</td>"
                                    + "<td width='15%'>RR: " + validasi(rs2.getString("pernapasan_sebelum_transfer")) + " x/mnt</td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td colspan='3'>Saturasi O2: " + validasi(rs2.getString("saturasi_sebelum_transfer")) + " %</td>"
                                    + "<td colspan='3'>Catatan: " + validasi(rs2.getString("catatan_sebelum_transfer")) + "</td>"
                                    + "</tr>"
                                    + "</table>"
                            );

                            // V. KEADAAN PASIEN SETELAH TRANSFER
                            htmlContent.append(
                                    "<table width='100%' border='1' cellpadding='4' cellspacing='0' style='border-collapse:collapse; margin-top:10px;'>"
                                    + "<tr style='background-color:#f0f0f0;'>"
                                    + "<td colspan='6'><strong>V. KEADAAN PASIEN SETELAH TRANSFER</strong></td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td width='20%'>Keadaan Umum: " + validasi(rs2.getString("keadaan_umum_sesudah_transfer")) + "</td>"
                                    + "<td width='20%'>Kesadaran: " + validasi(rs2.getString("kesadaran_sesudah_transfer")) + "</td>"
                                    + "<td width='15%'>TD: " + validasi(rs2.getString("td_sesudah_transfer")) + " mmHg</td>"
                                    + "<td width='15%'>Nadi: " + validasi(rs2.getString("nadi_sesudah_transfer")) + " x/mnt</td>"
                                    + "<td width='15%'>Suhu: " + validasi(rs2.getString("suhu_sesudah_transfer")) + " C</td>"
                                    + "<td width='15%'>RR: " + validasi(rs2.getString("pernapasan_sesudah_transfer")) + " x/mnt</td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td colspan='3'>Saturasi O2: " + validasi(rs2.getString("saturasi_sesudah_transfer")) + " %</td>"
                                    + "<td colspan='3'>Catatan: " + validasi(rs2.getString("catatan_sesudah_transfer")) + "</td>"
                                    + "</tr>"
                                    + "</table>"
                            );

                            // VI. TINDAKAN PERAWATAN
                            htmlContent.append(
                                    "<table width='100%' border='1' cellpadding='4' cellspacing='0' style='border-collapse:collapse; margin-top:10px;'>"
                                    + "<tr style='background-color:#f0f0f0;'>"
                                    + "<td colspan='3'><strong>VI. TINDAKAN PERAWATAN</strong></td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td width='33%'>Diet: " + validasi(rs2.getString("diet")) + "</td>"
                                    + "<td width='33%'>Keseimbangan Cairan: " + validasi(rs2.getString("keseimbangan_cairan")) + "</td>"
                                    + "<td width='34%'>Mobilisasi: " + validasi(rs2.getString("mobilisasi")) + "</td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td>Perawatan Luka: " + validasi(rs2.getString("perawatan_luka")) + "</td>"
                                    + "<td>IV Line: " + validasi(rs2.getString("iv")) + "</td>"
                                    + "<td>Oksigen: " + validasi(rs2.getString("oksigen")) + "</td>"
                                    + "</tr>"
                                    + "</table>"
                            );

                            // VII. ALAT & MONITORING
                            htmlContent.append(
                                    "<table width='100%' border='1' cellpadding='4' cellspacing='0' style='border-collapse:collapse; margin-top:10px;'>"
                                    + "<tr style='background-color:#f0f0f0;'>"
                                    + "<td colspan='4'><strong>VII. ALAT & MONITORING</strong></td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td width='25%'>Kateter: " + validasi(rs2.getString("kateter")) + "</td>"
                                    + "<td width='25%'>Syringe Pump: " + validasi(rs2.getString("syring")) + "</td>"
                                    + "<td width='25%'>NGT: " + validasi(rs2.getString("ngt")) + "</td>"
                                    + "<td width='25%'>Dekubitus: " + validasi(rs2.getString("dekubitus")) + "</td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td>Infus: " + validasi(rs2.getString("infus")) + "</td>"
                                    + "<td>CVP: " + validasi(rs2.getString("cvp")) + "</td>"
                                    + "<td>Drain: " + validasi(rs2.getString("drain")) + "</td>"
                                    + "<td>Lain-lain: " + validasi(rs2.getString("lain")) + "</td>"
                                    + "</tr>"
                                    + "</table>"
                            );

                            // VIII. PEMERIKSAAN PENUNJANG
                            htmlContent.append(
                                    "<table width='100%' border='1' cellpadding='4' cellspacing='0' style='border-collapse:collapse; margin-top:10px;'>"
                                    + "<tr style='background-color:#f0f0f0;'>"
                                    + "<td colspan='3'><strong>VIII. PEMERIKSAAN PENUNJANG</strong></td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td width='33%'>Laboratorium:</td>"
                                    + "<td width='33%'>Radiologi:</td>"
                                    + "<td width='34%'>CT Scan:</td>"
                                    + "</tr>"
                                    + "<tr style='height:60px; vertical-align:top;'>"
                                    + "<td>" + validasi(rs2.getString("lab")).replaceAll("(\r\n|\r|\n|\n\r)", "<br>") + "</td>"
                                    + "<td>" + validasi(rs2.getString("radiologi")).replaceAll("(\r\n|\r|\n|\n\r)", "<br>") + "</td>"
                                    + "<td>" + validasi(rs2.getString("ctscan")).replaceAll("(\r\n|\r|\n|\n\r)", "<br>") + "</td>"
                                    + "</tr>"
                                    + "</table>"
                            );

                            // IX. TERAPI OBAT
                            htmlContent.append(
                                    "<table width='100%' border='1' cellpadding='4' cellspacing='0' style='border-collapse:collapse; margin-top:10px;'>"
                                    + "<tr style='background-color:#f0f0f0;'>"
                                    + "<td colspan='3'><strong>IX. TERAPI OBAT</strong></td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td width='33%'>Obat Infus:</td>"
                                    + "<td width='33%'>Injeksi:</td>"
                                    + "<td width='34%'>Oral:</td>"
                                    + "</tr>"
                                    + "<tr style='height:60px; vertical-align:top;'>"
                                    + "<td>" + validasi(rs2.getString("obat_infus")).replaceAll("(\r\n|\r|\n|\n\r)", "<br>") + "</td>"
                                    + "<td>" + validasi(rs2.getString("injeksi")).replaceAll("(\r\n|\r|\n|\n\r)", "<br>") + "</td>"
                                    + "<td>" + validasi(rs2.getString("oral")).replaceAll("(\r\n|\r|\n|\n\r)", "<br>") + "</td>"
                                    + "</tr>"
                                    + "</table>"
                            );

                            // Footer dengan tanda tangan petugas dan dokter
                            // QR Code untuk petugas yang menyerahkan
                            get = new GetMethod("http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/"
                                    + koneksiDB.HYBRIDWEB() + "/penggajian/generateqrcodepetugas.php?kodepetugas="
                                    + rs2.getString("nip_menyerahkan").replace(" ", "_").replace("'", "_").replace("\"", "_").replace("&", "_").replace("?", "_").replace("#", "_"));
                            http.executeMethod(get);

                            // QR Code untuk petugas yang menerima
                            get = new GetMethod("http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/"
                                    + koneksiDB.HYBRIDWEB() + "/penggajian/generateqrcodepetugas.php?kodepetugas="
                                    + rs2.getString("nip_menerima").replace(" ", "_").replace("'", "_").replace("\"", "_").replace("&", "_").replace("?", "_").replace("#", "_"));
                            http.executeMethod(get);

                            // QR Code untuk dokter DPJP
                            get = new GetMethod("http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/"
                                    + koneksiDB.HYBRIDWEB() + "/penggajian/generateqrcode.php?kodedokter="
                                    + rs2.getString("dpjp").replace(" ", "_"));
                            http.executeMethod(get);

                            htmlContent.append(
                                    "<tr>"
                                    + "<td width='25%' style='height:120px; vertical-align:bottom; text-align:center;'>"
                                    + "<strong>Tanggal dan Jam Transfer</strong><br><br>"
                                    + validasi(rs2.getString("tanggal_pindah"))
                                    + "</td>"
                                    + "<td width='25%' style='height:120px; vertical-align:bottom; text-align:center;'>"
                                    + "<strong>Dokter DPJP</strong><br>"
                                    + "<img width='80' height='80' src='http://").append(koneksiDB.HOSTHYBRIDWEB()).append(":").append(koneksiDB.PORTWEB()).append("/").append(koneksiDB.HYBRIDWEB()).append("/penggajian/temp/").append(validasi(rs2.getString("dpjp"))).append(".png'/><br>"
                                    + validasi(rs2.getString("nm_dokter_dpjp"))
                                    + "</td>"
                                    + "<td width='25%' style='height:120px; vertical-align:bottom; text-align:center;'>"
                                    + "<strong>Petugas Menyerahkan</strong><br>"
                                    + "<img width='80' height='80' src='http://").append(koneksiDB.HOSTHYBRIDWEB()).append(":").append(koneksiDB.PORTWEB()).append("/").append(koneksiDB.HYBRIDWEB()).append("/penggajian/temp/").append(validasi(rs2.getString("nip_menyerahkan"))).append(".png'/><br>"
                                    + validasi(rs2.getString("petugasmenyerahkan"))
                                    + "</td>"
                                    + "<td width='25%' style='height:120px; vertical-align:bottom; text-align:center;'>"
                                    + "<strong>Petugas Menerima</strong><br>"
                                    + "<img width='80' height='80' src='http://").append(koneksiDB.HOSTHYBRIDWEB()).append(":").append(koneksiDB.PORTWEB()).append("/").append(koneksiDB.HYBRIDWEB()).append("/penggajian/temp/").append(validasi(rs2.getString("nip_menerima"))).append(".png'/><br>"
                                    + validasi(rs2.getString("petugasmenerima"))
                                    + "</td>"
                                    + "</tr>"
                                    + "</table>"
                            );

                            transferCount++;
                        }

                        htmlContent.append("</fieldset>");
                    }

                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Transfer Internal RS : " + e);
        }
    }

    private void menampilkanTransferPasienKeluarRs(String norawat) {
        try {
            if (chkTransferPasienKeluarRs.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select transfer_pasien_keluar_rs.tanggal_kontak_rs,transfer_pasien_keluar_rs.tanggal_rujuk_keluar_rs,"
                            + "transfer_pasien_keluar_rs.asal_ruang,transfer_pasien_keluar_rs.ruang_selanjutnya,"
                            + "transfer_pasien_keluar_rs.diagnosa_utama,transfer_pasien_keluar_rs.pasien_keluarga_menyetujui,"
                            + "transfer_pasien_keluar_rs.nama_menyetujui,transfer_pasien_keluar_rs.hubungan_menyetujui,"
                            + "transfer_pasien_keluar_rs.nama_penghubung_rs,transfer_pasien_keluar_rs.telp_penghubung_rs,"
                            + "transfer_pasien_keluar_rs.nama_penerima_kontak_rs,transfer_pasien_keluar_rs.telp_penerima_kontak_rs,"
                            + "transfer_pasien_keluar_rs.keadaan_umum_sebelum_transfer,transfer_pasien_keluar_rs.nadi_sebelum_transfer,"
                            + "transfer_pasien_keluar_rs.suhu_sebelum_transfer,transfer_pasien_keluar_rs.td_sebelum_transfer,"
                            + "transfer_pasien_keluar_rs.rr_sebelum_transfer,transfer_pasien_keluar_rs.keluhan_utama_sebelum_transfer,"
                            + "transfer_pasien_keluar_rs.obat_telah_diberikan,transfer_pasien_keluar_rs.klinikal,"
                            + "transfer_pasien_keluar_rs.ket_klinikal,transfer_pasien_keluar_rs.non_klinikal,"
                            + "transfer_pasien_keluar_rs.ket_non_kinikal,transfer_pasien_keluar_rs.icu_penuh,"
                            + "transfer_pasien_keluar_rs.ranap_penuh,transfer_pasien_keluar_rs.permintaan_pasien,"
                            + "transfer_pasien_keluar_rs.rujuk_lainnya,transfer_pasien_keluar_rs.ket_rujuk_lainnya,"
                            + "transfer_pasien_keluar_rs.tanpa_almed,transfer_pasien_keluar_rs.terpasang_almed,"
                            + "transfer_pasien_keluar_rs.terpasang_infus,transfer_pasien_keluar_rs.terpasang_ett,"
                            + "transfer_pasien_keluar_rs.terpasang_02,transfer_pasien_keluar_rs.terpasang_cvc,"
                            + "transfer_pasien_keluar_rs.terpasang_ngt,transfer_pasien_keluar_rs.terpasang_cateter,"
                            + "transfer_pasien_keluar_rs.terpasang_bidal,transfer_pasien_keluar_rs.terpasang_pump,"
                            + "transfer_pasien_keluar_rs.terpasang_almed_lainnya,transfer_pasien_keluar_rs.ket_almed_lainnya,"
                            + "transfer_pasien_keluar_rs.tanpa_riwayat_penyakit,transfer_pasien_keluar_rs.ada_riwayat_penyakit,"
                            + "transfer_pasien_keluar_rs.riwayat_dm,transfer_pasien_keluar_rs.riwayat_jantung,"
                            + "transfer_pasien_keluar_rs.riwayat_penyakit_lainnya,transfer_pasien_keluar_rs.ket_riwayat_penyakit_lainnya,"
                            + "transfer_pasien_keluar_rs.dokumen_rm,transfer_pasien_keluar_rs.dokumen_lab,"
                            + "transfer_pasien_keluar_rs.dokumen_rad,transfer_pasien_keluar_rs.dokumen_lainnya,"
                            + "transfer_pasien_keluar_rs.ket_dokumen_lainnya,transfer_pasien_keluar_rs.keluhan_utama_sesudah_transfer,"
                            + "transfer_pasien_keluar_rs.kd_dokter,"
                            + "IFNULL(doktermenyerahkan.nm_dokter,'-') as nama_dokter "
                            + "from transfer_pasien_keluar_rs "
                            + "left join dokter as doktermenyerahkan on transfer_pasien_keluar_rs.kd_dokter=doktermenyerahkan.kd_dokter "
                            + "where transfer_pasien_keluar_rs.no_rawat='" + norawat + "' order by transfer_pasien_keluar_rs.tanggal_kontak_rs"
                    ).executeQuery();

                    if (rs2.next()) {
                        htmlContent.append(
                                "<br><br><br>"
                                + "<p class='pagebreak'>"
                                + "<fieldset>"
                        );

                        // Header menggunakan Copsurat()
                        Copsurat();

                        // Judul laporan
                        htmlContent.append("<h3 style='text-align:center; margin:10px 0;'>TRANSFER PASIEN KELUAR RUMAH SAKIT</h3>");

                        rs2.beforeFirst();
                        int transferCount = 1;

                        while (rs2.next()) {
                            // Header Identitas Pasien
                            htmlContent.append(
                                    "<table width='100%' border='1' cellpadding='4' cellspacing='0' style='border-collapse:collapse;'>"
                                    + "<tr>"
                                    + "<td width='10%'>No. RM</td>"
                                    + "<td width='2%'>:</td>"
                                    + "<td width='15%'>" + rs.getString("no_rkm_medis") + "</td>"
                                    + "<td width='15%'>Tanggal Masuk RS</td>"
                                    + "<td width='2%'>:</td>"
                                    + "<td width='15%'>" + validasi(rs2.getString("tanggal_kontak_rs")) + "</td>"
                                    + "<td width='10%'></td>"
                                    + "<td width='2%'></td>"
                                    + "<td width='29%'></td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td>No Rawat</td>"
                                    + "<td>:</td>"
                                    + "<td>" + rs.getString("no_rawat") + "</td>"
                                    + "<td>Ruangan</td>"
                                    + "<td>:</td>"
                                    + "<td>" + validasi(rs2.getString("asal_ruang")) + "</td>"
                                    + "<td></td>"
                                    + "<td></td>"
                                    + "<td></td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td>Nama Pasien</td>"
                                    + "<td>:</td>"
                                    + "<td>" + rs.getString("nm_pasien") + "</td>"
                                    + "<td></td>"
                                    + "<td></td>"
                                    + "<td></td>"
                                    + "<td>Dirujuk ke RS</td>"
                                    + "<td>:</td>"
                                    + "<td>" + validasi(rs2.getString("ruang_selanjutnya")) + "</td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td>Tanggal Lahir</td>"
                                    + "<td>:</td>"
                                    + "<td>" + rs.getString("tgl_lahir") + "</td>"
                                    + "<td></td>"
                                    + "<td></td>"
                                    + "<td></td>"
                                    + "<td>Tanggal Rujuk</td>"
                                    + "<td>:</td>"
                                    + "<td>" + validasi(rs2.getString("tanggal_rujuk_keluar_rs")) + "</td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td>Alamat</td>"
                                    + "<td>:</td>"
                                    + "<td colspan='4'>" + rs.getString("almt_pj") + "</td>"
                                    + "<td>Diagnosa</td>"
                                    + "<td>:</td>"
                                    + "<td>" + validasi(rs2.getString("diagnosa_utama")) + "</td>"
                                    + "</tr>"
                                    + "</table>"
                            );

                            // Persetujuan Transfer
                            htmlContent.append(
                                    "<table width='100%' border='1' cellpadding='4' cellspacing='0' style='border-collapse:collapse; margin-top:5px;'>"
                                    + "<tr>"
                                    + "<td width='30%'>Pasien/Keluarga Menyetujui Transfer/Rujuk</td>"
                                    + "<td width='2%'>:</td>"
                                    + "<td width='10%'>" + validasi(rs2.getString("pasien_keluarga_menyetujui")) + "</td>"
                                    + "<td width='10%'>Nama</td>"
                                    + "<td width='2%'>:</td>"
                                    + "<td width='20%'>" + validasi(rs2.getString("nama_menyetujui")) + "</td>"
                                    + "<td width='26%'></td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td colspan='3'></td>"
                                    + "<td>Hubungan/Status</td>"
                                    + "<td>:</td>"
                                    + "<td>" + validasi(rs2.getString("hubungan_menyetujui")) + "</td>"
                                    + "<td></td>"
                                    + "</tr>"
                                    + "</table>"
                            );

                            // Kontak RS
                            htmlContent.append(
                                    "<table width='100%' border='1' cellpadding='4' cellspacing='0' style='border-collapse:collapse; margin-top:5px;'>"
                                    + "<tr>"
                                    + "<td width='15%'>Staf RS yang menghubungi</td>"
                                    + "<td width='2%'>:</td>"
                                    + "<td width='25%'>" + validasi(rs2.getString("nama_penghubung_rs")) + "</td>"
                                    + "<td width='15%'>Staf RS tujuan yg dihubungi</td>"
                                    + "<td width='2%'>:</td>"
                                    + "<td width='25%'>" + validasi(rs2.getString("nama_penerima_kontak_rs")) + "</td>"
                                    + "<td width='16%'></td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td>No telp yang menghubungi</td>"
                                    + "<td>:</td>"
                                    + "<td>" + validasi(rs2.getString("telp_penghubung_rs")) + "</td>"
                                    + "<td>No telp yang dihubungi</td>"
                                    + "<td>:</td>"
                                    + "<td>" + validasi(rs2.getString("telp_penerima_kontak_rs")) + "</td>"
                                    + "<td>Tanggal Kontak : " + validasi(rs2.getString("tanggal_kontak_rs")) + "</td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td colspan='6'></td>"
                                    + "<td>Jam Kontak :</td>"
                                    + "</tr>"
                                    + "</table>"
                            );

                            // Pemeriksaan Sebelum Transfer
                            htmlContent.append(
                                    "<table width='100%' border='1' cellpadding='4' cellspacing='0' style='border-collapse:collapse; margin-top:10px;'>"
                                    + "<tr style='background-color:#f0f0f0;'>"
                                    + "<td colspan='6'><strong>PEMERIKSAAN SEBELUM TRANSFER</strong></td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td width='25%'>Keadaan Umum Sebelum Transfer</td>"
                                    + "<td width='2%'>:</td>"
                                    + "<td width='23%'>" + validasi(rs2.getString("keadaan_umum_sebelum_transfer")) + "</td>"
                                    + "<td width='15%'>Obat-obatan telah diberikan :</td>"
                                    + "<td width='2%'></td>"
                                    + "<td width='33%'>" + validasi(rs2.getString("obat_telah_diberikan")) + "</td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td>Nadi</td>"
                                    + "<td>:</td>"
                                    + "<td>" + validasi(rs2.getString("nadi_sebelum_transfer")) + "</td>"
                                    + "<td>Tensi</td>"
                                    + "<td>:</td>"
                                    + "<td>" + validasi(rs2.getString("td_sebelum_transfer")) + "</td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td>Suhu</td>"
                                    + "<td>:</td>"
                                    + "<td>" + validasi(rs2.getString("suhu_sebelum_transfer")) + "</td>"
                                    + "<td>RR</td>"
                                    + "<td>:</td>"
                                    + "<td>" + validasi(rs2.getString("rr_sebelum_transfer")) + "</td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td colspan='6'>Keluhan Sebelum Transfer :</td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td colspan='6' style='height:50px; vertical-align:top;'>"
                                    + validasi(rs2.getString("keluhan_utama_sebelum_transfer")).replaceAll("(\r\n|\r|\n|\n\r)", "<br>")
                                    + "</td>"
                                    + "</tr>"
                                    + "</table>"
                            );

                            // Alasan Merujuk
                            htmlContent.append(
                                    "<table width='100%' border='1' cellpadding='4' cellspacing='0' style='border-collapse:collapse; margin-top:10px;'>"
                                    + "<tr style='background-color:#f0f0f0;'>"
                                    + "<td colspan='2'><strong>ALASAN MERUJUK</strong></td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td width='3%'></td>"
                                    + "<td width='97%'>Klinikal &nbsp;&nbsp;&nbsp;&nbsp;: "
                                    + (validasi(rs2.getString("klinikal")).equals("Ya") ? "" : "") + " "
                                    + validasi(rs2.getString("ket_klinikal")) + "</td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td></td>"
                                    + "<td>Non Klinikal : "
                                    + (validasi(rs2.getString("non_klinikal")).equals("Ya") ? "" : "") + " "
                                    + validasi(rs2.getString("ket_non_kinikal")) + "</td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td></td>"
                                    + "<td>Tidak ada tempat di ICU : "
                                    + (validasi(rs2.getString("icu_penuh")).equals("Ya") ? "" : "") + "</td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td></td>"
                                    + "<td>Ruang Rawat Inap Penuh : "
                                    + (validasi(rs2.getString("ranap_penuh")).equals("Ya") ? "" : "") + "</td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td></td>"
                                    + "<td>Permintaan Pasien/Keluarga : "
                                    + (validasi(rs2.getString("permintaan_pasien")).equals("Ya") ? "" : "") + "</td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td></td>"
                                    + "<td>Lain-lain : "
                                    + (validasi(rs2.getString("rujuk_lainnya")).equals("Ya") ? "" : "") + " "
                                    + validasi(rs2.getString("ket_rujuk_lainnya")) + "</td>"
                                    + "</tr>"
                                    + "</table>"
                            );

                            // Pemakaian Peralatan (Split into 2 columns)
                            htmlContent.append(
                                    "<table width='100%' border='1' cellpadding='4' cellspacing='0' style='border-collapse:collapse; margin-top:10px;'>"
                                    + "<tr style='background-color:#f0f0f0;'>"
                                    + "<td colspan='2'><strong>PEMAKAIAN PERALATAN</strong></td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td width='50%' style='vertical-align:top;'>"
                                    + "<table width='100%' cellpadding='2' cellspacing='0'>"
                                    + "<tr><td> Tidak Ada &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"
                                    + (validasi(rs2.getString("tanpa_almed")).equals("Ya") ? "" : "") + "</td></tr>"
                                    + "<tr><td> Ada Pemakaian &nbsp;&nbsp;&nbsp;"
                                    + (validasi(rs2.getString("terpasang_almed")).equals("Ya") ? "" : "") + "</td></tr>"
                                    + "<tr><td>&nbsp;&nbsp;&nbsp;&nbsp; Infus &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"
                                    + (validasi(rs2.getString("terpasang_infus")).equals("Ya") ? "" : "") + "</td></tr>"
                                    + "<tr><td>&nbsp;&nbsp;&nbsp;&nbsp; ETT &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"
                                    + (validasi(rs2.getString("terpasang_ett")).equals("Ya") ? "" : "") + "</td></tr>"
                                    + "<tr><td>&nbsp;&nbsp;&nbsp;&nbsp; O2 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"
                                    + (validasi(rs2.getString("terpasang_02")).equals("Ya") ? "" : "") + "</td></tr>"
                                    + "<tr><td>&nbsp;&nbsp;&nbsp;&nbsp; CVC &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"
                                    + (validasi(rs2.getString("terpasang_cvc")).equals("Ya") ? "" : "") + "</td></tr>"
                                    + "<tr><td>&nbsp;&nbsp;&nbsp;&nbsp; NGT &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"
                                    + (validasi(rs2.getString("terpasang_ngt")).equals("Ya") ? "" : "") + "</td></tr>"
                                    + "</table>"
                                    + "</td>"
                                    + "<td width='50%' style='vertical-align:top;'>"
                                    + "<table width='100%' cellpadding='2' cellspacing='0'>"
                                    + "<tr><td> Cateter &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"
                                    + (validasi(rs2.getString("terpasang_cateter")).equals("Ya") ? "" : "") + "</td></tr>"
                                    + "<tr><td> Bidal &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"
                                    + (validasi(rs2.getString("terpasang_bidal")).equals("Ya") ? "" : "") + "</td></tr>"
                                    + "<tr><td> Pump &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"
                                    + (validasi(rs2.getString("terpasang_pump")).equals("Ya") ? "" : "") + "</td></tr>"
                                    + "<tr><td> Lain-lain : "
                                    + (validasi(rs2.getString("terpasang_almed_lainnya")).equals("Ya") ? "" : "") + "</td></tr>"
                                    + "<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;" + validasi(rs2.getString("ket_almed_lainnya")) + "</td></tr>"
                                    + "<tr><td></td></tr>"
                                    + "<tr><td></td></tr>"
                                    + "</table>"
                                    + "</td>"
                                    + "</tr>"
                                    + "</table>"
                            );

                            // Riwayat Penyakit & Dokumen
                            htmlContent.append(
                                    "<table width='100%' border='1' cellpadding='4' cellspacing='0' style='border-collapse:collapse; margin-top:10px;'>"
                                    + "<tr>"
                                    + "<td width='50%' style='vertical-align:top;'>"
                                    + "<table width='100%' border='1' cellpadding='4' cellspacing='0' style='border-collapse:collapse;'>"
                                    + "<tr style='background-color:#f0f0f0;'>"
                                    + "<td><strong>RIWAYAT PENYAKIT</strong></td>"
                                    + "</tr>"
                                    + "<tr><td> Tidak ada &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"
                                    + (validasi(rs2.getString("tanpa_riwayat_penyakit")).equals("Ya") ? "" : "") + "</td></tr>"
                                    + "<tr><td> Ada Riwayat : &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"
                                    + (validasi(rs2.getString("ada_riwayat_penyakit")).equals("Ya") ? "" : "") + "</td></tr>"
                                    + "<tr><td>&nbsp;&nbsp;&nbsp;&nbsp; DM &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"
                                    + (validasi(rs2.getString("riwayat_dm")).equals("Ya") ? "" : "") + "</td></tr>"
                                    + "<tr><td>&nbsp;&nbsp;&nbsp;&nbsp; Jantung &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"
                                    + (validasi(rs2.getString("riwayat_jantung")).equals("Ya") ? "" : "") + "</td></tr>"
                                    + "<tr><td>&nbsp;&nbsp;&nbsp;&nbsp; Lainnya : "
                                    + (validasi(rs2.getString("riwayat_penyakit_lainnya")).equals("Ya") ? "" : "") + "</td></tr>"
                                    + "<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;" + validasi(rs2.getString("ket_riwayat_penyakit_lainnya")) + "</td></tr>"
                                    + "</table>"
                                    + "</td>"
                                    + "<td width='50%' style='vertical-align:top;'>"
                                    + "<table width='100%' border='1' cellpadding='4' cellspacing='0' style='border-collapse:collapse;'>"
                                    + "<tr style='background-color:#f0f0f0;'>"
                                    + "<td><strong>DOKUMEN YANG DISERTAKAN</strong></td>"
                                    + "</tr>"
                                    + "<tr><td> Rekam Medis &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"
                                    + (validasi(rs2.getString("dokumen_rm")).equals("Ya") ? "" : "") + "</td></tr>"
                                    + "<tr><td> Hasil Laboratorium &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"
                                    + (validasi(rs2.getString("dokumen_lab")).equals("Ya") ? "" : "") + "</td></tr>"
                                    + "<tr><td> Hasil Radiologi &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"
                                    + (validasi(rs2.getString("dokumen_rad")).equals("Ya") ? "" : "") + "</td></tr>"
                                    + "<tr><td> Lainnya : "
                                    + (validasi(rs2.getString("dokumen_lainnya")).equals("Ya") ? "" : "") + "</td></tr>"
                                    + "<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;" + validasi(rs2.getString("ket_dokumen_lainnya")) + "</td></tr>"
                                    + "<tr><td></td></tr>"
                                    + "</table>"
                                    + "</td>"
                                    + "</tr>"
                                    + "</table>"
                            );

                            // Kejadian Klinis & Serah Terima
                            htmlContent.append(
                                    "<table width='100%' border='1' cellpadding='4' cellspacing='0' style='border-collapse:collapse; margin-top:10px;'>"
                                    + "<tr style='background-color:#f0f0f0;'>"
                                    + "<td><strong>KEJADIAN KLINIS SELAMA TRANSFER</strong></td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td style='height:50px; vertical-align:top;'>"
                                    + validasi(rs2.getString("keluhan_utama_sesudah_transfer")).replaceAll("(\r\n|\r|\n|\n\r)", "<br>")
                                    + "</td>"
                                    + "</tr>"
                                    + "</table>"
                            );

                            htmlContent.append(
                                    "<table width='100%' border='1' cellpadding='4' cellspacing='0' style='border-collapse:collapse; margin-top:10px;'>"
                                    + "<tr>"
                                    + "<td width='50%' style='vertical-align:top;'>"
                                    + "<table width='100%' border='1' cellpadding='4' cellspacing='0' style='border-collapse:collapse;'>"
                                    + "<tr style='background-color:#f0f0f0;'>"
                                    + "<td><strong>AMBULANS</strong></td>"
                                    + "</tr>"
                                    + "<tr><td>Berangkat &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:</td></tr>"
                                    + "<tr><td>Tiba di tujuan &nbsp;&nbsp;:</td></tr>"
                                    + "</table>"
                                    + "</td>"
                                    + "<td width='50%' style='vertical-align:top;'>"
                                    + "<table width='100%' border='1' cellpadding='4' cellspacing='0' style='border-collapse:collapse;'>"
                                    + "<tr style='background-color:#f0f0f0;'>"
                                    + "<td><strong>SERAH TERIMA PASIEN</strong></td>"
                                    + "</tr>"
                                    + "<tr><td>Tanggal &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:</td></tr>"
                                    + "<tr><td>Jam &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:</td></tr>"
                                    + "</table>"
                                    + "</td>"
                                    + "</tr>"
                                    + "</table>"
                            );

                            // Footer dengan tanda tangan dokter
                            // QR Code untuk dokter
                            if (!validasi(rs2.getString("kd_dokter")).equals("-")) {
                                get = new GetMethod("http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/"
                                        + koneksiDB.HYBRIDWEB() + "/penggajian/generateqrcode.php?kodedokter="
                                        + rs2.getString("kd_dokter").replace(" ", "_").replace("'", "_").replace("\"", "_").replace("&", "_").replace("?", "_").replace("#", "_"));
                                http.executeMethod(get);
                            }

                            htmlContent.append(
                                    "<table width='100%' border='1' cellpadding='4' cellspacing='0' style='border-collapse:collapse; margin-top:20px;'>"
                                    + "<tr>"
                                    + "<td width='50%' style='height:120px; vertical-align:bottom; text-align:center;'>"
                                    + "<strong>Dokter/Petugas Yang Mengirim</strong><br>"
                                    + "<img width='100' height='100' src='http://").append(koneksiDB.HOSTHYBRIDWEB()).append(":").append(koneksiDB.PORTWEB()).append("/").append(koneksiDB.HYBRIDWEB()).append("/penggajian/temp/").append(validasi(rs2.getString("kd_dokter")).replace(" ", "_").replace("'", "_").replace("\"", "_").replace("&", "_").replace("?", "_").replace("#", "_")).append(".png'/><br>"
                                    + validasi(rs2.getString("nama_dokter"))
                                    + "</td>"
                                    + "<td width='50%' style='height:120px; vertical-align:bottom; text-align:center;'>"
                                    + "<strong>Dokter/Petugas Yang Menerima</strong><br><br><br><br>"
                                    + "</td>"
                                    + "</tr>"
                                    + "</table>"
                            );

                            transferCount++;
                        }

                        htmlContent.append("</fieldset>");
                    }

                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Transfer Pasien Keluar RS : " + e);
        }
    }

    private void menampilkanFormulirPermintaanRanap(String norawat) {
        try {
            if (chkPengantarRanap.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select permintaan_ranap.no_rawat,reg_periksa.no_rkm_medis,pasien.nm_pasien,pasien.jk,reg_periksa.umurdaftar,reg_periksa.sttsumur,"
                            + "pasien.no_tlp,penjab.png_jawab,poliklinik.nm_poli,dokter.nm_dokter,permintaan_ranap.tanggal,permintaan_ranap.kd_kamar,kamar.kd_bangsal,"
                            + "bangsal.nm_bangsal,kamar.trf_kamar,permintaan_ranap.diagnosa,permintaan_ranap.catatan,reg_periksa.kd_dokter from permintaan_ranap "
                            + "inner join reg_periksa on permintaan_ranap.no_rawat=reg_periksa.no_rawat "
                            + "inner join pasien on reg_periksa.no_rkm_medis=pasien.no_rkm_medis "
                            + "inner join penjab on reg_periksa.kd_pj=penjab.kd_pj "
                            + "inner join dokter on reg_periksa.kd_dokter=dokter.kd_dokter "
                            + "inner join poliklinik on reg_periksa.kd_poli=poliklinik.kd_poli "
                            + "inner join kamar on permintaan_ranap.kd_kamar=kamar.kd_kamar "
                            + "inner join bangsal on kamar.kd_bangsal=bangsal.kd_bangsal "
                            + "where reg_periksa.no_rawat='" + norawat + "'"
                    ).executeQuery();

                    if (rs2.next()) {
                        htmlContent.append(
                                "<br><br><br>"
                                + "<p class='pagebreak'>"
                                + "<fieldset>"
                        );

                        // Header menggunakan Copsurat()
                        Copsurat();

                        // Judul laporan
                        htmlContent.append(
                                "<h3 style='text-align:center; margin:15px 0; color:#000; font-family:Arial, sans-serif; font-weight:bold;'>"
                                + "FORMULIR PERMINTAAN RAWAT INAP"
                                + "</h3>"
                        );

                        rs2.beforeFirst();
                        while (rs2.next()) {
                            // Bagian "Yang bertanda tangan di bawah ini"
                            htmlContent.append(
                                    "<table width='100%' style='margin-top:20px; font-family:Arial, sans-serif; color:#000;'>"
                                    + "<tr>"
                                    + "<td style='padding:3px 0;'>Yang bertanda tangan di bawah ini :</td>"
                                    + "</tr>"
                                    + "</table>"
                            );

                            // Data Dokter
                            htmlContent.append(
                                    "<table width='100%' style='margin-top:10px; font-family:Arial, sans-serif; color:#000;'>"
                                    + "<tr>"
                                    + "<td width='3%'></td>"
                                    + "<td width='25%' style='padding:3px 0;'>Dokter Yang Memeriksa</td>"
                                    + "<td width='2%' style='padding:3px 0;'>:</td>"
                                    + "<td width='70%' style='padding:3px 0; font-weight:bold;'>" + validasi(rs2.getString("nm_dokter")) + "</td>"
                                    + "</tr>"
                                    + "</table>"
                            );

                            // Bagian "Menyatakan bahwa"
                            htmlContent.append(
                                    "<table width='100%' style='margin-top:15px; font-family:Arial, sans-serif; color:#000;'>"
                                    + "<tr>"
                                    + "<td style='padding:3px 0;'>Menyatakan bahwa :</td>"
                                    + "</tr>"
                                    + "</table>"
                            );

                            // Data Pasien dalam format yang rapi
                            String umurLengkap = validasi(rs2.getString("umurdaftar")) + " " + validasi(rs2.getString("sttsumur"));
                            String jenisKelamin = validasi(rs2.getString("jk")).equals("L") ? "LAKI-LAKI" : "PEREMPUAN";

                            htmlContent.append(
                                    "<table width='100%' style='margin-top:10px; font-family:Arial, sans-serif; color:#000;'>"
                                    + "<tr>"
                                    + "<td width='3%'></td>"
                                    + "<td width='25%' style='padding:3px 0;'>Nama Pasien</td>"
                                    + "<td width='2%' style='padding:3px 0;'>:</td>"
                                    + "<td width='70%' style='padding:3px 0; font-weight:bold;'>" + validasi(rs2.getString("nm_pasien")) + "</td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td></td>"
                                    + "<td style='padding:3px 0;'>No.Rekam Medis</td>"
                                    + "<td style='padding:3px 0;'>:</td>"
                                    + "<td style='padding:3px 0; font-weight:bold;'>" + validasi(rs2.getString("no_rkm_medis")) + "</td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td></td>"
                                    + "<td style='padding:3px 0;'>Jenis Kelamin</td>"
                                    + "<td style='padding:3px 0;'>:</td>"
                                    + "<td style='padding:3px 0; font-weight:bold;'>" + jenisKelamin + "</td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td></td>"
                                    + "<td style='padding:3px 0;'>Umur</td>"
                                    + "<td style='padding:3px 0;'>:</td>"
                                    + "<td style='padding:3px 0; font-weight:bold;'>" + umurLengkap + "</td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td></td>"
                                    + "<td style='padding:3px 0;'>No.Telephone/HP</td>"
                                    + "<td style='padding:3px 0;'>:</td>"
                                    + "<td style='padding:3px 0; font-weight:bold;'>" + validasi(rs2.getString("no_tlp")) + "</td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td></td>"
                                    + "<td style='padding:3px 0;'>Asal Poli/Unit</td>"
                                    + "<td style='padding:3px 0;'>:</td>"
                                    + "<td style='padding:3px 0; font-weight:bold;'>" + validasi(rs2.getString("nm_poli")) + "</td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td></td>"
                                    + "<td style='padding:3px 0;'>Cara Bayar/Asuransi</td>"
                                    + "<td style='padding:3px 0;'>:</td>"
                                    + "<td style='padding:3px 0; font-weight:bold;'>" + validasi(rs2.getString("png_jawab")) + "</td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td></td>"
                                    + "<td style='padding:3px 0;'>Diagnosa Awal</td>"
                                    + "<td style='padding:3px 0;'>:</td>"
                                    + "<td style='padding:3px 0; font-weight:bold;'>" + validasi(rs2.getString("diagnosa")) + "</td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td></td>"
                                    + "<td style='padding:3px 0;'>Kamar Diminta</td>"
                                    + "<td style='padding:3px 0;'>:</td>"
                                    + "<td style='padding:3px 0; font-weight:bold;'>" + validasi(rs2.getString("nm_bangsal")) + "</td>"
                                    + "</tr>"
                                    + "</table>"
                            );

                            // Bagian pernyataan perawatan
                            htmlContent.append(
                                    "<table width='100%' style='margin-top:20px; font-family:Arial, sans-serif; color:#000;'>"
                                    + "<tr>"
                                    + "<td style='padding:3px 0;'>Memerlukan perawatan inap di RS Umum Daerah Cabangbungin</td>"
                                    + "</tr>"
                                    + "</table>"
                            );

                            // Bagian catatan tambahan jika ada
                            if (!validasi(rs2.getString("catatan")).equals("-") && !validasi(rs2.getString("catatan")).equals("")) {
                                htmlContent.append(
                                        "<table width='100%' style='margin-top:15px; font-family:Arial, sans-serif; color:#000;'>"
                                        + "<tr>"
                                        + "<td style='padding:3px 0;'><strong>Catatan:</strong></td>"
                                        + "</tr>"
                                        + "<tr>"
                                        + "<td style='padding:3px 0;'>" + validasi(rs2.getString("catatan")).replaceAll("(\r\n|\r|\n|\n\r)", "<br>") + "</td>"
                                        + "</tr>"
                                        + "</table>"
                                );
                            }

                            // Bagian tanggal dan tanda tangan
                            String tanggalSekarang = validasi(rs2.getString("tanggal"));
                            if (tanggalSekarang.length() >= 10) {
                                String[] tglArray = tanggalSekarang.substring(0, 10).split("-");
                                String[] bulanNama = {"", "Januari", "Februari", "Maret", "April", "Mei", "Juni",
                                    "Juli", "Agustus", "September", "Oktober", "November", "Desember"};
                                tanggalSekarang = "Kab. Bekasi, " + tglArray[2] + "/" + tglArray[1] + "/" + tglArray[0];
                            }

                            // QR Code untuk dokter
                            if (!validasi(rs2.getString("kd_dokter")).equals("-")) {
                                get = new GetMethod("http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/"
                                        + koneksiDB.HYBRIDWEB() + "/penggajian/generateqrcode.php?kodedokter="
                                        + rs2.getString("kd_dokter").replace(" ", "_").replace("'", "_").replace("\"", "_").replace("&", "_").replace("?", "_").replace("#", "_"));
                                http.executeMethod(get);
                            }

                            htmlContent.append(
                                    "<table width='100%' style='margin-top:50px; font-family:Arial, sans-serif; color:#000;'>"
                                    + "<tr>"
                                    + "<td width='50%'></td>"
                                    + "<td width='50%' style='text-align:center;'>"
                                    + "<div style='margin-bottom:10px;'>" + tanggalSekarang + "</div>"
                                    + "<div style='margin-bottom:5px;'>Dokter Penanggung Jawab</div>"
                                    + "</td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td width='50%'></td>"
                                    + "<td width='50%' style='text-align:center; vertical-align:top; padding-top:10px;'>"
                            );

                            // QR Code
                            if (!validasi(rs2.getString("kd_dokter")).equals("-")) {
                                htmlContent.append(
                                        "<img width='120' height='120' src='http://").append(koneksiDB.HOSTHYBRIDWEB()).append(":").append(koneksiDB.PORTWEB()).append("/").append(koneksiDB.HYBRIDWEB()).append("/penggajian/temp/").append(validasi(rs2.getString("kd_dokter")).replace(" ", "_").replace("'", "_").replace("\"", "_").replace("&", "_").replace("?", "_").replace("#", "_")).append(".png'/>"
                                );
                            } else {
                                htmlContent.append("<div style='height:120px;'></div>");
                            }

                            htmlContent.append(
                                    "<div style='border-top:1px solid #000; margin-top:10px; padding-top:5px; font-weight:bold;'>"
                                    + validasi(rs2.getString("nm_dokter"))
                                    + "</div>"
                                    + "<div style='margin-top:3px;'>Nama & tanda tangan</div>"
                                    + "</td>"
                                    + "</tr>"
                                    + "</table>"
                            );
                        }

                        htmlContent.append("</fieldset>");
                    }

                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Formulir Permintaan Ranap : " + e);
        }
    }

    private void menampilkanHasilPemeriksaanEKG(String norawat) {
        try {
            if (chkHasilPemeriksaanEKG.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select hasil_pemeriksaan_ekg.tanggal,hasil_pemeriksaan_ekg.kd_dokter,dokter.nm_dokter,hasil_pemeriksaan_ekg.diagnosa_klinis,"
                            + "hasil_pemeriksaan_ekg.kiriman_dari,hasil_pemeriksaan_ekg.irama,hasil_pemeriksaan_ekg.laju_jantung,hasil_pemeriksaan_ekg.gelombangp,"
                            + "hasil_pemeriksaan_ekg.intervalpr,hasil_pemeriksaan_ekg.axis,hasil_pemeriksaan_ekg.kompleksqrs,hasil_pemeriksaan_ekg.segmenst,"
                            + "hasil_pemeriksaan_ekg.gelombangt,hasil_pemeriksaan_ekg.kesimpulan from hasil_pemeriksaan_ekg inner join dokter "
                            + "on hasil_pemeriksaan_ekg.kd_dokter=dokter.kd_dokter where hasil_pemeriksaan_ekg.no_rawat='" + norawat + "' order by hasil_pemeriksaan_ekg.tanggal"
                    ).executeQuery();

                    if (rs2.next()) {
                        htmlContent.append(
                                "<br><br><br>"
                                + "<p class='pagebreak'>"
                                + "<fieldset>"
                        );

                        // Header menggunakan Copsurat()
                        Copsurat();

                        rs2.beforeFirst();
                        while (rs2.next()) {
                            // Judul laporan dengan background
                            htmlContent.append(
                                    "<table width='100%' border='1' cellpadding='8' cellspacing='0' style='border-collapse:collapse; margin-top:15px; font-family:Arial, sans-serif;'>"
                                    + "<tr style='background-color:#d3d3d3;'>"
                                    + "<td style='text-align:center; font-weight:bold; color:#000; font-size:14px;'>HASIL PEMERIKSAAN EKG</td>"
                                    + "</tr>"
                                    + "</table>"
                            );

                            // Header informasi pasien dan pemeriksaan
                            String tanggalLahir = "";
                            try {
                                // Ambil data pasien untuk tanggal lahir
                                PreparedStatement psPatient = koneksi.prepareStatement(
                                        "select pasien.tgl_lahir from reg_periksa inner join pasien on reg_periksa.no_rkm_medis=pasien.no_rkm_medis where reg_periksa.no_rawat=?"
                                );
                                psPatient.setString(1, norawat);
                                ResultSet rsPatient = psPatient.executeQuery();
                                if (rsPatient.next()) {
                                    tanggalLahir = rsPatient.getString("tgl_lahir");
                                }
                                rsPatient.close();
                                psPatient.close();
                            } catch (Exception e) {
                                tanggalLahir = "";
                            }

                            htmlContent.append(
                                    "<table width='100%' border='1' cellpadding='6' cellspacing='0' style='border-collapse:collapse; margin-top:0px; font-family:Arial, sans-serif; color:#000;'>"
                                    + "<tr>"
                                    + "<td width='15%' style='font-weight:bold;'>No. RM</td>"
                                    + "<td width='2%'>:</td>"
                                    + "<td width='33%'>" + rs.getString("no_rkm_medis") + "</td>"
                                    + "<td width='15%' style='font-weight:bold;'>Tanggal Lahir</td>"
                                    + "<td width='2%'>:</td>"
                                    + "<td width='33%'>" + validasi(tanggalLahir) + "</td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td style='font-weight:bold;'>Nama Pasien</td>"
                                    + "<td>:</td>"
                                    + "<td>" + rs.getString("nm_pasien") + "</td>"
                                    + "<td></td>"
                                    + "<td></td>"
                                    + "<td></td>"
                                    + "</tr>"
                                    + "</table>"
                            );

                            // Informasi pemeriksaan
                            htmlContent.append(
                                    "<table width='100%' border='1' cellpadding='6' cellspacing='0' style='border-collapse:collapse; margin-top:0px; font-family:Arial, sans-serif; color:#000;'>"
                                    + "<tr>"
                                    + "<td width='15%' style='font-weight:bold;'>Kiriman Dari</td>"
                                    + "<td width='2%'>:</td>"
                                    + "<td width='33%'>" + validasi(rs2.getString("kiriman_dari")) + "</td>"
                                    + "<td width='15%' style='font-weight:bold;'></td>"
                                    + "<td width='2%'></td>"
                                    + "<td width='33%'></td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td style='font-weight:bold;'>Diagnosa Klinis</td>"
                                    + "<td>:</td>"
                                    + "<td>" + validasi(rs2.getString("diagnosa_klinis")) + "</td>"
                                    + "<td></td>"
                                    + "<td></td>"
                                    + "<td></td>"
                                    + "</tr>"
                                    + "</table>"
                            );

                            // Tampilkan gambar EKG jika ada
                            file = Sequel.cariIsi("select hasil_pemeriksaan_ekg_gambar.photo from hasil_pemeriksaan_ekg_gambar where hasil_pemeriksaan_ekg_gambar.no_rawat='" + norawat + "'");
                            if (!file.equals("")) {
                                htmlContent.append(
                                        "<table width='100%' border='1' cellpadding='10' cellspacing='0' style='border-collapse:collapse; margin-top:0px; font-family:Arial, sans-serif;'>"
                                        + "<tr>"
                                        + "<td style='text-align:center;'>"
                                        + "<img alt='Gambar EKG' src='http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/hasilpemeriksaanekg/" + file + "' style='max-width:90%; height:auto; border:1px solid #ccc;'/>"
                                        + "</td>"
                                        + "</tr>"
                                        + "</table>"
                                );
                            }

                            // Hasil pemeriksaan dalam format tabel seperti gambar
                            htmlContent.append(
                                    "<table width='100%' border='1' cellpadding='6' cellspacing='0' style='border-collapse:collapse; margin-top:0px; font-family:Arial, sans-serif; color:#000;'>"
                                    + "<tr>"
                                    + "<td width='25%' style='padding-left:30px;'>Irama</td>"
                                    + "<td width='2%'>:</td>"
                                    + "<td width='23%'>" + validasi(rs2.getString("irama")) + "</td>"
                                    + "<td width='25%'></td>"
                                    + "<td width='2%'></td>"
                                    + "<td width='23%'></td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td style='padding-left:30px;'>Laju Jantung</td>"
                                    + "<td>:</td>"
                                    + "<td>" + validasi(rs2.getString("laju_jantung")) + "</td>"
                                    + "<td></td>"
                                    + "<td></td>"
                                    + "<td></td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td style='padding-left:30px;'>Gelombang P</td>"
                                    + "<td>:</td>"
                                    + "<td>" + validasi(rs2.getString("gelombangp")) + "</td>"
                                    + "<td></td>"
                                    + "<td></td>"
                                    + "<td></td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td style='padding-left:30px;'>Interval PR</td>"
                                    + "<td>:</td>"
                                    + "<td>" + validasi(rs2.getString("intervalpr")) + "</td>"
                                    + "<td></td>"
                                    + "<td></td>"
                                    + "<td></td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td style='padding-left:30px;'>Axis</td>"
                                    + "<td>:</td>"
                                    + "<td>" + validasi(rs2.getString("axis")) + "</td>"
                                    + "<td></td>"
                                    + "<td></td>"
                                    + "<td></td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td style='padding-left:30px;'>Kompleks QRS</td>"
                                    + "<td>:</td>"
                                    + "<td>" + validasi(rs2.getString("kompleksqrs")) + "</td>"
                                    + "<td></td>"
                                    + "<td></td>"
                                    + "<td></td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td style='padding-left:30px;'>Segmen ST</td>"
                                    + "<td>:</td>"
                                    + "<td>" + validasi(rs2.getString("segmenst")) + "</td>"
                                    + "<td></td>"
                                    + "<td></td>"
                                    + "<td></td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td style='padding-left:30px;'>Gelombang T</td>"
                                    + "<td>:</td>"
                                    + "<td>" + validasi(rs2.getString("gelombangt")) + "</td>"
                                    + "<td></td>"
                                    + "<td></td>"
                                    + "<td></td>"
                                    + "</tr>"
                                    + "<tr>"
                                    + "<td style='padding-left:30px;'>Kesimpulan</td>"
                                    + "<td>:</td>"
                                    + "<td>" + validasi(rs2.getString("kesimpulan")) + "</td>"
                                    + "<td></td>"
                                    + "<td></td>"
                                    + "<td></td>"
                                    + "</tr>"
                                    + "</table>"
                            );

                            // Area kosong untuk space
                            htmlContent.append(
                                    "<table width='100%' border='0' cellpadding='10' cellspacing='0' style='margin-top:20px;'>"
                                    + "<tr>"
                                    + "<td style='height:100px;'></td>"
                                    + "</tr>"
                                    + "</table>"
                            );

                            // Footer dengan tanggal dan tanda tangan dokter
                            String tanggalPemeriksaan = validasi(rs2.getString("tanggal"));
                            String tanggalFormat = "";
                            if (tanggalPemeriksaan.length() >= 19) {
                                // Format: 2025-06-22 10:43:00 menjadi Jun, 22/06/2025 00:04:43 WIB
                                String[] dateTime = tanggalPemeriksaan.split(" ");
                                String[] dateParts = dateTime[0].split("-");
                                String[] timeParts = dateTime[1].split(":");

                                String[] bulanSingkat = {"", "Jan", "Feb", "Mar", "Apr", "Mei", "Jun",
                                    "Jul", "Ags", "Sep", "Okt", "Nov", "Des"};

                                tanggalFormat = bulanSingkat[Integer.parseInt(dateParts[1])] + ", "
                                        + dateParts[2] + "/" + dateParts[1] + "/" + dateParts[0] + " "
                                        + timeParts[0] + ":" + timeParts[1] + ":" + timeParts[2] + " WIB";
                            }

                            // QR Code untuk dokter
                            if (!validasi(rs2.getString("kd_dokter")).equals("-")) {
                                get = new GetMethod("http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/"
                                        + koneksiDB.HYBRIDWEB() + "/penggajian/generateqrcode.php?kodedokter="
                                        + rs2.getString("kd_dokter").replace(" ", "_").replace("'", "_").replace("\"", "_").replace("&", "_").replace("?", "_").replace("#", "_"));
                                http.executeMethod(get);
                            }

                            htmlContent.append(
                                    "<table width='100%' border='1' cellpadding='8' cellspacing='0' style='border-collapse:collapse; font-family:Arial, sans-serif; color:#000;'>"
                                    + "<tr>"
                                    + "<td width='33%' style='text-align:center; vertical-align:bottom;'>"
                                    + "<strong>Tanggal dan Jam</strong><br><br>"
                                    + tanggalFormat
                                    + "</td>"
                                    + "<td width='34%' style='text-align:center; vertical-align:top;'>"
                            );

                            // QR Code
                            if (!validasi(rs2.getString("kd_dokter")).equals("-")) {
                                htmlContent.append(
                                        "<img width='100' height='100' src='http://").append(koneksiDB.HOSTHYBRIDWEB()).append(":").append(koneksiDB.PORTWEB()).append("/").append(koneksiDB.HYBRIDWEB()).append("/penggajian/temp/").append(validasi(rs2.getString("kd_dokter")).replace(" ", "_").replace("'", "_").replace("\"", "_").replace("&", "_").replace("?", "_").replace("#", "_")).append(".png'/>"
                                );
                            } else {
                                htmlContent.append("<div style='height:100px;'></div>");
                            }

                            htmlContent.append(
                                    "</td>"
                                    + "<td width='33%' style='text-align:center; vertical-align:bottom;'>"
                                    + "<strong>Nama Dokter dan Tanda Tangan</strong><br><br>"
                                    + validasi(rs2.getString("nm_dokter"))
                                    + "</td>"
                                    + "</tr>"
                                    + "</table>"
                            );
                        }

                        htmlContent.append("</fieldset>");
                    }

                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Hasil Pemeriksaan EKG : " + e);
        }
    }

    private void menampilkanAsuhanKebidananRawatInap(String norawat) {
        try {
            if (chkAsuhanKeperawatanRanapKandungan.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select DATE_FORMAT(penilaian_awal_keperawatan_kebidanan_ranap.tanggal,'%d-%m-%Y %H:%i:%s') as tanggal,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.informasi,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.tiba_diruang_rawat,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.cara_masuk,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.keluhan,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.rpk,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.psk,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.alergi,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.komplikasi_sebelumnya,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.keterangan_komplikasi_sebelumnya,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.riwayat_mens_umur,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.riwayat_mens_lamanya,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.riwayat_mens_banyaknya,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.riwayat_mens_siklus,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.riwayat_mens_ket_siklus,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.riwayat_mens_dirasakan,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.riwayat_perkawinan_status,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.riwayat_perkawinan_ket_status,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.riwayat_perkawinan_usia1,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.riwayat_perkawinan_ket_usia1,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.riwayat_perkawinan_usia2,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.riwayat_perkawinan_ket_usia2,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.riwayat_perkawinan_usia3,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.riwayat_perkawinan_ket_usia3,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.riwayat_persalinan_g,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.riwayat_persalinan_p,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.riwayat_persalinan_a,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.riwayat_persalinan_hidup,"
                            + "REPLACE(penilaian_awal_keperawatan_kebidanan_ranap.riwayat_hamil_hpht,'0001-01-01','-') as riwayat_hamil_hpht,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.riwayat_hamil_usiahamil,"
                            + "REPLACE(penilaian_awal_keperawatan_kebidanan_ranap.riwayat_hamil_tp,'0001-01-01','-') as riwayat_hamil_tp,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.riwayat_hamil_imunisasi,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.riwayat_hamil_anc,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.riwayat_hamil_ancke,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.riwayat_hamil_ket_ancke,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.riwayat_hamil_keluhan_hamil_muda,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.riwayat_hamil_keluhan_hamil_tua,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.riwayat_kb,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.riwayat_kb_lamanya,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.riwayat_kb_komplikasi,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.riwayat_kb_ket_komplikasi,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.riwayat_kb_kapaberhenti,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.riwayat_kb_alasanberhenti,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.riwayat_genekologi,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.riwayat_kebiasaan_obat,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.riwayat_kebiasaan_ket_obat,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.riwayat_kebiasaan_merokok,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.riwayat_kebiasaan_ket_merokok,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.riwayat_kebiasaan_alkohol,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.riwayat_kebiasaan_ket_alkohol,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.riwayat_kebiasaan_narkoba,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.pemeriksaan_kebidanan_mental,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.pemeriksaan_kebidanan_keadaan_umum,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.pemeriksaan_kebidanan_gcs,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.pemeriksaan_kebidanan_td,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.pemeriksaan_kebidanan_nadi,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.pemeriksaan_kebidanan_rr,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.pemeriksaan_kebidanan_suhu,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.pemeriksaan_kebidanan_spo2,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.pemeriksaan_kebidanan_bb,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.pemeriksaan_kebidanan_tb,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.pemeriksaan_kebidanan_lila,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.pemeriksaan_kebidanan_tfu,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.pemeriksaan_kebidanan_tbj,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.pemeriksaan_kebidanan_letak,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.pemeriksaan_kebidanan_presentasi,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.pemeriksaan_kebidanan_penurunan,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.pemeriksaan_kebidanan_his,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.pemeriksaan_kebidanan_kekuatan,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.pemeriksaan_kebidanan_lamanya,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.pemeriksaan_kebidanan_djj,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.pemeriksaan_kebidanan_ket_djj,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.pemeriksaan_kebidanan_portio,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.pemeriksaan_kebidanan_pembukaan,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.pemeriksaan_kebidanan_ketuban,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.pemeriksaan_kebidanan_hodge,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.pemeriksaan_kebidanan_panggul,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.pemeriksaan_kebidanan_inspekulo,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.pemeriksaan_kebidanan_ket_inspekulo,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.pemeriksaan_kebidanan_lakmus,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.pemeriksaan_kebidanan_ket_lakmus,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.pemeriksaan_kebidanan_ctg,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.pemeriksaan_kebidanan_ket_ctg,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.pemeriksaan_umum_kepala,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.pemeriksaan_umum_muka,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.pemeriksaan_umum_mata,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.pemeriksaan_umum_hidung,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.pemeriksaan_umum_telinga,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.pemeriksaan_umum_mulut,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.pemeriksaan_umum_leher,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.pemeriksaan_umum_dada,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.pemeriksaan_umum_perut,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.pemeriksaan_umum_genitalia,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.pemeriksaan_umum_ekstrimitas,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.pengkajian_fungsi_kemampuan_aktifitas,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.pengkajian_fungsi_berjalan,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.pengkajian_fungsi_ket_berjalan,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.pengkajian_fungsi_aktivitas,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.pengkajian_fungsi_ambulasi,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.pengkajian_fungsi_ekstrimitas_atas,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.pengkajian_fungsi_ket_ekstrimitas_atas,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.pengkajian_fungsi_ekstrimitas_bawah,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.pengkajian_fungsi_ket_ekstrimitas_bawah,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.pengkajian_fungsi_kemampuan_menggenggam,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.pengkajian_fungsi_ket_kemampuan_menggenggam,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.pengkajian_fungsi_koordinasi,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.pengkajian_fungsi_ket_koordinasi,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.pengkajian_fungsi_gangguan_fungsi,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.riwayat_psiko_kondisipsiko,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.riwayat_psiko_adakah_prilaku,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.riwayat_psiko_ket_adakah_prilaku,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.riwayat_psiko_gangguan_jiwa,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.riwayat_psiko_hubungan_pasien,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.riwayat_psiko_tinggal_dengan,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.riwayat_psiko_ket_tinggal_dengan,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.riwayat_psiko_budaya,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.riwayat_psiko_ket_budaya,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.riwayat_psiko_pend_pj,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.riwayat_psiko_edukasi_pada,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.riwayat_psiko_ket_edukasi_pada,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.penilaian_nyeri,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.penilaian_nyeri_penyebab,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.penilaian_nyeri_ket_penyebab,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.penilaian_nyeri_kualitas,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.penilaian_nyeri_ket_kualitas,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.penilaian_nyeri_lokasi,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.penilaian_nyeri_menyebar,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.penilaian_nyeri_skala,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.penilaian_nyeri_waktu,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.penilaian_nyeri_hilang,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.penilaian_nyeri_ket_hilang,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.penilaian_nyeri_diberitahukan_dokter,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.penilaian_nyeri_jam_diberitahukan_dokter,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.penilaian_jatuh_skala1,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.penilaian_jatuh_nilai1,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.penilaian_jatuh_skala2,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.penilaian_jatuh_nilai2,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.penilaian_jatuh_skala3,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.penilaian_jatuh_nilai3,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.penilaian_jatuh_skala4,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.penilaian_jatuh_nilai4,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.penilaian_jatuh_skala5,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.penilaian_jatuh_nilai5,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.penilaian_jatuh_skala6,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.penilaian_jatuh_nilai6,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.penilaian_jatuh_totalnilai,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.skrining_gizi1,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.nilai_gizi1,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.skrining_gizi2,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.nilai_gizi2,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.nilai_total_gizi,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.skrining_gizi_diagnosa_khusus,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.skrining_gizi_ket_diagnosa_khusus,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.skrining_gizi_diketahui_dietisen,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.skrining_gizi_jam_diketahui_dietisen,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.masalah,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.rencana,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.nip1,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.nip2,"
                            + "penilaian_awal_keperawatan_kebidanan_ranap.kd_dokter,"
                            + "IFNULL(pengkaji1.nama,'-') as pengkaji1,"
                            + "IFNULL(pengkaji2.nama,'-') as pengkaji2,"
                            + "IFNULL(dokter.nm_dokter,'-') as nm_dokter "
                            + "from penilaian_awal_keperawatan_kebidanan_ranap "
                            + "left join petugas as pengkaji1 on penilaian_awal_keperawatan_kebidanan_ranap.nip1=pengkaji1.nip "
                            + "left join petugas as pengkaji2 on penilaian_awal_keperawatan_kebidanan_ranap.nip2=pengkaji2.nip "
                            + "left join dokter on penilaian_awal_keperawatan_kebidanan_ranap.kd_dokter=dokter.kd_dokter "
                            + "where penilaian_awal_keperawatan_kebidanan_ranap.no_rawat='" + norawat + "' "
                            + "").executeQuery();

                    if (rs2.next()) {
                        htmlContent.append(
                                "<br><br><br>"
                                + "<p class='pagebreak'>"
                                + "<fieldset>");

                        // Header menggunakan Copsurat()
                        Copsurat();

                        // Judul laporan
                        htmlContent.append("<h3 style='text-align:center; margin:10px 0;'>PENILAIAN AWAL KEPERAWATAN KEBIDANAN RAWAT INAP</h3>");

                        // Informasi pasien dalam format tabel
                        htmlContent.append(
                                "<table width='100%' border='1' cellpadding='4' cellspacing='0' style='border-collapse:collapse;'>"
                                + "<tr>"
                                + "<td width='15%'>No. RM</td>"
                                + "<td width='2%'>:</td>"
                                + "<td width='20%'>").append(rs.getString("no_rkm_medis")).append("</td>"
                                + "<td width='15%'>Jenis Kelamin</td>"
                                + "<td width='2%'>:</td>"
                                + "<td width='15%'>").append(rs.getString("jk")).append("</td>"
                                + "<td width='15%'>Tanggal</td>"
                                + "<td width='2%'>:</td>"
                                + "<td width='14%'>").append(rs2.getString("tanggal")).append("</td>"
                                + "</tr>"
                                + "<tr>"
                                + "<td>Nama Pasien</td>"
                                + "<td>:</td>"
                                + "<td>").append(rs.getString("nm_pasien")).append("</td>"
                                + "<td>Tanggal Lahir</td>"
                                + "<td>:</td>"
                                + "<td>").append(rs.getString("tgl_lahir")).append("</td>"
                                + "<td>Anamnesis</td>"
                                + "<td>:</td>"
                                + "<td>").append(rs2.getString("informasi")).append("</td>"
                                + "</tr>"
                                + "<tr>"
                                + "<td>Tiba di Ruang Rawat</td>"
                                + "<td>:</td>"
                                + "<td>").append(rs2.getString("tiba_diruang_rawat")).append("</td>"
                                + "<td>Cara Masuk</td>"
                                + "<td>:</td>"
                                + "<td>").append(rs2.getString("cara_masuk")).append("</td>"
                                + "<td>DPJP</td>"
                                + "<td>:</td>"
                                + "<td>").append(rs2.getString("nm_dokter")).append("</td>"
                                + "</tr>"
                                + "</table>"
                        );

                        // I. RIWAYAT KESEHATAN
                        htmlContent.append(
                                "<table width='100%' border='1' cellpadding='4' cellspacing='0' style='border-collapse:collapse; margin-top:10px;'>"
                                + "<tr style='background-color:#f0f0f0;'>"
                                + "<td colspan='2'><strong>I. RIWAYAT KESEHATAN</strong></td>"
                                + "</tr>"
                                + "<tr>"
                                + "<td width='20%'>Keluhan Utama</td>"
                                + "<td>").append(rs2.getString("keluhan").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td>"
                                + "</tr>"
                                + "<tr>"
                                + "<td width='20%'>Riwayat Alergi</td>"
                                + "<td>").append(rs2.getString("alergi")).append("</td>"
                                + "</tr>"
                                + "<tr>"
                                + "<td width='20%'>Komplikasi Sebelumnya</td>"
                                + "<td>").append(rs2.getString("komplikasi_sebelumnya")).append("</td>"
                                + "</tr>"
                                + "<tr>"
                                + "<td width='20%'>Keterangan Komplikasi</td>"
                                + "<td>").append(rs2.getString("keterangan_komplikasi_sebelumnya")).append("</td>"
                                + "</tr>"
                                + "</table>"
                        );

                        // II. RIWAYAT MENSTRUASI
                        htmlContent.append(
                                "<table width='100%' border='1' cellpadding='4' cellspacing='0' style='border-collapse:collapse; margin-top:10px;'>"
                                + "<tr style='background-color:#f0f0f0;'>"
                                + "<td colspan='6'><strong>II. RIWAYAT MENSTRUASI</strong></td>"
                                + "</tr>"
                                + "<tr>"
                                + "<td width='16%'>Umur Menarche: ").append(rs2.getString("riwayat_mens_umur")).append(" tahun</td>"
                                + "<td width='16%'>Lamanya: ").append(rs2.getString("riwayat_mens_lamanya")).append(" hari</td>"
                                + "<td width='16%'>Banyaknya: ").append(rs2.getString("riwayat_mens_banyaknya")).append(" pembalut</td>"
                                + "<td width='16%'>Siklus: ").append(rs2.getString("riwayat_mens_siklus")).append(" hari</td>"
                                + "<td width='16%'>Status: ").append(rs2.getString("riwayat_mens_ket_siklus")).append("</td>"
                                + "<td width='20%'>Keluhan: ").append(rs2.getString("riwayat_mens_dirasakan")).append("</td>"
                                + "</tr>"
                                + "</table>"
                        );

                        // III. RIWAYAT PERKAWINAN & PERSALINAN
                        htmlContent.append(
                                "<table width='100%' border='1' cellpadding='4' cellspacing='0' style='border-collapse:collapse; margin-top:10px;'>"
                                + "<tr style='background-color:#f0f0f0;'>"
                                + "<td colspan='4'><strong>III. RIWAYAT PERKAWINAN & PERSALINAN</strong></td>"
                                + "</tr>"
                                + "<tr>"
                                + "<td width='25%'>Status Menikah: ").append(rs2.getString("riwayat_perkawinan_status")).append("</td>"
                                + "<td width='25%'>Berapa Kali: ").append(rs2.getString("riwayat_perkawinan_ket_status")).append(" kali</td>"
                                + "<td width='25%'>G: ").append(rs2.getString("riwayat_persalinan_g")).append("</td>"
                                + "<td width='25%'>P: ").append(rs2.getString("riwayat_persalinan_p")).append("</td>"
                                + "</tr>"
                                + "<tr>"
                                + "<td>A: ").append(rs2.getString("riwayat_persalinan_a")).append("</td>"
                                + "<td>Anak Hidup: ").append(rs2.getString("riwayat_persalinan_hidup")).append("</td>"
                                + "<td>Usia 1: ").append(rs2.getString("riwayat_perkawinan_usia1")).append("</td>"
                                + "<td>Status 1: ").append(rs2.getString("riwayat_perkawinan_ket_usia1")).append("</td>"
                                + "</tr>"
                                + "<tr>"
                                + "<td>Usia 2: ").append(rs2.getString("riwayat_perkawinan_usia2")).append("</td>"
                                + "<td>Status 2: ").append(rs2.getString("riwayat_perkawinan_ket_usia2")).append("</td>"
                                + "<td>Usia 3: ").append(rs2.getString("riwayat_perkawinan_usia3")).append("</td>"
                                + "<td>Status 3: ").append(rs2.getString("riwayat_perkawinan_ket_usia3")).append("</td>"
                                + "</tr>"
                                + "</table>"
                        );

                        // IV. RIWAYAT HAMIL SEKARANG
                        htmlContent.append(
                                "<table width='100%' border='1' cellpadding='4' cellspacing='0' style='border-collapse:collapse; margin-top:10px;'>"
                                + "<tr style='background-color:#f0f0f0;'>"
                                + "<td colspan='3'><strong>IV. RIWAYAT HAMIL SEKARANG</strong></td>"
                                + "</tr>"
                                + "<tr>"
                                + "<td width='33%'>HPHT: ").append(rs2.getString("riwayat_hamil_hpht")).append("</td>"
                                + "<td width='33%'>Usia Hamil: ").append(rs2.getString("riwayat_hamil_usiahamil")).append("</td>"
                                + "<td width='34%'>Tanggal Perkiraan: ").append(rs2.getString("riwayat_hamil_tp")).append("</td>"
                                + "</tr>"
                                + "<tr>"
                                + "<td>Imunisasi: ").append(rs2.getString("riwayat_hamil_imunisasi")).append("</td>"
                                + "<td>ANC: ").append(rs2.getString("riwayat_hamil_anc")).append(" kali</td>"
                                + "<td>ANC Ke: ").append(rs2.getString("riwayat_hamil_ancke")).append("</td>"
                                + "</tr>"
                                + "<tr>"
                                + "<td>Status ANC: ").append(rs2.getString("riwayat_hamil_ket_ancke")).append("</td>"
                                + "<td>Keluhan Hamil Muda: ").append(rs2.getString("riwayat_hamil_keluhan_hamil_muda")).append("</td>"
                                + "<td>Keluhan Hamil Tua: ").append(rs2.getString("riwayat_hamil_keluhan_hamil_tua")).append("</td>"
                                + "</tr>"
                                + "</table>"
                        );

                        // V. RIWAYAT KB & GINEKOLOGI
                        htmlContent.append(
                                "<table width='100%' border='1' cellpadding='4' cellspacing='0' style='border-collapse:collapse; margin-top:10px;'>"
                                + "<tr style='background-color:#f0f0f0;'>"
                                + "<td colspan='4'><strong>V. RIWAYAT KB & GINEKOLOGI</strong></td>"
                                + "</tr>"
                                + "<tr>"
                                + "<td width='25%'>Riwayat KB: ").append(rs2.getString("riwayat_kb")).append("</td>"
                                + "<td width='25%'>Lamanya: ").append(rs2.getString("riwayat_kb_lamanya")).append("</td>"
                                + "<td width='25%'>Komplikasi: ").append(rs2.getString("riwayat_kb_komplikasi")).append("</td>"
                                + "<td width='25%'>Keterangan: ").append(rs2.getString("riwayat_kb_ket_komplikasi")).append("</td>"
                                + "</tr>"
                                + "<tr>"
                                + "<td>Kapan Berhenti: ").append(rs2.getString("riwayat_kb_kapaberhenti")).append("</td>"
                                + "<td>Alasan Berhenti: ").append(rs2.getString("riwayat_kb_alasanberhenti")).append("</td>"
                                + "<td colspan='2'>Riwayat Ginekologi: ").append(rs2.getString("riwayat_genekologi")).append("</td>"
                                + "</tr>"
                                + "</table>"
                        );

                        // VI. RIWAYAT KEBIASAAN
                        htmlContent.append(
                                "<table width='100%' border='1' cellpadding='4' cellspacing='0' style='border-collapse:collapse; margin-top:10px;'>"
                                + "<tr style='background-color:#f0f0f0;'>"
                                + "<td colspan='4'><strong>VI. RIWAYAT KEBIASAAN</strong></td>"
                                + "</tr>"
                                + "<tr>"
                                + "<td width='25%'>Obat-obatan: ").append(rs2.getString("riwayat_kebiasaan_obat")).append("</td>"
                                + "<td width='25%'>Keterangan: ").append(rs2.getString("riwayat_kebiasaan_ket_obat")).append("</td>"
                                + "<td width='25%'>Merokok: ").append(rs2.getString("riwayat_kebiasaan_merokok")).append("</td>"
                                + "<td width='25%'>Keterangan: ").append(rs2.getString("riwayat_kebiasaan_ket_merokok")).append("</td>"
                                + "</tr>"
                                + "<tr>"
                                + "<td>Alkohol: ").append(rs2.getString("riwayat_kebiasaan_alkohol")).append("</td>"
                                + "<td>Keterangan: ").append(rs2.getString("riwayat_kebiasaan_ket_alkohol")).append("</td>"
                                + "<td colspan='2'>Narkoba: ").append(rs2.getString("riwayat_kebiasaan_narkoba")).append("</td>"
                                + "</tr>"
                                + "</table>"
                        );

                        // VII. PEMERIKSAAN FISIK UMUM
                        htmlContent.append(
                                "<table width='100%' border='1' cellpadding='4' cellspacing='0' style='border-collapse:collapse; margin-top:10px;'>"
                                + "<tr style='background-color:#f0f0f0;'>"
                                + "<td colspan='6'><strong>VII. PEMERIKSAAN FISIK UMUM</strong></td>"
                                + "</tr>"
                                + "<tr>"
                                + "<td width='16%'>Kepala: ").append(rs2.getString("pemeriksaan_umum_kepala")).append("</td>"
                                + "<td width='16%'>Muka: ").append(rs2.getString("pemeriksaan_umum_muka")).append("</td>"
                                + "<td width='16%'>Mata: ").append(rs2.getString("pemeriksaan_umum_mata")).append("</td>"
                                + "<td width='16%'>Hidung: ").append(rs2.getString("pemeriksaan_umum_hidung")).append("</td>"
                                + "<td width='16%'>Telinga: ").append(rs2.getString("pemeriksaan_umum_telinga")).append("</td>"
                                + "<td width='20%'>Mulut: ").append(rs2.getString("pemeriksaan_umum_mulut")).append("</td>"
                                + "</tr>"
                                + "<tr>"
                                + "<td>Leher: ").append(rs2.getString("pemeriksaan_umum_leher")).append("</td>"
                                + "<td>Dada: ").append(rs2.getString("pemeriksaan_umum_dada")).append("</td>"
                                + "<td>Perut: ").append(rs2.getString("pemeriksaan_umum_perut")).append("</td>"
                                + "<td>Genitalia: ").append(rs2.getString("pemeriksaan_umum_genitalia")).append("</td>"
                                + "<td colspan='2'>Ekstremitas: ").append(rs2.getString("pemeriksaan_umum_ekstrimitas")).append("</td>"
                                + "</tr>"
                                + "</table>"
                        );

                        // VIII. PEMERIKSAAN KEBIDANAN
                        htmlContent.append(
                                "<table width='100%' border='1' cellpadding='4' cellspacing='0' style='border-collapse:collapse; margin-top:10px;'>"
                                + "<tr style='background-color:#f0f0f0;'>"
                                + "<td colspan='4'><strong>VIII. PEMERIKSAAN KEBIDANAN</strong></td>"
                                + "</tr>"
                                + "<tr>"
                                + "<td width='25%'>Kesadaran Mental: ").append(rs2.getString("pemeriksaan_kebidanan_mental")).append("</td>"
                                + "<td width='25%'>Keadaan Umum: ").append(rs2.getString("pemeriksaan_kebidanan_keadaan_umum")).append("</td>"
                                + "<td width='25%'>GCS: ").append(rs2.getString("pemeriksaan_kebidanan_gcs")).append("</td>"
                                + "<td width='25%'>TD: ").append(rs2.getString("pemeriksaan_kebidanan_td")).append(" mmHg</td>"
                                + "</tr>"
                                + "<tr>"
                                + "<td>Nadi: ").append(rs2.getString("pemeriksaan_kebidanan_nadi")).append(" x/mnt</td>"
                                + "<td>RR: ").append(rs2.getString("pemeriksaan_kebidanan_rr")).append(" x/mnt</td>"
                                + "<td>Suhu: ").append(rs2.getString("pemeriksaan_kebidanan_suhu")).append(" C</td>"
                                + "<td>SpO2: ").append(rs2.getString("pemeriksaan_kebidanan_spo2")).append(" %</td>"
                                + "</tr>"
                                + "<tr>"
                                + "<td>BB: ").append(rs2.getString("pemeriksaan_kebidanan_bb")).append(" Kg</td>"
                                + "<td>TB: ").append(rs2.getString("pemeriksaan_kebidanan_tb")).append(" cm</td>"
                                + "<td>LILA: ").append(rs2.getString("pemeriksaan_kebidanan_lila")).append(" cm</td>"
                                + "<td>TFU: ").append(rs2.getString("pemeriksaan_kebidanan_tfu")).append(" cm</td>"
                                + "</tr>"
                                + "<tr>"
                                + "<td>TBJ: ").append(rs2.getString("pemeriksaan_kebidanan_tbj")).append(" gram</td>"
                                + "<td>Letak: ").append(rs2.getString("pemeriksaan_kebidanan_letak")).append("</td>"
                                + "<td>Presentasi: ").append(rs2.getString("pemeriksaan_kebidanan_presentasi")).append("</td>"
                                + "<td>Penurunan: ").append(rs2.getString("pemeriksaan_kebidanan_penurunan")).append("</td>"
                                + "</tr>"
                                + "<tr>"
                                + "<td>HIS: ").append(rs2.getString("pemeriksaan_kebidanan_his")).append("</td>"
                                + "<td>Kekuatan: ").append(rs2.getString("pemeriksaan_kebidanan_kekuatan")).append("</td>"
                                + "<td>Lamanya: ").append(rs2.getString("pemeriksaan_kebidanan_lamanya")).append(" detik</td>"
                                + "<td>DJJ: ").append(rs2.getString("pemeriksaan_kebidanan_djj")).append(" x/mnt</td>"
                                + "</tr>"
                                + "<tr>"
                                + "<td>Keterangan DJJ: ").append(rs2.getString("pemeriksaan_kebidanan_ket_djj")).append("</td>"
                                + "<td>Portio: ").append(rs2.getString("pemeriksaan_kebidanan_portio")).append("</td>"
                                + "<td>Pembukaan: ").append(rs2.getString("pemeriksaan_kebidanan_pembukaan")).append(" cm</td>"
                                + "<td>Ketuban: ").append(rs2.getString("pemeriksaan_kebidanan_ketuban")).append("</td>"
                                + "</tr>"
                                + "<tr>"
                                + "<td>Hodge: ").append(rs2.getString("pemeriksaan_kebidanan_hodge")).append("</td>"
                                + "<td>Panggul: ").append(rs2.getString("pemeriksaan_kebidanan_panggul")).append("</td>"
                                + "<td colspan='2'></td>"
                                + "</tr>"
                                + "</table>"
                        );

                        // IX. PEMERIKSAAN PENUNJANG KEBIDANAN
                        htmlContent.append(
                                "<table width='100%' border='1' cellpadding='4' cellspacing='0' style='border-collapse:collapse; margin-top:10px;'>"
                                + "<tr style='background-color:#f0f0f0;'>"
                                + "<td colspan='3'><strong>IX. PEMERIKSAAN PENUNJANG KEBIDANAN</strong></td>"
                                + "</tr>"
                                + "<tr>"
                                + "<td width='33%'>Inspekulo: ").append(rs2.getString("pemeriksaan_kebidanan_inspekulo")).append("</td>"
                                + "<td width='33%'>Lakmus: ").append(rs2.getString("pemeriksaan_kebidanan_lakmus")).append("</td>"
                                + "<td width='34%'>CTG: ").append(rs2.getString("pemeriksaan_kebidanan_ctg")).append("</td>"
                                + "</tr>"
                                + "<tr style='height:40px; vertical-align:top;'>"
                                + "<td>Keterangan Inspekulo: ").append(rs2.getString("pemeriksaan_kebidanan_ket_inspekulo")).append("</td>"
                                + "<td>Keterangan Lakmus: ").append(rs2.getString("pemeriksaan_kebidanan_ket_lakmus")).append("</td>"
                                + "<td>Keterangan CTG: ").append(rs2.getString("pemeriksaan_kebidanan_ket_ctg")).append("</td>"
                                + "</tr>"
                                + "</table>"
                        );

                        // X. PENGKAJIAN FUNGSI & AKTIVITAS
                        htmlContent.append(
                                "<table width='100%' border='1' cellpadding='4' cellspacing='0' style='border-collapse:collapse; margin-top:10px;'>"
                                + "<tr style='background-color:#f0f0f0;'>"
                                + "<td colspan='4'><strong>X. PENGKAJIAN FUNGSI & AKTIVITAS</strong></td>"
                                + "</tr>"
                                + "<tr>"
                                + "<td width='25%'>Kemampuan Aktivitas: ").append(rs2.getString("pengkajian_fungsi_kemampuan_aktifitas")).append("</td>"
                                + "<td width='25%'>Berjalan: ").append(rs2.getString("pengkajian_fungsi_berjalan")).append("</td>"
                                + "<td width='25%'>Ket. Berjalan: ").append(rs2.getString("pengkajian_fungsi_ket_berjalan")).append("</td>"
                                + "<td width='25%'>Aktivitas: ").append(rs2.getString("pengkajian_fungsi_aktivitas")).append("</td>"
                                + "</tr>"
                                + "<tr>"
                                + "<td>Ambulasi: ").append(rs2.getString("pengkajian_fungsi_ambulasi")).append("</td>"
                                + "<td>Ekstremitas Atas: ").append(rs2.getString("pengkajian_fungsi_ekstrimitas_atas")).append("</td>"
                                + "<td>Ket. Ekstremitas Atas: ").append(rs2.getString("pengkajian_fungsi_ket_ekstrimitas_atas")).append("</td>"
                                + "<td>Ekstremitas Bawah: ").append(rs2.getString("pengkajian_fungsi_ekstrimitas_bawah")).append("</td>"
                                + "</tr>"
                                + "<tr>"
                                + "<td>Ket. Ekstremitas Bawah: ").append(rs2.getString("pengkajian_fungsi_ket_ekstrimitas_bawah")).append("</td>"
                                + "<td>Kemampuan Menggenggam: ").append(rs2.getString("pengkajian_fungsi_kemampuan_menggenggam")).append("</td>"
                                + "<td>Ket. Menggenggam: ").append(rs2.getString("pengkajian_fungsi_ket_kemampuan_menggenggam")).append("</td>"
                                + "<td>Koordinasi: ").append(rs2.getString("pengkajian_fungsi_koordinasi")).append("</td>"
                                + "</tr>"
                                + "<tr>"
                                + "<td>Ket. Koordinasi: ").append(rs2.getString("pengkajian_fungsi_ket_koordinasi")).append("</td>"
                                + "<td colspan='3'>Gangguan Fungsi: ").append(rs2.getString("pengkajian_fungsi_gangguan_fungsi")).append("</td>"
                                + "</tr>"
                                + "</table>"
                        );

                        // XI. RIWAYAT PSIKOSOSIAL
                        htmlContent.append(
                                "<table width='100%' border='1' cellpadding='4' cellspacing='0' style='border-collapse:collapse; margin-top:10px;'>"
                                + "<tr style='background-color:#f0f0f0;'>"
                                + "<td colspan='4'><strong>XI. RIWAYAT PSIKOSOSIAL</strong></td>"
                                + "</tr>"
                                + "<tr>"
                                + "<td width='25%'>Kondisi Psiko: ").append(rs2.getString("riwayat_psiko_kondisipsiko")).append("</td>"
                                + "<td width='25%'>Adakah Prilaku: ").append(rs2.getString("riwayat_psiko_adakah_prilaku")).append("</td>"
                                + "<td width='25%'>Ket. Prilaku: ").append(rs2.getString("riwayat_psiko_ket_adakah_prilaku")).append("</td>"
                                + "<td width='25%'>Gangguan Jiwa: ").append(rs2.getString("riwayat_psiko_gangguan_jiwa")).append("</td>"
                                + "</tr>"
                                + "<tr>"
                                + "<td>Hubungan Pasien: ").append(rs2.getString("riwayat_psiko_hubungan_pasien")).append("</td>"
                                + "<td>Tinggal Dengan: ").append(rs2.getString("riwayat_psiko_tinggal_dengan")).append("</td>"
                                + "<td>Ket. Tinggal: ").append(rs2.getString("riwayat_psiko_ket_tinggal_dengan")).append("</td>"
                                + "<td>Budaya: ").append(rs2.getString("riwayat_psiko_budaya")).append("</td>"
                                + "</tr>"
                                + "<tr>"
                                + "<td>Ket. Budaya: ").append(rs2.getString("riwayat_psiko_ket_budaya")).append("</td>"
                                + "<td>Pendidikan PJ: ").append(rs2.getString("riwayat_psiko_pend_pj")).append("</td>"
                                + "<td>Edukasi Pada: ").append(rs2.getString("riwayat_psiko_edukasi_pada")).append("</td>"
                                + "<td>Ket. Edukasi: ").append(rs2.getString("riwayat_psiko_ket_edukasi_pada")).append("</td>"
                                + "</tr>"
                                + "</table>"
                        );

                        // XII. PENILAIAN NYERI
                        htmlContent.append(
                                "<table width='100%' border='1' cellpadding='4' cellspacing='0' style='border-collapse:collapse; margin-top:10px;'>"
                                + "<tr style='background-color:#f0f0f0;'>"
                                + "<td colspan='4'><strong>XII. PENILAIAN NYERI</strong></td>"
                                + "</tr>"
                                + "<tr>"
                                + "<td width='25%'>Penilaian Nyeri: ").append(rs2.getString("penilaian_nyeri")).append("</td>"
                                + "<td width='25%'>Penyebab: ").append(rs2.getString("penilaian_nyeri_penyebab")).append("</td>"
                                + "<td width='25%'>Ket. Penyebab: ").append(rs2.getString("penilaian_nyeri_ket_penyebab")).append("</td>"
                                + "<td width='25%'>Kualitas: ").append(rs2.getString("penilaian_nyeri_kualitas")).append("</td>"
                                + "</tr>"
                                + "<tr>"
                                + "<td>Ket. Kualitas: ").append(rs2.getString("penilaian_nyeri_ket_kualitas")).append("</td>"
                                + "<td>Lokasi: ").append(rs2.getString("penilaian_nyeri_lokasi")).append("</td>"
                                + "<td>Menyebar: ").append(rs2.getString("penilaian_nyeri_menyebar")).append("</td>"
                                + "<td>Skala: ").append(rs2.getString("penilaian_nyeri_skala")).append("</td>"
                                + "</tr>"
                                + "<tr>"
                                + "<td>Waktu: ").append(rs2.getString("penilaian_nyeri_waktu")).append("</td>"
                                + "<td>Hilang: ").append(rs2.getString("penilaian_nyeri_hilang")).append("</td>"
                                + "<td>Ket. Hilang: ").append(rs2.getString("penilaian_nyeri_ket_hilang")).append("</td>"
                                + "<td>Diberitahukan Dokter: ").append(rs2.getString("penilaian_nyeri_diberitahukan_dokter")).append("</td>"
                                + "</tr>"
                                + "<tr>"
                                + "<td colspan='4'>Jam Diberitahukan Dokter: ").append(rs2.getString("penilaian_nyeri_jam_diberitahukan_dokter")).append("</td>"
                                + "</tr>"
                                + "</table>"
                        );

                        // XIII. PENILAIAN JATUH
                        htmlContent.append(
                                "<table width='100%' border='1' cellpadding='4' cellspacing='0' style='border-collapse:collapse; margin-top:10px;'>"
                                + "<tr style='background-color:#f0f0f0;'>"
                                + "<td colspan='6'><strong>XIII. PENILAIAN RISIKO JATUH</strong></td>"
                                + "</tr>"
                                + "<tr>"
                                + "<td width='16%'>Skala 1: ").append(rs2.getString("penilaian_jatuh_skala1")).append("</td>"
                                + "<td width='16%'>Nilai 1: ").append(rs2.getString("penilaian_jatuh_nilai1")).append("</td>"
                                + "<td width='16%'>Skala 2: ").append(rs2.getString("penilaian_jatuh_skala2")).append("</td>"
                                + "<td width='16%'>Nilai 2: ").append(rs2.getString("penilaian_jatuh_nilai2")).append("</td>"
                                + "<td width='16%'>Skala 3: ").append(rs2.getString("penilaian_jatuh_skala3")).append("</td>"
                                + "<td width='20%'>Nilai 3: ").append(rs2.getString("penilaian_jatuh_nilai3")).append("</td>"
                                + "</tr>"
                                + "<tr>"
                                + "<td>Skala 4: ").append(rs2.getString("penilaian_jatuh_skala4")).append("</td>"
                                + "<td>Nilai 4: ").append(rs2.getString("penilaian_jatuh_nilai4")).append("</td>"
                                + "<td>Skala 5: ").append(rs2.getString("penilaian_jatuh_skala5")).append("</td>"
                                + "<td>Nilai 5: ").append(rs2.getString("penilaian_jatuh_nilai5")).append("</td>"
                                + "<td>Skala 6: ").append(rs2.getString("penilaian_jatuh_skala6")).append("</td>"
                                + "<td>Nilai 6: ").append(rs2.getString("penilaian_jatuh_nilai6")).append("</td>"
                                + "</tr>"
                                + "<tr style='background-color:#f8f8f8;'>"
                                + "<td colspan='6'><strong>Total Nilai Risiko Jatuh: ").append(rs2.getString("penilaian_jatuh_totalnilai")).append("</strong></td>"
                                + "</tr>"
                                + "</table>"
                        );

                        // XIV. SKRINING GIZI
                        htmlContent.append(
                                "<table width='100%' border='1' cellpadding='4' cellspacing='0' style='border-collapse:collapse; margin-top:10px;'>"
                                + "<tr style='background-color:#f0f0f0;'>"
                                + "<td colspan='4'><strong>XIV. SKRINING GIZI</strong></td>"
                                + "</tr>"
                                + "<tr>"
                                + "<td width='25%'>Skrining Gizi 1: ").append(rs2.getString("skrining_gizi1")).append("</td>"
                                + "<td width='25%'>Nilai Gizi 1: ").append(rs2.getString("nilai_gizi1")).append("</td>"
                                + "<td width='25%'>Skrining Gizi 2: ").append(rs2.getString("skrining_gizi2")).append("</td>"
                                + "<td width='25%'>Nilai Gizi 2: ").append(rs2.getString("nilai_gizi2")).append("</td>"
                                + "</tr>"
                                + "<tr style='background-color:#f8f8f8;'>"
                                + "<td colspan='2'><strong>Total Nilai Gizi: ").append(rs2.getString("nilai_total_gizi")).append("</strong></td>"
                                + "<td>Diagnosa Khusus: ").append(rs2.getString("skrining_gizi_diagnosa_khusus")).append("</td>"
                                + "<td>Ket. Diagnosa: ").append(rs2.getString("skrining_gizi_ket_diagnosa_khusus")).append("</td>"
                                + "</tr>"
                                + "<tr>"
                                + "<td colspan='2'>Diketahui Dietisen: ").append(rs2.getString("skrining_gizi_diketahui_dietisen")).append("</td>"
                                + "<td colspan='2'>Jam Diketahui Dietisen: ").append(rs2.getString("skrining_gizi_jam_diketahui_dietisen")).append("</td>"
                                + "</tr"
                                + "</table>"
                        );

                        // XV. ASESMEN & RENCANA KEBIDANAN
                        htmlContent.append(
                                "<table width='100%' border='1' cellpadding='4' cellspacing='0' style='border-collapse:collapse; margin-top:10px;'>"
                                + "<tr style='background-color:#f0f0f0;'>"
                                + "<td colspan='2'><strong>XV. ASESMEN & RENCANA KEBIDANAN</strong></td>"
                                + "</tr>"
                                + "<tr>"
                                + "<td width='50%' style='background-color:#f8f8f8;'><strong>ASESMEN/MASALAH KEBIDANAN</strong></td>"
                                + "<td width='50%' style='background-color:#f8f8f8;'><strong>RENCANA KEBIDANAN</strong></td>"
                                + "</tr>"
                                + "<tr style='height:100px; vertical-align:top;'>"
                                + "<td style='padding:8px;'>");

                        // Ambil masalah keperawatan dari tabel master
                        try {
                            rs3 = koneksi.prepareStatement(
                                    "select master_masalah_keperawatan_kebidanan.nama_masalah "
                                    + "from master_masalah_keperawatan_kebidanan "
                                    + "inner join penilaian_awal_keperawatan_kebidanan_ranap_masalah on "
                                    + "penilaian_awal_keperawatan_kebidanan_ranap_masalah.kode_masalah=master_masalah_keperawatan_kebidanan.kode_masalah "
                                    + "where penilaian_awal_keperawatan_kebidanan_ranap_masalah.no_rawat='" + norawat + "' "
                                    + "and penilaian_awal_keperawatan_kebidanan_ranap_masalah.tanggal='" + rs2.getString("tanggal") + "' "
                                    + "order by penilaian_awal_keperawatan_kebidanan_ranap_masalah.kode_masalah"
                            ).executeQuery();
                            while (rs3.next()) {
                                htmlContent.append(" " + rs3.getString("nama_masalah") + "<br>");
                            }
                        } catch (Exception e) {
                            System.out.println("Notif masalah: " + e);
                        } finally {
                            if (rs3 != null) {
                                rs3.close();
                            }
                        }

                        htmlContent.append(rs2.getString("masalah").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")
                                + "</td>"
                                + "<td style='padding:8px;'>");

                        // Ambil rencana keperawatan dari tabel master
                        try {
                            rs3 = koneksi.prepareStatement(
                                    "select master_rencana_keperawatan_kebidanan.rencana_kebidanan "
                                    + "from master_rencana_keperawatan_kebidanan "
                                    + "inner join penilaian_awal_keperawatan_kebidanan_ranap_rencana on "
                                    + "penilaian_awal_keperawatan_kebidanan_ranap_rencana.kode_rencana=master_rencana_keperawatan_kebidanan.kode_rencana "
                                    + "where penilaian_awal_keperawatan_kebidanan_ranap_rencana.no_rawat='" + norawat + "' "
                                    + "and penilaian_awal_keperawatan_kebidanan_ranap_rencana.tanggal='" + rs2.getString("tanggal") + "' "
                                    + "order by penilaian_awal_keperawatan_kebidanan_ranap_rencana.kode_rencana"
                            ).executeQuery();
                            while (rs3.next()) {
                                htmlContent.append(" " + rs3.getString("rencana_kebidanan") + "<br>");
                            }
                        } catch (Exception e) {
                            System.out.println("Notif rencana: " + e);
                        } finally {
                            if (rs3 != null) {
                                rs3.close();
                            }
                        }

                        htmlContent.append(rs2.getString("rencana").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")
                                + "</td>"
                                + "</tr>"
                                + "</table>"
                        );

                        // Footer dengan tanda tangan dan QR code
                        try {
                            // Generate QR Code untuk pengkaji 1
                            get = new GetMethod("http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/penggajian/generateqrcode.php?kodedokter=" + rs2.getString("nip1").replace(" ", "_"));
                            http.executeMethod(get);

                            // Generate QR Code untuk pengkaji 2 jika ada
                            if (!rs2.getString("nip2").isEmpty() && !rs2.getString("nip2").equals("-")) {
                                get = new GetMethod("http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/penggajian/generateqrcode.php?kodedokter=" + rs2.getString("nip2").replace(" ", "_"));
                                http.executeMethod(get);
                            }

                            // Generate QR Code untuk dokter
                            get = new GetMethod("http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/penggajian/generateqrcode.php?kodedokter=" + rs2.getString("kd_dokter").replace(" ", "_"));
                            http.executeMethod(get);
                        } catch (Exception e) {
                            System.out.println("Error generating QR code: " + e);
                        }

                        htmlContent.append(
                                "<table width='100%' border='1' cellpadding='4' cellspacing='0' style='border-collapse:collapse; margin-top:20px;'>"
                                + "<tr>"
                                + "<td width='33%' style='height:120px; vertical-align:bottom; text-align:center;'>"
                                + "<strong>Pengkaji 1</strong><br>"
                                + "<img width='100' height='100' src='http://").append(koneksiDB.HOSTHYBRIDWEB()).append(":").append(koneksiDB.PORTWEB()).append("/").append(koneksiDB.HYBRIDWEB()).append("/penggajian/temp/").append(rs2.getString("nip1")).append(".png'/><br>"
                                + rs2.getString("pengkaji1") + "<br>"
                                + "NIP: " + rs2.getString("nip1")
                                + "</td>"
                        );

                        // Tampilkan pengkaji 2 jika ada
                        if (!rs2.getString("nip2").isEmpty() && !rs2.getString("nip2").equals("-")) {
                            htmlContent.append(
                                    "<td width='33%' style='height:120px; vertical-align:bottom; text-align:center;'>"
                                    + "<strong>Pengkaji 2</strong><br>"
                                    + "<img width='100' height='100' src='http://").append(koneksiDB.HOSTHYBRIDWEB()).append(":").append(koneksiDB.PORTWEB()).append("/").append(koneksiDB.HYBRIDWEB()).append("/penggajian/temp/").append(rs2.getString("nip2")).append(".png'/><br>"
                                    + rs2.getString("pengkaji2") + "<br>"
                                    + "NIP: " + rs2.getString("nip2")
                                    + "</td>"
                            );
                        } else {
                            htmlContent.append(
                                    "<td width='33%' style='height:120px; vertical-align:bottom; text-align:center;'>"
                                    + "<strong>Pengkaji 2</strong><br><br>"
                                    + "-"
                                    + "</td>"
                            );
                        }

                        htmlContent.append(
                                "<td width='34%' style='height:120px; vertical-align:bottom; text-align:center;'>"
                                + "<strong>DPJP</strong><br>"
                                + "<img width='100' height='100' src='http://").append(koneksiDB.HOSTHYBRIDWEB()).append(":").append(koneksiDB.PORTWEB()).append("/").append(koneksiDB.HYBRIDWEB()).append("/penggajian/temp/").append(rs2.getString("kd_dokter")).append(".png'/><br>"
                                + rs2.getString("nm_dokter") + "<br>"
                                + "Kode: " + rs2.getString("kd_dokter")
                                + "</td>"
                                + "</tr>"
                                + "<tr>"
                                + "<td colspan='3' style='text-align:center; padding:10px;'>"
                                + "<strong>Tanggal dan Waktu Pengkajian: " + rs2.getString("tanggal") + "</strong>"
                                + "</td>"
                                + "</tr>"
                                + "</table>"
                        );

                        htmlContent.append("</fieldset>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Asuhan Kebidanan Rawat Inap: " + e);
        }
    }

    //menampilkan Pemantauan Terapi Obat
    private void menampilkanLaporanPemantauanTerapiObat() {
        String norawat = NoRawat.getText();
        System.out.println("=== GENERATE LAPORAN DENGAN QUERY DINAMIS ===");
        System.out.println("No Rawat: " + norawat);

        try {
            htmlContent.append(
                    "<tr class='isi'>"
                    + "<td valign='top' width='2%'></td>"
                    + "<td valign='top' width='18%'>Pemantauan Terapi Obat</td>"
                    + "<td valign='top' width='1%' align='center'>:</td>"
                    + "<td valign='top' width='79%'>"
                    + "<table width='100%' border='1' cellpadding='5px' cellspacing='0' style='border-collapse: collapse; border: 1px solid black;'>"
            );

            // Default values jika data tidak ditemukan
            String tglMasuk = "-";
            String bbTb = "-";
            String diagnosis = "-";
            String dpjp = "-";
            String alergiObat = "Tidak ada";
            String jaminan = "-";

            // Ambil data pasien dari database
            try {
                // 1. Query untuk mengambil data registrasi dan penjamin
                String sqlRegistrasi = "SELECT rp.tgl_registrasi, pj.png_jawab "
                        + "FROM reg_periksa rp "
                        + "LEFT JOIN penjab pj ON pj.kd_pj = rp.kd_pj "
                        + "WHERE rp.no_rawat = ?";
                PreparedStatement psRegistrasi = koneksi.prepareStatement(sqlRegistrasi);
                psRegistrasi.setString(1, norawat);
                ResultSet rsRegistrasi = psRegistrasi.executeQuery();

                if (rsRegistrasi.next()) {
                    // Format tanggal registrasi
                    Date tglReg = rsRegistrasi.getDate("tgl_registrasi");
                    if (tglReg != null) {
                        SimpleDateFormat sdf = new SimpleDateFormat("dd MMMM yyyy", new Locale("id", "ID"));
                        tglMasuk = sdf.format(tglReg);
                    }

                    jaminan = rsRegistrasi.getString("png_jawab") != null
                            ? rsRegistrasi.getString("png_jawab") : jaminan;
                }
                rsRegistrasi.close();
                psRegistrasi.close();

                // 2. Query untuk mengambil diagnosa awal dari kamar inap
                String sqlDiagnosa = "SELECT diagnosa_awal FROM kamar_inap WHERE no_rawat = ? LIMIT 1";
                PreparedStatement psDiagnosa = koneksi.prepareStatement(sqlDiagnosa);
                psDiagnosa.setString(1, norawat);
                ResultSet rsDiagnosa = psDiagnosa.executeQuery();

                if (rsDiagnosa.next()) {
                    diagnosis = rsDiagnosa.getString("diagnosa_awal") != null
                            ? rsDiagnosa.getString("diagnosa_awal") : diagnosis;
                }
                rsDiagnosa.close();
                psDiagnosa.close();

                // 3. Query untuk mengambil DPJP dari dpjp_ranap
                String sqlDpjp = "SELECT d.nm_dokter "
                        + "FROM dpjp_ranap dpjp "
                        + "LEFT JOIN dokter d ON d.kd_dokter = dpjp.kd_dokter "
                        + "WHERE dpjp.no_rawat = ? LIMIT 1";
                PreparedStatement psDpjp = koneksi.prepareStatement(sqlDpjp);
                psDpjp.setString(1, norawat);
                ResultSet rsDpjp = psDpjp.executeQuery();

                if (rsDpjp.next()) {
                    dpjp = rsDpjp.getString("nm_dokter") != null
                            ? "dr. " + rsDpjp.getString("nm_dokter") : dpjp;
                }
                rsDpjp.close();
                psDpjp.close();

                // 4. Query untuk mengambil BB/TB dan alergi obat dari pemeriksaan_ranap
                String sqlPemeriksaan = "SELECT berat, tinggi, alergi "
                        + "FROM pemeriksaan_ranap "
                        + "WHERE no_rawat = ? "
                        + "ORDER BY tgl_perawatan DESC, jam_rawat DESC LIMIT 1";
                PreparedStatement psPemeriksaan = koneksi.prepareStatement(sqlPemeriksaan);
                psPemeriksaan.setString(1, norawat);
                ResultSet rsPemeriksaan = psPemeriksaan.executeQuery();

                if (rsPemeriksaan.next()) {
                    // Format BB/TB
                    String berat = rsPemeriksaan.getString("berat");
                    String tinggi = rsPemeriksaan.getString("tinggi");

                    if (berat != null && tinggi != null) {
                        bbTb = berat + " kg / " + tinggi + " cm";
                    } else if (berat != null) {
                        bbTb = berat + " kg";
                    } else if (tinggi != null) {
                        bbTb = tinggi + " cm";
                    }

                    // Ambil data alergi obat
                    String alergi = rsPemeriksaan.getString("alergi");
                    if (alergi != null && !alergi.isEmpty()) {
                        alergiObat = alergi;
                    }
                }
                rsPemeriksaan.close();
                psPemeriksaan.close();

                System.out.println(" Data pasien ditemukan");
            } catch (Exception ePasien) {
                System.out.println(" Tidak bisa ambil data pasien: " + ePasien.getMessage());
            }

            htmlContent.append(
                    "<tr>"
                    + "<td valign='top' colspan='4'>"
                    + "<div style='text-align: center; font-weight: bold; font-size: 16px; margin-bottom: 15px;'>"
                    + "FORMULIR PEMANTAUAN TERAPI OBAT"
                    + "</div>"
                    + "<table width='100%' border='1' cellpadding='5px' cellspacing='0' style='border-collapse: collapse; border: 1px solid black;'>"
                    + "<tr>"
                    + "<td width='15%' style='border: 1px solid black;'><strong>Tanggal Masuk</strong></td>"
                    + "<td width='35%' style='border: 1px solid black;'>: " + tglMasuk + "</td>"
                    + "<td width='15%' style='border: 1px solid black;'><strong>BB/TB</strong></td>"
                    + "<td width='35%' style='border: 1px solid black;'>: " + bbTb + "</td>"
                    + "</tr>"
                    + "<tr>"
                    + "<td style='border: 1px solid black;'><strong>Diagnosis</strong></td>"
                    + "<td colspan='3' style='border: 1px solid black;'>: " + diagnosis + "</td>"
                    + "</tr>"
                    + "<tr>"
                    + "<td style='border: 1px solid black;'><strong>DPJP</strong></td>"
                    + "<td style='border: 1px solid black;'>: " + dpjp + "</td>"
                    + "<td style='border: 1px solid black;'><strong>Alergi Obat</strong></td>"
                    + "<td style='border: 1px solid black;'>: " + alergiObat + "</td>"
                    + "</tr>"
                    + "<tr>"
                    + "<td style='border: 1px solid black;'><strong>Jaminan</strong></td>"
                    + "<td colspan='3' style='border: 1px solid black;'>: " + jaminan + "</td>"
                    + "</tr>"
                    + "</table>"
                    + "</td>"
                    + "</tr>"
                    + "<tr>"
                    + "<td valign='top' colspan='4'>"
                    + "<div style='text-align: center; font-weight: bold; margin: 15px 0 10px 0; font-size: 14px;'>"
                    + "PROFIL PENGGUNAAN OBAT"
                    + "</div>"
                    + "</td>"
                    + "</tr>"
            );

            // AMBIL DATA TERAPI OBAT DARI DATABASE
            String sqlTerapi = "SELECT pto.id, pto.nama_obat, pto.dosis, pto.cara_pemberian, "
                    + "pto.jenis_obat, pto.status, "
                    + "DATE_FORMAT(pto.tgl_mulai_terapi,'%d-%m-%Y') as tgl_mulai, "
                    + "pto.jumlah_hari, pto.keterangan "
                    + "FROM pemantauan_terapi_obat pto "
                    + "WHERE pto.no_rawat = ? "
                    + "ORDER BY pto.tgl_mulai_terapi, pto.id";

            PreparedStatement psTerapi = koneksi.prepareStatement(sqlTerapi);
            psTerapi.setString(1, norawat);
            ResultSet rsTerapi = psTerapi.executeQuery();

            // Kumpulkan data terapi dan jadwal
            List<DataTerapiObat> listTerapi = new ArrayList<>();
            Set<String> allDates = new LinkedHashSet<>();

            while (rsTerapi.next()) {
                DataTerapiObat terapi = new DataTerapiObat();
                terapi.id = rsTerapi.getString("id");
                terapi.namaObat = rsTerapi.getString("nama_obat");
                terapi.dosis = rsTerapi.getString("dosis");
                terapi.caraPemberian = convertCaraPemberianToRoute(rsTerapi.getString("cara_pemberian"));
                terapi.jenisObat = rsTerapi.getString("jenis_obat");
                terapi.status = rsTerapi.getString("status");

                // Ambil jadwal harian untuk obat ini - TAMBAHKAN KETERANGAN
                String sqlJadwal = "SELECT DATE_FORMAT(tgl_pemberian,'%d/%m') as tgl_format, "
                        + "tgl_pemberian, status_pemberian, keterangan "
                        + "FROM pemberian_obat_harian "
                        + "WHERE id_terapi = ? "
                        + "ORDER BY tgl_pemberian";

                PreparedStatement psJadwal = koneksi.prepareStatement(sqlJadwal);
                psJadwal.setString(1, terapi.id);
                ResultSet rsJadwal = psJadwal.executeQuery();

                terapi.jadwalHarian = new ArrayList<>();
                while (rsJadwal.next()) {
                    JadwalHarian jadwal = new JadwalHarian();
                    jadwal.tanggalFormat = rsJadwal.getString("tgl_format");
                    jadwal.statusPemberian = rsJadwal.getString("status_pemberian");
                    jadwal.keterangan = rsJadwal.getString("keterangan"); // TAMBAH KETERANGAN

                    terapi.jadwalHarian.add(jadwal);
                    allDates.add(jadwal.tanggalFormat);
                }

                rsJadwal.close();
                psJadwal.close();

                listTerapi.add(terapi);
                System.out.println(" Data terapi: " + terapi.namaObat + " (" + terapi.jenisObat + ") - " + terapi.jadwalHarian.size() + " hari");
            }

            rsTerapi.close();
            psTerapi.close();

            System.out.println(" Total obat ditemukan: " + listTerapi.size());
            System.out.println(" Total tanggal unik: " + allDates.size());

            if (listTerapi.isEmpty()) {
                htmlContent.append(
                        "<tr>"
                        + "<td valign='top' colspan='4'>"
                        + "<div style='text-align: center; color: red; font-weight: bold; padding: 30px;'>"
                        + "Tidak ada data terapi obat untuk pasien ini."
                        + "</div>"
                        + "</td>"
                        + "</tr>"
                );
            } else {
                List<String> dateList = new ArrayList<>(allDates);

                // Header tabel obat
                htmlContent.append(
                        "<tr>"
                        + "<td valign='top' colspan='4'>"
                        + "<table width='100%' border='1' cellpadding='3px' cellspacing='0' style='border-collapse: collapse; border: 1px solid black;'>"
                        + "<thead>"
                        + "<tr style='background-color: #f0f0f0;'>"
                        + "<th rowspan='2' style='border: 1px solid black; text-align: center; vertical-align: middle; width: 150px;'>Nama Obat</th>"
                        + "<th rowspan='2' style='border: 1px solid black; text-align: center; vertical-align: middle; width: 80px;'>Regimen<br/>Dosis</th>"
                        + "<th rowspan='2' style='border: 1px solid black; text-align: center; vertical-align: middle; width: 50px;'>Rute</th>"
                        + "<th colspan='" + dateList.size() + "' style='border: 1px solid black; text-align: center;'>Tanggal Pemberian</th>"
                        + "</tr>"
                        + "<tr style='background-color: #f0f0f0;'>"
                );

                // Header tanggal
                for (String date : dateList) {
                    htmlContent.append("<th style='border: 1px solid black; text-align: center; font-size: 11px; width: 25px;'>" + date + "</th>");
                }
                htmlContent.append("</tr></thead><tbody>");

                // Data obat
                for (DataTerapiObat terapi : listTerapi) {
                    String jenisIndikator = "";
                    if ("rs".equals(terapi.jenisObat)) {
                        jenisIndikator = "[R] ";
                    } else if ("luar".equals(terapi.jenisObat)) {
                        jenisIndikator = "[L] ";
                    }

                    htmlContent.append(
                            "<tr>"
                            + "<td style='border: 1px solid black; text-align: left; padding: 5px;'>" + jenisIndikator + terapi.namaObat + "</td>"
                            + "<td style='border: 1px solid black; text-align: center; padding: 5px;'>" + terapi.dosis + "</td>"
                            + "<td style='border: 1px solid black; text-align: center; padding: 5px;'>" + terapi.caraPemberian + "</td>"
                    );

                    // Map jadwal untuk akses cepat - TAMBAHKAN KETERANGAN
                    Map<String, String> jadwalMap = new HashMap<>();
                    Map<String, String> keteranganMap = new HashMap<>();
                    for (JadwalHarian jadwal : terapi.jadwalHarian) {
                        jadwalMap.put(jadwal.tanggalFormat, jadwal.statusPemberian);
                        keteranganMap.put(jadwal.tanggalFormat, jadwal.keterangan); // TAMBAH MAPPING KETERANGAN
                    }

                    // Data pemberian per tanggal - TAMBAHKAN KETERANGAN
                    for (String date : dateList) {
                        String statusPemberian = jadwalMap.get(date);
                        String keterangan = keteranganMap.get(date);
                        String checkMark = "";

                        if ("ya".equals(statusPemberian)) {
                            checkMark = "";
                        } else if ("tidak".equals(statusPemberian)) {
                            checkMark = "";
                        }

                        // MODIFIKASI: Tambahkan keterangan di samping status
                        String cellContent = checkMark;
                        if (keterangan != null && !keterangan.isEmpty() && !keterangan.trim().equals("")) {
                            cellContent += "<br/><span style='font-size: 9px; color: #666; font-style: italic;'>" + keterangan + "</span>";
                        }

                        htmlContent.append("<td style='border: 1px solid black; text-align: center; padding: 5px; vertical-align: top;'>" + cellContent + "</td>");
                    }

                    htmlContent.append("</tr>");
                }

                htmlContent.append("</tbody></table></td></tr>");
            }

            // Keterangan
            htmlContent.append(
                    "<tr>"
                    + "<td valign='top' colspan='4'>"
                    + "<div style='margin-top: 20px; font-size: 12px;'>"
                    + "<strong>Keterangan:</strong><br/>"
                    + "[R] = Obat RS (Master Farmasi)<br/>"
                    + "[L] = Obat Luar (Input Manual)<br/>"
                    + " = Obat diberikan<br/>"
                    + " = Obat tidak diberikan<br/>"
                    + "Kosong = Belum waktunya/tidak dijadwalkan<br/>"
                    + "<em>Keterangan tambahan (jika ada) ditampilkan di bawah status pemberian</em>"
                    + "</div>"
                    + "</td>"
                    + "</tr>"
            );

            htmlContent.append("</table></td></tr>");

            System.out.println(" Laporan dinamis berhasil dibuat");

        } catch (Exception e) {
            System.out.println(" Error generate laporan dinamis: " + e.getMessage());
            e.printStackTrace();

            // Fallback ke tampilan error
            htmlContent.append(
                    "<tr class='isi'>"
                    + "<td valign='top' width='2%'></td>"
                    + "<td valign='top' width='18%'>Pemantauan Terapi Obat</td>"
                    + "<td valign='top' width='1%' align='center'>:</td>"
                    + "<td valign='top' width='79%'>"
                    + "<div style='color: red; font-weight: bold; padding: 20px;'>"
                    + "Error mengambil data: " + e.getMessage()
                    + "</div>"
                    + "</td>"
                    + "</tr>"
            );

        }
    }

    /**
     * CLASSES UNTUK DATA STRUCTURE
     */
    private class DataTerapiObat {

        String id;
        String namaObat;
        String dosis;
        String caraPemberian;
        String jenisObat;
        String status;
        List<JadwalHarian> jadwalHarian;
    }

    private class JadwalHarian {

        String tanggalFormat;
        String statusPemberian;
        String keterangan; // TAMBAH FIELD KETERANGAN
    }

    /**
     * HELPER METHOD: Convert cara pemberian ke route abbreviation
     */
    private String convertCaraPemberianToRoute(String caraPemberian) {
        if (caraPemberian == null) {
            return "PO";
        }

        String cara = caraPemberian.toLowerCase();

        if (cara.contains("oral") || cara.contains("diminum") || cara.contains("per oral")) {
            return "PO";
        } else if (cara.contains("intravena") || cara.contains("iv") || cara.contains("infus")) {
            return "IV";
        } else if (cara.contains("intramuskular") || cara.contains("im") || cara.contains("suntik otot")) {
            return "IM";
        } else if (cara.contains("subkutan") || cara.contains("sc") || cara.contains("sub kutan")) {
            return "SC";
        } else if (cara.contains("topikal") || cara.contains("oles") || cara.contains("oleskan")) {
            return "TOP";
        } else if (cara.contains("inhalasi") || cara.contains("hirup") || cara.contains("nebulizer")) {
            return "INH";
        } else if (cara.contains("rektal") || cara.contains("anus") || cara.contains("dubur")) {
            return "PR";
        } else if (cara.contains("mata") || cara.contains("tetes mata")) {
            return "OD/OS";
        } else if (cara.contains("telinga") || cara.contains("tetes telinga")) {
            return "AD/AS";
        } else if (cara.contains("hidung") || cara.contains("tetes hidung")) {
            return "NASAL";
        } else {
            return "PO"; // Default
        }
    }

    private void menampilkanLAPORANOK(String norawat) {
        try {
            if (chkOperasiVK.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "SELECT laporan_operasi.tanggal,laporan_operasi.diagnosa_preop,laporan_operasi.diagnosa_postop,laporan_operasi.jaringan_dieksekusi,laporan_operasi.selesaioperasi,laporan_operasi.permintaan_pa,laporan_operasi.laporan_operasi,( SELECT kd_dokter FROM dokter WHERE dokter.kd_dokter = operasi.operator1 ) as kdoperator1,( SELECT nm_dokter FROM dokter WHERE dokter.kd_dokter = operasi.operator1 ) as operator1,( SELECT nm_dokter FROM dokter WHERE dokter.kd_dokter = operasi.operator2 ) as operator2,( SELECT nm_dokter FROM dokter WHERE dokter.kd_dokter = operasi.operator3 ) as operator3,( SELECT nama FROM petugas WHERE petugas.nip = operasi.asisten_operator1 ) as asistenoperator1,( SELECT nama FROM petugas WHERE petugas.nip = operasi.asisten_operator2 ) as asistenoperator2,( SELECT nama FROM petugas WHERE petugas.nip = operasi.asisten_operator3 ) as asistenoperator3,( SELECT nama FROM petugas WHERE petugas.nip = operasi.instrumen ) as instrumen,( SELECT nm_dokter FROM dokter WHERE dokter.kd_dokter = operasi.dokter_anak ) as dokteranak,( SELECT nama FROM petugas WHERE petugas.nip = operasi.perawaat_resusitas )as perawatresusitas,( SELECT nm_dokter FROM dokter WHERE dokter.kd_dokter = operasi.dokter_anestesi ) as anastesi,( SELECT nama FROM petugas WHERE petugas.nip = operasi.asisten_anestesi ) as asistenanastesi,( SELECT nama FROM petugas WHERE petugas.nip = operasi.asisten_anestesi2 ) as asistenanastesi2,( SELECT nama FROM petugas WHERE petugas.nip = operasi.bidan ) as bidan1,( SELECT nama FROM petugas WHERE petugas.nip = operasi.bidan2 ) as bidan2,( SELECT nama FROM petugas WHERE petugas.nip = operasi.bidan3 ) as bidan3,( SELECT nama FROM petugas WHERE petugas.nip = operasi.perawat_luar ) as perawatluar,( SELECT nama FROM petugas WHERE petugas.nip = operasi.omloop ) as omloop,( SELECT nama FROM petugas WHERE petugas.nip = operasi.omloop2 ) as omloop2,( SELECT nama FROM petugas WHERE petugas.nip = operasi.omloop3 ) as omloop3,( SELECT nama FROM petugas WHERE petugas.nip = operasi.omloop4 ) as omloop4,( SELECT nama FROM petugas WHERE petugas.nip = operasi.omloop5 ) as omloop5,( SELECT nm_dokter FROM dokter WHERE dokter.kd_dokter = operasi.dokter_pjanak ) as pjanak,( SELECT nm_dokter FROM dokter WHERE dokter.kd_dokter = operasi.dokter_umum ) as dokumum from operasi inner join laporan_operasi on operasi.no_rawat=laporan_operasi.no_rawat and operasi.tgl_operasi=laporan_operasi.tanggal where operasi.no_rawat='" + norawat + "'").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<br><br><br>"
                                + "<p class='pagebreak'>"
                                + "<fieldset>");

                        Copsurat();
                        htmlContent.append("<h2><center>LAPORAN OPERASI</center></h2>");

                        htmlContent.append("<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'><tr><td valign='top' width='20%'>No.Rekam Medis</td><td valign='top' width='1%' align='center'>:</td><td valign='top' width='79%'>").append(rs.getString("no_rkm_medis")).append("</td></tr><tr><td valign='top' width='20%'>Nama Pasien</td><td valign='top' width='1%' align='center'>:</td><td valign='top' width='79%'>").append(rs.getString("nm_pasien") + " (" + rs.getString("umurdaftar") + " " + rs.getString("sttsumur") + ")").append("</td></tr><tr><td valign='top' width='20%'>Tgl. Lahir</td><td valign='top' width='1%' align='center'>:</td><td valign='top' width='79%'>").append(rs.getString("tgl_lahir")).append("</td></tr><tr><td valign='top' width='20%'>Jenis Kelamin</td><td valign='top' width='1%' align='center'>:</td><td valign='top' width='79%'>").append(rs.getString("jk")).append("</td></tr>");

                        htmlContent.append("</table>");
                        htmlContent.append(
                                "<tr class='isi2'>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                        );

                        //    rs2.beforeFirst();
                        //    while (rs2.next()) {
                        //TTV RALAN atau RANAP
                        try {
                            pskoders = koneksi.prepareStatement("select kode_ppk from setting");
                            try {
                                rskode = pskoders.executeQuery();
                                rskode.next();

                                if (rskode.getString("kode_ppk").equals("0090R034")) {

                                    if (rs.getString("status_lanjut").equals("Ranap")) {
                                        try {
                                            rs3 = koneksi.prepareStatement(
                                                    "select date_format(pemeriksaan_ranap.tgl_perawatan,'%d-%m-%Y') as tgl_perawatan, pemeriksaan_ranap.jam_rawat, pemeriksaan_ranap.suhu_tubuh, pemeriksaan_ranap.tensi, pemeriksaan_ranap.nadi, pemeriksaan_ranap.respirasi, pemeriksaan_ranap.tinggi, pemeriksaan_ranap.berat, pemeriksaan_ranap.gcs, pemeriksaan_ranap.keluhan, pemeriksaan_ranap.pemeriksaan, pemeriksaan_ranap.alergi, "
                                                    + "pemeriksaan_ranap.rtl, pemeriksaan_ranap.penilaian from pemeriksaan_ranap where pemeriksaan_ranap.no_rawat='" + rs.getString("no_rawat") + "' order by pemeriksaan_ranap.tgl_perawatan, pemeriksaan_ranap.jam_rawat desc limit 1").executeQuery();
                                            if (rs3.next()) {
                                                htmlContent.append("<tr><td valign='top' align='center' bgcolor='#A9A9A9'>PRE SURGICAL ASSESMENT</td></tr><tr><td valign='top'><table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='50%'>Tanggal : ").append(rs3.getString("tgl_perawatan")).append("</td><td width='50%'>Waktu : ").append(rs3.getString("jam_rawat")).append(" WIB</td></tr><tr><td width='50%'>Dokter Bedah : ").append(rs2.getString("operator1")).append("</td><td width='50%'>Alergi : ").append(rs3.getString("alergi")).append("</td></tr></table></td></tr><tr><td valign='top'><table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='25%' border='0'>Keluhan : ").append(rs3.getString("keluhan")).append("</td><td width='25%' border='0'>Penilaian : ").append(rs3.getString("penilaian")).append("</td></tr><tr><td width='25%' border='0'>Pemeriksaan : ").append(rs3.getString("pemeriksaan")).append("</td><td width='25%' border='0'>Tindak Lanjut : ").append(rs3.getString("rtl")).append("</td></tr><tr></tr><tr><td width='25%' border='0'>Suhu : ").append(rs3.getString("suhu_tubuh")).append(" \u00b0C</td><td width='25%' border='0'>TD : ").append(rs3.getString("tensi")).append(" mmHg</td><td width='25%' border='0'>TB : ").append(rs3.getString("tinggi")).append(" Cm</td><td width='25%' border='0'>BB : ").append(rs3.getString("berat")).append(" Kg</td></tr><tr><td width='16%' border='0'>Nadi : ").append(rs3.getString("nadi")).append(" x/menit</td><td width='16%' border='0'>RR : ").append(rs3.getString("respirasi")).append(" x/menit</td><td width='16%' border='0'>GCS(E,V,M) : ").append(rs3.getString("gcs")).append("</td></tr></table></td></tr>");
                                            }
                                        } catch (Exception e) {
                                            System.out.println("Notifikasi : " + e);
                                        } finally {
                                            if (rs3 != null) {
                                                rs3.close();
                                            }
                                        }
                                    } else {
                                        try {
                                            rs4 = koneksi.prepareStatement(
                                                    "select date_format(pemeriksaan_ralan.tgl_perawatan,'%d-%m-%Y') as tgl_perawatan, pemeriksaan_ralan.jam_rawat, pemeriksaan_ralan.suhu_tubuh, pemeriksaan_ralan.tensi, pemeriksaan_ralan.nadi, pemeriksaan_ralan.respirasi, pemeriksaan_ralan.tinggi, pemeriksaan_ralan.berat, pemeriksaan_ralan.gcs, pemeriksaan_ralan.keluhan, pemeriksaan_ralan.pemeriksaan, pemeriksaan_ralan.alergi, "
                                                    + "pemeriksaan_ralan.rtl, pemeriksaan_ralan.penilaian from pemeriksaan_ralan where pemeriksaan_ralan.no_rawat='" + rs.getString("no_rawat") + "' order by pemeriksaan_ralan.tgl_perawatan, pemeriksaan_ralan.jam_rawat desc limit 1").executeQuery();
                                            if (rs4.next()) {
                                                htmlContent.append("<tr><td valign='top' align='center' bgcolor='#A9A9A9'>PRE SURGICAL ASSESMENT</td></tr><tr><td valign='top'><table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='50%'>Dokter Bedah : ").append(rs2.getString("operator1")).append("</td><td width='50%'>Waktu : ").append(rs4.getString("jam_rawat")).append(" WIB</td></tr><tr><td width='50%'>Dokter Bedah : ").append(rs2.getString("operator1")).append("</td><td width='50%'>Alergi : ").append(rs4.getString("alergi")).append("</td></tr></table></td></tr><tr><td valign='top'><table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='25%' border='0'>Keluhan : ").append(rs4.getString("keluhan")).append("</td><td width='25%' border='0'>Penilaian : ").append(rs4.getString("penilaian")).append("</td></tr><tr><td width='25%' border='0'>Pemeriksaan : ").append(rs4.getString("pemeriksaan")).append("</td><td width='25%' border='0'>Tindak Lanjut : ").append(rs4.getString("rtl")).append("</td></tr><tr></tr><tr><td width='25%' border='0'>Suhu : ").append(rs3.getString("suhu_tubuh")).append(" \u00b0C</td><td width='25%' border='0'>TD : ").append(rs4.getString("tensi")).append(" mmHg</td><td width='25%' border='0'>TB : ").append(rs4.getString("tinggi")).append(" Cm</td><td width='25%' border='0'>BB : ").append(rs4.getString("berat")).append(" Kg</td></tr><tr><td width='16%' border='0'>Nadi : ").append(rs4.getString("nadi")).append(" x/menit</td><td width='16%' border='0'>RR : ").append(rs4.getString("respirasi")).append(" x/menit</td><td width='16%' border='0'>GCS(E,V,M) : ").append(rs4.getString("gcs")).append("</td></tr></table></td></tr>");
                                            }
                                        } catch (Exception e) {
                                            System.out.println("Notifikasi : " + e);
                                        } finally {
                                            if (rs4 != null) {
                                                rs4.close();
                                            }
                                        }
                                    }
                                }
                            } catch (Exception e) {
                                System.out.println("Notifikasi : " + e);
                            }
                        } catch (Exception e) {
                            System.out.println("Notifikasi : " + e);
                        }

                        //Hasil Laporan Operasi
                        htmlContent.append("<tr></tr><tr><td valign='top' align='center' bgcolor='#A9A9A9'>POST SURGICAL REPORT</td></tr><tr><td valign='top'><table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td colspan='1'>Tanggal & Waktu : ").append(rs2.getString("tgl_operasi")).append(" WIB</td></tr><tr><td colspan='1'>Tipe / Jenis Anastesi : ").append(rs2.getString("jenis_anasthesi")).append("</td></tr><tr><td colspan='1'>Dikirm ke Pemeriksaan PA : ").append(rs2.getString("permintaan_pa")).append("</td></tr><tr><td colspan='1'>Tipe / Kategori Operasi : ").append(rs2.getString("kategori")).append("</td></tr><tr><td colspan='1'>Selesai Operasi : ").append(rs2.getString("selesaioperasi")).append(" WIB</td></tr><tr><td valign='top'><table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='50%'>Dokter Bedah : ").append(rs2.getString("operator1")).append("</td><td width='50%'>Asisten Bedah : ").append(rs2.getString("asistenoperator1")).append("</td></tr><tr><td width='50%'>Dokter Bedah 2 : ").append(rs2.getString("operator2")).append("</td><td width='50%'>Asisten Bedah 2 : ").append(rs2.getString("asistenoperator2")).append("</td></tr><tr><td width='50%'>Perawat Resusitas : ").append(rs2.getString("perawatresusitas")).append("</td><td width='50%'>Dokter Anastesi : ").append(rs2.getString("anastesi")).append("</td></tr><tr><td width='50%'>Instrumen : ").append(rs2.getString("instrumen")).append("</td><td width='50%'>Asisten Anastesi : ").append(rs2.getString("asistenanastesi")).append("</td></tr><tr><td width='50%'>Dokter Anak : ").append(rs2.getString("dokteranak")).append("</td><td width='50%'>Bidan : ").append(rs2.getString("bidan1")).append("</td></tr><tr><td width='50%'>Dokter Umum : ").append(rs2.getString("dokumum")).append("</td><td width='50%'>Onloop : ").append(rs2.getString("omloop")).append("</td></tr></table></td></tr>");
                        htmlContent.append("<tr></tr><tr><td valign='top' align='center' bgcolor='#A9A9A9'>DIAGNOSA PRE-OP / PRE OPERATION DIAGNOSIS</td></tr><tr><td valign='top'><table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td colspan='1'>").append(rs2.getString("diagnosa_preop")).append("</td></tr></table></td></tr>");
                        htmlContent.append("<tr></tr><tr><td valign='top' align='center' bgcolor='#A9A9A9'>JARINGAN YANG DI EKSISI / INSISI</td></tr><tr><td valign='top'><table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td colspan='1'>").append(rs2.getString("jaringan_dieksekusi")).append("</td></tr></table></td></tr>");
                        htmlContent.append("<tr></tr><tr><td valign='top' align='center' bgcolor='#A9A9A9'>DIAGNOSA POST-OP / POST OPERATION DIAGNOSIS</td></tr><tr><td valign='top'><table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td colspan='1'>").append(rs2.getString("diagnosa_postop")).append("</td></tr></table></td></tr>");
                        htmlContent.append("<tr></tr><tr><td valign='top' align='center' bgcolor='#A9A9A9'>REPORT (PROCEDURES,SPECIFIC FINDINGS AND COMPLICATIONS)</td></tr><tr><td valign='top'><table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td colspan='1'><b>").append(rs2.getString("laporan_operasi").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</b></td></tr></table></td></tr>");

                        get = new GetMethod("http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/penggajian/generateqrcode.php?kodedokter=" + rs2.getString("kdoperator1").replace(" ", "_"));
                        http.executeMethod(get);
                        htmlContent.append("<tr><br><br></tr><tr><table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'><tr><td valign='middle' width='40%' colspan='2'>Tanda Tangan/Verifikasi :</td><td valign='middle' width='40%' align='center' colspan='5'>Dokter Penanggung Jawab<br><img width='90' height='90' src='http://").append(koneksiDB.HOSTHYBRIDWEB()).append(":").append(koneksiDB.PORTWEB()).append("/").append(koneksiDB.HYBRIDWEB()).append("/penggajian/temp/").append(rs2.getString("kdoperator1")).append(".png'/><br>").append(rs2.getString("operator1")).append("</td></tr></table></tr>");
                        //}

                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>"
                                + "</table>"
                                + "</table>"
                                + "</fieldset>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Laporan Operasi : " + e);
        }
    }

    private void menampilkanLAPORANDEBRIMENT(String norawat) {
        try {
            if (chkDebriment.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "SELECT laporan_tindakan.no_rawat, laporan_tindakan.tanggal, laporan_tindakan.kd_dokter, laporan_tindakan.nip, laporan_tindakan.diagnosa_pra_tindakan, "
                            + "laporan_tindakan.diagnosa_pasca_tindakan, laporan_tindakan.tindakan_medik, laporan_tindakan.uraian, laporan_tindakan.hasil, laporan_tindakan.kesimpulan, "
                            + "reg_periksa.no_rkm_medis, pasien.nm_pasien, dokter.nm_dokter FROM laporan_tindakan INNER JOIN reg_periksa ON laporan_tindakan.no_rawat = reg_periksa.no_rawat "
                            + "INNER JOIN pasien ON reg_periksa.no_rkm_medis = pasien.no_rkm_medis INNER JOIN dokter ON laporan_tindakan.kd_dokter = dokter.kd_dokter "
                            + "where laporan_tindakan.no_rawat='" + norawat + "'").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<br><br><br>"
                                + "<p class='pagebreak'>"
                                + "<fieldset>");

                        Copsurat();
                        htmlContent.append("<h2><center>LAPORAN TINDAKAN</center></h2>");

                        htmlContent.append("<table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>");

                        htmlContent.append("<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'><tr><td valign='top' width='20%'>No.Rekam Medis</td><td valign='top' width='1%' align='center'>:</td><td valign='top' width='79%'>").append(rs.getString("no_rkm_medis")).append("</td></tr><tr><td valign='top' width='20%'>Nama Pasien</td><td valign='top' width='1%' align='center'>:</td><td valign='top' width='79%'>").append(rs.getString("nm_pasien") + " (" + rs.getString("umurdaftar") + " " + rs.getString("sttsumur") + ")").append("</td></tr><tr><td valign='top' width='20%'>Tgl. Lahir</td><td valign='top' width='1%' align='center'>:</td><td valign='top' width='79%'>").append(rs.getString("tgl_lahir")).append("</td></tr><tr><td valign='top' width='20%'>Jenis Kelamin</td><td valign='top' width='1%' align='center'>:</td><td valign='top' width='79%'>").append(rs.getString("jk")).append("</td></tr><tr><td valign='top' width='20%'>Tanggal Masuk</td><td valign='top' width='1%' align='center'>:</td><td valign='top' width='79%'>").append(rs.getString("tgl_registrasi")).append("</td></tr><tr><td valign='top' width='20%'>Unit/Poliklinik</td><td valign='top' width='1%' align='center'>:</td><td valign='top' width='79%'>").append(rs.getString("nm_poli")).append(polirujukan).append("</td></tr><tr><td valign='top' width='20%'>Dokter Poli</td><td valign='top' width='1%' align='center'>:</td><td valign='top' width='79%'>").append(rs.getString("nm_dokter")).append(dokterrujukan).append("</td></tr>");

                        htmlContent.append("</table>");
                        htmlContent.append(
                                "<tr class='isi2'>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                        );

                        rs2.beforeFirst();
                        while (rs2.next()) {

                            //Hasil Laporan Operasi
                            htmlContent.append("<tr></tr><tr><td valign='top'><table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td colspan='1'>Diagnosa Pra Tindakan</td><td valign='top' width='1%' align='center'>:</td><td valign='top' width='79%'>").append(rs2.getString("diagnosa_pra_tindakan")).append("</td></tr><tr><td colspan='1'>Diagnosa Pasca Tindakan</td><td valign='top' width='1%' align='center'>:</td><td valign='top' width='79%'>").append(rs2.getString("diagnosa_pasca_tindakan")).append("</td></tr><tr><td colspan='1'>Nama Tindakan</td><td valign='top' width='1%' align='center'>:</td><td valign='top' width='79%'>").append(rs2.getString("tindakan_medik")).append("</td></tr></table></td></tr>");
                            htmlContent.append(
                                    "<tr class='isi2'>"
                                    + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                    + "<tr align='center'>"
                                    + "<td valign='top' width='20%' bgcolor='#FFFAF8'>Tanggal & Jam</td>"
                                    + "<td valign='top' width='80%' bgcolor='#FFFAF8'>Laporan Tindakan</td>"
                                    //    + "<td valign='top' width='20%' bgcolor='#FFFAF8'>Selesai Tindakan</td>"
                                    + "</tr>"
                            );

                            htmlContent.append("<tr><td valign='top'><b>").append(rs2.getString("tanggal")).append("</b></td><td valign='top'><b>").append(rs2.getString("uraian")).append("</b></td><td valign='top'><b>").append("</b></td></tr></table></tr>");

                            htmlContent.append("<tr></tr><tr><td valign='top'><table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td colspan='1'>Hasil</td><td valign='top' width='1%' align='center'>:</td><td valign='top' width='79%'>").append(rs2.getString("hasil")).append("</td></tr><tr><td colspan='1'>Kesimpulan</td><td valign='top' width='1%' align='center'>:</td><td valign='top' width='79%'>").append(rs2.getString("kesimpulan")).append("</td></tr></table></td></tr>");

//                            get = new GetMethod("http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/penggajian/generateqrcode.php?kodedokter=" + rs2.getString("nip").replace(" ", "_"));
//                            http.executeMethod(get);
                            //    htmlContent.append("<tr><br><br></tr><tr><table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'><tr><td valign='middle' width='40%' colspan='2'>Tanda Tangan/Verifikasi :</td><td valign='middle' width='40%' align='center' colspan='5'>Dokter Penanggung Jawab<br><img width='90' height='90' src='http://").append(koneksiDB.HOSTHYBRIDWEB()).append(":").append(koneksiDB.PORTWEB()).append("/").append(koneksiDB.HYBRIDWEB()).append("/penggajian/temp/").append(rs2.getString("nip")).append(".png'/><br>").append(rs2.getString("nama")).append("</td></tr></table></tr>");
                            String linkqr = Sequel.cariIsi("select qr from pegawai_qrcode where nip='" + rs2.getString("kd_dokter") + "'");
                            htmlContent.append("<tr><br><br></tr><tr><table width='100%'htmlContent border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>")
                                    .append("<tr><td valign='middle' width='40%' colspan='2'>Tanda Tangan/Verifikasi :</td>")
                                    .append("<td valign='middle' width='40%' align='center' colspan='5'>Dokter Penanggung Jawab<br>")
                                    .append("<img width='90' height='90' src='http://").append(koneksiDB.HOSTHYBRIDWEB()).append(":")
                                    .append(koneksiDB.PORTWEB()).append("/").append(koneksiDB.HYBRIDWEB()).append("/qrcodepegawai/")
                                    .append(linkqr).append("'/><br>")
                                    .append(rs2.getString("nm_dokter")).append("</td></tr></table></tr>");
                        }

                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>"
                                + "</table>"
                                + "</table>"
                                + "</fieldset>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Laporan Debriment : " + e);
        }
    }

    private void menampilkanAsuhanMedisRawatJalan(String norawat) {
        try {
            if (chkAsuhanMedisRalan.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select penilaian_medis_ralan.tanggal,penilaian_medis_ralan.kd_dokter,penilaian_medis_ralan.anamnesis,penilaian_medis_ralan.hubungan,"
                            + "penilaian_medis_ralan.keluhan_utama,penilaian_medis_ralan.rps,penilaian_medis_ralan.rpd,penilaian_medis_ralan.rpk,penilaian_medis_ralan.rpo,"
                            + "penilaian_medis_ralan.alergi,penilaian_medis_ralan.keadaan,penilaian_medis_ralan.gcs,penilaian_medis_ralan.kesadaran,penilaian_medis_ralan.td,"
                            + "penilaian_medis_ralan.nadi,penilaian_medis_ralan.rr,penilaian_medis_ralan.suhu,penilaian_medis_ralan.spo,penilaian_medis_ralan.bb,"
                            + "penilaian_medis_ralan.tb,penilaian_medis_ralan.kepala,penilaian_medis_ralan.gigi,penilaian_medis_ralan.tht,penilaian_medis_ralan.thoraks,"
                            + "penilaian_medis_ralan.abdomen,penilaian_medis_ralan.genital,penilaian_medis_ralan.ekstremitas,penilaian_medis_ralan.kulit,"
                            + "penilaian_medis_ralan.ket_fisik,penilaian_medis_ralan.ket_lokalis,penilaian_medis_ralan.penunjang,penilaian_medis_ralan.diagnosis,"
                            + "penilaian_medis_ralan.tata,penilaian_medis_ralan.konsulrujuk,dokter.nm_dokter "
                            + "from penilaian_medis_ralan inner join dokter on penilaian_medis_ralan.kd_dokter=dokter.kd_dokter "
                            + "where penilaian_medis_ralan.no_rawat='" + norawat + "'").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<fieldset>"
                                + "<h2><center>ASUHAN MEDIS RAWAT JALAN</center></h2>"
                                + "<table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Penilaian Awal Medis Rawat Jalan Umum</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                        );
                        rs2.beforeFirst();
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top'>YANG MELAKUKAN PENGKAJIAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='33%' border='0'>Tanggal : ").append(rs2.getString("tanggal")).append("</td><td width='33%' border='0'>Dokter : ").append(rs2.getString("kd_dokter")).append(" ").append(rs2.getString("nm_dokter")).append("</td><td width='33%' border='0'>Anamnesis : ").append(rs2.getString("anamnesis")).append(rs2.getString("hubungan").isEmpty() ? "" : ", " + rs2.getString("hubungan")).append("</td></tr></table></td></tr><tr><td valign='top'>I. RIWAYAT KESEHATAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td colspan='2'>Keluhan Utama : ").append(rs2.getString("keluhan_utama").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td colspan='2'>Riwayat Penyakit Sekarang : ").append(rs2.getString("rps").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='50%'>Riwayat Penyakit Dahulu : ").append(rs2.getString("rpd").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td><td width='50%'>Riwayat Alergi : ").append(rs2.getString("alergi")).append("</td></tr><tr><td width='50%'>Riwayat Penyakit Keluarga : ").append(rs2.getString("rpk").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td><td width='50%'>Riwayat Penggunaan Obat : ").append(rs2.getString("rpo").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>II. PEMERIKSAAN FISIK<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='25%' border='0'>Keadaan Umum : ").append(rs2.getString("keadaan")).append("</td><td width='25%' border='0'>Kesadaran : ").append(rs2.getString("kesadaran")).append("</td><td width='25%' border='0'>GCS(E,V,M) : ").append(rs2.getString("gcs")).append("</td><td width='25%' border='0'>TB : ").append(rs2.getString("tb")).append(" Cm</td></tr><tr><td width='25%' border='0'>BB : ").append(rs2.getString("bb")).append(" Kg</td><td width='25%' border='0'>TD : ").append(rs2.getString("td")).append(" mmHg</td><td width='25%' border='0'>Nadi : ").append(rs2.getString("nadi")).append(" x/menit</td><td width='25%' border='0'>RR : ").append(rs2.getString("rr")).append(" x/menit</td></tr><tr><td width='25%' border='0'>Suhu : ").append(rs2.getString("suhu")).append(" \u00b0C</td><td width='25%' border='0'>SpO2 : ").append(rs2.getString("spo")).append(" %</td><td width='25%' border='0'>Kepala : ").append(rs2.getString("kepala")).append("</td><td width='25%' border='0'>Gigi & Mulut : ").append(rs2.getString("gigi")).append("</td></tr><tr><td width='25%' border='0'>THT : ").append(rs2.getString("tht")).append("</td><td width='25%' border='0'>Thoraks : ").append(rs2.getString("thoraks")).append("</td><td width='25%' border='0'>Abdomen : ").append(rs2.getString("abdomen")).append("</td><td width='25%' border='0'>Genital & Anus : ").append(rs2.getString("genital")).append("</td></tr><tr><td width='25%' border='0'>Ekstremitas : ").append(rs2.getString("ekstremitas")).append("</td><td width='25%' border='0'>Kulit : ").append(rs2.getString("kulit")).append("</td><td width='50%' border='0' colpan='2'>Keterangan Fisik : ").append(rs2.getString("ket_fisik")).append("</td></tr></table></td></tr><tr><td valign='top'>III. STATUS LOKALIS<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>").append(rs2.getString("ket_lokalis").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>IV. PEMERIKSAAN PENUNJANG<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>").append(rs2.getString("penunjang").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>V. DIAGNOSIS/ASESMEN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>").append(rs2.getString("diagnosis").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>VI. TATALAKSANA<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>").append(rs2.getString("tata").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>VII. KONSUL/RUJUK<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>").append(rs2.getString("konsulrujuk").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr>");
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>"
                                + "</table>"
                                + "</fieldset>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Asuhan Medis Rawat Jalan : " + e);
        }
    }

    private void menampilkanAsuhanMedisRawatJalanKandungan(String norawat) {
        try {
            if (chkAsuhanMedisRalanKandungan.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select penilaian_medis_ralan_kandungan.tanggal,penilaian_medis_ralan_kandungan.kd_dokter,penilaian_medis_ralan_kandungan.anamnesis,penilaian_medis_ralan_kandungan.hubungan,"
                            + "penilaian_medis_ralan_kandungan.keluhan_utama,penilaian_medis_ralan_kandungan.rps,penilaian_medis_ralan_kandungan.rpk,penilaian_medis_ralan_kandungan.rpd,penilaian_medis_ralan_kandungan.rpo,"
                            + "penilaian_medis_ralan_kandungan.alergi,penilaian_medis_ralan_kandungan.keadaan,penilaian_medis_ralan_kandungan.gcs,penilaian_medis_ralan_kandungan.kesadaran,penilaian_medis_ralan_kandungan.td,"
                            + "penilaian_medis_ralan_kandungan.nadi,penilaian_medis_ralan_kandungan.rr,penilaian_medis_ralan_kandungan.suhu,penilaian_medis_ralan_kandungan.spo,penilaian_medis_ralan_kandungan.bb,"
                            + "penilaian_medis_ralan_kandungan.tb,penilaian_medis_ralan_kandungan.kepala,penilaian_medis_ralan_kandungan.mata,penilaian_medis_ralan_kandungan.gigi,penilaian_medis_ralan_kandungan.tht,"
                            + "penilaian_medis_ralan_kandungan.thoraks,penilaian_medis_ralan_kandungan.abdomen,penilaian_medis_ralan_kandungan.ekstremitas,penilaian_medis_ralan_kandungan.genital,"
                            + "penilaian_medis_ralan_kandungan.kulit,penilaian_medis_ralan_kandungan.ket_fisik,penilaian_medis_ralan_kandungan.tfu,penilaian_medis_ralan_kandungan.tbj,penilaian_medis_ralan_kandungan.his,"
                            + "penilaian_medis_ralan_kandungan.kontraksi,penilaian_medis_ralan_kandungan.djj,penilaian_medis_ralan_kandungan.inspeksi,penilaian_medis_ralan_kandungan.inspekulo,penilaian_medis_ralan_kandungan.vt,"
                            + "penilaian_medis_ralan_kandungan.rt,penilaian_medis_ralan_kandungan.ultra,penilaian_medis_ralan_kandungan.kardio,penilaian_medis_ralan_kandungan.lab,penilaian_medis_ralan_kandungan.diagnosis,"
                            + "penilaian_medis_ralan_kandungan.tata,penilaian_medis_ralan_kandungan.konsul,dokter.nm_dokter "
                            + "from penilaian_medis_ralan_kandungan inner join dokter on penilaian_medis_ralan_kandungan.kd_dokter=dokter.kd_dokter "
                            + "where penilaian_medis_ralan_kandungan.no_rawat='" + norawat + "'").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<fieldset>"
                                + "<h2><center>ASUHAN MEDIS RAWAT JALAN KANDUNGAN</center></h2>"
                                + "<table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Penilaian Awal Medis Rawat Jalan Kebidanan & Kandungan</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                        );
                        rs2.beforeFirst();
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top'>YANG MELAKUKAN PENGKAJIAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='33%' border='0'>Tanggal : ").append(rs2.getString("tanggal")).append("</td><td width='33%' border='0'>Dokter : ").append(rs2.getString("kd_dokter")).append(" ").append(rs2.getString("nm_dokter")).append("</td><td width='33%' border='0'>Anamnesis : ").append(rs2.getString("anamnesis")).append(rs2.getString("hubungan").isEmpty() ? "" : ", " + rs2.getString("hubungan")).append("</td></tr></table></td></tr><tr><td valign='top'>I. RIWAYAT KESEHATAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td colspan='2'>Keluhan Utama : ").append(rs2.getString("keluhan_utama").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td colspan='2'>Riwayat Penyakit Sekarang : ").append(rs2.getString("rps").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='50%'>Riwayat Penyakit Dahulu : ").append(rs2.getString("rpd").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td><td width='50%'>Riwayat Alergi : ").append(rs2.getString("alergi")).append("</td></tr><tr><td width='50%'>Riwayat Penyakit Keluarga : ").append(rs2.getString("rpk").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td><td width='50%'>Riwayat Penggunaan Obat : ").append(rs2.getString("rpo").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>II. PEMERIKSAAN FISIK<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='25%' border='0'>Keadaan Umum : ").append(rs2.getString("keadaan")).append("</td><td width='25%' border='0'>Kesadaran : ").append(rs2.getString("kesadaran")).append("</td><td width='25%' border='0'>GCS(E,V,M) : ").append(rs2.getString("gcs")).append("</td><td width='25%' border='0'>TB : ").append(rs2.getString("tb")).append(" Cm</td></tr><tr><td width='25%' border='0'>BB : ").append(rs2.getString("bb")).append(" Kg</td><td width='25%' border='0'>TD : ").append(rs2.getString("td")).append(" mmHg</td><td width='25%' border='0'>Nadi : ").append(rs2.getString("nadi")).append(" x/menit</td><td width='25%' border='0'>RR : ").append(rs2.getString("rr")).append(" x/menit</td></tr><tr><td width='25%' border='0'>Suhu : ").append(rs2.getString("suhu")).append(" \u00b0C</td><td width='25%' border='0'>SpO2 : ").append(rs2.getString("spo")).append(" %</td><td width='25%' border='0'>Kepala : ").append(rs2.getString("kepala")).append("</td><td width='25%' border='0'>Mata : ").append(rs2.getString("mata")).append("</td></tr><tr><td width='25%' border='0'>Gigi & Mulut : ").append(rs2.getString("gigi")).append("</td><td width='25%' border='0'>THT : ").append(rs2.getString("tht")).append("</td><td width='25%' border='0'>Thoraks : ").append(rs2.getString("thoraks")).append("</td><td width='25%' border='0'>Abdomen : ").append(rs2.getString("abdomen")).append("</td></tr><tr><td width='25%' border='0'>Genital & Anus : ").append(rs2.getString("genital")).append("</td><td width='25%' border='0'>Ekstremitas : ").append(rs2.getString("ekstremitas")).append("</td><td width='25%' border='0'>Kulit : ").append(rs2.getString("kulit")).append("</td><td width='25%' border='0'>Keterangan Fisik : ").append(rs2.getString("ket_fisik")).append("</td></tr></table></td></tr><tr><td valign='top'>III. STATUS OBSTETRI / GINEKOLOGI<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' colspan='2'>TFU : ").append(rs2.getString("tfu")).append(" Cm&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TBJ : ").append(rs2.getString("tbj")).append(" gram&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;His : ").append(rs2.getString("his")).append(" x/10 Menit&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Kontraksi : ").append(rs2.getString("kontraksi")).append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DJJ : ").append(rs2.getString("djj")).append("Dpm</td></tr><tr><td width='50%'>Inspeksi : ").append(rs2.getString("inspeksi")).append("</td><td width='50%'>VT : ").append(rs2.getString("vt")).append("</td></tr><tr><td width='50%'>Inspekulo : ").append(rs2.getString("inspekulo")).append("</td><td width='50%'>RT : ").append(rs2.getString("rt")).append("</td></tr></table></td></tr><tr><td valign='top'>IV. PEMERIKSAAN PENUNJANG<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='33%'>Ultrasonografi : ").append(rs2.getString("ultra")).append("</td><td width='33%'>Kardiotokografi : ").append(rs2.getString("kardio")).append("</td><td width='33%'>Laboratorium : ").append(rs2.getString("lab")).append("</td></tr></table></td></tr><tr><td valign='top'>V. DIAGNOSIS/ASESMEN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>").append(rs2.getString("diagnosis")).append("</td></tr></table></td></tr><tr><td valign='top'>VI. TATALAKSANA<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>").append(rs2.getString("tata")).append("</td></tr></table></td></tr><tr><td valign='top'>VII. KONSUL/RUJUK<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>").append(rs2.getString("konsul")).append("</td></tr></table></td></tr>");
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>"
                                + "</table>"
                                + "</fieldset>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Asuhan Medis Rawat Jalan Kandungan : " + e);
        }
    }

    private void menampilkanAsuhanMedisRawatJalanBayi(String norawat) {
        try {
            if (chkAsuhanMedisRalanBayi.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select penilaian_medis_ralan_anak.tanggal,penilaian_medis_ralan_anak.kd_dokter,penilaian_medis_ralan_anak.anamnesis,penilaian_medis_ralan_anak.hubungan,"
                            + "penilaian_medis_ralan_anak.keluhan_utama,penilaian_medis_ralan_anak.rps,penilaian_medis_ralan_anak.rpk,penilaian_medis_ralan_anak.rpd,penilaian_medis_ralan_anak.rpo,"
                            + "penilaian_medis_ralan_anak.alergi,penilaian_medis_ralan_anak.keadaan,penilaian_medis_ralan_anak.gcs,penilaian_medis_ralan_anak.kesadaran,penilaian_medis_ralan_anak.td,"
                            + "penilaian_medis_ralan_anak.nadi,penilaian_medis_ralan_anak.rr,penilaian_medis_ralan_anak.suhu,penilaian_medis_ralan_anak.spo,penilaian_medis_ralan_anak.bb,"
                            + "penilaian_medis_ralan_anak.tb,penilaian_medis_ralan_anak.kepala,penilaian_medis_ralan_anak.mata,penilaian_medis_ralan_anak.gigi,penilaian_medis_ralan_anak.tht,"
                            + "penilaian_medis_ralan_anak.thoraks,penilaian_medis_ralan_anak.abdomen,penilaian_medis_ralan_anak.ekstremitas,penilaian_medis_ralan_anak.genital,penilaian_medis_ralan_anak.kulit,"
                            + "penilaian_medis_ralan_anak.ket_fisik,penilaian_medis_ralan_anak.ket_lokalis,penilaian_medis_ralan_anak.penunjang,penilaian_medis_ralan_anak.diagnosis,"
                            + "penilaian_medis_ralan_anak.tata,penilaian_medis_ralan_anak.konsul,dokter.nm_dokter "
                            + "from penilaian_medis_ralan_anak inner join dokter on penilaian_medis_ralan_anak.kd_dokter=dokter.kd_dokter "
                            + "where penilaian_medis_ralan_anak.no_rawat='" + norawat + "'").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<fieldset>"
                                + "<h2><center>ASUHAN MEDIS RAWAT JALAN BAYI</center></h2>"
                                + "<table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Penilaian Awal Medis Rawat Jalan Bayi/Anak</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                        );
                        rs2.beforeFirst();
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top'>YANG MELAKUKAN PENGKAJIAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='33%' border='0'>Tanggal : ").append(rs2.getString("tanggal")).append("</td><td width='33%' border='0'>Dokter : ").append(rs2.getString("kd_dokter")).append(" ").append(rs2.getString("nm_dokter")).append("</td><td width='33%' border='0'>Anamnesis : ").append(rs2.getString("anamnesis")).append(rs2.getString("hubungan").isEmpty() ? "" : ", " + rs2.getString("hubungan")).append("</td></tr></table></td></tr><tr><td valign='top'>I. RIWAYAT KESEHATAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td colspan='2'>Keluhan Utama : ").append(rs2.getString("keluhan_utama").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td colspan='2'>Riwayat Penyakit Sekarang : ").append(rs2.getString("rps").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='50%'>Riwayat Penyakit Dahulu : ").append(rs2.getString("rpd").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td><td width='50%'>Riwayat Alergi : ").append(rs2.getString("alergi")).append("</td></tr><tr><td width='50%'>Riwayat Penyakit Keluarga : ").append(rs2.getString("rpk").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td><td width='50%'>Riwayat Penggunaan Obat : ").append(rs2.getString("rpo").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>II. PEMERIKSAAN FISIK<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='25%' border='0'>Keadaan Umum : ").append(rs2.getString("keadaan")).append("</td><td width='25%' border='0'>Kesadaran : ").append(rs2.getString("kesadaran")).append("</td><td width='25%' border='0'>GCS(E,V,M) : ").append(rs2.getString("gcs")).append("</td><td width='25%' border='0'>TB : ").append(rs2.getString("tb")).append(" Cm</td></tr><tr><td width='25%' border='0'>BB : ").append(rs2.getString("bb")).append(" Kg</td><td width='25%' border='0'>TD : ").append(rs2.getString("td")).append(" mmHg</td><td width='25%' border='0'>Nadi : ").append(rs2.getString("nadi")).append(" x/menit</td><td width='25%' border='0'>RR : ").append(rs2.getString("rr")).append(" x/menit</td></tr><tr><td width='25%' border='0'>Suhu : ").append(rs2.getString("suhu")).append(" \u00b0C</td><td width='25%' border='0'>SpO2 : ").append(rs2.getString("spo")).append(" %</td><td width='25%' border='0'>Kepala : ").append(rs2.getString("kepala")).append("</td><td width='25%' border='0'>Mata : ").append(rs2.getString("mata")).append("</td></tr><tr><td width='25%' border='0'>Gigi & Mulut : ").append(rs2.getString("gigi")).append("</td><td width='25%' border='0'>THT : ").append(rs2.getString("tht")).append("</td><td width='25%' border='0'>Thoraks : ").append(rs2.getString("thoraks")).append("</td><td width='25%' border='0'>Abdomen : ").append(rs2.getString("abdomen")).append("</td></tr><tr><td width='25%' border='0'>Genital & Anus : ").append(rs2.getString("genital")).append("</td><td width='25%' border='0'>Ekstremitas : ").append(rs2.getString("ekstremitas")).append("</td><td width='25%' border='0'>Kulit : ").append(rs2.getString("kulit")).append("</td><td width='25%' border='0'>Keterangan Fisik : ").append(rs2.getString("ket_fisik")).append("</td></tr></table></td></tr><tr><td valign='top'>III. STATUS LOKALIS<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>").append(rs2.getString("ket_lokalis").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>IV. PEMERIKSAAN PENUNJANG<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>").append(rs2.getString("penunjang").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>V. DIAGNOSIS/ASESMEN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>").append(rs2.getString("diagnosis").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>VI. TATALAKSANA<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>").append(rs2.getString("tata").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>VII. KONSUL/RUJUK<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>").append(rs2.getString("konsul").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr>");
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>"
                                + "</table>"
                                + "</fieldset>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Asuhan Medis Rawat Jalan Bayi : " + e);
        }
    }

    private void menampilkanAsuhanMedisRawatJalanTHT(String norawat) {
        try {
            if (chkAsuhanMedisRalanTHT.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select penilaian_medis_ralan_tht.tanggal,penilaian_medis_ralan_tht.kd_dokter,penilaian_medis_ralan_tht.anamnesis,penilaian_medis_ralan_tht.hubungan,penilaian_medis_ralan_tht.keluhan_utama,"
                            + "penilaian_medis_ralan_tht.rps,penilaian_medis_ralan_tht.rpd,penilaian_medis_ralan_tht.rpo,penilaian_medis_ralan_tht.alergi,penilaian_medis_ralan_tht.td,penilaian_medis_ralan_tht.nadi,"
                            + "penilaian_medis_ralan_tht.rr,penilaian_medis_ralan_tht.suhu,penilaian_medis_ralan_tht.bb,penilaian_medis_ralan_tht.tb,penilaian_medis_ralan_tht.nyeri,penilaian_medis_ralan_tht.status_nutrisi,"
                            + "penilaian_medis_ralan_tht.kondisi,penilaian_medis_ralan_tht.ket_lokalis,penilaian_medis_ralan_tht.lab,penilaian_medis_ralan_tht.rad,penilaian_medis_ralan_tht.tes_pendengaran,"
                            + "penilaian_medis_ralan_tht.penunjang,penilaian_medis_ralan_tht.diagnosis,penilaian_medis_ralan_tht.diagnosisbanding,penilaian_medis_ralan_tht.permasalahan,"
                            + "penilaian_medis_ralan_tht.terapi,penilaian_medis_ralan_tht.tindakan,penilaian_medis_ralan_tht.tatalaksana,penilaian_medis_ralan_tht.edukasi,dokter.nm_dokter "
                            + "from penilaian_medis_ralan_tht inner join dokter on penilaian_medis_ralan_tht.kd_dokter=dokter.kd_dokter "
                            + "where penilaian_medis_ralan_tht.no_rawat='" + norawat + "'").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<fieldset>"
                                + "<h2><center>ASUHAN MEDIS RAWAT JALAN THT</center></h2>"
                                + "<table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Penilaian Awal Medis Rawat Jalan THT</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                        );
                        rs2.beforeFirst();
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top'>YANG MELAKUKAN PENGKAJIAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='33%' border='0'>Tanggal : ").append(rs2.getString("tanggal")).append("</td><td width='33%' border='0'>Dokter : ").append(rs2.getString("kd_dokter")).append(" ").append(rs2.getString("nm_dokter")).append("</td><td width='33%' border='0'>Anamnesis : ").append(rs2.getString("anamnesis")).append(rs2.getString("hubungan").isEmpty() ? "" : ", " + rs2.getString("hubungan")).append("</td></tr></table></td></tr><tr><td valign='top'>I. RIWAYAT KESEHATAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td colspan='2'>Keluhan Utama : ").append(rs2.getString("keluhan_utama").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='50%'>Riwayat Penyakit Sekarang : ").append(rs2.getString("rps").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td><td width='50%'>Riwayat Penyakit Dahulu : ").append(rs2.getString("rpd").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='50%'>Riwayat Penggunaan Obat : ").append(rs2.getString("rpo").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td><td width='50%'>Riwayat Alergi : ").append(rs2.getString("alergi")).append("</td></tr></table></td></tr><tr><td valign='top'>II. PEMERIKSAAN FISIK<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='16%' border='0'>TD : ").append(rs2.getString("td")).append(" mmHg</td><td width='16%' border='0'>TB : ").append(rs2.getString("tb")).append(" Cm</td><td width='16%' border='0'>BB : ").append(rs2.getString("bb")).append(" Kg</td><td width='16%' border='0'>Suhu : ").append(rs2.getString("suhu")).append(" \u00b0C</td><td width='16%' border='0'>Nadi : ").append(rs2.getString("nadi")).append(" x/menit</td><td width='16%' border='0'>RR : ").append(rs2.getString("rr")).append(" x/menit</td></tr><tr><td width='50%' colspan='3' valign='top'>Nyeri : ").append(rs2.getString("nyeri")).append("</td><td width='50%' colspan='3' valign='top'>Status Nutrisi : ").append(rs2.getString("status_nutrisi")).append("</td></tr><tr><td width='100%' colspan='6' valign='top'>Kondisi Umum : ").append(rs2.getString("kondisi")).append("</td></tr></table></td></tr><tr><td valign='top'>III. STATUS LOKALIS<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>").append(rs2.getString("ket_lokalis").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>IV. PEMERIKSAAN PENUNJANG<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='50%' valign='top'>Laboratorium : ").append(rs2.getString("lab").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td><td width='50%' valign='top'>Radiologi : ").append(rs2.getString("rad").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='50%' valign='top'>Tes Pendengaran : ").append(rs2.getString("tes_pendengaran").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td><td width='50%' valign='top'>Penunjang Lainnya : ").append(rs2.getString("penunjang").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>V. DIAGNOSIS/ASESMEN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='50%' valign='top'>Asesmen Kerja : ").append(rs2.getString("diagnosis").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td><td width='50%' valign='top'>Asesmen Banding : ").append(rs2.getString("diagnosisbanding").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>VI. PERMASALAHAN & TATALAKSANA<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='50%' valign='top'>Permasalahan : ").append(rs2.getString("permasalahan").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td><td width='50%' valign='top'>Terapi/Pengobatan : ").append(rs2.getString("terapi").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='50%' valign='top'>Tindakan/Rencana Tindakan : ").append(rs2.getString("tindakan").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td><td width='50%' valign='top'>Tatalaksana Lainnya : ").append(rs2.getString("tatalaksana").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>VII. EDUKASI<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>").append(rs2.getString("edukasi").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr>");
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>"
                                + "</table>"
                                + "</fieldset>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Asuhan Medis Rawat Jalan THT : " + e);
        }
    }

    private void menampilkanUjiFungsiKFR(String norawat) {
        try {
            if (chkUjiFungsiKFR.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select uji_fungsi_kfr.tanggal,uji_fungsi_kfr.diagnosis_fungsional,uji_fungsi_kfr.diagnosis_medis,uji_fungsi_kfr.hasil_didapat,"
                            + "uji_fungsi_kfr.kesimpulan,uji_fungsi_kfr.rekomedasi,uji_fungsi_kfr.kd_dokter,dokter.nm_dokter "
                            + "from uji_fungsi_kfr inner join dokter on uji_fungsi_kfr.kd_dokter=dokter.kd_dokter where "
                            + "uji_fungsi_kfr.no_rawat='" + norawat + "'").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<fieldset>"
                                + "<h2><center>UJI FUNGSI KFR</center></h2>"
                                + "<table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Uji Fungsi/Prosedur KFR</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                        );
                        rs2.beforeFirst();
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top'>YANG MELAKUKAN PEMERIKSAAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='33%' border='0'>Tanggal : ").append(rs2.getString("tanggal")).append("</td><td width='66%' border='0'>Dokter : ").append(rs2.getString("kd_dokter")).append(" ").append(rs2.getString("nm_dokter")).append("</td></tr></table></td></tr><tr><td valign='top'><table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='20%' border='0'>Diagnosa Fungsional</td><td width='80%' border='0'>: ").append(rs2.getString("diagnosis_fungsional")).append("</td></tr><tr><td width='20%' border='0'>Diagnosa Medis</td><td width='80%' border='0'>: ").append(rs2.getString("diagnosis_medis")).append("</td></tr></table></td></tr><tr><td valign='top'>INSTRUMEN UJI FUNGSI/PROSEDUR KFR<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>Hasil yang didapat : ").append(rs2.getString("hasil_didapat")).append("</td></tr><tr><td width='100%' border='0'>Kesimpulan : ").append(rs2.getString("kesimpulan")).append("</td></tr><tr><td width='100%' border='0'>Rekomendasi : ").append(rs2.getString("rekomedasi")).append("</td></tr></table></td></tr>");
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>"
                                + "</table>"
                                + "</fieldset>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Uji Fungsi KFR : " + e);
        }
    }

    private void menampilkanDiagnosa(String norawat) {
        try {
            if (chkDiagnosaPenyakit.isSelected() == true) {
                htmlContent.append(
                        "<fieldset>"
                        + "<h2><center>DIAGNOSA PASIEN</center></h2>"
                        + "<table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>");
                try {
                    rs2 = koneksi.prepareStatement(
                            "select diagnosa_pasien.kd_penyakit,penyakit.nm_penyakit, diagnosa_pasien.status "
                            + "from diagnosa_pasien inner join penyakit on diagnosa_pasien.kd_penyakit=penyakit.kd_penyakit "
                            + "where diagnosa_pasien.no_rawat='" + norawat + "'").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Diagnosa/Penyakit/ICD 10</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr align='center'><td valign='top' width='4%' bgcolor='#FFFAF8'>No.</td><td valign='top' width='24%' bgcolor='#FFFAF8'>Kode</td><td valign='top' width='51%' bgcolor='#FFFAF8'>Nama Penyakit</td><td valign='top' width='23%' bgcolor='#FFFAF8'>Status</td></tr>"
                        );
                        rs2.beforeFirst();
                        w = 1;
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top' align='center'>").append(w).append("</td><td valign='top'>").append(rs2.getString("kd_penyakit")).append("</td><td valign='top'>").append(rs2.getString("nm_penyakit")).append("</td><td valign='top'>").append(rs2.getString("status")).append("</td></tr>");
                            w++;
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
                htmlContent.append(
                        "</table>"
                        + "</fieldset>"
                );
            }

            if (chkProsedurTindakan.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select prosedur_pasien.kode,icd9.deskripsi_panjang, prosedur_pasien.status "
                            + "from prosedur_pasien inner join icd9 "
                            + "on prosedur_pasien.kode=icd9.kode "
                            + "where prosedur_pasien.no_rawat='" + norawat + "'").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Prosedur/Tindakan/ICD 9</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr align='center'><td valign='top' width='4%' bgcolor='#FFFAF8'>No.</td><td valign='top' width='24%' bgcolor='#FFFAF8'>Kode</td><td valign='top' width='51%' bgcolor='#FFFAF8'>Nama Prosedur</td><td valign='top' width='23%' bgcolor='#FFFAF8'>Status</td></tr>"
                        );
                        rs2.beforeFirst();
                        w = 1;
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top' align='center'>").append(w).append("</td><td valign='top'>").append(rs2.getString("kode")).append("</td><td valign='top'>").append(rs2.getString("deskripsi_panjang")).append("</td><td valign='top'>").append(rs2.getString("status")).append("</td></tr>");
                            w++;
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
            htmlContent.append(
                    "</table>"
                    + "</fieldset>"
            );
        } catch (Exception e) {
            System.out.println("Notif Diagnosa : " + e);
        }
    }

    private void menampilkanHemodialisa(String norawat) {
        try {
            if (chkHemodialisa.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select hemodialisa.tanggal,hemodialisa.lama,hemodialisa.akses,hemodialisa.dialist,hemodialisa.transfusi,hemodialisa.penarikan, "
                            + "hemodialisa.qb,hemodialisa.qd,hemodialisa.ureum,hemodialisa.hb,hemodialisa.hbsag,creatinin,hemodialisa.hiv,hemodialisa.hcv,hemodialisa.lain, "
                            + "hemodialisa.kd_dokter,dokter.nm_dokter,hemodialisa.kd_penyakit,penyakit.nm_penyakit from hemodialisa inner join dokter on hemodialisa.kd_dokter=dokter.kd_dokter "
                            + "inner join penyakit on hemodialisa.kd_penyakit=penyakit.kd_penyakit where hemodialisa.no_rawat='" + norawat + "'").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<fieldset>"
                                + "<h2><center>HEMODIALISA</center></h2>"
                                + "<table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Hemodialisa</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr align='center'>"
                                + "<td valign='top' width='4%' bgcolor='#FFFAF8'>No.</td>"
                                + "<td valign='top' width='15%' bgcolor='#FFFAF8'>Tanggal</td>"
                                + "<td valign='top' width='10%' bgcolor='#FFFAF8'>Kode Dokter P.J.</td>"
                                + "<td valign='top' width='20%' bgcolor='#FFFAF8'>Nama Dokter P.J.</td>"
                                + "<td valign='top' width='10%' bgcolor='#FFFAF8'>ICD 10</td>"
                                + "<td valign='top' width='41%' bgcolor='#FFFAF8'>Nama Penyakit</td>"
                                + "</tr>"
                        );
                        rs2.beforeFirst();
                        w = 1;
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top' align='center'>").append(w).append("</td><td valign='top'>").append(rs2.getString("tanggal")).append("</td><td valign='top'>").append(rs2.getString("kd_dokter")).append("</td><td valign='top'>").append(rs2.getString("nm_dokter")).append("</td><td valign='top'>").append(rs2.getString("kd_penyakit")).append("</td><td valign='top'>").append(rs2.getString("nm_penyakit")).append("</td></tr><tr><td valign='top' align='center'></td><td valign='top' colspan='5'>KETERANGAN : Lama : ").append(rs2.getString("lama")).append(" Jam, Akses : ").append(rs2.getString("akses")).append(", Dialist : ").append(rs2.getString("dialist")).append(", Transfusi : ").append(rs2.getString("transfusi")).append(" Kalf/Durante HD, Penarikan Cairan : ").append(rs2.getString("penarikan")).append(" ml, QB : ").append(rs2.getString("qb")).append(", QD : ").append(rs2.getString("qd")).append(", Ureum : ").append(rs2.getString("ureum")).append(", Hb : ").append(rs2.getString("hb")).append(", HbsAg : ").append(rs2.getString("hbsag")).append(", Creatinin : ").append(rs2.getString("creatinin")).append(", HIV : ").append(rs2.getString("hiv")).append(", HCV : ").append(rs2.getString("hcv")).append(", Lain-Lain : ").append(rs2.getString("lain")).append("</td></tr>");
                            w++;
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>"
                                + "</table>"
                                + "</fieldset>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Hemodialisa : " + e);
        }
    }

    private void menampilkanPemeriksaanRalan(String norawat) {
        try {
            //SOAP Ralan
            if (chkPemeriksaanRalan.isSelected() == true) {
                htmlContent.append(
                        "<fieldset>"
                        + "<h2><center>SOAP RAWAT JALAN</center></h2>"
                        + "<table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>");
                try {
                    rs2 = koneksi.prepareStatement(
                            "select pemeriksaan_ralan.tgl_perawatan,pemeriksaan_ralan.jam_rawat,pemeriksaan_ralan.suhu_tubuh,pemeriksaan_ralan.tensi,pemeriksaan_ralan.nadi,pemeriksaan_ralan.respirasi,"
                            + "pemeriksaan_ralan.tinggi,pemeriksaan_ralan.berat,pemeriksaan_ralan.spo2,pemeriksaan_ralan.gcs,pemeriksaan_ralan.kesadaran,pemeriksaan_ralan.keluhan, "
                            + "pemeriksaan_ralan.pemeriksaan,pemeriksaan_ralan.alergi,pemeriksaan_ralan.lingkar_perut,pemeriksaan_ralan.rtl,pemeriksaan_ralan.penilaian,"
                            + "pemeriksaan_ralan.instruksi,pemeriksaan_ralan.evaluasi,pemeriksaan_ralan.nip,pegawai.nama,pegawai.jbtn from pemeriksaan_ralan inner join pegawai on pemeriksaan_ralan.nip=pegawai.nik where "
                            + "pemeriksaan_ralan.no_rawat='" + norawat + "' order by pemeriksaan_ralan.tgl_perawatan,pemeriksaan_ralan.jam_rawat").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Pemeriksaan Rawat Jalan</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr align='center'>"
                                + "<td valign='top' width='4%' bgcolor='#FFFAF8'>No.</td>"
                                + "<td valign='top' width='15%' bgcolor='#FFFAF8'>Tanggal</td>"
                                + "<td valign='top' width='54%' bgcolor='#FFFAF8' colspan='7'>Dokter/Paramedis</td>"
                                + "<td valign='top' width='27%' bgcolor='#FFFAF8' colspan='3'>Profesi/Jabatan/Departemen</td>"
                                + "</tr>"
                        );
                        rs2.beforeFirst();
                        w = 1;
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top' align='center'>").append(w).append("</td><td valign='top'>").append(rs2.getString("tgl_perawatan")).append(" ").append(rs2.getString("jam_rawat")).append("</td><td valign='top' colspan='7'>").append(rs2.getString("nip")).append(" ").append(rs2.getString("nama")).append("</td><td valign='top' colspan='3'>").append(rs2.getString("jbtn")).append("</td></tr>");
                            if (!rs2.getString("keluhan").isEmpty()) {
                                htmlContent.append("<tr><td valign='top' align='center'></td><td valign='top' align='center'></td><td valign='top' colspan='2'>Subjek</td><td valign='top' colspan='8'> : ").append(rs2.getString("keluhan").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr>");
                            }

                            if (!rs2.getString("pemeriksaan").isEmpty()) {
                                htmlContent.append("<tr><td valign='top' align='center'></td><td valign='top' align='center'></td><td valign='top' colspan='2'>Objek</td><td valign='top' colspan='8'> : ").append(rs2.getString("pemeriksaan").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr>");
                            }

                            htmlContent.append("<tr><td valign='top' align='center'></td><td valign='top' align='center'></td><td valign='top' width='8%' bgcolor='#FFFAF8' align='center'>Suhu(C)</td><td valign='top' width='8%' bgcolor='#FFFAF8' align='center'>Tensi</td><td valign='top' width='8%' bgcolor='#FFFAF8' align='center'>Nadi(/menit)</td><td valign='top' width='8%' bgcolor='#FFFAF8' align='center'>Respirasi(/menit)</td><td valign='top' width='8%' bgcolor='#FFFAF8' align='center'>Tinggi(Cm)</td><td valign='top' width='8%' bgcolor='#FFFAF8' align='center'>Berat(Kg)</td><td valign='top' width='8%' bgcolor='#FFFAF8' align='center'>SpO2(%)</td><td valign='top' width='8%' bgcolor='#FFFAF8' align='center'>GCS(E,V,M)</td><td valign='top' width='8%' bgcolor='#FFFAF8' align='center'>Kesadaran</td><td valign='top' width='8%' bgcolor='#FFFAF8' align='center'>L.P.(Cm)</td></tr><tr><td valign='top' align='center'></td><td valign='top'></td><td valign='top' align='center'>").append(rs2.getString("suhu_tubuh")).append("</td><td valign='top' align='center'>").append(rs2.getString("tensi")).append("</td><td valign='top' align='center'>").append(rs2.getString("nadi")).append("</td><td valign='top' align='center'>").append(rs2.getString("respirasi")).append("</td><td valign='top' align='center'>").append(rs2.getString("tinggi")).append("</td><td valign='top' align='center'>").append(rs2.getString("berat")).append("</td><td valign='top' align='center'>").append(rs2.getString("spo2")).append("</td><td valign='top' align='center'>").append(rs2.getString("gcs")).append("</td><td valign='top' align='center'>").append(rs2.getString("kesadaran")).append("</td><td valign='top' align='center'>").append(rs2.getString("lingkar_perut")).append("</td></tr>");

                            if (!rs2.getString("alergi").isEmpty()) {
                                htmlContent.append("<tr><td valign='top' align='center'></td><td valign='top' align='center'></td><td valign='top' colspan='2'>Alergi</td><td valign='top' colspan='8'> : ").append(rs2.getString("alergi")).append("</td></tr>");
                            }

                            if (!rs2.getString("penilaian").isEmpty()) {
                                htmlContent.append("<tr><td valign='top' align='center'></td><td valign='top' align='center'></td><td valign='top' colspan='2'>Asesmen</td><td valign='top' colspan='8'> : ").append(rs2.getString("penilaian").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr>");
                            }

                            if (!rs2.getString("rtl").isEmpty()) {
                                htmlContent.append("<tr><td valign='top' align='center'></td><td valign='top' align='center'></td><td valign='top' colspan='2'>Plan</td><td valign='top' colspan='8'> : ").append(rs2.getString("rtl").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr>");
                            }

                            if (!rs2.getString("instruksi").isEmpty()) {
                                htmlContent.append("<tr><td valign='top' align='center'></td><td valign='top' align='center'></td><td valign='top' colspan='2'>Instruksi</td><td valign='top' colspan='8'> : ").append(rs2.getString("instruksi").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr>");
                            }

                            if (!rs2.getString("evaluasi").isEmpty()) {
                                htmlContent.append("<tr><td valign='top' align='center'></td><td valign='top' align='center'></td><td valign='top' colspan='2'>Evaluasi</td><td valign='top' colspan='8'> : ").append(rs2.getString("evaluasi")).append("</td></tr>");
                            }
                            w++;
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>"
                                + "</table>"
                                + "</fieldset>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
                htmlContent.append(
                        "</table>"
                        + "</fieldset>"
                );
            }

            //menampilkan obstetri Ralan
            if (chkPemeriksaanObstetriRalan.isSelected() == true) {
                htmlContent.append(
                        "<fieldset style='page-break-before:always;'>");
                try {
                    rs2 = koneksi.prepareStatement(
                            "select pemeriksaan_obstetri_ralan.tgl_perawatan,pemeriksaan_obstetri_ralan.jam_rawat,pemeriksaan_obstetri_ralan.tinggi_uteri,pemeriksaan_obstetri_ralan.janin,pemeriksaan_obstetri_ralan.letak, "
                            + "pemeriksaan_obstetri_ralan.panggul,pemeriksaan_obstetri_ralan.denyut,pemeriksaan_obstetri_ralan.kontraksi, "
                            + "pemeriksaan_obstetri_ralan.kualitas_mnt,pemeriksaan_obstetri_ralan.kualitas_dtk,pemeriksaan_obstetri_ralan.fluksus,pemeriksaan_obstetri_ralan.albus, "
                            + "pemeriksaan_obstetri_ralan.vulva,pemeriksaan_obstetri_ralan.portio,pemeriksaan_obstetri_ralan.dalam, pemeriksaan_obstetri_ralan.tebal, pemeriksaan_obstetri_ralan.arah, pemeriksaan_obstetri_ralan.pembukaan,"
                            + "pemeriksaan_obstetri_ralan.penurunan, pemeriksaan_obstetri_ralan.denominator, pemeriksaan_obstetri_ralan.ketuban, pemeriksaan_obstetri_ralan.feto "
                            + "from pemeriksaan_obstetri_ralan where pemeriksaan_obstetri_ralan.no_rawat='" + norawat + "' order by pemeriksaan_obstetri_ralan.tgl_perawatan,pemeriksaan_obstetri_ralan.jam_rawat").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Pemeriksaan Obstetri Rawat Jalan</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr align='center'>"
                                + "<td valign='top' width='4%' bgcolor='#FFFAF8'>No.</td>"
                                + "<td valign='top' width='15%' bgcolor='#FFFAF8'>Tanggal</td>"
                                + "<td valign='top' width='5%' bgcolor='#FFFAF8'>Tinggi Fundus</td>"
                                + "<td valign='top' width='6%' bgcolor='#FFFAF8'>Janin</td>"
                                + "<td valign='top' width='6%' bgcolor='#FFFAF8'>Letak</td>"
                                + "<td valign='top' width='5%' bgcolor='#FFFAF8'>Panggul</td>"
                                + "<td valign='top' width='5%' bgcolor='#FFFAF8'>Denyut</td>"
                                + "<td valign='top' width='5%' bgcolor='#FFFAF8'>Kontraksi</td>"
                                + "<td valign='top' width='5%' bgcolor='#FFFAF8'>Kualitas Mnt</td>"
                                + "<td valign='top' width='5%' bgcolor='#FFFAF8'>Kualitas Detik</td>"
                                + "<td valign='top' width='5%' bgcolor='#FFFAF8'>Fluksus</td>"
                                + "<td valign='top' width='5%' bgcolor='#FFFAF8'>Albus</td>"
                                + "<td valign='top' width='6%' bgcolor='#FFFAF8'>Dalam</td>"
                                + "<td valign='top' width='5%' bgcolor='#FFFAF8'>Tebal</td>"
                                + "<td valign='top' width='6%' bgcolor='#FFFAF8'>Arah</td>"
                                + "<td valign='top' width='5%' bgcolor='#FFFAF8'>Ketuban</td>"
                                + "<td valign='top' width='7%' bgcolor='#FFFAF8'>Feto</td>"
                                + "</tr>"
                        );
                        rs2.beforeFirst();
                        w = 1;
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top' align='center'>").append(w).append("</td><td valign='top'>").append(rs2.getString("tgl_perawatan")).append(" ").append(rs2.getString("jam_rawat")).append("</td><td valign='top'>").append(rs2.getString("tinggi_uteri")).append("</td><td valign='top'>").append(rs2.getString("janin")).append("</td><td valign='top'>").append(rs2.getString("letak")).append("</td><td valign='top'>").append(rs2.getString("panggul")).append("</td><td valign='top'>").append(rs2.getString("denyut")).append("</td><td valign='top'>").append(rs2.getString("kontraksi")).append("</td><td valign='top'>").append(rs2.getString("kualitas_mnt")).append("</td><td valign='top'>").append(rs2.getString("kualitas_dtk")).append("</td><td valign='top'>").append(rs2.getString("fluksus")).append("</td><td valign='top'>").append(rs2.getString("albus")).append("</td><td valign='top'>").append(rs2.getString("dalam")).append("</td><td valign='top'>").append(rs2.getString("tebal")).append("</td><td valign='top'>").append(rs2.getString("arah")).append("</td><td valign='top'>").append(rs2.getString("ketuban")).append("</td><td valign='top'>").append(rs2.getString("feto")).append("</td></tr>");
                            if (!rs2.getString("vulva").isEmpty()) {
                                htmlContent.append("<tr><td valign='top' align='center'></td><td valign='top' align='center'></td><td valign='top' colspan='2'>Vulva</td><td valign='top' colspan='13'> : ").append(rs2.getString("vulva")).append("</td></tr>");
                            }

                            if (!rs2.getString("portio").isEmpty()) {
                                htmlContent.append("<tr><td valign='top' align='center'></td><td valign='top' align='center'></td><td valign='top' colspan='2'>Portio</td><td valign='top' colspan='13'> : ").append(rs2.getString("portio")).append("</td></tr>");
                            }

                            if (!rs2.getString("pembukaan").isEmpty()) {
                                htmlContent.append("<tr><td valign='top' align='center'></td><td valign='top' align='center'></td><td valign='top' colspan='2'>Pembukaan</td><td valign='top' colspan='13'> : ").append(rs2.getString("pembukaan")).append("</td></tr>");
                            }

                            if (!rs2.getString("penurunan").isEmpty()) {
                                htmlContent.append("<tr><td valign='top' align='center'></td><td valign='top' align='center'></td><td valign='top' colspan='2'>Penurunan</td><td valign='top' colspan='13'> : ").append(rs2.getString("penurunan")).append("</td></tr>");
                            }

                            if (!rs2.getString("denominator").isEmpty()) {
                                htmlContent.append("<tr><td valign='top' align='center'></td><td valign='top' align='center'></td><td valign='top' colspan='2'>Denominator</td><td valign='top' colspan='13'> : ").append(rs2.getString("denominator")).append("</td></tr>");
                            }

                            w++;
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
                htmlContent.append(
                        "</fieldset>"
                );
            }

            //menampilkan genekologi Ralan
            if (chkPemeriksaanGenekologiRalan.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select pemeriksaan_ginekologi_ralan.tgl_perawatan,pemeriksaan_ginekologi_ralan.jam_rawat,pemeriksaan_ginekologi_ralan.inspeksi,pemeriksaan_ginekologi_ralan.inspeksi_vulva,pemeriksaan_ginekologi_ralan.inspekulo_gine, "
                            + "pemeriksaan_ginekologi_ralan.fluxus_gine,pemeriksaan_ginekologi_ralan.fluor_gine,pemeriksaan_ginekologi_ralan.vulva_inspekulo, "
                            + "pemeriksaan_ginekologi_ralan.portio_inspekulo,pemeriksaan_ginekologi_ralan.sondage,pemeriksaan_ginekologi_ralan.portio_dalam,pemeriksaan_ginekologi_ralan.bentuk, "
                            + "pemeriksaan_ginekologi_ralan.cavum_uteri,pemeriksaan_ginekologi_ralan.mobilitas,pemeriksaan_ginekologi_ralan.ukuran, pemeriksaan_ginekologi_ralan.nyeri_tekan, pemeriksaan_ginekologi_ralan.adnexa_kanan, pemeriksaan_ginekologi_ralan.adnexa_kiri,"
                            + "pemeriksaan_ginekologi_ralan.cavum_douglas "
                            + "from pemeriksaan_ginekologi_ralan where pemeriksaan_ginekologi_ralan.no_rawat='" + norawat + "' order by pemeriksaan_ginekologi_ralan.tgl_perawatan,pemeriksaan_ginekologi_ralan.jam_rawat").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<fieldset>"
                                + "<table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Pemeriksaan Ginekologi Rawat Jalan</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr align='center'>"
                                + "<td valign='top' width='4%' bgcolor='#FFFAF8'>No.</td>"
                                + "<td valign='top' width='15%' bgcolor='#FFFAF8'>Tanggal</td>"
                                + "<td valign='top' width='81%' bgcolor='#FFFAF8'>Pemeriksaan</td>"
                                + "</tr>"
                        );
                        rs2.beforeFirst();
                        w = 1;
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top' align='center'>").append(w).append("</td><td valign='top'>").append(rs2.getString("tgl_perawatan")).append(" ").append(rs2.getString("jam_rawat")).append("</td><td valign='top'><table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'><tr align='left'><td border='0' valign='top' width='30%'>Inspeksi</td><td border='0' valign='top' width='70%'>: ").append(rs2.getString("inspeksi")).append("</td></tr><tr align='left'><td border='0' valign='top' width='30%'>&nbsp;&nbsp;&nbsp;Vulva/Uretra/Vagina</td><td border='0' valign='top' width='70%'>: ").append(rs2.getString("inspeksi_vulva")).append("</td></tr><tr align='left'><td border='0' valign='top' width='30%'>Inspekulo</td><td border='0' valign='top' width='70%'>: ").append(rs2.getString("inspekulo_gine")).append("</td></tr><tr align='left'><td border='0' valign='top' width='30%'>&nbsp;&nbsp;&nbsp;Fluxus</td><td border='0' valign='top' width='70%'>: ").append(rs2.getString("fluxus_gine")).append(",&nbsp;&nbsp;Fluor Albus : ").append(rs2.getString("fluor_gine")).append("</td></tr><tr align='left'><td border='0' valign='top' width='30%'>&nbsp;&nbsp;&nbsp;Vulva/Vagina</td><td border='0' valign='top' width='70%'>: ").append(rs2.getString("vulva_inspekulo")).append("</td></tr><tr align='left'><td border='0' valign='top' width='30%'>&nbsp;&nbsp;&nbsp;Portio</td><td border='0' valign='top' width='70%'>: ").append(rs2.getString("portio_inspekulo")).append("</td></tr><tr align='left'><td border='0' valign='top' width='30%'>&nbsp;&nbsp;&nbsp;Sondage</td><td border='0' valign='top' width='70%'>: ").append(rs2.getString("sondage")).append("</td></tr><tr align='left'><td border='0' valign='top' width='30%'>Pemeriksaan Dalam</td><td border='0' valign='top' width='70%'>:</td></tr><tr align='left'><td border='0' valign='top' width='30%'>&nbsp;&nbsp;&nbsp;Portio</td><td border='0' valign='top' width='70%'>: ").append(rs2.getString("portio_dalam")).append(",&nbsp;&nbsp;Bentuk : ").append(rs2.getString("bentuk")).append("</td></tr><tr align='left'><td border='0' valign='top' width='30%'>&nbsp;&nbsp;&nbsp;Cavum Uteri</td><td border='0' valign='top' width='70%'>: ").append(rs2.getString("cavum_uteri")).append(",&nbsp;&nbsp;Mobilitas : ").append(rs2.getString("mobilitas")).append("</td></tr><tr align='left'><td border='0' valign='top' width='30%'>&nbsp;&nbsp;&nbsp;</td><td border='0' valign='top' width='70%'>&nbsp;&nbsp;&nbsp;Ukuran : ").append(rs2.getString("ukuran")).append(",&nbsp;&nbsp;Nyeri Tekan : ").append(rs2.getString("nyeri_tekan")).append("</td></tr><tr align='left'><td border='0' valign='top' width='30%'>&nbsp;&nbsp;&nbsp;Adnexa/Parametrium</td><td border='0' valign='top' width='70%'>: Kanan : ").append(rs2.getString("adnexa_kanan")).append(",&nbsp;&nbsp;Kiri : ").append(rs2.getString("adnexa_kiri")).append("</td></tr><tr align='left'><td border='0' valign='top' width='30%'>&nbsp;&nbsp;&nbsp;Cavum Douglas</td><td border='0' valign='top' width='70%'>: ").append(rs2.getString("cavum_douglas")).append("</td></tr></table></td></tr>");
                            w++;
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
            htmlContent.append(
                    "</table>"
                    + "</fieldset>"
            );
        } catch (Exception e) {
            System.out.println("Notif Pemeriksaan Ralan : " + e);
        }
    }

    private void menampilkanSbarRalan(String norawat) {
        try {
            //SBAR Ralan
            if (chkSbarRalan.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select pemeriksaan_ralan_sbar.tgl_perawatan,pemeriksaan_ralan_sbar.jam_rawat,pemeriksaan_ralan_sbar.situation,"
                            + "pemeriksaan_ralan_sbar.background,pemeriksaan_ralan_sbar.assesment,pemeriksaan_ralan_sbar.recommendation,pemeriksaan_ralan_sbar.nip,pemeriksaan_ralan_sbar.kd_dokter,pegawai.nama,jabatan.nm_jbtn,"
                            + "namavalidator.nama as namavalidator,validasi_pemeriksaan_sbar_ralan.nik_validator,validasi_pemeriksaan_sbar_ralan.tgl_validasi,validasi_pemeriksaan_sbar_ralan.jam_validasi,validasi_pemeriksaan_sbar_ralan.status_validasi "
                            + "from pemeriksaan_ralan_sbar inner join pegawai on pemeriksaan_ralan_sbar.nip=pegawai.nik inner join petugas on pegawai.nik=petugas.nip inner join jabatan on petugas.kd_jbtn=jabatan.kd_jbtn LEFT JOIN pegawai AS namavalidator ON pemeriksaan_ralan_sbar.kd_dokter=namavalidator.nik left join validasi_pemeriksaan_sbar_ralan on pemeriksaan_ralan_sbar.jam_rawat = validasi_pemeriksaan_sbar_ralan.jam_rawat AND pemeriksaan_ralan_sbar.no_rawat = validasi_pemeriksaan_sbar_ralan.no_rawat AND pemeriksaan_ralan_sbar.tgl_perawatan = validasi_pemeriksaan_sbar_ralan.tgl_perawatan "
                            + "where pemeriksaan_ralan_sbar.no_rawat='" + norawat + "' "
                            + "order by pemeriksaan_ralan_sbar.tgl_perawatan,pemeriksaan_ralan_sbar.jam_rawat").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<fieldset>"
                                + "<h2><center>SBAR RAWAT JALAN</center></h2>"
                                + "<table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>S.B.A.R Rawat Jalan</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr align='center'>"
                                + "<td valign='top' width='4%' bgcolor='#FFFAF8'>No.</td>"
                                + "<td valign='top' bgcolor='#FFFAF8' width='5%'>Tanggal</td>"
                                + "<td valign='top' bgcolor='#FFFAF8' width='10%'>Dokter/Paramedis</td>"
                                + "<td valign='top' bgcolor='#FFFAF8' width='17%'>Situation</td>"
                                + "<td valign='top' bgcolor='#FFFAF8' width='17%'>Background</td>"
                                + "<td valign='top' bgcolor='#FFFAF8' width='17%'>Assesment</td>"
                                + "<td valign='top' bgcolor='#FFFAF8' width='17%'>Recommendation</td>"
                                + "<td valign='top' bgcolor='#FFFAF8' width='10%'>Validasi</td>"
                                + "</tr>"
                        );
                        rs2.beforeFirst();
                        w = 1;
                        while (rs2.next()) {
                            String gbrverif = "";
                            if (Sequel.cariInteger("select count(validasi_pemeriksaan_sbar_ralan.nik_validator) "
                                    + "from pemeriksaan_ralan_sbar inner join pegawai on pemeriksaan_ralan_sbar.nip=pegawai.nik inner join departemen on pegawai.departemen=departemen.dep_id LEFT JOIN pegawai AS namavalidator ON pemeriksaan_ralan_sbar.kd_dokter=namavalidator.nik left join validasi_pemeriksaan_sbar_ralan on pemeriksaan_ralan_sbar.jam_rawat = validasi_pemeriksaan_sbar_ralan.jam_rawat AND pemeriksaan_ralan_sbar.no_rawat = validasi_pemeriksaan_sbar_ralan.no_rawat AND pemeriksaan_ralan_sbar.tgl_perawatan = validasi_pemeriksaan_sbar_ralan.tgl_perawatan "
                                    + "where pemeriksaan_ralan_sbar.no_rawat='" + rs.getString("no_rawat") + "' AND validasi_pemeriksaan_sbar_ralan.nik_validator='" + rs2.getString("nik_validator") + "' AND validasi_pemeriksaan_sbar_ralan.status_validasi='Validasi'"
                                    + "order by pemeriksaan_ralan_sbar.tgl_perawatan,pemeriksaan_ralan_sbar.jam_rawat") > 0) {
                                gbrverif = "<img src ='http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/images/verif.png' align='center' width='100' height='50'/";
                            } else {
                                gbrverif = "<img src ='http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/images/notverif.png' align='center' width='100' height='50'/";
                            }
                            htmlContent.append("<tr><td valign='top' align='center'>").append(w).append("</td><td valign='top'>").append(rs2.getString("tgl_perawatan")).append("<br>").append(rs2.getString("jam_rawat")).append("</td><td valign='top'>").append(rs2.getString("nama")).append("<br>(").append(rs2.getString("jabatan.nm_jbtn")).append(")</td><td valign='top'>").append(rs2.getString("situation").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td><td valign='top'>").append(rs2.getString("background").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td><td valign='top'>").append(rs2.getString("assesment").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td><td valign='top'>").append(rs2.getString("recommendation").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td><td valign='top'>").append(gbrverif).append("><br>").append(rs2.getString("namavalidator")).append("<br>").append(rs2.getString("tgl_validasi")).append("<br>").append(rs2.getString("jam_validasi")).append("</td></tr>");
                            w++;
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>"
                                + "</table>"
                                + "</fieldset>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif SBAR Ralan : " + e);
        }
    }

    private void menampilkanCatatanObservasi(String norawat) {
        try {
            //menampilkan catatan observasi IGD
            if (chkCatatanObservasiIGD.isSelected() == true) {
                htmlContent.append(
                        "<fieldset>"
                        + "<h2><center>CATATAN OBSERVASI</center></h2>"
                        + "<table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>");
                try {
                    rs2 = koneksi.prepareStatement(
                            "select catatan_observasi_igd.tgl_perawatan,catatan_observasi_igd.jam_rawat,catatan_observasi_igd.gcs,"
                            + "catatan_observasi_igd.td,catatan_observasi_igd.hr,catatan_observasi_igd.rr,catatan_observasi_igd.suhu,catatan_observasi_igd.spo2,catatan_observasi_igd.map,"
                            + "catatan_observasi_igd.terapi,catatan_observasi_igd.nip,petugas.nama,validasi_catatan_observasi_igd.nik_validator,petugas2.nama as nama2,validasi_catatan_observasi_igd.tgl_validasi,"
                            + "validasi_catatan_observasi_igd.jam_validasi from catatan_observasi_igd inner join petugas on catatan_observasi_igd.nip=petugas.nip "
                            + "left join validasi_catatan_observasi_igd ON catatan_observasi_igd.jam_rawat = validasi_catatan_observasi_igd.jam_rawat "
                            + "AND catatan_observasi_igd.no_rawat = validasi_catatan_observasi_igd.no_rawat "
                            + "AND catatan_observasi_igd.tgl_perawatan = validasi_catatan_observasi_igd.tgl_perawatan "
                            + "LEFT JOIN petugas AS petugas2 ON validasi_catatan_observasi_igd.nik_validator = petugas2.nip where catatan_observasi_igd.no_rawat='" + norawat + "' "
                            + "order by catatan_observasi_igd.tgl_perawatan,catatan_observasi_igd.jam_rawat").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Catatan Observasi IGD</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr align='center'>"
                                + "<td valign='middle' width='4%' bgcolor='#FFFAF8'>No.</td>"
                                + "<td valign='middle' width='10%' bgcolor='#FFFAF8'>Tanggal</td>"
                                + "<td valign='top' width='56%' bgcolor='#FFFAF8' colspan='7'>Monitoring</td>"
                                + "<td valign='middle' width='15%' bgcolor='#FFFAF8'>Perawat/Paramedis</td>"
                                + "<td valign='middle' width='15%' bgcolor='#FFFAF8'>Validator</td>"
                                + "</tr>"
                        );
                        rs2.beforeFirst();
                        w = 1;
                        while (rs2.next()) {
                            htmlContent.append("<tr align='center'><td valign='top' align='center' rowspan='4'>").append(w).append("</td><td valign='top' rowspan='4'>").append(rs2.getString("tgl_perawatan")).append(" ").append(rs2.getString("jam_rawat")).append("</td><td valign='top' width='11%' bgcolor='#FFFAF8'>GCS(E,V,M)</td><td valign='top' width='10%' bgcolor='#FFFAF8'>TD</td><td valign='top' width='9%' bgcolor='#FFFAF8'>HR (/menit)</td><td valign='top' width='9%' bgcolor='#FFFAF8'>RR (/menit)</td><td valign='top' width='9%' bgcolor='#FFFAF8'>Suhu(C)</td><td valign='top' width='9%' bgcolor='#FFFAF8'>SpO2(%)</td><td valign='top' width='9%' bgcolor='#FFFAF8'>MAP</td><td valign='top' rowspan='4'>").append(rs2.getString("nip")).append(" ").append(rs2.getString("nama")).append("</td><td valign='top' rowspan='4'>").append(rs2.getString("nama2")).append("<br>").append(rs2.getString("tgl_validasi")).append("<br>").append(rs2.getString("jam_validasi")).append("</td></tr><tr align='center'><td valign='top'>").append(rs2.getString("gcs")).append("</td><td valign='top'>").append(rs2.getString("td")).append("</td><td valign='top'>").append(rs2.getString("hr")).append("</td><td valign='top'>").append(rs2.getString("rr")).append("</td><td valign='top'>").append(rs2.getString("suhu")).append("</td><td valign='top'>").append(rs2.getString("spo2")).append("</td><td valign='top'>").append(rs2.getString("map")).append("</td></tr><tr align='center'><td valign='top' bgcolor='#FFFAF8' colspan='7'>Terapi</td></tr><tr align='left'><td valign='top' colspan='7'>").append(rs2.getString("terapi").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr>");
                            w++;
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>"
                                + "</table>"
                                + "</fieldset>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
                htmlContent.append(
                        "</table>"
                        + "</fieldset>"
                );
            }

            //menampilkan catatan Cek GDS
            if (chkCatatanCekGDS.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select catatan_cek_gds.tgl_perawatan,catatan_cek_gds.jam_rawat,catatan_cek_gds.gdp,"
                            + "catatan_cek_gds.insulin,catatan_cek_gds.obat_gula,catatan_cek_gds.nip,petugas.nama "
                            + "from catatan_cek_gds inner join petugas on catatan_cek_gds.nip=petugas.nip "
                            + "where catatan_cek_gds.no_rawat='" + norawat + "'").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<fieldset>"
                                + "<table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Catatan Cek GDS & Pemberian Insulin / Obat Gula</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr align='center'>"
                                + "<td valign='middle' width='4%' bgcolor='#FFFAF8' rowspan='2'>No.</td>"
                                + "<td valign='middle' width='15%' bgcolor='#FFFAF8' rowspan='2'>Tanggal</td>"
                                + "<td valign='top' width='58%' bgcolor='#FFFAF8' colspan='3'>Catatan</td>"
                                + "<td valign='middle' width='23%' bgcolor='#FFFAF8' rowspan='2'>Perawat/Paramedis</td>"
                                + "</tr>"
                                + "<tr align='center'>"
                                + "<td valign='top' width='6%' bgcolor='#FFFAF8'>GDS</td>"
                                + "<td valign='top' width='26%' bgcolor='#FFFAF8'>Insulin</td>"
                                + "<td valign='top' width='26%' bgcolor='#FFFAF8'>Obat Gula</td>"
                                + "</tr>"
                        );
                        rs2.beforeFirst();
                        w = 1;
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top' align='center'>").append(w).append("</td><td valign='top'>").append(rs2.getString("tgl_perawatan")).append(" ").append(rs2.getString("jam_rawat")).append("</td><td valign='top' align='center'>").append(rs2.getString("gdp")).append("</td><td valign='top' align='center'>").append(rs2.getString("insulin")).append("</td><td valign='top' align='center'>").append(rs2.getString("obat_gula")).append("</td><td valign='top'>").append(rs2.getString("nip")).append(" ").append(rs2.getString("nama")).append("</td></tr>");
                            w++;
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi Cek GDS : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
            htmlContent.append(
                    "</table>"
                    + "</fieldset>"
            );
        } catch (Exception e) {
            System.out.println("Notif Catatan & Observasi : " + e);
        }
    }

    private void menampilkanMonitoringReaksiTranfusi(String norawat) {
        try {
            //menampilkan monitoring reaksi tranfusi
            if (chkMonitoringReaksiTranfusi.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select monitoring_reaksi_tranfusi.tgl_perawatan,monitoring_reaksi_tranfusi.jam_rawat,monitoring_reaksi_tranfusi.produk_darah,"
                            + "monitoring_reaksi_tranfusi.no_kantong,monitoring_reaksi_tranfusi.lokasi_insersi,monitoring_reaksi_tranfusi.td,monitoring_reaksi_tranfusi.hr,"
                            + "monitoring_reaksi_tranfusi.rr,monitoring_reaksi_tranfusi.suhu,monitoring_reaksi_tranfusi.jenis_reaksi_alergi,monitoring_reaksi_tranfusi.keterangan,"
                            + "monitoring_reaksi_tranfusi.nip,petugas.nama from monitoring_reaksi_tranfusi inner join petugas on monitoring_reaksi_tranfusi.nip=petugas.nip "
                            + "where monitoring_reaksi_tranfusi.no_rawat='" + norawat + "'").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<fieldset>"
                                + "<h2><center>MONITORING REAKSI TRANFUSI</center></h2>"
                                + "<table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Monitoring Reaksi Tranfusi</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr align='center'>"
                                + "<td valign='middle' width='4%' bgcolor='#FFFAF8' rowspan='2'>No.</td>"
                                + "<td valign='middle' width='8%' bgcolor='#FFFAF8' rowspan='2'>Tanggal</td>"
                                + "<td valign='middle' width='13%' bgcolor='#FFFAF8' rowspan='2'>Jenis/Produk Darah</td>"
                                + "<td valign='middle' width='8%' bgcolor='#FFFAF8' rowspan='2'>No.Kantong</td>"
                                + "<td valign='middle' width='13%' bgcolor='#FFFAF8' rowspan='2'>Lokasi Insersi</td>"
                                + "<td valign='top' width='14%' bgcolor='#FFFAF8' colspan='4'>TTV</td>"
                                + "<td valign='middle' width='13%' bgcolor='#FFFAF8' rowspan='2'>Perawat/Paramedis</td>"
                                + "<td valign='middle' width='13%' bgcolor='#FFFAF8' rowspan='2'>Alergi/Reaksi Tranfusi</td>"
                                + "<td valign='middle' width='14%' bgcolor='#FFFAF8' rowspan='2'>Keterangan</td>"
                                + "</tr>"
                                + "<tr align='center'>"
                                + "<td valign='top' width='5%' bgcolor='#FFFAF8'>TD</td>"
                                + "<td valign='top' width='3%' bgcolor='#FFFAF8'>HR</td>"
                                + "<td valign='top' width='3%' bgcolor='#FFFAF8'>RR</td>"
                                + "<td valign='top' width='3%' bgcolor='#FFFAF8'>Suhu</td>"
                                + "</tr>"
                        );
                        rs2.beforeFirst();
                        w = 1;
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top' align='center'>").append(w).append("</td><td valign='top' align='center'>").append(rs2.getString("tgl_perawatan")).append(" ").append(rs2.getString("jam_rawat")).append("</td><td valign='top' align='left'>").append(rs2.getString("produk_darah")).append("</td><td valign='top' align='center'>").append(rs2.getString("no_kantong")).append("</td><td valign='top' align='left'>").append(rs2.getString("lokasi_insersi")).append("</td><td valign='top' align='center'>").append(rs2.getString("td")).append("</td><td valign='top' align='center'>").append(rs2.getString("hr")).append("</td><td valign='top' align='center'>").append(rs2.getString("rr")).append("</td><td valign='top' align='center'>").append(rs2.getString("suhu")).append("</td><td valign='top'>").append(rs2.getString("nip")).append(" ").append(rs2.getString("nama")).append("</td><td valign='top' align='left'>").append(rs2.getString("jenis_reaksi_alergi")).append("</td><td valign='top' align='left'>").append(rs2.getString("keterangan")).append("</td></tr>");
                            w++;
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>"
                                + "</table>"
                                + "</fieldset>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Monitoring Reaksi Tranfusi : " + e);
        }
    }

    private void menampilkanAsuhanMedisRawatInap(String norawat) {
        try {
            if (chkAsuhanMedisRanap.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select penilaian_medis_ranap.tanggal,penilaian_medis_ranap.kd_dokter,penilaian_medis_ranap.anamnesis,penilaian_medis_ranap.hubungan,"
                            + "penilaian_medis_ranap.keluhan_utama,penilaian_medis_ranap.rps,penilaian_medis_ranap.rpk,penilaian_medis_ranap.rpd,penilaian_medis_ranap.rpo,"
                            + "penilaian_medis_ranap.alergi,penilaian_medis_ranap.keadaan,penilaian_medis_ranap.gcs,penilaian_medis_ranap.kesadaran,penilaian_medis_ranap.td,"
                            + "penilaian_medis_ranap.nadi,penilaian_medis_ranap.rr,penilaian_medis_ranap.suhu,penilaian_medis_ranap.spo,penilaian_medis_ranap.bb,penilaian_medis_ranap.tb,"
                            + "penilaian_medis_ranap.kepala,penilaian_medis_ranap.mata,penilaian_medis_ranap.gigi,penilaian_medis_ranap.tht,penilaian_medis_ranap.thoraks,"
                            + "penilaian_medis_ranap.jantung,penilaian_medis_ranap.paru,penilaian_medis_ranap.abdomen,penilaian_medis_ranap.ekstremitas,penilaian_medis_ranap.genital,"
                            + "penilaian_medis_ranap.kulit,penilaian_medis_ranap.kepala,penilaian_medis_ranap.mata,penilaian_medis_ranap.gigi,penilaian_medis_ranap.tht,penilaian_medis_ranap.ket_thoraks,penilaian_medis_ranap.jantung,penilaian_medis_ranap.paru,"
                            + "penilaian_medis_ranap.abdomen,penilaian_medis_ranap.genital,penilaian_medis_ranap.ekstremitas,penilaian_medis_ranap.kulit,penilaian_medis_ranap.ket_lokalis,penilaian_medis_ranap.lab,penilaian_medis_ranap.rad,"
                            + "penilaian_medis_ranap.penunjang,penilaian_medis_ranap.diagnosis,penilaian_medis_ranap.tata,penilaian_medis_ranap.edukasi,dokter.nm_dokter "
                            + "from penilaian_medis_ranap inner join dokter on penilaian_medis_ranap.kd_dokter=dokter.kd_dokter "
                            + "where penilaian_medis_ranap.no_rawat='" + norawat + "'").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<fieldset>"
                                + "<h2><center>ASUHAN MEDIS RAWAT INAP</center></h2>"
                                + "<table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Penilaian Awal Medis Rawat Inap Umum</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                        );
                        rs2.beforeFirst();
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top'>YANG MELAKUKAN PENGKAJIAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='33%' border='0'>Tanggal : ").append(rs2.getString("tanggal")).append("</td><td width='33%' border='0'>Dokter : ").append(rs2.getString("kd_dokter")).append(" ").append(rs2.getString("nm_dokter")).append("</td><td width='33%' border='0'>Anamnesis : ").append(rs2.getString("anamnesis")).append(rs2.getString("hubungan").isEmpty() ? "" : ", " + rs2.getString("hubungan")).append("</td></tr></table></td></tr><tr><td valign='top'>I. RIWAYAT KESEHATAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td colspan='2'>Keluhan Utama : ").append(rs2.getString("keluhan_utama").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td colspan='2'>Riwayat Penyakit Sekarang : ").append(rs2.getString("rps").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='50%'>Riwayat Penyakit Dahulu : ").append(rs2.getString("rpd").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td><td width='50%'>Riwayat Alergi : ").append(rs2.getString("alergi")).append("</td></tr><tr><td width='50%'>Riwayat Penyakit Keluarga : ").append(rs2.getString("rpk").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td><td width='50%'>Riwayat Penggunaan Obat : ").append(rs2.getString("rpo").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>II. PEMERIKSAAN FISIK<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='25%' border='0'>Keadaan Umum : ").append(rs2.getString("keadaan")).append("</td><td width='25%' border='0'>Kesadaran : ").append(rs2.getString("kesadaran")).append("</td><td width='25%' border='0'>GCS(E,V,M) : ").append(rs2.getString("gcs")).append("</td><td width='25%' border='0'>TB : ").append(rs2.getString("tb")).append(" Cm</td></tr><tr><td width='16%' border='0'>BB : ").append(rs2.getString("bb")).append(" Kg</td><td width='16%' border='0'>TD : ").append(rs2.getString("td")).append(" mmHg</td><td width='16%' border='0'>Nadi : ").append(rs2.getString("nadi")).append(" x/menit</td><td width='16%' border='0'>RR : ").append(rs2.getString("rr")).append(" x/menit</td><td width='16%' border='0'>Suhu : ").append(rs2.getString("suhu")).append(" \u00b0C</td><td width='16%' border='0'>SpO2 : ").append(rs2.getString("spo")).append(" %</td></tr><tr><td width='25%' border='0'>Kepala : ").append(rs2.getString("kepala")).append(", Keterangan : ").append(rs2.getString("kepala")).append("</td><td width='25%' border='0'>Mata : ").append(rs2.getString("mata")).append(", Keterangan : ").append(rs2.getString("mata")).append("</td><td width='25%' border='0'>Gigi & Mulut : ").append(rs2.getString("gigi")).append(", Keterangan : ").append(rs2.getString("gigi")).append("</td><td width='25%' border='0'>THT : ").append(rs2.getString("tht")).append(", Keterangan : ").append(rs2.getString("tht")).append("</td></tr><tr><td width='25%' border='0'>Thoraks : ").append(rs2.getString("thoraks")).append(", Keterangan : ").append(rs2.getString("ket_thoraks")).append("</td><td width='25%' border='0'>Jantung : ").append(rs2.getString("jantung")).append(", Keterangan : ").append(rs2.getString("jantung")).append("</td><td width='25%' border='0'>Paru : ").append(rs2.getString("paru")).append(", Keterangan : ").append(rs2.getString("paru")).append("</td><td width='25%' border='0'>Abdomen : ").append(rs2.getString("abdomen")).append(", Keterangan : ").append(rs2.getString("abdomen")).append("</td></tr><tr><td width='25%' border='0'>Genital & Anus : ").append(rs2.getString("genital")).append(", Keterangan : ").append(rs2.getString("genital")).append("</td><td width='25%' border='0'>Ekstremitas : ").append(rs2.getString("ekstremitas")).append(", Keterangan : ").append(rs2.getString("ekstremitas")).append("</td><td width='25%' border='0' colspan='2'>Kulit : ").append(rs2.getString("kulit")).append(", Keterangan : ").append(rs2.getString("kulit")).append("</td></tr></table></td></tr><tr><td valign='top'>III. STATUS LOKALIS<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>").append(rs2.getString("ket_lokalis").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>IV. PEMERIKSAAN PENUNJANG<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%'>Laboratorium : ").append(rs2.getString("lab").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='100%'>Radiologi : ").append(rs2.getString("rad").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='100%'>Penunjang Lainnya : ").append(rs2.getString("penunjang").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>V. DIAGNOSIS/ASESMEN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>").append(rs2.getString("diagnosis").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>VI. TATALAKSANA<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>").append(rs2.getString("tata").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>VII. EDUKASI<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>").append(rs2.getString("edukasi").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr>");
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>"
                                + "</table>"
                                + "</fieldset>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Asuhan medis Rawat Inap: " + e);
        }
    }

    private void menampilkanAsuhanMedisRawatInapKebidanan(String norawat) {
        try {
            if (chkAsuhanMedisRanapKandungan.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select penilaian_medis_ranap_kandungan.tanggal,penilaian_medis_ranap_kandungan.kd_dokter,penilaian_medis_ranap_kandungan.anamnesis,"
                            + "penilaian_medis_ranap_kandungan.hubungan,penilaian_medis_ranap_kandungan.keluhan_utama,penilaian_medis_ranap_kandungan.rps,"
                            + "penilaian_medis_ranap_kandungan.rpk,penilaian_medis_ranap_kandungan.rpd,penilaian_medis_ranap_kandungan.rpo,penilaian_medis_ranap_kandungan.alergi,"
                            + "penilaian_medis_ranap_kandungan.keadaan,penilaian_medis_ranap_kandungan.gcs,penilaian_medis_ranap_kandungan.kesadaran,penilaian_medis_ranap_kandungan.td,"
                            + "penilaian_medis_ranap_kandungan.nadi,penilaian_medis_ranap_kandungan.rr,penilaian_medis_ranap_kandungan.suhu,penilaian_medis_ranap_kandungan.spo,"
                            + "penilaian_medis_ranap_kandungan.bb,penilaian_medis_ranap_kandungan.tb,penilaian_medis_ranap_kandungan.kepala,penilaian_medis_ranap_kandungan.mata,"
                            + "penilaian_medis_ranap_kandungan.gigi,penilaian_medis_ranap_kandungan.tht,penilaian_medis_ranap_kandungan.thoraks,penilaian_medis_ranap_kandungan.jantung,"
                            + "penilaian_medis_ranap_kandungan.paru,penilaian_medis_ranap_kandungan.abdomen,penilaian_medis_ranap_kandungan.ekstremitas,"
                            + "penilaian_medis_ranap_kandungan.genital,penilaian_medis_ranap_kandungan.kulit,penilaian_medis_ranap_kandungan.ket_fisik,"
                            + "penilaian_medis_ranap_kandungan.tfu,penilaian_medis_ranap_kandungan.tbj,penilaian_medis_ranap_kandungan.his,penilaian_medis_ranap_kandungan.kontraksi,"
                            + "penilaian_medis_ranap_kandungan.djj,penilaian_medis_ranap_kandungan.inspeksi,penilaian_medis_ranap_kandungan.inspekulo,penilaian_medis_ranap_kandungan.vt,"
                            + "penilaian_medis_ranap_kandungan.rt,penilaian_medis_ranap_kandungan.ultra,penilaian_medis_ranap_kandungan.kardio,penilaian_medis_ranap_kandungan.lab,"
                            + "penilaian_medis_ranap_kandungan.diagnosis,penilaian_medis_ranap_kandungan.tata,penilaian_medis_ranap_kandungan.edukasi,dokter.nm_dokter "
                            + "from penilaian_medis_ranap_kandungan inner join dokter on penilaian_medis_ranap_kandungan.kd_dokter=dokter.kd_dokter "
                            + "where penilaian_medis_ranap_kandungan.no_rawat='" + norawat + "'").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<fieldset>"
                                + "<h2><center>ASUHAN MEDIS RAWAT INAP KEBIDANAN</center></h2>"
                                + "<table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Penilaian Awal Medis Rawat Inap Kebidanan</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                        );
                        rs2.beforeFirst();
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top'>YANG MELAKUKAN PENGKAJIAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='33%' border='0'>Tanggal : ").append(rs2.getString("tanggal")).append("</td><td width='33%' border='0'>Dokter : ").append(rs2.getString("kd_dokter")).append(" ").append(rs2.getString("nm_dokter")).append("</td><td width='33%' border='0'>Anamnesis : ").append(rs2.getString("anamnesis")).append(rs2.getString("hubungan").isEmpty() ? "" : ", " + rs2.getString("hubungan")).append("</td></tr></table></td></tr><tr><td valign='top'>I. RIWAYAT KESEHATAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td colspan='2'>Keluhan Utama : ").append(rs2.getString("keluhan_utama").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td colspan='2'>Riwayat Penyakit Sekarang : ").append(rs2.getString("rps").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='50%'>Riwayat Penyakit Dahulu : ").append(rs2.getString("rpd").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td><td width='50%'>Riwayat Alergi : ").append(rs2.getString("alergi")).append("</td></tr><tr><td width='50%'>Riwayat Penyakit Keluarga : ").append(rs2.getString("rpk").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td><td width='50%'>Riwayat Penggunaan Obat : ").append(rs2.getString("rpo").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>II. PEMERIKSAAN FISIK<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='25%' border='0'>Keadaan Umum : ").append(rs2.getString("keadaan")).append("</td><td width='25%' border='0'>Kesadaran : ").append(rs2.getString("kesadaran")).append("</td><td width='25%' border='0'>GCS(E,V,M) : ").append(rs2.getString("gcs")).append("</td><td width='25%' border='0'>TB : ").append(rs2.getString("tb")).append(" Cm</td></tr><tr><td width='25%' border='0'>BB : ").append(rs2.getString("bb")).append(" Kg</td><td width='25%' border='0'>TD : ").append(rs2.getString("td")).append(" mmHg</td><td width='25%' border='0'>Nadi : ").append(rs2.getString("nadi")).append(" x/menit</td><td width='25%' border='0'>RR : ").append(rs2.getString("rr")).append(" x/menit</td></tr><tr><td width='25%' border='0'>Suhu : ").append(rs2.getString("suhu")).append(" \u00b0C</td><td width='25%' border='0'>SpO2 : ").append(rs2.getString("spo")).append(" %</td><td width='25%' border='0'>Kepala : ").append(rs2.getString("kepala")).append("</td><td width='25%' border='0'>Mata : ").append(rs2.getString("mata")).append("</td></tr><tr><td width='25%' border='0'>Gigi & Mulut : ").append(rs2.getString("gigi")).append("</td><td width='25%' border='0'>THT : ").append(rs2.getString("tht")).append("</td><td width='25%' border='0'>Thoraks : ").append(rs2.getString("thoraks")).append("</td><td width='25%' border='0'>Jantung : ").append(rs2.getString("jantung")).append("</td></tr><tr><td width='25%' border='0'>Paru : ").append(rs2.getString("paru")).append("</td><td width='25%' border='0'>Abdomen : ").append(rs2.getString("abdomen")).append("</td><td width='25%' border='0'>Genital & Anus : ").append(rs2.getString("genital")).append("</td><td width='25%' border='0'>Ekstremitas : ").append(rs2.getString("ekstremitas")).append("</td></tr><tr><td width='25%' border='0'>Kulit : ").append(rs2.getString("kulit")).append("</td><td width='75%' border='0' colpan='3'>Keterangan Fisik : ").append(rs2.getString("ket_fisik").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>III. STATUS OBSTETRI / GINEKOLOGI<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' colspan='2'>TFU : ").append(rs2.getString("tfu")).append(" Cm    TBJ : ").append(rs2.getString("tbj")).append(" gram    HIS : ").append(rs2.getString("his")).append(" x/10 Menit    Kontraksi : ").append(rs2.getString("kontraksi")).append("    DJJ : ").append(rs2.getString("djj")).append(" Dpm</td></tr><tr><td width='50%'>Inspeksi : ").append(rs2.getString("inspeksi").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td><td width='50%'>VT : ").append(rs2.getString("vt").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='50%'>Inspekulo : ").append(rs2.getString("inspekulo").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td><td width='50%'>RT : ").append(rs2.getString("rt").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>IV. PEMERIKSAAN PENUNJANG<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%'>Ultrasonografi : ").append(rs2.getString("ultra").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='100%'>Kardiotokografi : ").append(rs2.getString("kardio").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='100%'>Laboratorium : ").append(rs2.getString("lab").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>V. DIAGNOSIS/ASESMEN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>").append(rs2.getString("diagnosis").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>VI. TATALAKSANA<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>").append(rs2.getString("tata").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>VII. EDUKASI<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>").append(rs2.getString("edukasi").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr>");
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>"
                                + "</table>"
                                + "</fieldset>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Asuhan medis Rawat Inap Kebidanan : " + e);
        }
    }

    private void menampilkanChecklistPreOperasi(String norawat) {
        try {
            if (chkChecklistPreOperasi.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select checklist_pre_operasi.tanggal,checklist_pre_operasi.sncn,checklist_pre_operasi.tindakan,checklist_pre_operasi.kd_dokter_bedah,"
                            + "dokterbedah.nm_dokter as dokterbedah,checklist_pre_operasi.kd_dokter_anestesi,dokteranestesi.nm_dokter as dokteranestesi,checklist_pre_operasi.identitas,"
                            + "checklist_pre_operasi.surat_ijin_bedah,checklist_pre_operasi.surat_ijin_anestesi,checklist_pre_operasi.surat_ijin_transfusi,"
                            + "checklist_pre_operasi.penandaan_area_operasi,checklist_pre_operasi.keadaan_umum,checklist_pre_operasi.pemeriksaan_penunjang_rontgen,"
                            + "checklist_pre_operasi.keterangan_pemeriksaan_penunjang_rontgen,checklist_pre_operasi.pemeriksaan_penunjang_ekg,"
                            + "checklist_pre_operasi.keterangan_pemeriksaan_penunjang_ekg,checklist_pre_operasi.pemeriksaan_penunjang_usg,"
                            + "checklist_pre_operasi.keterangan_pemeriksaan_penunjang_usg,checklist_pre_operasi.pemeriksaan_penunjang_ctscan,"
                            + "checklist_pre_operasi.keterangan_pemeriksaan_penunjang_ctscan,checklist_pre_operasi.pemeriksaan_penunjang_mri,"
                            + "checklist_pre_operasi.keterangan_pemeriksaan_penunjang_mri,checklist_pre_operasi.persiapan_darah,checklist_pre_operasi.keterangan_persiapan_darah,"
                            + "checklist_pre_operasi.perlengkapan_khusus,checklist_pre_operasi.nip_petugas_ruangan,petugasruangan.nama as petugasruangan,"
                            + "checklist_pre_operasi.nip_perawat_ok,petugasok.nama as petugasok "
                            + "from checklist_pre_operasi inner join dokter as dokterbedah on dokterbedah.kd_dokter=checklist_pre_operasi.kd_dokter_bedah "
                            + "inner join dokter as dokteranestesi on dokteranestesi.kd_dokter=checklist_pre_operasi.kd_dokter_anestesi "
                            + "inner join petugas as petugasruangan on petugasruangan.nip=checklist_pre_operasi.nip_petugas_ruangan "
                            + "inner join petugas as petugasok on petugasok.nip=checklist_pre_operasi.nip_perawat_ok "
                            + "where checklist_pre_operasi.no_rawat='" + norawat + "' order by checklist_pre_operasi.tanggal").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<fieldset>"
                                + "<h2><center>CHECKLIST PRE OPERASI</center></h2>"
                                + "<table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Check List Pre Operasi</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                        );
                        rs2.beforeFirst();
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top'>YANG MELAKUKAN PENGKAJIAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='50%' border='0'>Petugas Ruangan : ").append(rs2.getString("nip_petugas_ruangan")).append(" ").append(rs2.getString("petugasruangan")).append("</td><td width='50%' border='0'>Perawat Kamar Operasi : ").append(rs2.getString("nip_perawat_ok")).append(" ").append(rs2.getString("petugasok")).append("</td></tr></table></td></tr><tr><td valign='top'>RENCANA OPERASI<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='33%' border='0'>Tanggal : ").append(rs2.getString("tanggal")).append("</td><td width='67%' border='0'>Dokter Bedah : ").append(rs2.getString("kd_dokter_bedah")).append(" ").append(rs2.getString("dokterbedah")).append("</td></tr><tr><td width='33%' border='0'>SN/CN : ").append(rs2.getString("sncn")).append("</td><td width='67%' border='0'>Dokter Anestesi : ").append(rs2.getString("kd_dokter_anestesi")).append(" ").append(rs2.getString("dokteranestesi")).append("</td></tr><tr><td width='100%' border='0' colspan='2'>Tindakan/Operasi : ").append(rs2.getString("tindakan")).append("</td></tr></table></td></tr><tr><td valign='top'>PERAWAT MELAKUKAN KONFIRMASI<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='33%' border='0'>Identitas : ").append(rs2.getString("identitas")).append("</td><td width='33%' border='0'>Keadaan Umum Pasien : ").append(rs2.getString("keadaan_umum")).append("</td><td width='33%' border='0'>Penandaan Area Operasi : ").append(rs2.getString("penandaan_area_operasi")).append("</td></tr><tr><td width='33%' border='0'>Surat Ijin Bedah : ").append(rs2.getString("surat_ijin_bedah")).append("</td><td width='33%' border='0'>Surat Ijin Anestesi : ").append(rs2.getString("surat_ijin_anestesi")).append("</td><td width='33%' border='0'>Surat Ijin Tranfusi : ").append(rs2.getString("surat_ijin_transfusi")).append("</td></tr><tr><td width='66%' border='0' colspan='2'>Persiapan Darah : ").append(rs2.getString("persiapan_darah")).append(rs2.getString("keterangan_persiapan_darah").isEmpty() ? "" : ", " + rs2.getString("keterangan_persiapan_darah")).append("</td><td width='33%' border='0'>Perlengkapan Khusus, Alat/Implan : ").append(rs2.getString("perlengkapan_khusus")).append("</td></tr><tr><td width='100%' colspan='3'>Hasil Pemeriksaan Penunjang :<table width='98%' border='0' align='right' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='50%' border='0'>Radiologi : ").append(rs2.getString("pemeriksaan_penunjang_rontgen")).append(rs2.getString("keterangan_pemeriksaan_penunjang_rontgen").isEmpty() ? "" : ", " + rs2.getString("keterangan_pemeriksaan_penunjang_rontgen")).append("</td><td width='50%' border='0'>EKG : ").append(rs2.getString("pemeriksaan_penunjang_ekg")).append(rs2.getString("keterangan_pemeriksaan_penunjang_ekg").isEmpty() ? "" : ", " + rs2.getString("keterangan_pemeriksaan_penunjang_ekg")).append("</td></tr><tr><td width='50%' border='0'>USG : ").append(rs2.getString("pemeriksaan_penunjang_usg")).append(rs2.getString("keterangan_pemeriksaan_penunjang_usg").isEmpty() ? "" : ", " + rs2.getString("keterangan_pemeriksaan_penunjang_usg")).append("</td><td width='50%' border='0'>CT Scan : ").append(rs2.getString("pemeriksaan_penunjang_ctscan")).append(rs2.getString("keterangan_pemeriksaan_penunjang_ctscan").isEmpty() ? "" : ", " + rs2.getString("keterangan_pemeriksaan_penunjang_ctscan")).append("</td></tr><tr><td width='100%' border='0' colspan='2'>MRI : ").append(rs2.getString("pemeriksaan_penunjang_mri")).append(rs2.getString("keterangan_pemeriksaan_penunjang_mri").isEmpty() ? "" : ", " + rs2.getString("keterangan_pemeriksaan_penunjang_mri")).append("</td></tr></table></td></tr></table></td></tr>");
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>"
                                + "</table>"
                                + "</fieldset>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Checklist Pre Operasi : " + e);
        }
    }

    private void menampilkanSignInSebelumAnestesi(String norawat) {
        try {
            if (chkSignInSebelumAnestesi.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select reg_periksa.no_rawat,pasien.no_rkm_medis,pasien.nm_pasien,pasien.tgl_lahir,pasien.jk,signin_sebelum_anestesi.tanggal,"
                            + "signin_sebelum_anestesi.sncn,signin_sebelum_anestesi.tindakan,signin_sebelum_anestesi.kd_dokter_bedah,dokterbedah.nm_dokter as dokterbedah,"
                            + "signin_sebelum_anestesi.kd_dokter_anestesi,dokteranestesi.nm_dokter as dokteranestesi,signin_sebelum_anestesi.identitas,signin_sebelum_anestesi.penandaan_area_operasi,"
                            + "signin_sebelum_anestesi.alergi,signin_sebelum_anestesi.resiko_aspirasi,signin_sebelum_anestesi.resiko_aspirasi_rencana_antisipasi,"
                            + "signin_sebelum_anestesi.resiko_kehilangan_darah,signin_sebelum_anestesi.resiko_kehilangan_darah_line,signin_sebelum_anestesi.resiko_kehilangan_darah_rencana_antisipasi,"
                            + "signin_sebelum_anestesi.kesiapan_alat_obat_anestesi,signin_sebelum_anestesi.kesiapan_alat_obat_anestesi_rencana_antisipasi,signin_sebelum_anestesi.nip_perawat_ok,"
                            + "petugas.nama from signin_sebelum_anestesi inner join reg_periksa on signin_sebelum_anestesi.no_rawat=reg_periksa.no_rawat "
                            + "inner join pasien on reg_periksa.no_rkm_medis=pasien.no_rkm_medis "
                            + "inner join dokter as dokterbedah on dokterbedah.kd_dokter=signin_sebelum_anestesi.kd_dokter_bedah "
                            + "inner join dokter as dokteranestesi on dokteranestesi.kd_dokter=signin_sebelum_anestesi.kd_dokter_anestesi "
                            + "inner join petugas on petugas.nip=signin_sebelum_anestesi.nip_perawat_ok "
                            + "where signin_sebelum_anestesi.no_rawat='" + norawat + "' order by signin_sebelum_anestesi.tanggal").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<fieldset>"
                                + "<h2><center>SIGN IN SEBELUM ANESTESI</center></h2>"
                                + "<table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Sign-In Sebelum Tindakan Anestesi</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                        );
                        rs2.beforeFirst();
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top'>YANG MELAKUKAN PENGKAJIAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='50%' border='0'>Dokter Anestesi : ").append(rs2.getString("kd_dokter_anestesi")).append(" ").append(rs2.getString("dokteranestesi")).append("</td><td width='50%' border='0'>Perawat Kamar Operasi : ").append(rs2.getString("nip_perawat_ok")).append(" ").append(rs2.getString("nama")).append("</td></tr></table></td></tr><tr><td valign='top'>RENCANA OPERASI<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='33%' border='0'>Tanggal : ").append(rs2.getString("tanggal")).append("</td><td width='67%' border='0'>Dokter Bedah : ").append(rs2.getString("kd_dokter_bedah")).append(" ").append(rs2.getString("dokterbedah")).append("</td></tr><tr><td width='33%' border='0'>SN/CN : ").append(rs2.getString("sncn")).append("</td><td width='67%' border='0'>Tindakan/Operasi : ").append(rs2.getString("tindakan")).append("</td></tr></table></td></tr><tr><td valign='top'>PERAWAT OK DAN TIM ANESTESI MELAKUKAN KONFIRMASI<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='33%' border='0'>Identitas : ").append(rs2.getString("identitas")).append("</td><td width='33%' border='0'>Alergi : ").append(rs2.getString("alergi")).append("</td><td width='33%' border='0'>Penandaan Area Operasi : ").append(rs2.getString("penandaan_area_operasi")).append("</td></tr><tr><td width='33%' border='0'>Resiko Aspirasi & Faktor Penyulit : ").append(rs2.getString("resiko_aspirasi")).append("</td><td width='66%' border='0' colspan='2'>Bila Ada Resiko, Rencana Antisipasi : ").append(rs2.getString("resiko_aspirasi_rencana_antisipasi")).append("</td></tr><tr><td width='66%' border='0' colspan='2'>Resiko Kehilangan Darah > 500 ml (7 ml/Kg Berat Badan Untuk Anak) : ").append(rs2.getString("resiko_kehilangan_darah")).append("</td><td width='33%' border='0'>Jika Ada, Jalur IV Line : ").append(rs2.getString("resiko_kehilangan_darah_line")).append("</td></tr><tr><td width='100%' border='0' colspan='3' style='margin-left: 10px'>Jika Ada Resiko Kehilangan Darah, Rencana Antisipasi : ").append(rs2.getString("resiko_kehilangan_darah_rencana_antisipasi")).append("</td></tr><tr><td width='33%' border='0'>Kesiapan Alat & Obat Anestesi : ").append(rs2.getString("kesiapan_alat_obat_anestesi")).append("</td><td width='66%' border='0' colspan='2'>Bila Tidak Lengkap, Rencana Antisipasi : ").append(rs2.getString("kesiapan_alat_obat_anestesi_rencana_antisipasi")).append("</td></tr></table></td></tr>");
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>"
                                + "</table>"
                                + "</fieldset>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Checklist Pre Operasi : " + e);
        }
    }

    private void menampilkanTimeOutSebelumInsisi(String norawat) {
        try {
            if (chkTimeOutSebelumInsisi.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select reg_periksa.no_rawat,pasien.no_rkm_medis,pasien.nm_pasien,pasien.tgl_lahir,pasien.jk,timeout_sebelum_insisi.tanggal,"
                            + "timeout_sebelum_insisi.sncn,timeout_sebelum_insisi.tindakan,timeout_sebelum_insisi.kd_dokter_bedah,dokterbedah.nm_dokter as dokterbedah,"
                            + "timeout_sebelum_insisi.kd_dokter_anestesi,dokteranestesi.nm_dokter as dokteranestesi,timeout_sebelum_insisi.verbal_identitas,"
                            + "timeout_sebelum_insisi.verbal_tindakan,timeout_sebelum_insisi.verbal_area_insisi,timeout_sebelum_insisi.penandaan_area_operasi,"
                            + "timeout_sebelum_insisi.lama_operasi,timeout_sebelum_insisi.penayangan_radiologi,timeout_sebelum_insisi.penayangan_ctscan,"
                            + "timeout_sebelum_insisi.penayangan_mri,timeout_sebelum_insisi.antibiotik_profilaks,timeout_sebelum_insisi.nama_antibiotik,"
                            + "timeout_sebelum_insisi.jam_pemberian,timeout_sebelum_insisi.antisipasi_kehilangan_darah,timeout_sebelum_insisi.hal_khusus,"
                            + "timeout_sebelum_insisi.hal_khusus_diperhatikan,timeout_sebelum_insisi.tanggal_steril,timeout_sebelum_insisi.petujuk_sterilisasi,"
                            + "timeout_sebelum_insisi.verifikasi_preoperatif,timeout_sebelum_insisi.nip_perawat_ok,petugas.nama "
                            + "from timeout_sebelum_insisi inner join reg_periksa on timeout_sebelum_insisi.no_rawat=reg_periksa.no_rawat "
                            + "inner join pasien on reg_periksa.no_rkm_medis=pasien.no_rkm_medis "
                            + "inner join dokter as dokterbedah on dokterbedah.kd_dokter=timeout_sebelum_insisi.kd_dokter_bedah "
                            + "inner join dokter as dokteranestesi on dokteranestesi.kd_dokter=timeout_sebelum_insisi.kd_dokter_anestesi "
                            + "inner join petugas on petugas.nip=timeout_sebelum_insisi.nip_perawat_ok "
                            + "where timeout_sebelum_insisi.no_rawat='" + norawat + "' order by timeout_sebelum_insisi.tanggal").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<fieldset>"
                                + "<h2><center>TIMEOUT SEBELUM INSISI</center></h2>"
                                + "<table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Time-Out Sebelum Tindakan Insisi</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                        );
                        rs2.beforeFirst();
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top'>YANG MELAKUKAN PENGKAJIAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='50%' border='0'>Dokter Anestesi : ").append(rs2.getString("kd_dokter_anestesi")).append(" ").append(rs2.getString("dokteranestesi")).append("</td><td width='50%' border='0'>Perawat Kamar Operasi : ").append(rs2.getString("nip_perawat_ok")).append(" ").append(rs2.getString("nama")).append("</td></tr></table></td></tr><tr><td valign='top'>RENCANA OPERASI<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='33%' border='0'>Tanggal : ").append(rs2.getString("tanggal")).append("</td><td width='67%' border='0'>Dokter Bedah : ").append(rs2.getString("kd_dokter_bedah")).append(" ").append(rs2.getString("dokterbedah")).append("</td></tr><tr><td width='33%' border='0'>SN/CN : ").append(rs2.getString("sncn")).append("</td><td width='67%' border='0'>Tindakan/Operasi : ").append(rs2.getString("tindakan")).append("</td></tr></table></td></tr><tr><td valign='top'>KONFIRMASI DIPIMPIN OLEH SALAH SATU ANGGOTA TIM, SEMUA KEGIATAN DITANGGUHKAN KECUALI JIKA MENGANCAM JIWA<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>Verbalisasi Tim, Konfirmasi :<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='33%' border='0' style='margin-left: 10px'>Identitas : ").append(rs2.getString("verbal_identitas")).append("</td><td width='33%' border='0' style='margin-left: 10px'>Tindakan : ").append(rs2.getString("verbal_tindakan")).append("</td><td width='33%' border='0' style='margin-left: 10px'>Area Insisi : ").append(rs2.getString("verbal_area_insisi")).append("</td></tr></table></td></tr><tr><td width='100%' border='0'>Penandaan Area Operasi : ").append(rs2.getString("penandaan_area_operasi")).append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Perkiraan Lama Operasi : ").append(rs2.getString("lama_operasi")).append("</td></tr><tr><td width='100%' border='0'>Penayangan Hasil Pemeriksaan Penunjang :<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='33%' border='0' style='margin-left: 10px'>Radiologi : ").append(rs2.getString("penayangan_radiologi")).append("</td><td width='33%' border='0' style='margin-left: 10px'>CT Scan : ").append(rs2.getString("penayangan_ctscan")).append("</td><td width='33%' border='0' style='margin-left: 10px'>MRI : ").append(rs2.getString("penayangan_mri")).append("</td></tr></table></td></tr><tr><td width='100%' border='0'>Pemberian Antibiotik Profilaksis : ").append(rs2.getString("antibiotik_profilaks")).append(rs2.getString("antibiotik_profilaks").equals("Ya") ? "" : ", Jika Diberikan : " + rs2.getString("nama_antibiotik") + ", Jam Pemberian : " + rs2.getString("jam_pemberian")).append("</td></tr><tr><td width='100%' border='0'>Antisipasi Kehilangan Darah > 500 ml (7 ml/Kg BB Untuk Anak) : ").append(rs2.getString("antisipasi_kehilangan_darah")).append("</td></tr><tr><td width='100%' border='0'>Hal Khusus Yang Perlu Perhatian : ").append(rs2.getString("hal_khusus")).append(rs2.getString("hal_khusus").equals("Ada") ? "" : ", Jika Ada " + rs2.getString("hal_khusus_diperhatikan")).append("</td></tr><tr><td width='100%' border='0'>Tanggal Steril ").append(rs2.getString("tanggal_steril")).append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Petunjuk Sterilisasi Telah Dikonfirmasi : ").append(rs2.getString("petujuk_sterilisasi")).append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Verifikasi Pre Operatif Telah Dilakukan : ").append(rs2.getString("verifikasi_preoperatif")).append("</td></tr></table></td></tr>");
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>"
                                + "</table>"
                                + "</fieldset>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Checklist Pre Operasi : " + e);
        }
    }

    private void menampilkanSignOutSebelumMenutupLuka(String norawat) {
        try {
            if (chkSignOutSebelumMenutupLuka.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select reg_periksa.no_rawat,pasien.no_rkm_medis,pasien.nm_pasien,pasien.tgl_lahir,pasien.jk,signout_sebelum_menutup_luka.tanggal,"
                            + "signout_sebelum_menutup_luka.sncn,signout_sebelum_menutup_luka.tindakan,signout_sebelum_menutup_luka.kd_dokter_bedah,dokterbedah.nm_dokter as dokterbedah,"
                            + "signout_sebelum_menutup_luka.kd_dokter_anestesi,dokteranestesi.nm_dokter as dokteranestesi,signout_sebelum_menutup_luka.verbal_tindakan,"
                            + "signout_sebelum_menutup_luka.verbal_kelengkapan_kasa,signout_sebelum_menutup_luka.verbal_instrumen,signout_sebelum_menutup_luka.verbal_alat_tajam,"
                            + "signout_sebelum_menutup_luka.kelengkapan_specimen_label,signout_sebelum_menutup_luka.kelengkapan_specimen_formulir,"
                            + "signout_sebelum_menutup_luka.peninjauan_kegiatan_dokter_bedah,signout_sebelum_menutup_luka.peninjauan_kegiatan_dokter_anestesi,"
                            + "signout_sebelum_menutup_luka.peninjauan_kegiatan_perawat_kamar_ok,signout_sebelum_menutup_luka.perhatian_utama_fase_pemulihan,"
                            + "signout_sebelum_menutup_luka.nip_perawat_ok,petugas.nama from signout_sebelum_menutup_luka inner join reg_periksa "
                            + "on signout_sebelum_menutup_luka.no_rawat=reg_periksa.no_rawat inner join pasien on reg_periksa.no_rkm_medis=pasien.no_rkm_medis "
                            + "inner join dokter as dokterbedah on dokterbedah.kd_dokter=signout_sebelum_menutup_luka.kd_dokter_bedah "
                            + "inner join dokter as dokteranestesi on dokteranestesi.kd_dokter=signout_sebelum_menutup_luka.kd_dokter_anestesi "
                            + "inner join petugas on petugas.nip=signout_sebelum_menutup_luka.nip_perawat_ok "
                            + "where signout_sebelum_menutup_luka.no_rawat='" + norawat + "' order by signout_sebelum_menutup_luka.tanggal").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<fieldset>"
                                + "<h2><center>SIGN OUT SEBELUM MENUTUP LUKA</center></h2>"
                                + "<table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Sign-Out Sebelum Menutup Luka</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                        );
                        rs2.beforeFirst();
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top'>YANG MELAKUKAN PENGKAJIAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='50%' border='0'>Dokter Anestesi : ").append(rs2.getString("kd_dokter_anestesi")).append(" ").append(rs2.getString("dokteranestesi")).append("</td><td width='50%' border='0'>Perawat Kamar Operasi : ").append(rs2.getString("nip_perawat_ok")).append(" ").append(rs2.getString("nama")).append("</td></tr></table></td></tr><tr><td valign='top'>RENCANA OPERASI<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='33%' border='0'>Tanggal : ").append(rs2.getString("tanggal")).append("</td><td width='67%' border='0'>Dokter Bedah : ").append(rs2.getString("kd_dokter_bedah")).append(" ").append(rs2.getString("dokterbedah")).append("</td></tr><tr><td width='33%' border='0'>SN/CN : ").append(rs2.getString("sncn")).append("</td><td width='67%' border='0'>Tindakan/Operasi : ").append(rs2.getString("tindakan")).append("</td></tr></table></td></tr><tr><td valign='top'>SEBELUM MENUTUP LUKA & MENINGGALKAN KAMAR OPERASI<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>Perawat Melakukan Konfirmasi Secara Verbal :<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='25%' border='0' style='margin-left: 10px'>Tindakan : ").append(rs2.getString("verbal_tindakan")).append("</td><td width='25%' border='0' style='margin-left: 10px'>Kelengkapan Kasa : ").append(rs2.getString("verbal_kelengkapan_kasa")).append("</td><td width='25%' border='0' style='margin-left: 10px'>Instrumen : ").append(rs2.getString("verbal_instrumen")).append("</td><td width='25%' border='0' style='margin-left: 10px'>Alat Tajam : ").append(rs2.getString("verbal_alat_tajam")).append("</td></tr></table></td></tr><tr><td width='100%' border='0'>Kelengkapan Spesimen Jika Ada :<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='50%' border='0' style='margin-left: 10px'>Label : ").append(rs2.getString("kelengkapan_specimen_label")).append("</td><td width='50%' border='0' style='margin-left: 10px'>Formulir : ").append(rs2.getString("kelengkapan_specimen_formulir")).append("</td></tr></table></td></tr><tr><td width='100%' border='0'>Peninjauan Kembali Kegiatan :<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='33%' border='0' style='margin-left: 10px'>Dokter Bedah : ").append(rs2.getString("peninjauan_kegiatan_dokter_bedah")).append("</td><td width='33%' border='0' style='margin-left: 10px'>Dokter Anestesi : ").append(rs2.getString("peninjauan_kegiatan_dokter_anestesi")).append("</td><td width='33%' border='0' style='margin-left: 10px'>Perawat Kamar Operasi : ").append(rs2.getString("peninjauan_kegiatan_perawat_kamar_ok")).append("</td></tr></table></td></tr><tr><td width='100%' border='0'>Perhatian Utama Fase Pemulihan : ").append(rs2.getString("perhatian_utama_fase_pemulihan")).append("</td></tr></table></td></tr>");
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>"
                                + "</table>"
                                + "</fieldset>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Checklist Pre Operasi : " + e);
        }
    }

    private void menampilkanChecklistPostOperasi(String norawat) {
        try {
            if (chkChecklistPostOperasi.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select reg_periksa.no_rawat,pasien.no_rkm_medis,pasien.nm_pasien,pasien.tgl_lahir,pasien.jk,checklist_post_operasi.tanggal,"
                            + "checklist_post_operasi.sncn,checklist_post_operasi.tindakan,checklist_post_operasi.kd_dokter_bedah,dokterbedah.nm_dokter as dokterbedah,"
                            + "checklist_post_operasi.kd_dokter_anestesi,dokteranestesi.nm_dokter as dokteranestesi,checklist_post_operasi.keadaan_umum,"
                            + "checklist_post_operasi.pemeriksaan_penunjang_rontgen,checklist_post_operasi.keterangan_pemeriksaan_penunjang_rontgen,"
                            + "checklist_post_operasi.pemeriksaan_penunjang_ekg,checklist_post_operasi.keterangan_pemeriksaan_penunjang_ekg,checklist_post_operasi.pemeriksaan_penunjang_usg,"
                            + "checklist_post_operasi.keterangan_pemeriksaan_penunjang_usg,checklist_post_operasi.pemeriksaan_penunjang_ctscan,"
                            + "checklist_post_operasi.keterangan_pemeriksaan_penunjang_ctscan,checklist_post_operasi.pemeriksaan_penunjang_mri,"
                            + "checklist_post_operasi.keterangan_pemeriksaan_penunjang_mri,checklist_post_operasi.jenis_cairan_infus,checklist_post_operasi.kateter_urine,"
                            + "checklist_post_operasi.tanggal_pemasangan_kateter,checklist_post_operasi.warna_kateter,checklist_post_operasi.jumlah_kateter,"
                            + "checklist_post_operasi.area_luka_operasi,checklist_post_operasi.drain,checklist_post_operasi.jumlah_drain,checklist_post_operasi.letak_drain,"
                            + "checklist_post_operasi.warna_drain,checklist_post_operasi.jaringan_pa,checklist_post_operasi.nip_perawat_ok,petugasok.nama as petugasok,"
                            + "checklist_post_operasi.nip_perawat_anestesi,petugasanestesi.nama as petugasanestesi "
                            + "from checklist_post_operasi inner join reg_periksa on checklist_post_operasi.no_rawat=reg_periksa.no_rawat "
                            + "inner join pasien on reg_periksa.no_rkm_medis=pasien.no_rkm_medis "
                            + "inner join dokter as dokterbedah on dokterbedah.kd_dokter=checklist_post_operasi.kd_dokter_bedah "
                            + "inner join dokter as dokteranestesi on dokteranestesi.kd_dokter=checklist_post_operasi.kd_dokter_anestesi "
                            + "inner join petugas as petugasanestesi on petugasanestesi.nip=checklist_post_operasi.nip_perawat_anestesi "
                            + "inner join petugas as petugasok on petugasok.nip=checklist_post_operasi.nip_perawat_ok "
                            + "where checklist_post_operasi.no_rawat='" + norawat + "' order by checklist_post_operasi.tanggal").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<fieldset>"
                                + "<h2><center>CHECKLIST POST OPERASI</center></h2>"
                                + "<table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Check List Post Operasi</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                        );
                        rs2.beforeFirst();
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top'>YANG MELAKUKAN PENGKAJIAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='50%' border='0'>Petugas Anestesi : ").append(rs2.getString("nip_perawat_anestesi")).append(" ").append(rs2.getString("petugasanestesi")).append("</td><td width='50%' border='0'>Petugas Kamar Operasi : ").append(rs2.getString("nip_perawat_ok")).append(" ").append(rs2.getString("petugasok")).append("</td></tr></table></td></tr><tr><td valign='top'>RENCANA OPERASI<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='33%' border='0'>Tanggal : ").append(rs2.getString("tanggal")).append("</td><td width='67%' border='0'>Dokter Bedah : ").append(rs2.getString("kd_dokter_bedah")).append(" ").append(rs2.getString("dokterbedah")).append("</td></tr><tr><td width='33%' border='0'>SN/CN : ").append(rs2.getString("sncn")).append("</td><td width='67%' border='0'>Dokter Anestesi : ").append(rs2.getString("kd_dokter_anestesi")).append(" ").append(rs2.getString("dokteranestesi")).append("</td></tr><tr><td width='100%' border='0' colspan='2'>Tindakan/Operasi : ").append(rs2.getString("tindakan")).append("</td></tr></table></td></tr><tr><td valign='top'>SERAH TERIMA PERAWAT KAMAR OPERASI DENGAN ANESTESI / INTENSIF / RUANGAN. PERAWAT MELAKUKAN SERAH TERIMA SECARA VERBAL<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='33%' border='0'>Keadaan Umum : ").append(rs2.getString("keadaan_umum")).append("</td><td width='33%' border='0'>Jenis Cairan Infus : ").append(rs2.getString("jenis_cairan_infus")).append("</td><td width='33%' border='0'>Jaringan/Organ Tubuh PA/VC : ").append(rs2.getString("jaringan_pa")).append("</td></tr><tr><td width='33%' border='0'>Kateter Urine : ").append(rs2.getString("kateter_urine")).append("</td><td width='33%' border='0'>Jika Ada, Tgl.Pemasangan : ").append(rs2.getString("tanggal_pemasangan_kateter")).append("</td><td width='33%' border='0'>Warna : ").append(rs2.getString("warna_kateter")).append(", Jumlah : ").append(rs2.getString("jumlah_kateter")).append(" cc</td></tr><tr><td width='33%' border='0'>Drain : ").append(rs2.getString("drain")).append("</td><td width='33%' border='0'>Jika Ada, Jumlah : ").append(rs2.getString("jumlah_drain")).append(" buah</td><td width='33%' border='0'>Letak : ").append(rs2.getString("letak_drain")).append(", Warna/Produksi : ").append(rs2.getString("warna_drain")).append("</td></tr><tr><td width='100%' colspan='3'>Hasil Pemeriksaan Penunjang :<table width='98%' border='0' align='right' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='50%' border='0'>Radiologi : ").append(rs2.getString("pemeriksaan_penunjang_rontgen")).append(rs2.getString("keterangan_pemeriksaan_penunjang_rontgen").isEmpty() ? "" : ", " + rs2.getString("keterangan_pemeriksaan_penunjang_rontgen")).append("</td><td width='50%' border='0'>EKG : ").append(rs2.getString("pemeriksaan_penunjang_ekg")).append(rs2.getString("keterangan_pemeriksaan_penunjang_ekg").isEmpty() ? "" : ", " + rs2.getString("keterangan_pemeriksaan_penunjang_ekg")).append("</td></tr><tr><td width='50%' border='0'>USG : ").append(rs2.getString("pemeriksaan_penunjang_usg")).append(rs2.getString("keterangan_pemeriksaan_penunjang_usg").isEmpty() ? "" : ", " + rs2.getString("keterangan_pemeriksaan_penunjang_usg")).append("</td><td width='50%' border='0'>CT Scan : ").append(rs2.getString("pemeriksaan_penunjang_ctscan")).append(rs2.getString("keterangan_pemeriksaan_penunjang_ctscan").isEmpty() ? "" : ", " + rs2.getString("keterangan_pemeriksaan_penunjang_ctscan")).append("</td></tr><tr><td width='100%' border='0' colspan='2'>MRI : ").append(rs2.getString("pemeriksaan_penunjang_mri")).append(rs2.getString("keterangan_pemeriksaan_penunjang_mri").isEmpty() ? "" : ", " + rs2.getString("keterangan_pemeriksaan_penunjang_mri")).append("</td></tr></table></td></tr><tr><td width='100%' border='0' colspan='3'>Area Luka Operasi : ").append(rs2.getString("area_luka_operasi")).append("</td></tr></table></td></tr>");
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>"
                                + "</table>"
                                + "</fieldset>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Checklist Pre Operasi : " + e);
        }
    }

    private void menampilkanAsuhanPreOperasi(String norawat) {
        try {
            if (chkAsuhanPreOperasi.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select penilaian_pre_operasi.tanggal,penilaian_pre_operasi.kd_dokter,penilaian_pre_operasi.ringkasan_klinik,penilaian_pre_operasi.pemeriksaan_fisik,"
                            + "penilaian_pre_operasi.pemeriksaan_diagnostik,penilaian_pre_operasi.diagnosa_pre_operasi,penilaian_pre_operasi.rencana_tindakan_bedah,"
                            + "penilaian_pre_operasi.hal_hal_yang_perludi_persiapkan,penilaian_pre_operasi.terapi_pre_operasi,dokter.nm_dokter "
                            + "from penilaian_pre_operasi inner join dokter on penilaian_pre_operasi.kd_dokter=dokter.kd_dokter "
                            + "where penilaian_pre_operasi.no_rawat='" + norawat + "' order by penilaian_pre_operasi.tanggal").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<fieldset>"
                                + "<h2><center>ASUHAN PREOPERASI</center></h2>"
                                + "<table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Penilaian Pre Operasi</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                        );
                        rs2.beforeFirst();
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top'>YANG MELAKUKAN PENGKAJIAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='33%' border='0'>Tanggal : ").append(rs2.getString("tanggal")).append("</td><td width='67%' border='0'>Dokter : ").append(rs2.getString("kd_dokter")).append(" ").append(rs2.getString("nm_dokter")).append("</td></tr></table></td></tr><tr><td valign='top'>I. RINGKASAN KLINIK :<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>").append(rs2.getString("ringkasan_klinik").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>II. PEMERIKSAAN FISIK<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>").append(rs2.getString("pemeriksaan_fisik").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>III. PEMERIKSAAN DIAGNOSTIK<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>").append(rs2.getString("pemeriksaan_diagnostik").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>IV. DIAGNOSA PRE OPERASI<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>").append(rs2.getString("diagnosa_pre_operasi").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>V. RENCANA TINDAKAN BEDAH<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>").append(rs2.getString("rencana_tindakan_bedah").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>VI. HAL-HAL YANG PERLU DIPERSIAPKAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>").append(rs2.getString("hal_hal_yang_perludi_persiapkan").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>VII. TERAPI PRE OPERASI<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>").append(rs2.getString("terapi_pre_operasi").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr>");
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>"
                                + "</table>"
                                + "</fieldset>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Asuhan Medis Rawat Jalan : " + e);
        }
    }

    private void menampilkanAsuhanPreAnestesi(String norawat) {
        try {
            if (chkAsuhanPreAnestesi.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select penilaian_pre_anestesi.tanggal,penilaian_pre_anestesi.kd_dokter,penilaian_pre_anestesi.tanggal_operasi,penilaian_pre_anestesi.diagnosa,penilaian_pre_anestesi.rencana_tindakan,penilaian_pre_anestesi.tb,"
                            + "penilaian_pre_anestesi.bb,penilaian_pre_anestesi.td,penilaian_pre_anestesi.io2,penilaian_pre_anestesi.nadi,penilaian_pre_anestesi.pernapasan,penilaian_pre_anestesi.suhu,"
                            + "penilaian_pre_anestesi.fisik_cardiovasculer,penilaian_pre_anestesi.fisik_paru,penilaian_pre_anestesi.fisik_abdomen,penilaian_pre_anestesi.fisik_extrimitas,"
                            + "penilaian_pre_anestesi.fisik_endokrin,penilaian_pre_anestesi.fisik_ginjal,penilaian_pre_anestesi.fisik_obatobatan,penilaian_pre_anestesi.fisik_laborat,"
                            + "penilaian_pre_anestesi.fisik_penunjang,penilaian_pre_anestesi.riwayat_penyakit_alergiobat,penilaian_pre_anestesi.riwayat_penyakit_alergilainnya,"
                            + "penilaian_pre_anestesi.riwayat_penyakit_terapi,penilaian_pre_anestesi.riwayat_kebiasaan_merokok,penilaian_pre_anestesi.riwayat_kebiasaan_ket_merokok,"
                            + "penilaian_pre_anestesi.riwayat_kebiasaan_alkohol,penilaian_pre_anestesi.riwayat_kebiasaan_ket_alkohol,penilaian_pre_anestesi.riwayat_kebiasaan_obat,"
                            + "penilaian_pre_anestesi.riwayat_kebiasaan_ket_obat,penilaian_pre_anestesi.riwayat_medis_cardiovasculer,penilaian_pre_anestesi.riwayat_medis_respiratory,"
                            + "penilaian_pre_anestesi.riwayat_medis_endocrine,penilaian_pre_anestesi.riwayat_medis_lainnya,penilaian_pre_anestesi.asa,penilaian_pre_anestesi.puasa,"
                            + "penilaian_pre_anestesi.rencana_anestesi,penilaian_pre_anestesi.rencana_perawatan,penilaian_pre_anestesi.catatan_khusus,dokter.nm_dokter "
                            + "from penilaian_pre_anestesi inner join dokter on penilaian_pre_anestesi.kd_dokter=dokter.kd_dokter "
                            + "where penilaian_pre_anestesi.no_rawat='" + norawat + "' order by penilaian_pre_anestesi.tanggal").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<fieldset>"
                                + "<h2><center>ASUHAN PRE ANESTESI</center></h2>"
                                + "<table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Penilaian Pre Anestesi</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                        );
                        rs2.beforeFirst();
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top'>YANG MELAKUKAN PENGKAJIAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='30%' border='0'>Tanggal : ").append(rs2.getString("tanggal")).append("</td><td width='40%' border='0'>Dokter : ").append(rs2.getString("kd_dokter")).append(" ").append(rs2.getString("nm_dokter")).append("</td><td width='30%' border='0'>Tgl.Operasi : ").append(rs2.getString("tanggal_operasi")).append("</td></tr></table></td></tr><tr><td valign='top'>I. ASESMEN FISIK<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%'>TB : ").append(rs2.getString("tb")).append(" Cm&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BB : ").append(rs2.getString("bb")).append(" Kg&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TD : ").append(rs2.getString("td")).append(" mmHg&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IO2 : ").append(rs2.getString("io2")).append(" %&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Nadi : ").append(rs2.getString("nadi")).append(" x/menit&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Suhu : ").append(rs2.getString("suhu")).append(" C&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pernapasan : ").append(rs2.getString("pernapasan")).append(" x/menit</td></tr><tr><td width='100%'>Cardiovasculer : ").append(rs2.getString("fisik_cardiovasculer")).append("</td></tr><tr><td width='100%'>Paru : ").append(rs2.getString("fisik_paru")).append("</td></tr><tr><td width='100%'>Abdomen : ").append(rs2.getString("fisik_abdomen")).append("</td></tr><tr><td width='100%'>Extrimitas : ").append(rs2.getString("fisik_extrimitas")).append("</td></tr><tr><td width='100%'>Endokrin : ").append(rs2.getString("fisik_endokrin")).append("</td></tr><tr><td width='100%'>Ginjal : ").append(rs2.getString("fisik_ginjal")).append("</td></tr><tr><td width='100%'>Obat-obatan : ").append(rs2.getString("fisik_obatobatan")).append("</td></tr><tr><td width='100%'>Laboratorium : ").append(rs2.getString("fisik_laborat")).append("</td></tr><tr><td width='100%'>Penunjang : ").append(rs2.getString("fisik_penunjang")).append("</td></tr></table></td></tr><tr><td valign='top'>II. RIWAYAT PENYAKIT<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%'>Alergi Obat : ").append(rs2.getString("riwayat_penyakit_alergiobat")).append("</td></tr><tr><td width='100%'>Alergi Lainnya : ").append(rs2.getString("riwayat_penyakit_alergilainnya")).append("</td></tr><tr><td width='100%'>Terapi : ").append(rs2.getString("riwayat_penyakit_terapi")).append("</td></tr><tr><td width='100%'>Merokok : ").append(rs2.getString("riwayat_kebiasaan_merokok")).append(rs2.getString("riwayat_kebiasaan_ket_merokok").isEmpty() ? "" : ", " + rs2.getString("riwayat_kebiasaan_ket_merokok") + " batang/hari").append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Alkohol : ").append(rs2.getString("riwayat_kebiasaan_alkohol")).append(rs2.getString("riwayat_kebiasaan_ket_alkohol").isEmpty() ? "" : ", " + rs2.getString("riwayat_kebiasaan_ket_alkohol") + " gelas/hari").append("</td></tr><tr><td width='100%'>Penggunaan Obat : ").append(rs2.getString("riwayat_kebiasaan_obat")).append(rs2.getString("riwayat_kebiasaan_ket_obat").isEmpty() ? "" : ", " + rs2.getString("riwayat_kebiasaan_ket_obat")).append("</td></tr></table></td></tr><tr><td valign='top'>III. RIWAYAT MEDIS<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%'>Cardiovasculer : ").append(rs2.getString("riwayat_medis_cardiovasculer")).append("</td></tr><tr><td width='100%'>Respiratory : ").append(rs2.getString("riwayat_medis_respiratory")).append("</td></tr><tr><td width='100%'>Endocrine : ").append(rs2.getString("riwayat_medis_endocrine")).append("</td></tr><tr><td width='100%'>Lainnya : ").append(rs2.getString("riwayat_medis_lainnya")).append("</td></tr></table></td></tr><tr><td valign='top'><table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' width='33%'>Rencana Anestesi : ").append(rs2.getString("rencana_anestesi")).append("</td><td width='100%' width='33%'>Angka ASA : ").append(rs2.getString("asa")).append("</td><td width='100%' width='33%'>Puasa : ").append(rs2.getString("puasa")).append("</td></tr><tr><td width='100%' colspan='3'>Rencana Perawatan : ").append(rs2.getString("rencana_perawatan")).append("</td></tr><tr><td width='100%' colspan='3'>Catatan Khusus : ").append(rs2.getString("catatan_khusus")).append("</td></tr></table></td></tr>");
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>"
                                + "</table>"
                                + "</fieldset>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Asuhan Medis Rawat Jalan : " + e);
        }
    }

    private void menampilkanRekonsiliasiObat(String norawat) {
        try {
            if (chkRekonsiliasiObat.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select rekonsiliasi_obat.no_rekonsiliasi,rekonsiliasi_obat.tanggal_wawancara,rekonsiliasi_obat.rekonsiliasi_obat_saat,"
                            + "rekonsiliasi_obat.alergi_obat,rekonsiliasi_obat.manifestasi_alergi,rekonsiliasi_obat.dampak_alergi,rekonsiliasi_obat.nip,"
                            + "petugas.nama from rekonsiliasi_obat inner join reg_periksa on reg_periksa.no_rawat=rekonsiliasi_obat.no_rawat "
                            + "inner join petugas on rekonsiliasi_obat.nip=petugas.nip where rekonsiliasi_obat.no_rawat='" + norawat + "' "
                            + "order by rekonsiliasi_obat.tanggal_wawancara").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<fieldset>"
                                + "<h2><center>REKONSILIASI OBAT</center></h2>"
                                + "<table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Rekonsiliasi Obat</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                        );
                        rs2.beforeFirst();
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top'>YANG MELAKUKAN WAWANCARA<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' colspan='3'>Petugas Wawancara : ").append(rs2.getString("nip")).append(" ").append(rs2.getString("nama")).append("</td></tr><tr><td width='33%'>No.Rekonsiliasi : ").append(rs2.getString("no_rekonsiliasi")).append("</td><td width='33%'>Tgl.Wawancara : ").append(rs2.getString("tanggal_wawancara")).append("</td><td width='33%'>Rekonsiliasi Saat : ").append(rs2.getString("rekonsiliasi_obat_saat")).append("</td></tr><tr><td width='33%'>Alergi Obat : ").append(rs2.getString("alergi_obat")).append("</td><td width='33%'>Manifestasi Alergi : ").append(rs2.getString("manifestasi_alergi")).append("</td><td width='33%'>Dampak Alergi : ").append(rs2.getString("dampak_alergi")).append("</td></tr></table></td></tr><tr><td valign='top'>DAFTAR OBAT REKONSILIASI<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr align='center'><td valign='top' width='4%' bgcolor='#FFFAF8' align='center'>No.</td><td valign='top' width='22%' bgcolor='#FFFAF8' align='center'>Nama Obat</td><td valign='top' width='9%' bgcolor='#FFFAF8' align='center'>Dosis Obat</td><td valign='top' width='9%' bgcolor='#FFFAF8' align='center'>Frekuensi</td><td valign='top' width='19%' bgcolor='#FFFAF8' align='center'>Cara Pemberian/Aturan Pakai</td><td valign='top' width='10%' bgcolor='#FFFAF8' align='center'>Pemberian Terakhir</td><td valign='top' width='8%' bgcolor='#FFFAF8' align='center'>Tindak Lanjut</td><td valign='top' width='19%' bgcolor='#FFFAF8' align='center'>Perubahan Aturan Pakai</td></tr>");

                            try {
                                w = 1;
                                rs3 = koneksi.prepareStatement(
                                        "select * from rekonsiliasi_obat_detail_obat where rekonsiliasi_obat_detail_obat.no_rekonsiliasi='" + rs2.getString("no_rekonsiliasi") + "'").executeQuery();
                                while (rs3.next()) {
                                    htmlContent.append("<tr><td valign='top' align='center'>").append(w).append("</td><td valign='top'>").append(rs3.getString("nama_obat")).append("</td><td valign='top'>").append(rs3.getString("dosis_obat")).append("</td><td valign='top' align='center'>").append(rs3.getString("frekuensi")).append("</td><td valign='top'>").append(rs3.getString("cara_pemberian")).append("</td><td valign='top'>").append(rs3.getString("waktu_pemberian_terakhir")).append("</td><td valign='top' align='center'>").append(rs3.getString("tindak_lanjut")).append("</td><td valign='top'>").append(rs3.getString("perubahan_aturan_pakai")).append("</td></tr>");
                                    w++;
                                }
                            } catch (Exception e) {
                                System.out.println("Notifikasi : " + e);
                            } finally {
                                if (rs3 != null) {
                                    rs3.close();
                                }
                            }

                            htmlContent.append(
                                    "</table>"
                                    + "</td>"
                                    + "</tr>"
                            );

                            try {
                                rs3 = koneksi.prepareStatement(
                                        "select rekonsiliasi_obat_konfirmasi.diterima_farmasi,rekonsiliasi_obat_konfirmasi.dikonfirmasi_apoteker,rekonsiliasi_obat_konfirmasi.nip,petugas.nama,"
                                        + "rekonsiliasi_obat_konfirmasi.diserahkan_pasien from rekonsiliasi_obat_konfirmasi inner join petugas on rekonsiliasi_obat_konfirmasi.nip=petugas.nip "
                                        + "where rekonsiliasi_obat_konfirmasi.no_rekonsiliasi='" + rs2.getString("no_rekonsiliasi") + "'").executeQuery();
                                if (rs3.next()) {
                                    htmlContent.append("<tr><td valign='top'>DIKONFIRMASI FARMASI/APOTEKER<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='33%'>Diterima Farmasi : ").append(rs3.getString("diterima_farmasi")).append("</td><td width='33%'>Dikonfirmasi Apoteker : ").append(rs3.getString("dikonfirmasi_apoteker")).append("</td><td width='33%'>Diserahkan Pasien : ").append(rs3.getString("diserahkan_pasien")).append("</td></tr><tr><td width='100%' colspan='3'>Petugas Farmasi/Apoteker : ").append(rs3.getString("nip")).append(" ").append(rs3.getString("nama")).append("</td></tr></table></td></tr>");
                                }
                            } catch (Exception e) {
                                System.out.println("Notifikasi : " + e);
                            } finally {
                                if (rs3 != null) {
                                    rs3.close();
                                }
                            }
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>"
                                + "</table>"
                                + "</fieldset>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Rekonsiliasi Obat : " + e);
        }
    }

    private void menampilkanKonselingFarmasi(String norawat) {
        try {
            if (chkKonselingFarmasi.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select konseling_farmasi.tanggal,konseling_farmasi.diagnosa,konseling_farmasi.obat_pemakaian,konseling_farmasi.riwayat_alergi,konseling_farmasi.keluhan,"
                            + "konseling_farmasi.pernah_datang,konseling_farmasi.tindak_lanjut,konseling_farmasi.nip,petugas.nama "
                            + "from konseling_farmasi inner join petugas on konseling_farmasi.nip=petugas.nip "
                            + "where konseling_farmasi.no_rawat='" + norawat + "' order by konseling_farmasi.tanggal").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<fieldset>"
                                + "<h2><center>KONSELING FARMASI</center></h2>"
                                + "<table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Konseling Farmasi</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                        );
                        rs2.beforeFirst();
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top'>YANG MELAKUKAN PENGKAJIAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='30%' border='0'>Tanggal : ").append(rs2.getString("tanggal")).append("</td><td width='40%' border='0'>Apoteker : ").append(rs2.getString("nip")).append(" ").append(rs2.getString("nama")).append("</td><td width='30%' border='0'>Tgl.Konseling : ").append(rs2.getString("tanggal")).append("</td></tr></table></td></tr><tr><td valign='top'>KONSELING<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='34%'>Diagnosa : ").append(rs2.getString("diagnosa")).append(" </td><td width='33%'>Alergi : ").append(rs2.getString("riwayat_alergi")).append(" </td><td width='33%'>Pernah Konseling Sebelumnya : ").append(rs2.getString("pernah_datang")).append(" </td></tr><tr><td width='100%' colspan='3'>Nama Obat, Dosis & Cara Pemakaian : ").append(rs2.getString("obat_pemakaian")).append("</td></tr><tr><td width='100%' colspan='3'>Keluhan : ").append(rs2.getString("keluhan")).append("</td></tr><tr><td width='100%' colspan='3'>Tindak Lanjut : ").append(rs2.getString("tindak_lanjut")).append("</td></tr></table></td></tr>");
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>"
                                + "</table>"
                                + "</fieldset>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Konseling Farmasi : " + e);
        }
    }

    private void menampilkanPelayananInformasiObat(String norawat) {
        try {
            if (chkKonselingFarmasi.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select pelayanan_informasi_obat.no_permintaan,pelayanan_informasi_obat.tanggal,pelayanan_informasi_obat.metode,pelayanan_informasi_obat.penanya,"
                            + "pelayanan_informasi_obat.status_penanya,pelayanan_informasi_obat.no_telp_penanya,pelayanan_informasi_obat.jenis_pertanyaan,pelayanan_informasi_obat.keterangan_jenis_pertanyaan,"
                            + "pelayanan_informasi_obat.uraian_pertanyaan,jawaban_pio_apoteker.tanggal_jawab,jawaban_pio_apoteker.metode as metodejawab,jawaban_pio_apoteker.penyampaian_jawaban,"
                            + "jawaban_pio_apoteker.jawaban,jawaban_pio_apoteker.referensi,jawaban_pio_apoteker.nip,petugas.nama from pelayanan_informasi_obat "
                            + "inner join jawaban_pio_apoteker on jawaban_pio_apoteker.no_permintaan=pelayanan_informasi_obat.no_permintaan inner join petugas on jawaban_pio_apoteker.nip=petugas.nip "
                            + "where pelayanan_informasi_obat.no_rawat='" + norawat + "' order by pelayanan_informasi_obat.tanggal").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<fieldset>"
                                + "<h2><center>PELAYANAN INFORMASI OBAT</center></h2>"
                                + "<table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Pelayanan Informasi Obat</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                        );
                        rs2.beforeFirst();
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top'>PERMINTAAN PELAYANAN INFORMASI OBAT<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='30%'>Tanggal : ").append(rs2.getString("tanggal")).append("</td><td width='40%'>Metode : ").append(rs2.getString("metode")).append("</td><td width='30%'>No. Permintaan : ").append(rs2.getString("no_permintaan")).append("</td></tr><tr><td width='70%' colspan='2'>Penanya : ").append(rs2.getString("penanya")).append("</td><td width='30%'>Status Penanya : ").append(rs2.getString("status_penanya")).append("</td></tr><tr><td width='30%'>No. Telp : ").append(rs2.getString("no_telp_penanya")).append("</td><td width='70%' colspan='2'>Jenis Pertanyaan : ").append(rs2.getString("jenis_pertanyaan")).append("</td></tr><tr><td width='100%' colspan='3'>Uraian Pertanyaan : ").append(rs2.getString("uraian_pertanyaan")).append("</td></tr></table></td></tr><tr><td valign='top'>JAWABAN PELAYANAN INFORMASI OBAT<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='34%'>Tanggal Jawaban : ").append(rs2.getString("tanggal_jawab")).append(" </td><td width='33%'>Penyampaian : ").append(rs2.getString("penyampaian_jawaban")).append(" </td><td width='33%'>Metode Jawab : ").append(rs2.getString("metodejawab")).append(" </td></tr><tr><td width='100%' colspan='3'>Apoteker Yang Menjawab : ").append(rs2.getString("nip")).append(" ").append(rs2.getString("nama")).append("</td></tr><tr><td width='100%' colspan='3'>Jawaban Apoteker : ").append(rs2.getString("jawaban")).append("</td></tr><tr><td width='100%' colspan='3'>Referensi Jawaban : ").append(rs2.getString("referensi")).append("</td></tr></table></td></tr>");
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>"
                                + "</table>"
                                + "</fieldset>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Pelayanan Informasi Obat : " + e);
        }
    }

    private void menampilkanHasilPemeriksaanUSG(String norawat) {
        try {
            if (chkHasilPemeriksaanUSG.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select hasil_pemeriksaan_usg.kd_dokter,dokter.nm_dokter,hasil_pemeriksaan_usg.diagnosa_klinis,hasil_pemeriksaan_usg.kiriman_dari,"
                            + "hasil_pemeriksaan_usg.hta,hasil_pemeriksaan_usg.kantong_gestasi,hasil_pemeriksaan_usg.ukuran_bokongkepala,"
                            + "hasil_pemeriksaan_usg.jenis_prestasi,hasil_pemeriksaan_usg.diameter_biparietal,hasil_pemeriksaan_usg.panjang_femur,"
                            + "hasil_pemeriksaan_usg.lingkar_abdomen,hasil_pemeriksaan_usg.tafsiran_berat_janin,hasil_pemeriksaan_usg.usia_kehamilan,"
                            + "hasil_pemeriksaan_usg.plasenta_berimplatansi,hasil_pemeriksaan_usg.derajat_maturitas,hasil_pemeriksaan_usg.jumlah_air_ketuban,"
                            + "hasil_pemeriksaan_usg.indek_cairan_ketuban,hasil_pemeriksaan_usg.kelainan_kongenital,hasil_pemeriksaan_usg.peluang_sex,"
                            + "hasil_pemeriksaan_usg.kesimpulan,hasil_pemeriksaan_usg.tanggal "
                            + "from hasil_pemeriksaan_usg inner join dokter on hasil_pemeriksaan_usg.kd_dokter=dokter.kd_dokter "
                            + "where hasil_pemeriksaan_usg.no_rawat='" + norawat + "' order by hasil_pemeriksaan_usg.tanggal").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<fieldset>"
                                + "<h2><center>HASIL PEMERIKSAAN USG</center></h2>"
                                + "<table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Hasil Pemeriksaan USG</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                        );
                        rs2.beforeFirst();
                        while (rs2.next()) {
                            file = Sequel.cariIsi("select hasil_pemeriksaan_usg_gambar.photo from hasil_pemeriksaan_usg_gambar where hasil_pemeriksaan_usg_gambar.no_rawat='" + rs.getString("no_rawat") + "'");
                            htmlContent.append("<tr><td valign='top'>YANG MELAKUKAN PENGKAJIAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='30%' border='0'>Tanggal : ").append(rs2.getString("tanggal")).append("</td><td width='35%' border='0'>Dokter : ").append(rs2.getString("kd_dokter")).append(" ").append(rs2.getString("nm_dokter")).append("</td><td width='35%' border='0'>Kiriman Dari : ").append(rs2.getString("kiriman_dari")).append("</td></tr><tr><td width='30%' border='0'>Jenis Prestasi : ").append(rs2.getString("jenis_prestasi")).append("</td><td width='35%' border='0'>HTA : ").append(rs2.getString("hta")).append("</td><td width='35%' border='0'>Diagnosa Klinis : ").append(rs2.getString("diagnosa_klinis")).append("</td></tr></table></td></tr>");

                            if (!file.isEmpty()) {
                                htmlContent.append("<tr><td valign='top'>PHOTO USG<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td valign='top' width='100%' align='center'><a href='http://").append(koneksiDB.HOSTHYBRIDWEB()).append(":").append(koneksiDB.PORTWEB()).append("/").append(koneksiDB.HYBRIDWEB()).append("/hasilpemeriksaanusg/").append(file).append("'><img alt='Gambar USG' src='http://").append(koneksiDB.HOSTHYBRIDWEB()).append(":").append(koneksiDB.PORTWEB()).append("/").append(koneksiDB.HYBRIDWEB()).append("/hasilpemeriksaanusg/").append(file).append("' width='450' height='450'/></a></td></tr></table></td></tr>");
                            }

                            htmlContent.append("<tr><td valign='top'>HASIL BACAAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='34%'>Ukuran Kantong Gestasi (GS) : ").append(rs2.getString("kantong_gestasi")).append("</td><td width='33%'>Ukuran Bokong - Kepala (CRL) : ").append(rs2.getString("ukuran_bokongkepala")).append("</td><td width='33%'>Diameter Biparietal (DBP) : ").append(rs2.getString("diameter_biparietal")).append("</td></tr><tr><td width='34%'>Panjang Femur (FL) : ").append(rs2.getString("panjang_femur")).append("</td><td width='33%'>Lingkar Abdomen (AC) : ").append(rs2.getString("lingkar_abdomen")).append("</td><td width='33%'>Tafsiran berat Janin (TBJ) : ").append(rs2.getString("tafsiran_berat_janin")).append("</td></tr><tr><td width='34%'>Usia Kehamilan Sesuai : ").append(rs2.getString("usia_kehamilan")).append("</td><td width='66%' colspan='2'>Plasenta Berimplatansi Di : ").append(rs2.getString("plasenta_berimplatansi")).append("</td></tr><tr><td width='34%'>Derajat Maturitas Plasenta : ").append(rs2.getString("derajat_maturitas")).append("</td><td width='33%'>Jumlah Air Ketuban : ").append(rs2.getString("jumlah_air_ketuban")).append("</td><td width='33%'>Peluang Sex : ").append(rs2.getString("peluang_sex")).append("</td></tr><tr><td width='34%'>Indeks Cairan Ketuban (ICK) : ").append(rs2.getString("indek_cairan_ketuban")).append("</td><td width='66%' colspan='2'>Kelainan Kongenital Mayor : ").append(rs2.getString("kelainan_kongenital")).append("</td></tr><tr><td width='100%' colspan='3'>Kesimpulan : ").append(rs2.getString("kesimpulan")).append("</td></tr></table></td></tr>");
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>"
                                + "</table>"
                                + "</fieldset>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Asuhan Medis Rawat Jalan : " + e);
        }
    }

    private void menampilkanPerencanaanPemulangan(String norawat) {
        try {
            if (chkPerencanaanPemulangan.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select perencanaan_pemulangan.rencana_pulang,perencanaan_pemulangan.alasan_masuk,perencanaan_pemulangan.diagnosa_medis,perencanaan_pemulangan.pengaruh_ri_pasien_dan_keluarga,"
                            + "perencanaan_pemulangan.keterangan_pengaruh_ri_pasien_dan_keluarga,perencanaan_pemulangan.pengaruh_ri_pekerjaan_sekolah,perencanaan_pemulangan.keterangan_pengaruh_ri_pekerjaan_sekolah,"
                            + "perencanaan_pemulangan.pengaruh_ri_keuangan,perencanaan_pemulangan.keterangan_pengaruh_ri_keuangan,perencanaan_pemulangan.antisipasi_masalah_saat_pulang,"
                            + "perencanaan_pemulangan.keterangan_antisipasi_masalah_saat_pulang,perencanaan_pemulangan.bantuan_diperlukan_dalam,perencanaan_pemulangan.keterangan_bantuan_diperlukan_dalam,"
                            + "perencanaan_pemulangan.adakah_yang_membantu_keperluan,perencanaan_pemulangan.keterangan_adakah_yang_membantu_keperluan,perencanaan_pemulangan.pasien_tinggal_sendiri,"
                            + "perencanaan_pemulangan.keterangan_pasien_tinggal_sendiri,perencanaan_pemulangan.pasien_menggunakan_peralatan_medis,perencanaan_pemulangan.keterangan_pasien_menggunakan_peralatan_medis,"
                            + "perencanaan_pemulangan.pasien_memerlukan_alat_bantu,perencanaan_pemulangan.keterangan_pasien_memerlukan_alat_bantu,perencanaan_pemulangan.memerlukan_perawatan_khusus,"
                            + "perencanaan_pemulangan.keterangan_memerlukan_perawatan_khusus,perencanaan_pemulangan.bermasalah_memenuhi_kebutuhan,perencanaan_pemulangan.keterangan_bermasalah_memenuhi_kebutuhan,"
                            + "perencanaan_pemulangan.memiliki_nyeri_kronis,perencanaan_pemulangan.keterangan_memiliki_nyeri_kronis,perencanaan_pemulangan.memerlukan_edukasi_kesehatan,"
                            + "perencanaan_pemulangan.keterangan_memerlukan_edukasi_kesehatan,perencanaan_pemulangan.memerlukan_keterampilkan_khusus,perencanaan_pemulangan.keterangan_memerlukan_keterampilkan_khusus,"
                            + "perencanaan_pemulangan.nama_pasien_keluarga,perencanaan_pemulangan.nip,petugas.nama "
                            + "from perencanaan_pemulangan inner join petugas on petugas.nip=perencanaan_pemulangan.nip where perencanaan_pemulangan.no_rawat='" + norawat + "'").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<fieldset>"
                                + "<h2><center>PERENCANAAN PEMULANGAN</center></h2>"
                                + "<table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Perencanaan Pemulangan</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                        );
                        rs2.beforeFirst();
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top'>YANG MELAKUKAN PENGKAJIAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='50%' border='0'>Rencana Pulang : ").append(rs2.getString("rencana_pulang")).append("</td><td width='50%' border='0'>Perawat/Petugas : ").append(rs2.getString("nip")).append(" ").append(rs2.getString("nama")).append("</td></tr><tr><td width='50%' border='0'>Diagnosa Medis : ").append(rs2.getString("diagnosa_medis")).append("</td><td width='50%' border='0'>Alasan Masuk / Dirawat : ").append(rs2.getString("alasan_masuk")).append("</td></tr></table></td></tr><tr><td valign='top'>PENGKAJIAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0' valign='top'>1. Pengaruh Rawat Inap Terhadap :</td></tr><tr><td width='100%' border='0' valign='top' style='margin-left: 10px'>Pasien & Keluarga Pasien : ").append(rs2.getString("pengaruh_ri_pasien_dan_keluarga")).append(rs2.getString("keterangan_pengaruh_ri_pasien_dan_keluarga").isEmpty() ? "" : ", " + rs2.getString("keterangan_pengaruh_ri_pasien_dan_keluarga")).append("</td></tr><tr><td width='100%' border='0' valign='top' style='margin-left: 10px'>Pekerjaan / Sekolah : ").append(rs2.getString("pengaruh_ri_pekerjaan_sekolah")).append(rs2.getString("keterangan_pengaruh_ri_pekerjaan_sekolah").isEmpty() ? "" : ", " + rs2.getString("keterangan_pengaruh_ri_pekerjaan_sekolah")).append("</td></tr><tr><td width='100%' border='0' valign='top' style='margin-left: 10px'>Keuangan : ").append(rs2.getString("pengaruh_ri_keuangan")).append(rs2.getString("keterangan_pengaruh_ri_keuangan").isEmpty() ? "" : ", " + rs2.getString("keterangan_pengaruh_ri_keuangan")).append("</td></tr><tr><td width='100%' border='0' valign='top'>2. Antisipasi Terhadap Masalah Saat Pulang ?</td></tr><tr><td width='100%' border='0' valign='top' style='margin-left: 10px'>").append(rs2.getString("antisipasi_masalah_saat_pulang")).append(rs2.getString("keterangan_antisipasi_masalah_saat_pulang").isEmpty() ? "" : ", " + rs2.getString("keterangan_antisipasi_masalah_saat_pulang")).append("</td></tr><tr><td width='100%' border='0' valign='top'>3. Bantuan Diperlukan Dalam Hal ?</td></tr><tr><td width='100%' border='0' valign='top' style='margin-left: 10px'>").append(rs2.getString("bantuan_diperlukan_dalam")).append(rs2.getString("keterangan_bantuan_diperlukan_dalam").isEmpty() ? "" : ", " + rs2.getString("keterangan_bantuan_diperlukan_dalam")).append("</td></tr><tr><td width='100%' border='0' valign='top'>4. Adakah Yang Membantu Keperluan Di Atas ?</td></tr><tr><td width='100%' border='0' valign='top' style='margin-left: 10px'>").append(rs2.getString("adakah_yang_membantu_keperluan")).append(rs2.getString("keterangan_adakah_yang_membantu_keperluan").isEmpty() ? "" : ", " + rs2.getString("keterangan_adakah_yang_membantu_keperluan")).append("</td></tr><tr><td width='100%' border='0' valign='top'>5. Apakah Pasien Tinggal Sendiri Setelah Keluar Dari Rumah Sakit ?</td></tr><tr><td width='100%' border='0' valign='top' style='margin-left: 10px'>").append(rs2.getString("pasien_tinggal_sendiri")).append(rs2.getString("keterangan_pasien_tinggal_sendiri").isEmpty() ? "" : ", " + rs2.getString("keterangan_pasien_tinggal_sendiri")).append("</td></tr><tr><td width='100%' border='0' valign='top'>6. Apakah Pasien Menggunakan Peralatan Medis (Kateter, NGT, Oksigen, Dll) Di Rumah Setelah Keluar / Pulang ?</td></tr><tr><td width='100%' border='0' valign='top' style='margin-left: 10px'>").append(rs2.getString("pasien_menggunakan_peralatan_medis")).append(rs2.getString("keterangan_pasien_menggunakan_peralatan_medis").isEmpty() ? "" : ", " + rs2.getString("keterangan_pasien_menggunakan_peralatan_medis")).append("</td></tr><tr><td width='100%' border='0' valign='top'>7. Apakah Pasien Memerlukan Alat Bantu (Tongkat, Kursi Roda, Walker, Dll) Setelah Keluar Keluar / Pulang ?</td></tr><tr><td width='100%' border='0' valign='top' style='margin-left: 10px'>").append(rs2.getString("pasien_memerlukan_alat_bantu")).append(rs2.getString("keterangan_pasien_memerlukan_alat_bantu").isEmpty() ? "" : ", " + rs2.getString("keterangan_pasien_memerlukan_alat_bantu")).append("</td></tr><tr><td width='100%' border='0' valign='top'>8. Apakah Memerlukan Bantuan / Perawatan Khusus (Homecare, Home Visit) Di Rumah Setelah Keluar / Pulang ?</td></tr><tr><td width='100%' border='0' valign='top' style='margin-left: 10px'>").append(rs2.getString("memerlukan_perawatan_khusus")).append(rs2.getString("keterangan_memerlukan_perawatan_khusus").isEmpty() ? "" : ", " + rs2.getString("keterangan_memerlukan_perawatan_khusus")).append("</td></tr><tr><td width='100%' border='0' valign='top'>9. Apakah Pasien Bermasalah Dalam Memenuhi Kebutuhan Pribadinya (Makan, Minum, BAK, BAB, Dll) Setelah Keluar / Pulang ?</td></tr><tr><td width='100%' border='0' valign='top' style='margin-left: 10px'>").append(rs2.getString("bermasalah_memenuhi_kebutuhan")).append(rs2.getString("keterangan_bermasalah_memenuhi_kebutuhan").isEmpty() ? "" : ", " + rs2.getString("keterangan_bermasalah_memenuhi_kebutuhan")).append("</td></tr><tr><td width='100%' border='0' valign='top'>10. Apakah Pasien Memiliki Nyeri Kronis Dan Kelelahan Setelah Keluar / Pulang ?</td></tr><tr><td width='100%' border='0' valign='top' style='margin-left: 10px'>").append(rs2.getString("memiliki_nyeri_kronis")).append(rs2.getString("keterangan_memiliki_nyeri_kronis").isEmpty() ? "" : ", " + rs2.getString("keterangan_memiliki_nyeri_kronis")).append("</td></tr><tr><td width='100%' border='0' valign='top'>11. Apakah Pasien & Keluarga Memerlukan Edukasi Kesehatan (Obatan-obatan, Efek Samping Obat, Nyeri Diit, Mencari Pertolongan, Follow Up, Dll) Setelah Keluar / Pulang ?</td></tr><tr><td width='100%' border='0' valign='top' style='margin-left: 10px'>").append(rs2.getString("memerlukan_edukasi_kesehatan")).append(rs2.getString("keterangan_memerlukan_edukasi_kesehatan").isEmpty() ? "" : ", " + rs2.getString("keterangan_memerlukan_edukasi_kesehatan")).append("</td></tr><tr><td width='100%' border='0' valign='top'>12. Apakah Pasien Dan Keluarga Memerlukan Keterampilan Khusus (Perawatan Luka, Injeksi, Perawatan Bayi, Dll) Setelah Keluar / Pulang ?</td></tr><tr><td width='100%' border='0' valign='top' style='margin-left: 10px'>").append(rs2.getString("memerlukan_keterampilkan_khusus")).append(rs2.getString("keterangan_memerlukan_keterampilkan_khusus").isEmpty() ? "" : ", " + rs2.getString("keterangan_memerlukan_keterampilkan_khusus")).append("</td></tr></table></td></tr><tr><td valign='top'>DILAKUKAN KONFIRMASI KEPADA<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>Pasien/Keluarga : ").append(rs2.getString("nama_pasien_keluarga")).append("</td></tr></table></td></tr>");
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>"
                                + "</table>"
                                + "</fieldset>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Asuhan Medis Rawat Jalan : " + e);
        }
    }

    private void menampilkanPemeriksaanRanap(String norawat) {
        try {
            if (chkPemeriksaanRanap.isSelected() == true) {
                htmlContent.append(
                        "<fieldset>"
                        + "<h2><center>SOAP RAWAT INAP</center></h2>"
                        + "<table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>");
                try {
                    rs2 = koneksi.prepareStatement(
                            "select pemeriksaan_ranap.suhu_tubuh,pemeriksaan_ranap.tensi,pemeriksaan_ranap.nadi,pemeriksaan_ranap.respirasi,"
                            + "pemeriksaan_ranap.tinggi,pemeriksaan_ranap.berat,pemeriksaan_ranap.spo2,pemeriksaan_ranap.gcs,pemeriksaan_ranap.kesadaran,pemeriksaan_ranap.keluhan,pemeriksaan_ranap.penilaian,pemeriksaan_ranap.rtl,"
                            + "pemeriksaan_ranap.pemeriksaan,pemeriksaan_ranap.alergi,pemeriksaan_ranap.tgl_perawatan,pemeriksaan_ranap.jam_rawat,pemeriksaan_ranap.nip,pegawai.nama,pegawai.jbtn,pemeriksaan_ranap.instruksi,pemeriksaan_ranap.evaluasi "
                            + "from pemeriksaan_ranap inner join pegawai on pemeriksaan_ranap.nip=pegawai.nik where pemeriksaan_ranap.no_rawat='" + norawat + "' order by pemeriksaan_ranap.tgl_perawatan,pemeriksaan_ranap.jam_rawat").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Pemeriksaan Rawat Inap</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr align='center'>"
                                + "<td valign='top' width='4%' bgcolor='#FFFAF8'>No.</td>"
                                + "<td valign='top' width='15%' bgcolor='#FFFAF8'>Tanggal</td>"
                                + "<td valign='top' width='51%' bgcolor='#FFFAF8' colspan='6'>Dokter/Paramedis</td>"
                                + "<td valign='top' width='30%' bgcolor='#FFFAF8' colspan='3'>Profesi/Jabatan/Departemen</td>"
                                + "</tr>"
                        );
                        rs2.beforeFirst();
                        w = 1;
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top' align='center'>").append(w).append("</td><td valign='top'>").append(rs2.getString("tgl_perawatan")).append(" ").append(rs2.getString("jam_rawat")).append("</td><td valign='top' colspan='6'>").append(rs2.getString("nip")).append(" ").append(rs2.getString("nama")).append("</td><td valign='top' colspan='3'>").append(rs2.getString("jbtn")).append("</td></tr>");

                            if (!rs2.getString("keluhan").isEmpty()) {
                                htmlContent.append("<tr><td valign='top' align='center'></td><td valign='top' align='center'></td><td valign='top' colspan='2'>Subjek</td><td valign='top' colspan='7'> : ").append(rs2.getString("keluhan").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr>");
                            }

                            if (!rs2.getString("pemeriksaan").isEmpty()) {
                                htmlContent.append("<tr><td valign='top' align='center'></td><td valign='top' align='center'></td><td valign='top' colspan='2'>Objek</td><td valign='top' colspan='7'> : ").append(rs2.getString("pemeriksaan").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr>");
                            }

                            htmlContent.append("<tr><td valign='top' align='center'></td><td valign='top' align='center'></td><td valign='top' width='9%' align='center' bgcolor='#FFFAF8'>Suhu(C)</td><td valign='top' width='9%' align='center' bgcolor='#FFFAF8'>Tensi</td><td valign='top' width='9%' align='center' bgcolor='#FFFAF8'>Nadi(/menit)</td><td valign='top' width='9%' align='center' bgcolor='#FFFAF8'>Respirasi(/menit)</td><td valign='top' width='9%' align='center' bgcolor='#FFFAF8'>Tinggi(Cm)</td><td valign='top' width='9%' align='center' bgcolor='#FFFAF8'>Berat(Kg)</td><td valign='top' width='9%' align='center' bgcolor='#FFFAF8'>SpO2(%)</td><td valign='top' width='9%' align='center' bgcolor='#FFFAF8'>GCS(E,V,M)</td><td valign='top' width='9%' align='center' bgcolor='#FFFAF8'>Kesadaran</td></tr><tr><td valign='top' align='center'></td><td valign='top' align='center'></td><td valign='top' align='center'>").append(rs2.getString("suhu_tubuh")).append("</td><td valign='top' align='center'>").append(rs2.getString("tensi")).append("</td><td valign='top' align='center'>").append(rs2.getString("nadi")).append("</td><td valign='top' align='center'>").append(rs2.getString("respirasi")).append("</td><td valign='top' align='center'>").append(rs2.getString("tinggi")).append("</td><td valign='top' align='center'>").append(rs2.getString("berat")).append("</td><td valign='top' align='center'>").append(rs2.getString("spo2")).append("</td><td valign='top' align='center'>").append(rs2.getString("gcs")).append("</td><td valign='top' align='center'>").append(rs2.getString("kesadaran")).append("</td></tr>");

                            if (!rs2.getString("alergi").isEmpty()) {
                                htmlContent.append("<tr><td valign='top' align='center'></td><td valign='top' align='center'></td><td valign='top' colspan='2'>Alergi</td><td valign='top' colspan='7'> : ").append(rs2.getString("alergi")).append("</td></tr>");
                            }

                            if (!rs2.getString("penilaian").isEmpty()) {
                                htmlContent.append("<tr><td valign='top' align='center'></td><td valign='top' align='center'></td><td valign='top' colspan='2'>Asesmen</td><td valign='top' colspan='7'> : ").append(rs2.getString("penilaian").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr>");
                            }

                            if (!rs2.getString("rtl").isEmpty()) {
                                htmlContent.append("<tr><td valign='top' align='center'></td><td valign='top' align='center'></td><td valign='top' colspan='2'>Plan</td><td valign='top' colspan='7'> : ").append(rs2.getString("rtl").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr>");
                            }

                            if (!rs2.getString("instruksi").isEmpty()) {
                                htmlContent.append("<tr><td valign='top' align='center'></td><td valign='top' align='center'></td><td valign='top' colspan='2'>Instruksi</td><td valign='top' colspan='7'> : ").append(rs2.getString("instruksi").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr>");
                            }

                            if (!rs2.getString("evaluasi").isEmpty()) {
                                htmlContent.append("<tr><td valign='top' align='center'></td><td valign='top' align='center'></td><td valign='top' colspan='2'>Evaluasi</td><td valign='top' colspan='7'> : ").append(rs2.getString("evaluasi")).append("</td></tr>");
                            }

                            w++;
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
                htmlContent.append(
                        "</table>"
                        + "</fieldset>"
                );
            }

            //menampilkan pemeriksaan obstetri rawat inap
            if (chkPemeriksaanObstetriRanap.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select pemeriksaan_obstetri_ranap.tgl_perawatan,pemeriksaan_obstetri_ranap.jam_rawat,pemeriksaan_obstetri_ranap.tinggi_uteri,pemeriksaan_obstetri_ranap.janin,pemeriksaan_obstetri_ranap.letak, "
                            + "pemeriksaan_obstetri_ranap.panggul,pemeriksaan_obstetri_ranap.denyut,pemeriksaan_obstetri_ranap.kontraksi, "
                            + "pemeriksaan_obstetri_ranap.kualitas_mnt,pemeriksaan_obstetri_ranap.kualitas_dtk,pemeriksaan_obstetri_ranap.fluksus,pemeriksaan_obstetri_ranap.albus, "
                            + "pemeriksaan_obstetri_ranap.vulva,pemeriksaan_obstetri_ranap.portio,pemeriksaan_obstetri_ranap.dalam, pemeriksaan_obstetri_ranap.tebal, pemeriksaan_obstetri_ranap.arah, pemeriksaan_obstetri_ranap.pembukaan,"
                            + "pemeriksaan_obstetri_ranap.penurunan, pemeriksaan_obstetri_ranap.denominator, pemeriksaan_obstetri_ranap.ketuban, pemeriksaan_obstetri_ranap.feto "
                            + "from pemeriksaan_obstetri_ranap where pemeriksaan_obstetri_ranap.no_rawat='" + norawat + "' order by pemeriksaan_obstetri_ranap.tgl_perawatan,pemeriksaan_obstetri_ranap.jam_rawat").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Pemeriksaan Obstetri Rawat Inap</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr align='center'>"
                                + "<td valign='top' width='4%' bgcolor='#FFFAF8'>No.</td>"
                                + "<td valign='top' width='15%' bgcolor='#FFFAF8'>Tanggal</td>"
                                + "<td valign='top' width='5%' bgcolor='#FFFAF8'>Tinggi Fundus</td>"
                                + "<td valign='top' width='6%' bgcolor='#FFFAF8'>Janin</td>"
                                + "<td valign='top' width='6%' bgcolor='#FFFAF8'>Letak</td>"
                                + "<td valign='top' width='5%' bgcolor='#FFFAF8'>Panggul</td>"
                                + "<td valign='top' width='5%' bgcolor='#FFFAF8'>Denyut</td>"
                                + "<td valign='top' width='5%' bgcolor='#FFFAF8'>Kontraksi</td>"
                                + "<td valign='top' width='5%' bgcolor='#FFFAF8'>Kualitas Mnt</td>"
                                + "<td valign='top' width='5%' bgcolor='#FFFAF8'>Kualitas Detik</td>"
                                + "<td valign='top' width='5%' bgcolor='#FFFAF8'>Fluksus</td>"
                                + "<td valign='top' width='5%' bgcolor='#FFFAF8'>Albus</td>"
                                + "<td valign='top' width='6%' bgcolor='#FFFAF8'>Dalam</td>"
                                + "<td valign='top' width='5%' bgcolor='#FFFAF8'>Tebal</td>"
                                + "<td valign='top' width='6%' bgcolor='#FFFAF8'>Arah</td>"
                                + "<td valign='top' width='5%' bgcolor='#FFFAF8'>Ketuban</td>"
                                + "<td valign='top' width='7%' bgcolor='#FFFAF8'>Feto</td>"
                                + "</tr>"
                        );
                        rs2.beforeFirst();
                        w = 1;
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top' align='center'>").append(w).append("</td><td valign='top'>").append(rs2.getString("tgl_perawatan")).append(" ").append(rs2.getString("jam_rawat")).append("</td><td valign='top'>").append(rs2.getString("tinggi_uteri")).append("</td><td valign='top'>").append(rs2.getString("janin")).append("</td><td valign='top'>").append(rs2.getString("letak")).append("</td><td valign='top'>").append(rs2.getString("panggul")).append("</td><td valign='top'>").append(rs2.getString("denyut")).append("</td><td valign='top'>").append(rs2.getString("kontraksi")).append("</td><td valign='top'>").append(rs2.getString("kualitas_mnt")).append("</td><td valign='top'>").append(rs2.getString("kualitas_dtk")).append("</td><td valign='top'>").append(rs2.getString("fluksus")).append("</td><td valign='top'>").append(rs2.getString("albus")).append("</td><td valign='top'>").append(rs2.getString("dalam")).append("</td><td valign='top'>").append(rs2.getString("tebal")).append("</td><td valign='top'>").append(rs2.getString("arah")).append("</td><td valign='top'>").append(rs2.getString("ketuban")).append("</td><td valign='top'>").append(rs2.getString("feto")).append("</td></tr>");
                            if (!rs2.getString("vulva").isEmpty()) {
                                htmlContent.append("<tr><td valign='top' align='center'></td><td valign='top' align='center'></td><td valign='top' colspan='2'>Vulva</td><td valign='top' colspan='13'> : ").append(rs2.getString("vulva")).append("</td></tr>");
                            }

                            if (!rs2.getString("portio").isEmpty()) {
                                htmlContent.append("<tr><td valign='top' align='center'></td><td valign='top' align='center'></td><td valign='top' colspan='2'>Portio</td><td valign='top' colspan='13'> : ").append(rs2.getString("portio")).append("</td></tr>");
                            }

                            if (!rs2.getString("pembukaan").isEmpty()) {
                                htmlContent.append("<tr><td valign='top' align='center'></td><td valign='top' align='center'></td><td valign='top' colspan='2'>Pembukaan</td><td valign='top' colspan='13'> : ").append(rs2.getString("pembukaan")).append("</td></tr>");
                            }

                            if (!rs2.getString("penurunan").isEmpty()) {
                                htmlContent.append("<tr><td valign='top' align='center'></td><td valign='top' align='center'></td><td valign='top' colspan='2'>Penurunan</td><td valign='top' colspan='13'> : ").append(rs2.getString("penurunan")).append("</td></tr>");
                            }

                            if (!rs2.getString("denominator").isEmpty()) {
                                htmlContent.append("<tr><td valign='top' align='center'></td><td valign='top' align='center'></td><td valign='top' colspan='2'>Denominator</td><td valign='top' colspan='13'> : ").append(rs2.getString("denominator")).append("</td></tr>");
                            }

                            w++;
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }

            //menampilkan pemeriksaan genekologi rawat inap
            if (chkPemeriksaanGenekologiRanap.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select pemeriksaan_ginekologi_ranap.tgl_perawatan,pemeriksaan_ginekologi_ranap.jam_rawat,pemeriksaan_ginekologi_ranap.inspeksi,pemeriksaan_ginekologi_ranap.inspeksi_vulva,pemeriksaan_ginekologi_ranap.inspekulo_gine, "
                            + "pemeriksaan_ginekologi_ranap.fluxus_gine,pemeriksaan_ginekologi_ranap.fluor_gine,pemeriksaan_ginekologi_ranap.vulva_inspekulo, "
                            + "pemeriksaan_ginekologi_ranap.portio_inspekulo,pemeriksaan_ginekologi_ranap.sondage,pemeriksaan_ginekologi_ranap.portio_dalam,pemeriksaan_ginekologi_ranap.bentuk, "
                            + "pemeriksaan_ginekologi_ranap.cavum_uteri,pemeriksaan_ginekologi_ranap.mobilitas,pemeriksaan_ginekologi_ranap.ukuran, pemeriksaan_ginekologi_ranap.nyeri_tekan, pemeriksaan_ginekologi_ranap.adnexa_kanan, pemeriksaan_ginekologi_ranap.adnexa_kiri,"
                            + "pemeriksaan_ginekologi_ranap.cavum_douglas "
                            + "from pemeriksaan_ginekologi_ranap where pemeriksaan_ginekologi_ranap.no_rawat='" + norawat + "' order by pemeriksaan_ginekologi_ranap.tgl_perawatan,pemeriksaan_ginekologi_ranap.jam_rawat").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Pemeriksaan Ginekologi Rawat Inap</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr align='center'>"
                                + "<td valign='top' width='4%' bgcolor='#FFFAF8'>No.</td>"
                                + "<td valign='top' width='15%' bgcolor='#FFFAF8'>Tanggal</td>"
                                + "<td valign='top' width='81%' bgcolor='#FFFAF8'>Pemeriksaan</td>"
                                + "</tr>"
                        );
                        rs2.beforeFirst();
                        w = 1;
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top' align='center'>").append(w).append("</td><td valign='top'>").append(rs2.getString("tgl_perawatan")).append(" ").append(rs2.getString("jam_rawat")).append("</td><td valign='top'><table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'><tr align='left'><td border='0' valign='top' width='30%'>Inspeksi</td><td border='0' valign='top' width='70%'>: ").append(rs2.getString("inspeksi")).append("</td></tr><tr align='left'><td border='0' valign='top' width='30%'>&nbsp;&nbsp;&nbsp;Vulva/Uretra/Vagina</td><td border='0' valign='top' width='70%'>: ").append(rs2.getString("inspeksi_vulva")).append("</td></tr><tr align='left'><td border='0' valign='top' width='30%'>Inspekulo</td><td border='0' valign='top' width='70%'>: ").append(rs2.getString("inspekulo_gine")).append("</td></tr><tr align='left'><td border='0' valign='top' width='30%'>&nbsp;&nbsp;&nbsp;Fluxus</td><td border='0' valign='top' width='70%'>: ").append(rs2.getString("fluxus_gine")).append(",&nbsp;&nbsp;Fluor Albus : ").append(rs2.getString("fluor_gine")).append("</td></tr><tr align='left'><td border='0' valign='top' width='30%'>&nbsp;&nbsp;&nbsp;Vulva/Vagina</td><td border='0' valign='top' width='70%'>: ").append(rs2.getString("vulva_inspekulo")).append("</td></tr><tr align='left'><td border='0' valign='top' width='30%'>&nbsp;&nbsp;&nbsp;Portio</td><td border='0' valign='top' width='70%'>: ").append(rs2.getString("portio_inspekulo")).append("</td></tr><tr align='left'><td border='0' valign='top' width='30%'>&nbsp;&nbsp;&nbsp;Sondage</td><td border='0' valign='top' width='70%'>: ").append(rs2.getString("sondage")).append("</td></tr><tr align='left'><td border='0' valign='top' width='30%'>Pemeriksaan Dalam</td><td border='0' valign='top' width='70%'>:</td></tr><tr align='left'><td border='0' valign='top' width='30%'>&nbsp;&nbsp;&nbsp;Portio</td><td border='0' valign='top' width='70%'>: ").append(rs2.getString("portio_dalam")).append(",&nbsp;&nbsp;Bentuk : ").append(rs2.getString("bentuk")).append("</td></tr><tr align='left'><td border='0' valign='top' width='30%'>&nbsp;&nbsp;&nbsp;Cavum Uteri</td><td border='0' valign='top' width='70%'>: ").append(rs2.getString("cavum_uteri")).append(",&nbsp;&nbsp;Mobilitas : ").append(rs2.getString("mobilitas")).append("</td></tr><tr align='left'><td border='0' valign='top' width='30%'>&nbsp;&nbsp;&nbsp;</td><td border='0' valign='top' width='70%'>&nbsp;&nbsp;&nbsp;Ukuran : ").append(rs2.getString("ukuran")).append(",&nbsp;&nbsp;Nyeri Tekan : ").append(rs2.getString("nyeri_tekan")).append("</td></tr><tr align='left'><td border='0' valign='top' width='30%'>&nbsp;&nbsp;&nbsp;Adnexa/Parametrium</td><td border='0' valign='top' width='70%'>: Kanan : ").append(rs2.getString("adnexa_kanan")).append(",&nbsp;&nbsp;Kiri : ").append(rs2.getString("adnexa_kiri")).append("</td></tr><tr align='left'><td border='0' valign='top' width='30%'>&nbsp;&nbsp;&nbsp;Cavum Douglas</td><td border='0' valign='top' width='70%'>: ").append(rs2.getString("cavum_douglas")).append("</td></tr></table></td></tr>");
                            w++;
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }

            //menampilkan catatan observasi rawat inap
            if (chkCatatanObservasiRanap.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select catatan_observasi_ranap.tgl_perawatan,catatan_observasi_ranap.jam_rawat,catatan_observasi_ranap.gcs,"
                            + "catatan_observasi_ranap.td,catatan_observasi_ranap.hr,catatan_observasi_ranap.rr,catatan_observasi_ranap.suhu,catatan_observasi_ranap.spo2,"
                            + "catatan_observasi_ranap.nip,petugas.nama from catatan_observasi_ranap inner join petugas on catatan_observasi_ranap.nip=petugas.nip "
                            + "where catatan_observasi_ranap.no_rawat='" + norawat + "'").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Catatan Observasi Rawat Inap</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr align='center'>"
                                + "<td valign='middle' width='4%' bgcolor='#FFFAF8' rowspan='2'>No.</td>"
                                + "<td valign='middle' width='15%' bgcolor='#FFFAF8' rowspan='2'>Tanggal</td>"
                                + "<td valign='top' width='58%' bgcolor='#FFFAF8' colspan='6'>Monitoring</td>"
                                + "<td valign='middle' width='23%' bgcolor='#FFFAF8' rowspan='2'>Perawat/Paramedis</td>"
                                + "</tr>"
                                + "<tr align='center'>"
                                + "<td valign='top' width='11%' bgcolor='#FFFAF8'>GCS(E,V,M)</td>"
                                + "<td valign='top' width='10%' bgcolor='#FFFAF8'>TD</td>"
                                + "<td valign='top' width='9%' bgcolor='#FFFAF8'>HR (/menit)</td>"
                                + "<td valign='top' width='9%' bgcolor='#FFFAF8'>RR (/menit)</td>"
                                + "<td valign='top' width='9%' bgcolor='#FFFAF8'>Suhu(C)</td>"
                                + "<td valign='top' width='9%' bgcolor='#FFFAF8'>SpO2(%)</td>"
                                + "</tr>"
                        );
                        rs2.beforeFirst();
                        w = 1;
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top' align='center'>").append(w).append("</td><td valign='top'>").append(rs2.getString("tgl_perawatan")).append(" ").append(rs2.getString("jam_rawat")).append("</td><td valign='top' align='center'>").append(rs2.getString("gcs")).append("</td><td valign='top' align='center'>").append(rs2.getString("td")).append("</td><td valign='top' align='center'>").append(rs2.getString("hr")).append("</td><td valign='top' align='center'>").append(rs2.getString("rr")).append("</td><td valign='top' align='center'>").append(rs2.getString("suhu")).append("</td><td valign='top' align='center'>").append(rs2.getString("spo2")).append("</td><td valign='top'>").append(rs2.getString("nip")).append(" ").append(rs2.getString("nama")).append("</td></tr>");
                            w++;
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }

            //menampilkan catatan observasi rawat inap kebidanan
            if (chkCatatanObservasiRanapKebidanan.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select catatan_observasi_ranap_kebidanan.tgl_perawatan,catatan_observasi_ranap_kebidanan.jam_rawat,catatan_observasi_ranap_kebidanan.gcs,"
                            + "catatan_observasi_ranap_kebidanan.td,catatan_observasi_ranap_kebidanan.hr,catatan_observasi_ranap_kebidanan.rr,catatan_observasi_ranap_kebidanan.suhu,"
                            + "catatan_observasi_ranap_kebidanan.spo2,catatan_observasi_ranap_kebidanan.kontraksi,catatan_observasi_ranap_kebidanan.bjj,catatan_observasi_ranap_kebidanan.ppv,"
                            + "catatan_observasi_ranap_kebidanan.vt,catatan_observasi_ranap_kebidanan.nip,petugas.nama from catatan_observasi_ranap_kebidanan "
                            + "inner join petugas on catatan_observasi_ranap_kebidanan.nip=petugas.nip "
                            + "where catatan_observasi_ranap_kebidanan.no_rawat='" + norawat + "'").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Catatan Observasi Rawat Inap Kebidanan</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr align='center'>"
                                + "<td valign='middle' width='4%' bgcolor='#FFFAF8' rowspan='2'>No.</td>"
                                + "<td valign='middle' width='15%' bgcolor='#FFFAF8' rowspan='2'>Tanggal</td>"
                                + "<td valign='top' width='58%' bgcolor='#FFFAF8' colspan='6'>Monitoring</td>"
                                + "<td valign='middle' width='23%' bgcolor='#FFFAF8' rowspan='2'>Bidan</td>"
                                + "</tr>"
                                + "<tr align='center'>"
                                + "<td valign='top' width='11%' bgcolor='#FFFAF8'>GCS(E,V,M)</td>"
                                + "<td valign='top' width='10%' bgcolor='#FFFAF8'>TD</td>"
                                + "<td valign='top' width='9%' bgcolor='#FFFAF8'>HR (/menit)</td>"
                                + "<td valign='top' width='9%' bgcolor='#FFFAF8'>RR (/menit)</td>"
                                + "<td valign='top' width='9%' bgcolor='#FFFAF8'>Suhu(C)</td>"
                                + "<td valign='top' width='9%' bgcolor='#FFFAF8'>SpO2(%)</td>"
                                + "</tr>"
                        );
                        rs2.beforeFirst();
                        w = 1;
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top' align='center' rowspan='3'>").append(w).append("</td><td valign='top' rowspan='3'>").append(rs2.getString("tgl_perawatan")).append(" ").append(rs2.getString("jam_rawat")).append("</td><td valign='top' align='center'>").append(rs2.getString("gcs")).append("</td><td valign='top' align='center'>").append(rs2.getString("td")).append("</td><td valign='top' align='center'>").append(rs2.getString("hr")).append("</td><td valign='top' align='center'>").append(rs2.getString("rr")).append("</td><td valign='top' align='center'>").append(rs2.getString("suhu")).append("</td><td valign='top' align='center'>").append(rs2.getString("spo2")).append("</td><td valign='top' rowspan='3'>").append(rs2.getString("nip")).append(" ").append(rs2.getString("nama")).append("</td></tr><tr align='center'><td valign='top' bgcolor='#FFFAF8'>Kotraksi/HIS</td><td valign='top' bgcolor='#FFFAF8'>BJJ</td><td valign='top' bgcolor='#FFFAF8'>PPV</td><td valign='top' bgcolor='#FFFAF8' colspan='3'>VT</td></tr><tr><td valign='top'>").append(rs2.getString("kontraksi")).append("</td><td valign='top' align='center'>").append(rs2.getString("bjj")).append("</td><td valign='top' align='center'>").append(rs2.getString("ppv")).append("</td><td valign='top' colspan='3'>").append(rs2.getString("vt")).append("</td></tr>");
                            w++;
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }

            //menampilkan catatan observasi rawat inap post partum
            if (chkCatatanObservasiRanapPostPartum.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select catatan_observasi_ranap_postpartum.tgl_perawatan,catatan_observasi_ranap_postpartum.jam_rawat,catatan_observasi_ranap_postpartum.gcs,"
                            + "catatan_observasi_ranap_postpartum.td,catatan_observasi_ranap_postpartum.hr,catatan_observasi_ranap_postpartum.rr,catatan_observasi_ranap_postpartum.suhu,catatan_observasi_ranap_postpartum.spo2,"
                            + "catatan_observasi_ranap_postpartum.tfu,catatan_observasi_ranap_postpartum.kontraksi,catatan_observasi_ranap_postpartum.perdarahan,catatan_observasi_ranap_postpartum.keterangan,"
                            + "catatan_observasi_ranap_postpartum.nip,petugas.nama from catatan_observasi_ranap_postpartum "
                            + "inner join petugas on catatan_observasi_ranap_postpartum.nip=petugas.nip "
                            + "where catatan_observasi_ranap_postpartum.no_rawat='" + norawat + "'").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Catatan Observasi Rawat Inap Post Partum</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr align='center'>"
                                + "<td valign='middle' width='4%' bgcolor='#FFFAF8' rowspan='2'>No.</td>"
                                + "<td valign='middle' width='15%' bgcolor='#FFFAF8' rowspan='2'>Tanggal</td>"
                                + "<td valign='top' width='58%' bgcolor='#FFFAF8' colspan='6'>Monitoring</td>"
                                + "<td valign='middle' width='23%' bgcolor='#FFFAF8' rowspan='2'>Bidan</td>"
                                + "</tr>"
                                + "<tr align='center'>"
                                + "<td valign='top' width='11%' bgcolor='#FFFAF8'>GCS(E,V,M)</td>"
                                + "<td valign='top' width='10%' bgcolor='#FFFAF8'>TD</td>"
                                + "<td valign='top' width='9%' bgcolor='#FFFAF8'>HR (/menit)</td>"
                                + "<td valign='top' width='9%' bgcolor='#FFFAF8'>RR (/menit)</td>"
                                + "<td valign='top' width='9%' bgcolor='#FFFAF8'>Suhu(C)</td>"
                                + "<td valign='top' width='9%' bgcolor='#FFFAF8'>SpO2(%)</td>"
                                + "</tr>"
                        );
                        rs2.beforeFirst();
                        w = 1;
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top' align='center' rowspan='3'>").append(w).append("</td><td valign='top' rowspan='3'>").append(rs2.getString("tgl_perawatan")).append(" ").append(rs2.getString("jam_rawat")).append("</td><td valign='top' align='center'>").append(rs2.getString("gcs")).append("</td><td valign='top' align='center'>").append(rs2.getString("td")).append("</td><td valign='top' align='center'>").append(rs2.getString("hr")).append("</td><td valign='top' align='center'>").append(rs2.getString("rr")).append("</td><td valign='top' align='center'>").append(rs2.getString("suhu")).append("</td><td valign='top' align='center'>").append(rs2.getString("spo2")).append("</td><td valign='top' rowspan='3'>").append(rs2.getString("nip")).append(" ").append(rs2.getString("nama")).append("</td></tr><tr align='center'><td valign='top' bgcolor='#FFFAF8'>TFU</td><td valign='top' bgcolor='#FFFAF8'>Kontraksi</td><td valign='top' bgcolor='#FFFAF8' colspan='2'>Perdarahan</td><td valign='top' bgcolor='#FFFAF8' colspan='2'>Keterangan</td></tr><tr><td valign='top'>").append(rs2.getString("tfu")).append("</td><td valign='top' align='center'>").append(rs2.getString("kontraksi")).append("</td><td valign='top' colspan='2'>").append(rs2.getString("perdarahan")).append("</td><td valign='top' colspan='2'>").append(rs2.getString("keterangan")).append("</td></tr>");
                            w++;
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }

            //menampilkan catatan Keperawatan Rawat Inap
            if (chkCatatanKeperawatanRanap.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select catatan_keperawatan_ranap.tanggal,catatan_keperawatan_ranap.jam,catatan_keperawatan_ranap.uraian,catatan_keperawatan_ranap.nip,petugas.nama from catatan_keperawatan_ranap "
                            + "inner join petugas on catatan_keperawatan_ranap.nip=petugas.nip where catatan_keperawatan_ranap.no_rawat='" + norawat + "'").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Catatan Keperawatan Rawat Inap</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr align='center'>"
                                + "<td valign='middle' width='4%' bgcolor='#FFFAF8'>No.</td>"
                                + "<td valign='middle' width='15%' bgcolor='#FFFAF8'>Tanggal</td>"
                                + "<td valign='top' width='58%' bgcolor='#FFFAF8'>Uraian</td>"
                                + "<td valign='middle' width='23%' bgcolor='#FFFAF8'>Petugas</td>"
                                + "</tr>"
                        );
                        rs2.beforeFirst();
                        w = 1;
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top' align='center' valign='top'>").append(w).append("</td><td valign='top' valign='top'>").append(rs2.getString("tanggal")).append(" ").append(rs2.getString("jam")).append("</td><td valign='top' valign='top'>").append(rs2.getString("uraian")).append("</td><td valign='top' valign='top'>").append(rs2.getString("nip")).append(" ").append(rs2.getString("nama")).append("</td></tr>");
                            w++;
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
            htmlContent.append(
                    "</table>"
                    + "</fieldset>"
            );
        } catch (Exception e) {
            System.out.println("Notif Catatan : " + e);
        }
    }

    private void menampilkanSbarRanap(String norawat) {
        try {
            if (chkSbarRanap.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select pemeriksaan_ranap_sbar.tgl_perawatan,pemeriksaan_ranap_sbar.jam_rawat,pemeriksaan_ranap_sbar.situation,"
                            + "pemeriksaan_ranap_sbar.background,pemeriksaan_ranap_sbar.assesment,pemeriksaan_ranap_sbar.recommendation,pemeriksaan_ranap_sbar.nip,pemeriksaan_ranap_sbar.kd_dokter,pegawai.nama,jabatan.nm_jbtn,"
                            + "namavalidator.nama as namavalidator,validasi_pemeriksaan_sbar.nik_validator,validasi_pemeriksaan_sbar.tgl_validasi,validasi_pemeriksaan_sbar.jam_validasi,validasi_pemeriksaan_sbar.status_validasi "
                            + "from pemeriksaan_ranap_sbar inner join pegawai on pemeriksaan_ranap_sbar.nip=pegawai.nik inner join petugas on pegawai.nik=petugas.nip inner join jabatan on petugas.kd_jbtn=jabatan.kd_jbtn LEFT JOIN pegawai AS namavalidator ON pemeriksaan_ranap_sbar.kd_dokter=namavalidator.nik left join validasi_pemeriksaan_sbar on pemeriksaan_ranap_sbar.jam_rawat = validasi_pemeriksaan_sbar.jam_rawat AND pemeriksaan_ranap_sbar.no_rawat = validasi_pemeriksaan_sbar.no_rawat AND pemeriksaan_ranap_sbar.tgl_perawatan = validasi_pemeriksaan_sbar.tgl_perawatan "
                            + "where pemeriksaan_ranap_sbar.no_rawat='" + norawat + "' "
                            + "order by pemeriksaan_ranap_sbar.tgl_perawatan,pemeriksaan_ranap_sbar.jam_rawat").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<fieldset>"
                                + "<h2><center>SBAR RAWAT INAP</center></h2>"
                                + "<table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>S.B.A.R Rawat Inap</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr align='center'>"
                                + "<td valign='top' width='4%' bgcolor='#FFFAF8'>No.</td>"
                                + "<td valign='top' bgcolor='#FFFAF8' width='5%'>Tanggal</td>"
                                + "<td valign='top' bgcolor='#FFFAF8' width='10%'>Dokter/Paramedis</td>"
                                + "<td valign='top' bgcolor='#FFFAF8' width='17%'>Situation</td>"
                                + "<td valign='top' bgcolor='#FFFAF8' width='17%'>Background</td>"
                                + "<td valign='top' bgcolor='#FFFAF8' width='17%'>Assesment</td>"
                                + "<td valign='top' bgcolor='#FFFAF8' width='17%'>Recommendation</td>"
                                + "<td valign='top' bgcolor='#FFFAF8' width='10%'>Validasi</td>"
                                + "</tr>"
                        );
                        rs2.beforeFirst();
                        w = 1;
                        while (rs2.next()) {
                            String gbrverif = "";
                            if (Sequel.cariInteger("select count(validasi_pemeriksaan_sbar.nik_validator) "
                                    + "from pemeriksaan_ranap_sbar inner join pegawai on pemeriksaan_ranap_sbar.nip=pegawai.nik inner join departemen on pegawai.departemen=departemen.dep_id LEFT JOIN pegawai AS namavalidator ON pemeriksaan_ranap_sbar.kd_dokter=namavalidator.nik left join validasi_pemeriksaan_sbar on pemeriksaan_ranap_sbar.jam_rawat = validasi_pemeriksaan_sbar.jam_rawat AND pemeriksaan_ranap_sbar.no_rawat = validasi_pemeriksaan_sbar.no_rawat AND pemeriksaan_ranap_sbar.tgl_perawatan = validasi_pemeriksaan_sbar.tgl_perawatan "
                                    + "where pemeriksaan_ranap_sbar.no_rawat='" + rs.getString("no_rawat") + "' AND validasi_pemeriksaan_sbar.nik_validator='" + rs2.getString("nik_validator") + "' AND validasi_pemeriksaan_sbar.status_validasi='Validasi'"
                                    + "order by pemeriksaan_ranap_sbar.tgl_perawatan,pemeriksaan_ranap_sbar.jam_rawat") > 0) {
                                gbrverif = "<img src ='http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/images/verif.png' align='center' width='100' height='50'/";
                            } else {
                                gbrverif = "<img src ='http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/images/notverif.png' align='center' width='100' height='50'/";
                            }
                            htmlContent.append("<tr><td valign='top' align='center'>").append(w).append("</td><td valign='top'>").append(rs2.getString("tgl_perawatan")).append("<br>").append(rs2.getString("jam_rawat")).append("</td><td valign='top'>").append(rs2.getString("nama")).append("<br>(").append(rs2.getString("jabatan.nm_jbtn")).append(")</td><td valign='top'>").append(rs2.getString("situation").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td><td valign='top'>").append(rs2.getString("background").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td><td valign='top'>").append(rs2.getString("assesment").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td><td valign='top'>").append(rs2.getString("recommendation").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td><td valign='top'>").append(gbrverif).append("><br>").append(rs2.getString("namavalidator")).append("<br>").append(rs2.getString("tgl_validasi")).append("<br>").append(rs2.getString("jam_validasi")).append("</td></tr>");
                            w++;
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>"
                                + "</table>"
                                + "</fieldset>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Catatan : " + e);
        }
    }

    private void menampilkanGizi(String norawat) {
        try {
            //menampilkan skrining nutrisi dewasa
            if (chkSkriningNutrisiDewasa.isSelected() == true) {
                htmlContent.append(
                        "<fieldset>"
                        + "<h2><center>GIZI</center></h2>"
                        + "<table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>");
                try {
                    rs2 = koneksi.prepareStatement(
                            "select skrining_nutrisi_dewasa.tanggal,skrining_nutrisi_dewasa.td,skrining_nutrisi_dewasa.hr,skrining_nutrisi_dewasa.rr,skrining_nutrisi_dewasa.suhu,"
                            + "skrining_nutrisi_dewasa.bb,skrining_nutrisi_dewasa.tbpb,skrining_nutrisi_dewasa.spo2,skrining_nutrisi_dewasa.alergi,"
                            + "skrining_nutrisi_dewasa.sg1,skrining_nutrisi_dewasa.nilai1,skrining_nutrisi_dewasa.sg2,skrining_nutrisi_dewasa.nilai2,"
                            + "skrining_nutrisi_dewasa.total_hasil,skrining_nutrisi_dewasa.nip,petugas.nama from skrining_nutrisi_dewasa "
                            + "inner join petugas on skrining_nutrisi_dewasa.nip=petugas.nip where skrining_nutrisi_dewasa.no_rawat='" + norawat + "'").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Skrining Nutrisi Pasien Dewasa</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                        );
                        rs2.beforeFirst();
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top'>YANG MELAKUKAN PENGKAJIAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='30%' border='0'>Tanggal : ").append(rs2.getString("tanggal")).append("</td><td width='70%' border='0'>Petugas : ").append(rs2.getString("nip")).append(" ").append(rs2.getString("nama")).append("</td></tr></table></td></tr><tr><td valign='top'>TANDA VITAL<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%'>BB : ").append(rs2.getString("bb")).append(" Kg&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TB/PB : ").append(rs2.getString("tbpb")).append(" Cm&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TD : ").append(rs2.getString("td")).append(" mmHg&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HR : ").append(rs2.getString("hr")).append(" x/menit&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RR : ").append(rs2.getString("rr")).append(" x/menit&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Suhu : ").append(rs2.getString("suhu")).append(" C&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SpO2 : ").append(rs2.getString("spo2")).append(" %</td></tr><tr><td width='100%'>Alergi : ").append(rs2.getString("alergi")).append(" %</td></tr></table></td></tr><tr><td valign='top'>SKRINING GIZI AWAL DENGAN MST(MALNUTRITION SCREENING TOOL) BAGI PERAWAT<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td valign='top' width='65%' bgcolor='#FFFAF8' align='center'>Parameter</td><td valign='top' width='25%' bgcolor='#FFFAF8' align='center'>Pilihan</td><td valign='top' width='10%' bgcolor='#FFFAF8' align='center'>Skor</td></tr><tr><td valign='top'>1. Apakah Ada Penurunan Berat Badan Yang Tidak Diinginkan Selama 6 Bulan Terakhir ?</td><td valign='top' align='center'>").append(rs2.getString("sg1")).append("</td><td valign='top' align='center'>").append(rs2.getString("nilai1")).append("</td></tr><tr><td valign='top'>2. Apakah Nafsu Makan Berkurang Karena Tidak Nafsu Makan ?</td><td valign='top' align='center'>").append(rs2.getString("sg2")).append("</td><td valign='top' align='center'>").append(rs2.getString("nilai2")).append("</td></tr><tr><td valign='top' align='center' colspan='2'>Total Skor</td><td valign='top' align='center'>").append(rs2.getString("total_hasil")).append("</td></tr></table><br><i>Bila Skor >= 2, Pasien Beresiko Malnutrisi, Konsul Ke Ahli Gizi</i></td></tr>");
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
                htmlContent.append(
                        "</table>"
                        + "</fieldset>"
                );
            }

            //menampilkan skrining nutrisi lansia
            if (chkSkriningNutrisiLansia.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select skrining_nutrisi_lansia.tanggal,skrining_nutrisi_lansia.td,skrining_nutrisi_lansia.hr,skrining_nutrisi_lansia.rr,skrining_nutrisi_lansia.suhu,"
                            + "skrining_nutrisi_lansia.bb,skrining_nutrisi_lansia.tbpb,skrining_nutrisi_lansia.spo2,skrining_nutrisi_lansia.alergi,"
                            + "skrining_nutrisi_lansia.sg1,skrining_nutrisi_lansia.nilai1,skrining_nutrisi_lansia.sg2,skrining_nutrisi_lansia.nilai2,"
                            + "skrining_nutrisi_lansia.sg3,skrining_nutrisi_lansia.nilai3,skrining_nutrisi_lansia.sg4,skrining_nutrisi_lansia.nilai4,"
                            + "skrining_nutrisi_lansia.sg5,skrining_nutrisi_lansia.nilai5,skrining_nutrisi_lansia.sg6,skrining_nutrisi_lansia.nilai6,"
                            + "skrining_nutrisi_lansia.total_hasil,skrining_nutrisi_lansia.skor_nutrisi,skrining_nutrisi_lansia.nip,petugas.nama "
                            + "from skrining_nutrisi_lansia inner join reg_periksa on skrining_nutrisi_lansia.no_rawat=reg_periksa.no_rawat "
                            + "inner join pasien on reg_periksa.no_rkm_medis=pasien.no_rkm_medis inner join petugas on skrining_nutrisi_lansia.nip=petugas.nip "
                            + "where skrining_nutrisi_lansia.no_rawat='" + norawat + "'").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Skrining Nutrisi Pasien Lansia</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                        );
                        rs2.beforeFirst();
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top'>YANG MELAKUKAN PENGKAJIAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='30%' border='0'>Tanggal : ").append(rs2.getString("tanggal")).append("</td><td width='70%' border='0'>Petugas : ").append(rs2.getString("nip")).append(" ").append(rs2.getString("nama")).append("</td></tr></table></td></tr><tr><td valign='top'>TANDA VITAL<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%'>BB : ").append(rs2.getString("bb")).append(" Kg&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TB/PB : ").append(rs2.getString("tbpb")).append(" Cm&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TD : ").append(rs2.getString("td")).append(" mmHg&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HR : ").append(rs2.getString("hr")).append(" x/menit&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RR : ").append(rs2.getString("rr")).append(" x/menit&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Suhu : ").append(rs2.getString("suhu")).append(" C&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SpO2 : ").append(rs2.getString("spo2")).append(" %</td></tr><tr><td width='100%'>Alergi : ").append(rs2.getString("alergi")).append(" %</td></tr></table></td></tr><tr><td valign='top'>SKRINING GIZI AWAL DENGAN MNA (MINI NUTRITIONAL ASSESMENT)<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td valign='top' width='65%' bgcolor='#FFFAF8' align='center'>Parameter</td><td valign='top' width='25%' bgcolor='#FFFAF8' align='center'>Pilihan</td><td valign='top' width='10%' bgcolor='#FFFAF8' align='center'>Skor</td></tr><tr><td valign='top'>A. Apakah Asupan Makan Berkurang Selama 3 Bulan Terakhir ?</td><td valign='top' align='center'>").append(rs2.getString("sg1")).append("</td><td valign='top' align='center'>").append(rs2.getString("nilai1")).append("</td></tr><tr><td valign='top'>B. Penurunan Berat Badan Selama 3 Bulan Terakhir</td><td valign='top' align='center'>").append(rs2.getString("sg2")).append("</td><td valign='top' align='center'>").append(rs2.getString("nilai2")).append("</td></tr><tr><td valign='top'>C. Mobilitas</td><td valign='top' align='center'>").append(rs2.getString("sg3")).append("</td><td valign='top' align='center'>").append(rs2.getString("nilai3")).append("</td></tr><tr><td valign='top'>D. Menderita Tekanan Psikologis Atau Penyakit Berat Dalam 3 Bulan Terakhir</td><td valign='top' align='center'>").append(rs2.getString("sg4")).append("</td><td valign='top' align='center'>").append(rs2.getString("nilai4")).append("</td></tr><tr><td valign='top'>E. Gangguan Neuropsikologis</td><td valign='top' align='center'>").append(rs2.getString("sg5")).append("</td><td valign='top' align='center'>").append(rs2.getString("nilai5")).append("</td></tr><tr><td valign='top'>").append(rs2.getString("sg6").toLowerCase().contains("lingkar") ? "F. Lingkar Betis (cm)" : "F. Indeks Masa Tubuh (IMT)").append("</td><td valign='top' align='center'>").append(rs2.getString("sg6")).append("</td><td valign='top' align='center'>").append(rs2.getString("nilai6")).append("</td></tr><tr><td valign='top' align='center' colspan='2'>Total Skor</td><td valign='top' align='center'>").append(rs2.getString("total_hasil")).append("</td></tr></table><br><i>Hasil Skrining : ").append(rs2.getString("skor_nutrisi")).append("</i></td></tr>");
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }

            //menampilkan skrining nutrisi anak
            if (chkSkriningNutrisiAnak.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select skrining_nutrisi_anak.td,skrining_nutrisi_anak.hr,skrining_nutrisi_anak.rr,skrining_nutrisi_anak.suhu,"
                            + "skrining_nutrisi_anak.bb,skrining_nutrisi_anak.tbpb,skrining_nutrisi_anak.spo2,skrining_nutrisi_anak.alergi,"
                            + "skrining_nutrisi_anak.sg1,skrining_nutrisi_anak.nilai1,skrining_nutrisi_anak.sg2,skrining_nutrisi_anak.nilai2,"
                            + "skrining_nutrisi_anak.sg3,skrining_nutrisi_anak.nilai3,skrining_nutrisi_anak.sg4,skrining_nutrisi_anak.nilai4,"
                            + "skrining_nutrisi_anak.total_hasil,skrining_nutrisi_anak.skor_nutrisi,skrining_nutrisi_anak.nip,petugas.nama,"
                            + "skrining_nutrisi_anak.diketahui_dietisien,skrining_nutrisi_anak.keterangan_diketahui_dietisien,skrining_nutrisi_anak.tanggal "
                            + "from skrining_nutrisi_anak inner join petugas on skrining_nutrisi_anak.nip=petugas.nip "
                            + "where skrining_nutrisi_anak.no_rawat='" + norawat + "'").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Skrining Nutrisi Pasien Anak</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                        );
                        rs2.beforeFirst();
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top'>YANG MELAKUKAN PENGKAJIAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='30%' border='0'>Tanggal : ").append(rs2.getString("tanggal")).append("</td><td width='70%' border='0'>Petugas : ").append(rs2.getString("nip")).append(" ").append(rs2.getString("nama")).append("</td></tr></table></td></tr><tr><td valign='top'>TANDA VITAL<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%'>BB : ").append(rs2.getString("bb")).append(" Kg&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TB/PB : ").append(rs2.getString("tbpb")).append(" Cm&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TD : ").append(rs2.getString("td")).append(" mmHg&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HR : ").append(rs2.getString("hr")).append(" x/menit&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RR : ").append(rs2.getString("rr")).append(" x/menit&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Suhu : ").append(rs2.getString("suhu")).append(" C&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SpO2 : ").append(rs2.getString("spo2")).append(" %</td></tr><tr><td width='100%'>Alergi : ").append(rs2.getString("alergi")).append(" %</td></tr></table></td></tr><tr><td valign='top'>SKRINING GIZI AWAL DENGAN STRONG-KIDS<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td valign='top' width='75%' bgcolor='#FFFAF8' align='center'>Parameter</td><td valign='top' width='15%' bgcolor='#FFFAF8' align='center'>Pilihan</td><td valign='top' width='10%' bgcolor='#FFFAF8' align='center'>Skor</td></tr><tr><td valign='top'>1. Apakah pasien tampak kurus?</td><td valign='top' align='center'>").append(rs2.getString("sg1")).append("</td><td valign='top' align='center'>").append(rs2.getString("nilai1")).append("</td></tr><tr><td valign='top'>2. Apakah terdapat penurunan berat badan selama satu bulan terakhir? (berdasarkan penilaian objektif data berat badan bila ada atau untuk bayi < 1 tahun ; berat badan tidak naik selama 3 bulan terakhir)</td><td valign='top' align='center'>").append(rs2.getString("sg2")).append("</td><td valign='top' align='center'>").append(rs2.getString("nilai2")).append("</td></tr><tr><td valign='top'>3. Apakah terdapat salah satu dari kondisi tersebut? Diare > 5 kali/hari dan/muntah > 3 kali/hari dalam seminggu terakhir; Asupan makanan berkurang selama 1 minggu terakhir</td><td valign='top' align='center'>").append(rs2.getString("sg3")).append("</td><td valign='top' align='center'>").append(rs2.getString("nilai3")).append("</td></tr><tr><td valign='top'>4. Apakah terdapat penyakit atau keadaan yang menyebabkan pasien beresiko mengalami malnutrisi?</td><td valign='top' align='center'>").append(rs2.getString("sg4")).append("</td><td valign='top' align='center'>").append(rs2.getString("nilai4")).append("</td></tr><tr><td valign='top' align='center' colspan='2'>Total Skor</td><td valign='top' align='center'>").append(rs2.getString("total_hasil")).append("</td></tr></table><br><i>Hasil Skrining : ").append(rs2.getString("skor_nutrisi")).append("</i><br><br>Diketahui Dietisien/Dilaporkan Kepada Dokter ? ").append(rs2.getString("diketahui_dietisien")).append("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Jam dilaporkan : ").append(rs2.getString("keterangan_diketahui_dietisien")).append("</td></tr>");
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }

            if (chkSkriningGiziLanjut.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select skrining_gizi.tanggal,skrining_gizi.skrining_bb,skrining_gizi.skrining_tb,skrining_gizi.alergi,"
                            + "skrining_gizi.parameter_imt,skrining_gizi.skor_imt,skrining_gizi.parameter_bb,skrining_gizi.skor_bb,skrining_gizi.parameter_penyakit,"
                            + "skrining_gizi.skor_penyakit,skrining_gizi.skor_total,skrining_gizi.parameter_total,skrining_gizi.nip,petugas.nama "
                            + "from skrining_gizi inner join petugas on skrining_gizi.nip=petugas.nip where "
                            + "skrining_gizi.no_rawat='" + norawat + "'").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Skrining Gizi Lanjut</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr align='center'>"
                                + "<td valign='top' width='15%' bgcolor='#FFFAF8'>Tanggal</td>"
                                + "<td valign='top' width='25%' bgcolor='#FFFAF8'>Pemeriksaan</td>"
                                + "<td valign='top' width='40%' bgcolor='#FFFAF8'>Parameter</td>"
                                + "<td valign='top' width='5%' bgcolor='#FFFAF8'>Skor</td>"
                                + "<td valign='top' width='15%' bgcolor='#FFFAF8'>Ahli Gizi</td>"
                                + "</tr>"
                        );
                        rs2.beforeFirst();
                        w = 1;
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top' rowspan='2'>").append(rs2.getString("tanggal")).append("</td><td valign='top'>BB : ").append(rs2.getString("skrining_bb")).append("<br>TB : ").append(rs2.getString("skrining_tb")).append("<br>Alergi : ").append(rs2.getString("alergi")).append("<br></td><td valign='top'>1. Skor IMT : ").append(rs2.getString("parameter_imt")).append("<br>2. Skor Kehilangan BB : ").append(rs2.getString("parameter_bb")).append("<br>3. Skor Efek Penyakit Akut : ").append(rs2.getString("parameter_penyakit")).append("<br></td><td valign='top' align='center'>").append(rs2.getString("skor_imt")).append("<br>").append(rs2.getString("skor_bb")).append("<br>").append(rs2.getString("skor_penyakit")).append("<br></td><td valign='top' align='center' rowspan='2'>").append(rs2.getString("nip")).append("<br>").append(rs2.getString("nama")).append("</td></tr><tr><td valign='top'>Total Skor : </td><td valign='top'>").append(rs2.getString("parameter_total")).append("</td><td valign='top' align='center'>").append(rs2.getString("skor_total")).append("</td></tr>");
                            w++;
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }

            //menampilkan asuhan gizi
            if (chkAsuhanGizi.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select asuhan_gizi.tanggal,asuhan_gizi.antropometri_bb,asuhan_gizi.antropometri_tb,asuhan_gizi.antropometri_imt,asuhan_gizi.antropometri_lla,"
                            + "asuhan_gizi.antropometri_tl,asuhan_gizi.antropometri_ulna,asuhan_gizi.antropometri_bbideal,asuhan_gizi.antropometri_bbperu,"
                            + "asuhan_gizi.antropometri_tbperu,asuhan_gizi.antropometri_bbpertb,asuhan_gizi.antropometri_llaperu,asuhan_gizi.biokimia,"
                            + "asuhan_gizi.fisik_klinis,asuhan_gizi.alergi_telur,asuhan_gizi.alergi_susu_sapi,asuhan_gizi.alergi_kacang,asuhan_gizi.alergi_gluten,"
                            + "asuhan_gizi.alergi_udang,asuhan_gizi.alergi_ikan,asuhan_gizi.alergi_hazelnut,asuhan_gizi.pola_makan,asuhan_gizi.riwayat_personal,"
                            + "asuhan_gizi.diagnosis,asuhan_gizi.intervensi_gizi,asuhan_gizi.monitoring_evaluasi,asuhan_gizi.nip,petugas.nama "
                            + "from asuhan_gizi inner join petugas on asuhan_gizi.nip=petugas.nip where "
                            + "asuhan_gizi.no_rawat='" + norawat + "'").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Asuhan Gizi</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr align='center'>"
                                + "<td valign='top' width='4%' bgcolor='#FFFAF8'>No.</td>"
                                + "<td valign='top' width='96%' bgcolor='#FFFAF8'>Penilaian Gizi</td>"
                                + "</tr>"
                        );
                        rs2.beforeFirst();
                        w = 1;
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top' align='center'>").append(w).append("</td><td valign='top'><table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='20%' border='0'>Tanggal</td><td border='0'>:</td><td width='79%' border='0'>").append(rs2.getString("tanggal")).append("</td></tr><tr><td width='20%' border='0'>Antropometri</td><td border='0'>:</td><td width='79%' border='0'>BB : ").append(rs2.getString("antropometri_bb")).append(" (Kg), TB : ").append(rs2.getString("antropometri_tb")).append(" (Cm), IMT : ").append(rs2.getString("antropometri_imt")).append(" (Kg/Cm), LiLA : ").append(rs2.getString("antropometri_lla")).append(" (Cm), TL : ").append(rs2.getString("antropometri_tl")).append(" (Cm), ULNA : ").append(rs2.getString("antropometri_ulna")).append(" (Cm), BB Ideal : ").append(rs2.getString("antropometri_bbideal")).append(" (Kg), BB/U : ").append(rs2.getString("antropometri_bbperu")).append(" (SD), TB/U : ").append(rs2.getString("antropometri_tbperu")).append(" (SD), BB/TB : ").append(rs2.getString("antropometri_bbpertb")).append(" (SD), LiLA/U : ").append(rs2.getString("antropometri_llaperu")).append(" (SD)</td></tr><tr><td width='20%' border='0'>Biokimia</td><td border='0'>:</td><td width='79%' border='0'> ").append(rs2.getString("biokimia").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='20%' border='0'>Fisik/Klinis</td><td border='0'>:</td><td width='79%' border='0'> ").append(rs2.getString("fisik_klinis").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='20%' border='0'>Riwayat Gizi</td><td border='0'>:</td><td width='79%' border='0'><br>Alergi Makanan : <br><table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='70%' border='0'>&nbsp;&nbsp;Telur</td><td border='0'>: ").append(rs2.getString("alergi_telur")).append("</td></tr><tr><td width='70%' border='0'>&nbsp;&nbsp;Susu sapi dan produk olahannya</td><td border='0'>: ").append(rs2.getString("alergi_susu_sapi")).append("</td></tr><tr><td width='70%' border='0'>&nbsp;&nbsp;Kacang kedelai / tanah</td><td border='0'>: ").append(rs2.getString("alergi_kacang")).append("</td></tr><tr><td width='70%' border='0'>&nbsp;&nbsp;Gluten / gandum</td><td border='0'>: ").append(rs2.getString("alergi_gluten")).append("</td></tr><tr><td width='70%' border='0'>&nbsp;&nbsp;Udang</td><td border='0'>: ").append(rs2.getString("alergi_udang")).append("</td></tr><tr><td width='70%' border='0'>&nbsp;&nbsp;Ikan</td><td border='0'>: ").append(rs2.getString("alergi_ikan")).append("</td></tr><tr><td width='70%' border='0'>&nbsp;&nbsp;Hazelnut / almont</td><td border='0'>: ").append(rs2.getString("alergi_hazelnut")).append("</td></tr></table><br>Pola Makan : ").append(rs2.getString("pola_makan")).append("</td></tr><tr><td width='20%' border='0'>Riwayat Personal</td><td border='0'>:</td><td width='79%' border='0'> ").append(rs2.getString("riwayat_personal")).append("</td></tr><tr><td width='20%' border='0'>Diagnosis Gizi</td><td border='0'>:</td><td width='79%' border='0'> ").append(rs2.getString("diagnosis").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='20%' border='0'>Intervensi Gizi</td><td border='0'>:</td><td width='79%' border='0'> ").append(rs2.getString("intervensi_gizi").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='20%' border='0'>Monitoring & Evaluasi</td><td border='0'>:</td><td width='79%' border='0'> ").append(rs2.getString("monitoring_evaluasi").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='20%' border='0'>Petugas</td><td border='0'>:</td><td width='79%' border='0'>").append(rs2.getString("nip")).append(" ").append(rs2.getString("nama")).append("</td></tr></table></td></tr>");
                            w++;
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }

            //menampilkan monitoring gizi
            if (chkMonitoringGizi.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select monitoring_asuhan_gizi.tanggal,monitoring_asuhan_gizi.monitoring,monitoring_asuhan_gizi.evaluasi,"
                            + "monitoring_asuhan_gizi.nip,petugas.nama from monitoring_asuhan_gizi inner join petugas on monitoring_asuhan_gizi.nip=petugas.nip where "
                            + "monitoring_asuhan_gizi.no_rawat='" + norawat + "'").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Monitoring & Evaluasi Asuhan Gizi</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr align='center'>"
                                + "<td valign='top' width='4%' bgcolor='#FFFAF8'>No.</td>"
                                + "<td valign='top' width='15%' bgcolor='#FFFAF8'>Tanggal</td>"
                                + "<td valign='top' width='31%' bgcolor='#FFFAF8'>Monitoring</td>"
                                + "<td valign='top' width='30%' bgcolor='#FFFAF8'>Evaluasi</td>"
                                + "<td valign='top' width='20%' bgcolor='#FFFAF8'>Petugas</td>"
                                + "</tr>"
                        );
                        rs2.beforeFirst();
                        w = 1;
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top' align='center'>").append(w).append("</td><td valign='top'>").append(rs2.getString("tanggal")).append("</td><td valign='top'>").append(rs2.getString("monitoring")).append("</td><td valign='top'>").append(rs2.getString("evaluasi")).append("</td><td valign='top'>").append(rs2.getString("nama")).append("</td></tr>");
                            w++;
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
            htmlContent.append(
                    "</table>"
                    + "</fieldset>"
            );
        } catch (Exception e) {
            System.out.println("Notif Gizi : " + e);
        }
    }

    private void menampilkanAsuhanPsikolog(String norawat) {
        try {
            if (chkAsuhanPsikolog.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select penilaian_psikologi.tanggal,penilaian_psikologi.nip,penilaian_psikologi.anamnesis,penilaian_psikologi.dikirim_dari,"
                            + "penilaian_psikologi.tujuan_pemeriksaan,penilaian_psikologi.ket_anamnesis,penilaian_psikologi.rupa,penilaian_psikologi.bentuk_tubuh,"
                            + "penilaian_psikologi.tindakan,penilaian_psikologi.pakaian,penilaian_psikologi.ekspresi,penilaian_psikologi.berbicara,"
                            + "penilaian_psikologi.penggunaan_kata,penilaian_psikologi.ciri_menyolok,penilaian_psikologi.hasil_psikotes,penilaian_psikologi.kepribadian,"
                            + "penilaian_psikologi.psikodinamika,penilaian_psikologi.kesimpulan_psikolog,petugas.nama "
                            + "from penilaian_psikologi inner join petugas on penilaian_psikologi.nip=petugas.nip "
                            + "where penilaian_psikologi.no_rawat='" + norawat + "'").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<fieldset>"
                                + "<h2><center>ASUHAN PSIKOLOG</center></h2>"
                                + "<table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Penilaian Psikologi</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                        );
                        rs2.beforeFirst();
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top'>YANG MELAKUKAN PENGKAJIAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='21%' border='0'>Tanggal : ").append(rs2.getString("tanggal")).append("</td><td width='35%' border='0'>Psikolog : ").append(rs2.getString("nip")).append(" ").append(rs2.getString("nama")).append("</td><td width='22%' border='0'>Tujuan Pemeriksaan : ").append(rs2.getString("tujuan_pemeriksaan")).append("</td><td width='22%' border='0'>Dikirim Dari : ").append(rs2.getString("dikirim_dari")).append("</td></tr><tr><td width='21%' border='0'>Anamnesis : ").append(rs2.getString("anamnesis")).append("</td><td width='79%' border='0' colspan='3'>Keterangan Anamnesis : ").append(rs2.getString("ket_anamnesis")).append("</td></tr></table></td></tr><tr><td valign='top'>I. OBSERVASI<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='33%' border='0'>Rupa / Wajah : ").append(rs2.getString("rupa")).append("</td><td width='33%' border='0'>Pakaian / Aksesoris : ").append(rs2.getString("pakaian")).append("</td><td width='33%' border='0'>Penyampaian / Ekspresi : ").append(rs2.getString("ekspresi")).append("</td></tr><tr><td width='33%' border='0'>Tindakan : ").append(rs2.getString("tindakan")).append("</td><td width='33%' border='0'>Bentuk Tubuh : ").append(rs2.getString("bentuk_tubuh")).append("</td><td width='33%' border='0'>Penggunaan Kata : ").append(rs2.getString("penggunaan_kata")).append("</td></tr><tr><td width='99%' border='0' colspan='3'>Berbicara : ").append(rs2.getString("berbicara")).append("</td></tr></table></td></tr><tr><td valign='top'>II. CIRI YANG MENYOLOK<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%'>").append(rs2.getString("ciri_menyolok").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>III. HASIL PSIKOTES<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>").append(rs2.getString("hasil_psikotes").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>IV. KEPRIBADIAN DAN ASPEK-ASPEKNYA<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>").append(rs2.getString("kepribadian").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>V. PSIKODINAMIKA<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>").append(rs2.getString("psikodinamika").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>VI. KESIMPULAN PSIKOLOG<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>").append(rs2.getString("kesimpulan_psikolog").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr>");
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>"
                                + "</table>"
                                + "</fieldset>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Asuhan Fisioterapi : " + e);
        }
    }

    private void menampilkanAsuhanKeperawatanRawatInap(String norawat) {
        try {
            if (chkAsuhanKeperawatanRanap.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select penilaian_awal_keperawatan_ranap.tanggal,penilaian_awal_keperawatan_ranap.informasi,penilaian_awal_keperawatan_ranap.ket_informasi,penilaian_awal_keperawatan_ranap.tiba_diruang_rawat,"
                            + "penilaian_awal_keperawatan_ranap.kasus_trauma,penilaian_awal_keperawatan_ranap.cara_masuk,penilaian_awal_keperawatan_ranap.keluhan_utama,penilaian_awal_keperawatan_ranap.rps,penilaian_awal_keperawatan_ranap.rpd,penilaian_awal_keperawatan_ranap.rpk,penilaian_awal_keperawatan_ranap.rpo,"
                            + "penilaian_awal_keperawatan_ranap.riwayat_pembedahan,penilaian_awal_keperawatan_ranap.riwayat_dirawat_dirs,penilaian_awal_keperawatan_ranap.alat_bantu_dipakai,penilaian_awal_keperawatan_ranap.riwayat_kehamilan,"
                            + "penilaian_awal_keperawatan_ranap.riwayat_kehamilan_perkiraan,penilaian_awal_keperawatan_ranap.riwayat_tranfusi,penilaian_awal_keperawatan_ranap.riwayat_alergi,penilaian_awal_keperawatan_ranap.riwayat_merokok,"
                            + "penilaian_awal_keperawatan_ranap.riwayat_merokok_jumlah,penilaian_awal_keperawatan_ranap.riwayat_alkohol,penilaian_awal_keperawatan_ranap.riwayat_alkohol_jumlah,penilaian_awal_keperawatan_ranap.riwayat_narkoba,"
                            + "penilaian_awal_keperawatan_ranap.riwayat_olahraga,penilaian_awal_keperawatan_ranap.pemeriksaan_mental,penilaian_awal_keperawatan_ranap.pemeriksaan_keadaan_umum,penilaian_awal_keperawatan_ranap.pemeriksaan_gcs,"
                            + "penilaian_awal_keperawatan_ranap.pemeriksaan_td,penilaian_awal_keperawatan_ranap.pemeriksaan_nadi,penilaian_awal_keperawatan_ranap.pemeriksaan_rr,penilaian_awal_keperawatan_ranap.pemeriksaan_suhu,"
                            + "penilaian_awal_keperawatan_ranap.pemeriksaan_spo2,penilaian_awal_keperawatan_ranap.pemeriksaan_bb,penilaian_awal_keperawatan_ranap.pemeriksaan_tb,penilaian_awal_keperawatan_ranap.pemeriksaan_susunan_kepala,"
                            + "penilaian_awal_keperawatan_ranap.pemeriksaan_susunan_kepala_keterangan,penilaian_awal_keperawatan_ranap.pemeriksaan_susunan_wajah,penilaian_awal_keperawatan_ranap.pemeriksaan_susunan_wajah_keterangan,"
                            + "penilaian_awal_keperawatan_ranap.pemeriksaan_susunan_leher,penilaian_awal_keperawatan_ranap.pemeriksaan_susunan_kejang,penilaian_awal_keperawatan_ranap.pemeriksaan_susunan_kejang_keterangan,"
                            + "penilaian_awal_keperawatan_ranap.pemeriksaan_susunan_sensorik,penilaian_awal_keperawatan_ranap.pemeriksaan_kardiovaskuler_denyut_nadi,penilaian_awal_keperawatan_ranap.pemeriksaan_kardiovaskuler_sirkulasi,"
                            + "penilaian_awal_keperawatan_ranap.pemeriksaan_kardiovaskuler_sirkulasi_keterangan,penilaian_awal_keperawatan_ranap.pemeriksaan_kardiovaskuler_pulsasi,penilaian_awal_keperawatan_ranap.pemeriksaan_respirasi_pola_nafas,"
                            + "penilaian_awal_keperawatan_ranap.pemeriksaan_respirasi_retraksi,penilaian_awal_keperawatan_ranap.pemeriksaan_respirasi_suara_nafas,penilaian_awal_keperawatan_ranap.pemeriksaan_respirasi_volume_pernafasan,"
                            + "penilaian_awal_keperawatan_ranap.pemeriksaan_respirasi_jenis_pernafasan,penilaian_awal_keperawatan_ranap.pemeriksaan_respirasi_jenis_pernafasan_keterangan,penilaian_awal_keperawatan_ranap.pemeriksaan_respirasi_irama_nafas,"
                            + "penilaian_awal_keperawatan_ranap.pemeriksaan_respirasi_batuk,penilaian_awal_keperawatan_ranap.pemeriksaan_gastrointestinal_mulut,penilaian_awal_keperawatan_ranap.pemeriksaan_gastrointestinal_mulut_keterangan,"
                            + "penilaian_awal_keperawatan_ranap.pemeriksaan_gastrointestinal_gigi,penilaian_awal_keperawatan_ranap.pemeriksaan_gastrointestinal_gigi_keterangan,penilaian_awal_keperawatan_ranap.pemeriksaan_gastrointestinal_lidah,"
                            + "penilaian_awal_keperawatan_ranap.pemeriksaan_gastrointestinal_lidah_keterangan,penilaian_awal_keperawatan_ranap.pemeriksaan_gastrointestinal_tenggorokan,penilaian_awal_keperawatan_ranap.pemeriksaan_gastrointestinal_tenggorokan_keterangan,"
                            + "penilaian_awal_keperawatan_ranap.pemeriksaan_gastrointestinal_abdomen,penilaian_awal_keperawatan_ranap.pemeriksaan_gastrointestinal_abdomen_keterangan,penilaian_awal_keperawatan_ranap.pemeriksaan_gastrointestinal_peistatik_usus,"
                            + "penilaian_awal_keperawatan_ranap.pemeriksaan_gastrointestinal_anus,penilaian_awal_keperawatan_ranap.pemeriksaan_neurologi_pengelihatan,penilaian_awal_keperawatan_ranap.pemeriksaan_neurologi_pengelihatan_keterangan,"
                            + "penilaian_awal_keperawatan_ranap.pemeriksaan_neurologi_alat_bantu_penglihatan,penilaian_awal_keperawatan_ranap.pemeriksaan_neurologi_pendengaran,penilaian_awal_keperawatan_ranap.pemeriksaan_neurologi_bicara,"
                            + "penilaian_awal_keperawatan_ranap.pemeriksaan_neurologi_bicara_keterangan,penilaian_awal_keperawatan_ranap.pemeriksaan_neurologi_sensorik,penilaian_awal_keperawatan_ranap.pemeriksaan_neurologi_motorik,"
                            + "penilaian_awal_keperawatan_ranap.pemeriksaan_neurologi_kekuatan_otot,penilaian_awal_keperawatan_ranap.pemeriksaan_integument_warnakulit,penilaian_awal_keperawatan_ranap.pemeriksaan_integument_turgor,"
                            + "penilaian_awal_keperawatan_ranap.pemeriksaan_integument_kulit,penilaian_awal_keperawatan_ranap.pemeriksaan_integument_dekubitas,penilaian_awal_keperawatan_ranap.pemeriksaan_muskuloskletal_pergerakan_sendi,"
                            + "penilaian_awal_keperawatan_ranap.pemeriksaan_muskuloskletal_kekauatan_otot,penilaian_awal_keperawatan_ranap.pemeriksaan_muskuloskletal_nyeri_sendi,penilaian_awal_keperawatan_ranap.pemeriksaan_muskuloskletal_nyeri_sendi_keterangan,"
                            + "penilaian_awal_keperawatan_ranap.pemeriksaan_muskuloskletal_oedema,penilaian_awal_keperawatan_ranap.pemeriksaan_muskuloskletal_oedema_keterangan,penilaian_awal_keperawatan_ranap.pemeriksaan_muskuloskletal_fraktur,"
                            + "penilaian_awal_keperawatan_ranap.pemeriksaan_muskuloskletal_fraktur_keterangan,penilaian_awal_keperawatan_ranap.pemeriksaan_eliminasi_bab_frekuensi_jumlah,penilaian_awal_keperawatan_ranap.pemeriksaan_eliminasi_bab_frekuensi_durasi,"
                            + "penilaian_awal_keperawatan_ranap.pemeriksaan_eliminasi_bab_konsistensi,penilaian_awal_keperawatan_ranap.pemeriksaan_eliminasi_bab_warna,penilaian_awal_keperawatan_ranap.pemeriksaan_eliminasi_bak_frekuensi_jumlah,"
                            + "penilaian_awal_keperawatan_ranap.pemeriksaan_eliminasi_bak_frekuensi_durasi,penilaian_awal_keperawatan_ranap.pemeriksaan_eliminasi_bak_warna,penilaian_awal_keperawatan_ranap.pemeriksaan_eliminasi_bak_lainlain,"
                            + "penilaian_awal_keperawatan_ranap.pola_aktifitas_makanminum,penilaian_awal_keperawatan_ranap.pola_aktifitas_mandi,penilaian_awal_keperawatan_ranap.pola_aktifitas_eliminasi,penilaian_awal_keperawatan_ranap.pola_aktifitas_berpakaian,"
                            + "penilaian_awal_keperawatan_ranap.pola_aktifitas_berpindah,penilaian_awal_keperawatan_ranap.pola_nutrisi_frekuesi_makan,penilaian_awal_keperawatan_ranap.pola_nutrisi_jenis_makanan,penilaian_awal_keperawatan_ranap.pola_nutrisi_porsi_makan,"
                            + "penilaian_awal_keperawatan_ranap.pola_tidur_lama_tidur,penilaian_awal_keperawatan_ranap.pola_tidur_gangguan,penilaian_awal_keperawatan_ranap.pengkajian_fungsi_kemampuan_sehari,penilaian_awal_keperawatan_ranap.pengkajian_fungsi_aktifitas,"
                            + "penilaian_awal_keperawatan_ranap.pengkajian_fungsi_berjalan,penilaian_awal_keperawatan_ranap.pengkajian_fungsi_berjalan_keterangan,penilaian_awal_keperawatan_ranap.pengkajian_fungsi_ambulasi,"
                            + "penilaian_awal_keperawatan_ranap.pengkajian_fungsi_ekstrimitas_atas,penilaian_awal_keperawatan_ranap.pengkajian_fungsi_ekstrimitas_atas_keterangan,penilaian_awal_keperawatan_ranap.pengkajian_fungsi_ekstrimitas_bawah,"
                            + "penilaian_awal_keperawatan_ranap.pengkajian_fungsi_ekstrimitas_bawah_keterangan,penilaian_awal_keperawatan_ranap.pengkajian_fungsi_menggenggam,penilaian_awal_keperawatan_ranap.pengkajian_fungsi_menggenggam_keterangan,"
                            + "penilaian_awal_keperawatan_ranap.pengkajian_fungsi_koordinasi,penilaian_awal_keperawatan_ranap.pengkajian_fungsi_koordinasi_keterangan,penilaian_awal_keperawatan_ranap.pengkajian_fungsi_kesimpulan,"
                            + "penilaian_awal_keperawatan_ranap.riwayat_psiko_kondisi_psiko,penilaian_awal_keperawatan_ranap.riwayat_psiko_gangguan_jiwa,penilaian_awal_keperawatan_ranap.riwayat_psiko_perilaku,"
                            + "penilaian_awal_keperawatan_ranap.riwayat_psiko_perilaku_keterangan,penilaian_awal_keperawatan_ranap.riwayat_psiko_hubungan_keluarga,penilaian_awal_keperawatan_ranap.riwayat_psiko_tinggal,"
                            + "penilaian_awal_keperawatan_ranap.riwayat_psiko_tinggal_keterangan,penilaian_awal_keperawatan_ranap.riwayat_psiko_nilai_kepercayaan,penilaian_awal_keperawatan_ranap.riwayat_psiko_nilai_kepercayaan_keterangan,"
                            + "penilaian_awal_keperawatan_ranap.riwayat_psiko_pendidikan_pj,penilaian_awal_keperawatan_ranap.riwayat_psiko_edukasi_diberikan,penilaian_awal_keperawatan_ranap.riwayat_psiko_edukasi_diberikan_keterangan,"
                            + "penilaian_awal_keperawatan_ranap.penilaian_nyeri,penilaian_awal_keperawatan_ranap.penilaian_nyeri_penyebab,penilaian_awal_keperawatan_ranap.penilaian_nyeri_ket_penyebab,penilaian_awal_keperawatan_ranap.penilaian_nyeri_kualitas,"
                            + "penilaian_awal_keperawatan_ranap.penilaian_nyeri_ket_kualitas,penilaian_awal_keperawatan_ranap.penilaian_nyeri_lokasi,penilaian_awal_keperawatan_ranap.penilaian_nyeri_menyebar,penilaian_awal_keperawatan_ranap.penilaian_nyeri_skala,"
                            + "penilaian_awal_keperawatan_ranap.penilaian_nyeri_waktu,penilaian_awal_keperawatan_ranap.penilaian_nyeri_hilang,penilaian_awal_keperawatan_ranap.penilaian_nyeri_ket_hilang,penilaian_awal_keperawatan_ranap.penilaian_nyeri_diberitahukan_dokter,"
                            + "penilaian_awal_keperawatan_ranap.penilaian_nyeri_jam_diberitahukan_dokter,penilaian_awal_keperawatan_ranap.penilaian_jatuhmorse_skala1,penilaian_awal_keperawatan_ranap.penilaian_jatuhmorse_nilai1,"
                            + "penilaian_awal_keperawatan_ranap.penilaian_jatuhmorse_skala2,penilaian_awal_keperawatan_ranap.penilaian_jatuhmorse_nilai2,penilaian_awal_keperawatan_ranap.penilaian_jatuhmorse_skala3,"
                            + "penilaian_awal_keperawatan_ranap.penilaian_jatuhmorse_nilai3,penilaian_awal_keperawatan_ranap.penilaian_jatuhmorse_skala4,penilaian_awal_keperawatan_ranap.penilaian_jatuhmorse_nilai4,"
                            + "penilaian_awal_keperawatan_ranap.penilaian_jatuhmorse_skala5,penilaian_awal_keperawatan_ranap.penilaian_jatuhmorse_nilai5,penilaian_awal_keperawatan_ranap.penilaian_jatuhmorse_skala6,"
                            + "penilaian_awal_keperawatan_ranap.penilaian_jatuhmorse_nilai6,penilaian_awal_keperawatan_ranap.penilaian_jatuhmorse_totalnilai,penilaian_awal_keperawatan_ranap.penilaian_jatuhsydney_skala1,"
                            + "penilaian_awal_keperawatan_ranap.penilaian_jatuhsydney_nilai1,penilaian_awal_keperawatan_ranap.penilaian_jatuhsydney_skala2,penilaian_awal_keperawatan_ranap.penilaian_jatuhsydney_nilai2,"
                            + "penilaian_awal_keperawatan_ranap.penilaian_jatuhsydney_skala3,penilaian_awal_keperawatan_ranap.penilaian_jatuhsydney_nilai3,penilaian_awal_keperawatan_ranap.penilaian_jatuhsydney_skala4,"
                            + "penilaian_awal_keperawatan_ranap.penilaian_jatuhsydney_nilai4,penilaian_awal_keperawatan_ranap.penilaian_jatuhsydney_skala5,penilaian_awal_keperawatan_ranap.penilaian_jatuhsydney_nilai5,"
                            + "penilaian_awal_keperawatan_ranap.penilaian_jatuhsydney_skala6,penilaian_awal_keperawatan_ranap.penilaian_jatuhsydney_nilai6,penilaian_awal_keperawatan_ranap.penilaian_jatuhsydney_skala7,"
                            + "penilaian_awal_keperawatan_ranap.penilaian_jatuhsydney_nilai7,penilaian_awal_keperawatan_ranap.penilaian_jatuhsydney_skala8,penilaian_awal_keperawatan_ranap.penilaian_jatuhsydney_nilai8,"
                            + "penilaian_awal_keperawatan_ranap.penilaian_jatuhsydney_skala9,penilaian_awal_keperawatan_ranap.penilaian_jatuhsydney_nilai9,penilaian_awal_keperawatan_ranap.penilaian_jatuhsydney_skala10,"
                            + "penilaian_awal_keperawatan_ranap.penilaian_jatuhsydney_nilai10,penilaian_awal_keperawatan_ranap.penilaian_jatuhsydney_skala11,penilaian_awal_keperawatan_ranap.penilaian_jatuhsydney_nilai11,"
                            + "penilaian_awal_keperawatan_ranap.penilaian_jatuhsydney_totalnilai,penilaian_awal_keperawatan_ranap.skrining_gizi1,penilaian_awal_keperawatan_ranap.nilai_gizi1,penilaian_awal_keperawatan_ranap.skrining_gizi2,"
                            + "penilaian_awal_keperawatan_ranap.nilai_gizi2,penilaian_awal_keperawatan_ranap.nilai_total_gizi,penilaian_awal_keperawatan_ranap.skrining_gizi_diagnosa_khusus,penilaian_awal_keperawatan_ranap.skrining_gizi_ket_diagnosa_khusus,"
                            + "penilaian_awal_keperawatan_ranap.skrining_gizi_diketahui_dietisen,penilaian_awal_keperawatan_ranap.skrining_gizi_jam_diketahui_dietisen,penilaian_awal_keperawatan_ranap.kriteria1,penilaian_awal_keperawatan_ranap.kriteria2,penilaian_awal_keperawatan_ranap.kriteria3,penilaian_awal_keperawatan_ranap.kriteria4,"
                            + "concat(penilaian_awal_keperawatan_ranap.pilihan1,',',penilaian_awal_keperawatan_ranap.pilihan2,',',penilaian_awal_keperawatan_ranap.pilihan3,',',"
                            + "penilaian_awal_keperawatan_ranap.pilihan4,',',penilaian_awal_keperawatan_ranap.pilihan5,',',penilaian_awal_keperawatan_ranap.pilihan6,',',"
                            + "penilaian_awal_keperawatan_ranap.pilihan7,',',penilaian_awal_keperawatan_ranap.pilihan8) as perencanaan_pemulangan,penilaian_awal_keperawatan_ranap.rencana,"
                            + "penilaian_awal_keperawatan_ranap.nip1,penilaian_awal_keperawatan_ranap.nip2,penilaian_awal_keperawatan_ranap.kd_dokter,pengkaji1.nama as pengkaji1,pengkaji2.nama as pengkaji2,dokter.nm_dokter "
                            + "from penilaian_awal_keperawatan_ranap inner join petugas as pengkaji1 on penilaian_awal_keperawatan_ranap.nip1=pengkaji1.nip "
                            + "inner join petugas as pengkaji2 on penilaian_awal_keperawatan_ranap.nip2=pengkaji2.nip "
                            + "inner join dokter on penilaian_awal_keperawatan_ranap.kd_dokter=dokter.kd_dokter where penilaian_awal_keperawatan_ranap.no_rawat='" + norawat + "'").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<fieldset>"
                                + "<h2><center>ASUHAN KEPERAWATAN RAWAT INAP</center></h2>"
                                + "<table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Penilaian Awal Keperawatan Rawat Inap Umum</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                        );
                        rs2.beforeFirst();
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top'>YANG MELAKUKAN PENGKAJIAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='16%' border='0'>Tanggal</td><td width='35%' border='0'>: ").append(rs2.getString("tanggal")).append("</td><td width='11%' border='0'>Anamnesis</td><td width='38%' border='0'>: ").append(rs2.getString("informasi")).append(rs2.getString("ket_informasi").isEmpty() ? "" : ", " + rs2.getString("ket_informasi")).append("</td></tr><tr><td width='16%' border='0'>Tiba di Ruang Rawat</td><td width='35%' border='0'>: ").append(rs2.getString("tiba_diruang_rawat")).append("</td><td width='11%' border='0'>Cara Masuk</td><td width='38%' border='0'>: ").append(rs2.getString("cara_masuk")).append("</td></tr><tr><td width='16%' border='0'>Macam Kasus</td><td width='35%' border='0'>: ").append(rs2.getString("kasus_trauma")).append("</td><td width='11%' border='0'>Pengkaji 1</td><td width='38%' border='0'>: ").append(rs2.getString("nip1")).append(" ").append(rs2.getString("pengkaji1")).append("</td></tr><tr><td width='16%' border='0'>Pengkaji 2</td><td width='35%' border='0'>: ").append(rs2.getString("nip2")).append(" ").append(rs2.getString("pengkaji2")).append("</td><td width='11%' border='0'>DPJP</td><td width='38%' border='0'>: ").append(rs2.getString("kd_dokter")).append(" ").append(rs2.getString("nm_dokter")).append("</td></tr></table></td></tr><tr><td valign='top'>I. RIWAYAT KESEHATAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' colspan='2'>Keluhan Utama : ").append(rs2.getString("keluhan_utama").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='50%'>Riwayat Penyakit Saat Ini : ").append(rs2.getString("rps").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td><td width='50%'>Riwayat Penyakit Dahulu : ").append(rs2.getString("rpd").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='50%'>Riwayat Penyakit Keluarga : ").append(rs2.getString("rpk").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td><td width='50%'>Riwayat Penggunaan Obat : ").append(rs2.getString("rpo").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='50%'>Riwayat Pembedahan : ").append(rs2.getString("riwayat_pembedahan")).append("</td><td width='50%'>Riwayat Dirawat Di RS : ").append(rs2.getString("riwayat_dirawat_dirs")).append("</td></tr><tr><td width='50%'>Alat Bantu Yang Dipakai : ").append(rs2.getString("alat_bantu_dipakai")).append("</td><td width='50%'>Apakah Dalam Keadaan Hamil / Sedang Menyusui : ").append(rs2.getString("riwayat_kehamilan")).append(rs2.getString("riwayat_kehamilan_perkiraan").isEmpty() ? "" : ", " + rs2.getString("riwayat_kehamilan_perkiraan")).append("</td></tr><tr><td width='50%'>Riwayat Transfusi Darah : ").append(rs2.getString("riwayat_tranfusi")).append("</td><td width='50%'>Riwayat Alergi : ").append(rs2.getString("riwayat_alergi")).append("</td></tr><tr><td width='100%' colspan='2'>Kebiasaan : <table width='99%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'<tr><td border='0'>Merokok : ").append(rs2.getString("riwayat_merokok")).append(rs2.getString("riwayat_merokok_jumlah").isEmpty() ? "" : ", " + rs2.getString("riwayat_merokok_jumlah") + " batang/hari").append("&nbsp;&nbsp;&nbsp;&nbsp;Alkohol : ").append(rs2.getString("riwayat_alkohol")).append(rs2.getString("riwayat_alkohol_jumlah").isEmpty() ? "" : ", " + rs2.getString("riwayat_alkohol_jumlah") + " gelas/hari").append("&nbsp;&nbsp;&nbsp;&nbsp;Obat Tidur : ").append(rs2.getString("riwayat_narkoba")).append("&nbsp;&nbsp;&nbsp;&nbsp;Olah Raga : ").append(rs2.getString("riwayat_olahraga")).append("</td></tr></table></td></tr></table></td></tr><tr><td valign='top'>II. PEMERIKSAAN FISIK<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%'>Kesadaran Mental : ").append(rs2.getString("pemeriksaan_mental")).append("&nbsp;&nbsp;&nbsp;&nbsp;Keadaan Umum : ").append(rs2.getString("pemeriksaan_keadaan_umum")).append("&nbsp;&nbsp;&nbsp;&nbsp;GCS(E,V,M) : ").append(rs2.getString("pemeriksaan_gcs")).append("&nbsp;&nbsp;&nbsp;&nbsp;TD : ").append(rs2.getString("pemeriksaan_td")).append(" mmHg&nbsp;&nbsp;&nbsp;&nbsp;Nadi : ").append(rs2.getString("pemeriksaan_nadi")).append(" x/menit&nbsp;&nbsp;&nbsp;&nbsp;RR : ").append(rs2.getString("pemeriksaan_rr")).append(" x/menit&nbsp;&nbsp;&nbsp;&nbsp;Suhu : ").append(rs2.getString("pemeriksaan_suhu")).append(" \u00b0C&nbsp;&nbsp;&nbsp;&nbsp;SpO2 : ").append(rs2.getString("pemeriksaan_spo2")).append(" %&nbsp;&nbsp;&nbsp;&nbsp;BB : ").append(rs2.getString("pemeriksaan_bb")).append(" Kg&nbsp;&nbsp;&nbsp;&nbsp;TB : ").append(rs2.getString("pemeriksaan_tb")).append(" cm&nbsp;&nbsp;&nbsp;&nbsp;</td></tr><tr><td width='100%'>Sistem Susunan Saraf Pusat : <table width='99%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='35%' border='0'>Kepala : ").append(rs2.getString("pemeriksaan_susunan_kepala")).append(rs2.getString("pemeriksaan_susunan_kepala_keterangan").isEmpty() ? "" : ", " + rs2.getString("pemeriksaan_susunan_kepala_keterangan")).append("</td><td width='35%' border='0'>Wajah : ").append(rs2.getString("pemeriksaan_susunan_wajah")).append(rs2.getString("pemeriksaan_susunan_wajah_keterangan").isEmpty() ? "" : ", " + rs2.getString("pemeriksaan_susunan_wajah_keterangan")).append("</td><td width='30%' border='0'>Leher : ").append(rs2.getString("pemeriksaan_susunan_leher")).append("</td></tr><tr><td width='35%' border='0'>Kejang : ").append(rs2.getString("pemeriksaan_susunan_kejang")).append(rs2.getString("pemeriksaan_susunan_kejang_keterangan").isEmpty() ? "" : ", " + rs2.getString("pemeriksaan_susunan_kejang_keterangan")).append("</td><td width='65%' border='0' colspan='2'>Leher : ").append(rs2.getString("pemeriksaan_susunan_sensorik")).append("</td></tr></table></td></tr><tr><td width='100%'>Kardiovaskuler : <table width='99%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='30%' border='0'>Pulsasi : ").append(rs2.getString("pemeriksaan_kardiovaskuler_pulsasi")).append("</td><td width='40%' border='0'>Sirkulasi : ").append(rs2.getString("pemeriksaan_kardiovaskuler_sirkulasi")).append(rs2.getString("pemeriksaan_kardiovaskuler_sirkulasi_keterangan").isEmpty() ? "" : ", " + rs2.getString("pemeriksaan_kardiovaskuler_sirkulasi_keterangan")).append("</td><td width='30%' border='0'>Denyut Nadi : ").append(rs2.getString("pemeriksaan_kardiovaskuler_denyut_nadi")).append("</td></tr></table></td></tr><tr><td width='100%'>Respirasi : <table width='99%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='25%' border='0'>Retraksi : ").append(rs2.getString("pemeriksaan_respirasi_retraksi")).append("</td><td width='25%' border='0'>Pola Nafas : ").append(rs2.getString("pemeriksaan_respirasi_pola_nafas")).append("</td><td width='25%' border='0'>Suara Nafas : ").append(rs2.getString("pemeriksaan_respirasi_suara_nafas")).append("</td><td width='25%' border='0'>Batuk & Sekresi : ").append(rs2.getString("pemeriksaan_respirasi_batuk")).append("</td></tr><tr><td width='25%' border='0'>Volume : ").append(rs2.getString("pemeriksaan_respirasi_volume_pernafasan")).append("</td><td width='50%' border='0' colspan='2'>Jenis Pernafasaan : ").append(rs2.getString("pemeriksaan_respirasi_jenis_pernafasan")).append(rs2.getString("pemeriksaan_respirasi_jenis_pernafasan_keterangan").isEmpty() ? "" : ", " + rs2.getString("pemeriksaan_respirasi_jenis_pernafasan_keterangan")).append("</td><td width='25%' border='0'>Irama : ").append(rs2.getString("pemeriksaan_respirasi_irama_nafas")).append("</td></tr></table></td></tr><tr><td width='100%'>Gastrointestinal : <table width='99%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='33%' border='0'>Mulut : ").append(rs2.getString("pemeriksaan_gastrointestinal_mulut")).append(rs2.getString("pemeriksaan_gastrointestinal_mulut_keterangan").isEmpty() ? "" : ", " + rs2.getString("pemeriksaan_gastrointestinal_mulut_keterangan")).append("</td><td width='33%' border='0'>Lidah : ").append(rs2.getString("pemeriksaan_gastrointestinal_lidah")).append(rs2.getString("pemeriksaan_gastrointestinal_lidah_keterangan").isEmpty() ? "" : ", " + rs2.getString("pemeriksaan_gastrointestinal_lidah_keterangan")).append("</td><td width='33%' border='0'>Gigi : ").append(rs2.getString("pemeriksaan_gastrointestinal_gigi")).append(rs2.getString("pemeriksaan_gastrointestinal_gigi_keterangan").isEmpty() ? "" : ", " + rs2.getString("pemeriksaan_gastrointestinal_gigi_keterangan")).append("</td></tr><tr><td width='33%' border='0'>Tenggorokan : ").append(rs2.getString("pemeriksaan_gastrointestinal_tenggorokan")).append(rs2.getString("pemeriksaan_gastrointestinal_tenggorokan_keterangan").isEmpty() ? "" : ", " + rs2.getString("pemeriksaan_gastrointestinal_tenggorokan_keterangan")).append("</td><td width='33%' border='0'>Abdomen : ").append(rs2.getString("pemeriksaan_gastrointestinal_abdomen")).append(rs2.getString("pemeriksaan_gastrointestinal_abdomen_keterangan").isEmpty() ? "" : ", " + rs2.getString("pemeriksaan_gastrointestinal_abdomen_keterangan")).append("</td><td width='33%' border='0'>Peistatik Usus : ").append(rs2.getString("pemeriksaan_gastrointestinal_peistatik_usus")).append("</td></tr><tr><td width='100%' border='0' colspan='3'>Anus : ").append(rs2.getString("pemeriksaan_gastrointestinal_anus")).append("</td></tr></table></td></tr><tr><td width='100%'>Neurologi : <table width='99%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='33%' border='0'>Sensorik : ").append(rs2.getString("pemeriksaan_neurologi_sensorik")).append("</td><td width='33%' border='0'>Penglihatan : ").append(rs2.getString("pemeriksaan_neurologi_pengelihatan")).append(rs2.getString("pemeriksaan_neurologi_pengelihatan_keterangan").isEmpty() ? "" : ", " + rs2.getString("pemeriksaan_neurologi_pengelihatan_keterangan")).append("</td><td width='33%' border='0'>Alat Bantu Penglihatan : ").append(rs2.getString("pemeriksaan_neurologi_alat_bantu_penglihatan")).append("</td></tr><tr><td width='33%' border='0'>Motorik : ").append(rs2.getString("pemeriksaan_neurologi_motorik")).append("</td><td width='33%' border='0'>Bicara : ").append(rs2.getString("pemeriksaan_neurologi_pendengaran")).append("</td><td width='33%' border='0'>Pendengaran : ").append(rs2.getString("pemeriksaan_neurologi_bicara")).append(rs2.getString("pemeriksaan_neurologi_bicara_keterangan").isEmpty() ? "" : ", " + rs2.getString("pemeriksaan_neurologi_bicara_keterangan")).append("</td></tr><tr><td border='99%' colspan='3'>Kekuatan Otot : ").append(rs2.getString("pemeriksaan_neurologi_kekuatan_otot")).append("</td></tr></table></td></tr><tr><td width='100%'>Integument : <table width='99%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='24%' border='0'>Kulit : ").append(rs2.getString("pemeriksaan_integument_kulit")).append("</td><td width='23%' border='0'>Warna Kulit : ").append(rs2.getString("pemeriksaan_integument_warnakulit")).append("</td><td width='23%' border='0'>Turgor : ").append(rs2.getString("pemeriksaan_integument_turgor")).append("</td><td width='30%' border='0'>Resiko Decubitus : ").append(rs2.getString("pemeriksaan_integument_dekubitas")).append("</td></tr></table></td></tr><tr><td width='100%'>Muskuloskletal : <table width='99%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='40%' border='0'>Oedema : ").append(rs2.getString("pemeriksaan_muskuloskletal_oedema")).append(rs2.getString("pemeriksaan_muskuloskletal_oedema_keterangan").isEmpty() ? "" : ", " + rs2.getString("pemeriksaan_muskuloskletal_oedema_keterangan")).append("</td><td width='30%' border='0'>Pergerakan Sendi : ").append(rs2.getString("pemeriksaan_muskuloskletal_pergerakan_sendi")).append("</td><td width='30%' border='0'>Kekuatan Otot : ").append(rs2.getString("pemeriksaan_muskuloskletal_kekauatan_otot")).append("</td></tr><tr><td width='40%' border='0'>Fraktur : ").append(rs2.getString("pemeriksaan_muskuloskletal_fraktur")).append(rs2.getString("pemeriksaan_muskuloskletal_fraktur_keterangan").isEmpty() ? "" : ", " + rs2.getString("pemeriksaan_muskuloskletal_fraktur_keterangan")).append("</td><td width='60%' border='0' colspan='2'>Nyeri Sendi : ").append(rs2.getString("pemeriksaan_muskuloskletal_nyeri_sendi")).append(rs2.getString("pemeriksaan_muskuloskletal_nyeri_sendi_keterangan").isEmpty() ? "" : ", " + rs2.getString("pemeriksaan_muskuloskletal_nyeri_sendi_keterangan")).append("</td></tr></table></td></tr><tr><td width='100%'>Eliminasi : <table width='99%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='33%' border='0'>BAB : Frekuensi : ").append(rs2.getString("pemeriksaan_eliminasi_bab_frekuensi_jumlah")).append(" X/ ").append(rs2.getString("pemeriksaan_eliminasi_bab_frekuensi_durasi")).append("</td><td width='33%' border='0'>Konsistensi : ").append(rs2.getString("pemeriksaan_eliminasi_bab_konsistensi")).append("</td><td width='33%' border='0'>Warna : ").append(rs2.getString("pemeriksaan_eliminasi_bab_warna")).append("</td></tr><tr><td width='33%' border='0'>BAK : Frekuensi : ").append(rs2.getString("pemeriksaan_eliminasi_bak_frekuensi_jumlah")).append(" X/ ").append(rs2.getString("pemeriksaan_eliminasi_bak_frekuensi_durasi")).append("</td><td width='33%' border='0'>Warna : ").append(rs2.getString("pemeriksaan_eliminasi_bak_warna")).append("</td><td width='33%' border='0'>Lain-lain : ").append(rs2.getString("pemeriksaan_eliminasi_bak_lainlain")).append("</td></tr></table></td></tr></table></td></tr><tr><td valign='top'>III. POLA KEHIDUPAN SEHARI - HARI <table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%'>a. Pola Aktifitas :<table width='99%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='33%' border='0'>Mandi : ").append(rs2.getString("pola_aktifitas_mandi")).append("</td><td width='33%' border='0'>Makan/Minum : ").append(rs2.getString("pola_aktifitas_makanminum")).append("</td><td width='33%' border='0'>Berpakaian : ").append(rs2.getString("pola_aktifitas_berpakaian")).append("</td></tr><tr><td width='33%' border='0'>Eliminasi : ").append(rs2.getString("pola_aktifitas_eliminasi")).append("</td><td width='66%' border='0' colspan='2'>Berpindah : ").append(rs2.getString("pola_aktifitas_berpindah")).append("</td></tr></table></td></tr><tr><td width='100%'>b. Pola Nutrisi :<table width='99%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='30%' border='0'>Porsi Makan : ").append(rs2.getString("pola_nutrisi_porsi_makan")).append(" porsi</td><td width='30%' border='0'>Frekuensi Makan : ").append(rs2.getString("pola_nutrisi_frekuesi_makan")).append("x/hari</td><td width='40%' border='0'>Jenis Makanan : ").append(rs2.getString("pola_nutrisi_jenis_makanan")).append("</td></tr></table></td></tr><tr><td width='100%'>c. Pola Tidur : Lama Tidur ").append(rs2.getString("pola_tidur_lama_tidur")).append(" jam/hari, ").append(rs2.getString("pola_tidur_gangguan")).append("</td></tr></table></td></tr><tr><td valign='top'>IV. PENGKAJIAN FUNGSI<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='33%' border='0'>a. Kemampuan Aktifitas Sehari-hari : ").append(rs2.getString("pengkajian_fungsi_kemampuan_sehari")).append("</td><td width='33%' border='0'>b. Berjalan : ").append(rs2.getString("pengkajian_fungsi_berjalan")).append(rs2.getString("pengkajian_fungsi_berjalan_keterangan").isEmpty() ? "" : ", " + rs2.getString("pengkajian_fungsi_berjalan_keterangan")).append("</td><td width='33%' border='0'>c. Aktifitas : ").append(rs2.getString("pengkajian_fungsi_aktifitas")).append("</td></tr><tr><td width='33%' border='0'>d. Alat Ambulasi : ").append(rs2.getString("pengkajian_fungsi_ambulasi")).append("</td><td width='33%' border='0'>e. Ekstremitas Atas : ").append(rs2.getString("pengkajian_fungsi_ekstrimitas_atas")).append(rs2.getString("pengkajian_fungsi_ekstrimitas_atas_keterangan").isEmpty() ? "" : ", " + rs2.getString("pengkajian_fungsi_ekstrimitas_atas_keterangan")).append("</td><td width='33%' border='0'>f. Ekstremitas Bawah : ").append(rs2.getString("pengkajian_fungsi_ekstrimitas_bawah")).append(rs2.getString("pengkajian_fungsi_ekstrimitas_bawah_keterangan").isEmpty() ? "" : ", " + rs2.getString("pengkajian_fungsi_ekstrimitas_bawah_keterangan")).append("</td></tr><tr><td width='33%' border='0'>g. Kemampuan Menggenggam : ").append(rs2.getString("pengkajian_fungsi_menggenggam")).append(rs2.getString("pengkajian_fungsi_menggenggam_keterangan").isEmpty() ? "" : ", " + rs2.getString("pengkajian_fungsi_menggenggam_keterangan")).append("</td><td width='33%' border='0'>h. Kemampuan Koordinasi : ").append(rs2.getString("pengkajian_fungsi_koordinasi")).append(rs2.getString("pengkajian_fungsi_koordinasi_keterangan").isEmpty() ? "" : ", " + rs2.getString("pengkajian_fungsi_koordinasi_keterangan")).append("</td><td width='33%' border='0'>i. Kesimpulan Gangguan Fungsi : ").append(rs2.getString("pengkajian_fungsi_kesimpulan")).append("</td></tr></table></td></tr><tr><td valign='top'>V. RIWAYAT PSIKOLOGIS \u2013 SOSIAL \u2013 EKONOMI \u2013 BUDAYA \u2013 SPIRITUAL<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='49%' border='0'>a. Kondisi Psikologis</td><td width='1%' border='0'>:</td><td width='50%' border='0'>").append(rs2.getString("riwayat_psiko_kondisi_psiko")).append("</td></tr><tr><td width='49%' border='0'>b. Adakah Perilaku</td><td width='1%' border='0'>:</td><td width='50%' border='0'>").append(rs2.getString("riwayat_psiko_perilaku")).append(rs2.getString("riwayat_psiko_perilaku_keterangan").isEmpty() ? "" : ", " + rs2.getString("riwayat_psiko_perilaku_keterangan")).append("</td></tr><tr><td width='49%' border='0'>c. Gangguan Jiwa di Masa Lalu</td><td width='1%' border='0'>:</td><td width='50%' border='0'>").append(rs2.getString("riwayat_psiko_gangguan_jiwa")).append("</td></tr><tr><td width='49%' border='0'>d. Hubungan Pasien dengan Anggota Keluarga</td><td width='1%' border='0'>:</td><td width='50%' border='0'>").append(rs2.getString("riwayat_psiko_hubungan_keluarga")).append("</td></tr><tr><td width='49%' border='0'>e. Agama</td><td width='1%' border='0'>:</td><td width='50%' border='0'>").append(Agama.getText()).append("</td></tr><tr><td width='49%' border='0'>f. Tinggal Dengan</td><td width='1%' border='0'>:</td><td width='50%' border='0'>").append(rs2.getString("riwayat_psiko_tinggal")).append(rs2.getString("riwayat_psiko_tinggal_keterangan").isEmpty() ? "" : ", " + rs2.getString("riwayat_psiko_tinggal_keterangan")).append("</td></tr><tr><td width='49%' border='0'>g. Pekerjaan</td><td width='1%' border='0'>:</td><td width='50%' border='0'>").append(Pekerjaan.getText()).append("</td></tr><tr><td width='49%' border='0'>h. Pembayaran</td><td width='1%' border='0'>:</td><td width='50%' border='0'>").append(rs.getString("png_jawab")).append("</td></tr><tr><td width='49%' border='0'>i. Nilai-nilai Kepercayaan/Budaya Yang Perlu Diperhatikan</td><td width='1%' border='0'>:</td><td width='50%' border='0'>").append(rs2.getString("riwayat_psiko_nilai_kepercayaan")).append(rs2.getString("riwayat_psiko_nilai_kepercayaan_keterangan").isEmpty() ? "" : ", " + rs2.getString("riwayat_psiko_nilai_kepercayaan_keterangan")).append("</td></tr><tr><td width='49%' border='0'>j. Bahasa Sehari-hari</td><td width='1%' border='0'>:</td><td width='50%' border='0'>").append(Bahasa.getText()).append("</td></tr><tr><td width='49%' border='0'>k. Pendidikan Pasien</td><td width='1%' border='0'>:</td><td width='50%' border='0'>").append(Pendidikan.getText()).append("</td></tr><tr><td width='49%' border='0'>l. Pendidikan P.J.</td><td width='1%' border='0'>:</td><td width='50%' border='0'>").append(rs2.getString("riwayat_psiko_pendidikan_pj")).append("</td></tr><tr><td width='49%' border='0'>m. Edukasi Diberikan Kepada</td><td width='1%' border='0'>:</td><td width='50%' border='0'>").append(rs2.getString("riwayat_psiko_edukasi_diberikan")).append(rs2.getString("riwayat_psiko_edukasi_diberikan_keterangan").isEmpty() ? "" : ", " + rs2.getString("riwayat_psiko_edukasi_diberikan_keterangan")).append("</td></tr></table></td></tr><tr><td valign='top'>VI. PENILAIAN TINGKAT NYERI<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='50%' border='0'>Tingkat Nyeri : ").append(rs2.getString("penilaian_nyeri")).append(", Waktu / Durasi : ").append(rs2.getString("penilaian_nyeri_waktu")).append(" Menit</td><td width='50%' border='0'>Penyebab : ").append(rs2.getString("penilaian_nyeri_penyebab")).append(rs2.getString("penilaian_nyeri_ket_penyebab").isEmpty() ? "" : ", " + rs2.getString("penilaian_nyeri_ket_penyebab")).append("</td></tr><tr><td width='50%' border='0'>Kualitas : ").append(rs2.getString("penilaian_nyeri_kualitas")).append(rs2.getString("penilaian_nyeri_ket_kualitas").isEmpty() ? "" : ", " + rs2.getString("penilaian_nyeri_ket_kualitas")).append("</td><td width='50%' border='0'>Severity : Skala Nyeri ").append(rs2.getString("penilaian_nyeri_skala")).append("</td></tr><tr><td colspan='0' border='0'>Wilayah :</td></tr><tr><td width='50%' border='0'>&nbsp;&nbsp;&nbsp;&nbsp;Lokasi : ").append(rs2.getString("penilaian_nyeri_lokasi")).append("</td><td width='50%' border='0'>Menyebar : ").append(rs2.getString("penilaian_nyeri_menyebar")).append("</td></tr><tr><td width='50%' border='0'>Nyeri hilang bila : ").append(rs2.getString("penilaian_nyeri_hilang")).append(rs2.getString("penilaian_nyeri_ket_hilang").isEmpty() ? "" : ", " + rs2.getString("penilaian_nyeri_ket_hilang")).append("</td><td width='50%' border='0'>Diberitahukan pada dokter ? ").append(rs2.getString("penilaian_nyeri_diberitahukan_dokter")).append(rs2.getString("penilaian_nyeri_jam_diberitahukan_dokter").isEmpty() ? "" : ", Jam : " + rs2.getString("penilaian_nyeri_jam_diberitahukan_dokter")).append("</td></tr></table></td></tr><tr><td valign='top'>VII. PENILAIAN RESIKO JATUH<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>Skala Morse :<table width='99%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr class='isi'><td width='50%' bgcolor='#FFFAF8' align='center'>Faktor Resiko</td><td width='40%' bgcolor='#FFFAF8' align='center'>Skala</td><td width='10%' bgcolor='#FFFAF8' align='center'>Poin</td></tr><tr><td>1. Riwayat Jatuh</td><td align='center'>").append(rs2.getString("penilaian_jatuhmorse_skala1")).append("</td><td align='center'>").append(rs2.getString("penilaian_jatuhmorse_nilai1")).append("</td></tr><tr><td>2. Diagnosis Sekunder (\u2265 2 Diagnosis Medis)</td><td align='center'>").append(rs2.getString("penilaian_jatuhmorse_skala2")).append("</td><td align='center'>").append(rs2.getString("penilaian_jatuhmorse_nilai2")).append("</td></tr><tr><td>3. Alat Bantu</td><td align='center'>").append(rs2.getString("penilaian_jatuhmorse_skala3")).append("</td><td align='center'>").append(rs2.getString("penilaian_jatuhmorse_nilai3")).append("</td></tr><tr><td>4. Terpasang Infuse</td><td align='center'>").append(rs2.getString("penilaian_jatuhmorse_skala4")).append("</td><td align='center'>").append(rs2.getString("penilaian_jatuhmorse_nilai4")).append("</td></tr><tr><td>5. Gaya Berjalan</td><td align='center'>").append(rs2.getString("penilaian_jatuhmorse_skala5")).append("</td><td align='center'>").append(rs2.getString("penilaian_jatuhmorse_nilai5")).append("</td></tr><tr><td>6. Status Mental</td><td align='center'>").append(rs2.getString("penilaian_jatuhmorse_skala6")).append("</td><td align='center'>").append(rs2.getString("penilaian_jatuhmorse_nilai6")).append("</td></tr><tr><td align='right' colspan='2'>Total :</td><td align='center'>").append(rs2.getString("penilaian_jatuhmorse_totalnilai")).append("</td></tr><tr><td align='center' colspan='3'>");

                            if (rs2.getInt("penilaian_jatuhmorse_totalnilai") < 25) {
                                htmlContent.append("Tingkat Resiko : Risiko Rendah (0-24), Tindakan : Intervensi pencegahan risiko jatuh standar");
                            } else if (rs2.getInt("penilaian_jatuhmorse_totalnilai") < 45) {
                                htmlContent.append("Tingkat Resiko : Risiko Sedang (25-44), Tindakan : Intervensi pencegahan risiko jatuh standar");
                            } else if (rs2.getInt("penilaian_jatuhmorse_totalnilai") >= 45) {
                                htmlContent.append("Tingkat Resiko : Risiko Tinggi (> 45), Tindakan : Intervensi pencegahan risiko jatuh standar dan Intervensi risiko jatuh tinggi");
                            }

                            htmlContent.append("</td></tr></table></td></tr><tr><td width='100%' border='0'>Skala Sydney :<table width='99%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr class='isi'><td width='60%' bgcolor='#FFFAF8' align='center'>Faktor Resiko</td><td width='30%' bgcolor='#FFFAF8' align='center'>Skala</td><td width='10%' bgcolor='#FFFAF8' align='center'>Poin</td></tr><tr><td>1. Gangguan Gaya Berjalan (Diseret, Menghentak, Diayun)</td><td align='center'>").append(rs2.getString("penilaian_jatuhsydney_skala1")).append("</td><td align='center'>").append(rs2.getString("penilaian_jatuhsydney_nilai1")).append("</td></tr><tr><td>2. Pusing / Pingsan Pada Posisi Tegak</td><td align='center'>").append(rs2.getString("penilaian_jatuhsydney_skala2")).append("</td><td align='center'>").append(rs2.getString("penilaian_jatuhsydney_nilai2")).append("</td></tr><tr><td>3. Kebigungan Setiap Saat</td><td align='center'>").append(rs2.getString("penilaian_jatuhsydney_skala3")).append("</td><td align='center'>").append(rs2.getString("penilaian_jatuhsydney_nilai3")).append("</td></tr><tr><td>4. Nokturia / Inkontinen</td><td align='center'>").append(rs2.getString("penilaian_jatuhsydney_skala4")).append("</td><td align='center'>").append(rs2.getString("penilaian_jatuhsydney_nilai4")).append("</td></tr><tr><td>5. Kebingungan Intermiten</td><td align='center'>").append(rs2.getString("penilaian_jatuhsydney_skala5")).append("</td><td align='center'>").append(rs2.getString("penilaian_jatuhsydney_nilai5")).append("</td></tr><tr><td>6. Kelemahan Umum</td><td align='center'>").append(rs2.getString("penilaian_jatuhsydney_skala6")).append("</td><td align='center'>").append(rs2.getString("penilaian_jatuhsydney_nilai6")).append("</td></tr><tr><td valign='middle'>7. Obat-obat Beresiko Tinggi (Diuretic, Narkotik, Sedativ, Anti Psikotik, Laksatif, Vasodilator Antiaritmia, Antihipertensi, Obat Hipoglikemik, Anti Depresan, Neuroleptik, NSAID)</td><td align='center' valign='middle'>").append(rs2.getString("penilaian_jatuhsydney_skala7")).append("</td><td align='center' valign='middle'>").append(rs2.getString("penilaian_jatuhsydney_nilai7")).append("</td></tr><tr><td>8. Riwayat Jatuh Dalam Waktu 12 Bulan Sebelumnya</td><td align='center'>").append(rs2.getString("penilaian_jatuhsydney_skala8")).append("</td><td align='center'>").append(rs2.getString("penilaian_jatuhsydney_nilai8")).append("</td></tr><tr><td>9. Osteoporosis</td><td align='center'>").append(rs2.getString("penilaian_jatuhsydney_skala9")).append("</td><td align='center'>").append(rs2.getString("penilaian_jatuhsydney_nilai9")).append("</td></tr><tr><td>10. Gangguan Pendengaran Dan Atau Penglihatan</td><td align='center'>").append(rs2.getString("penilaian_jatuhsydney_skala10")).append("</td><td align='center'>").append(rs2.getString("penilaian_jatuhsydney_nilai10")).append("</td></tr><tr><td>11. Usia 70 Tahun Ke Atas</td><td align='center'>").append(rs2.getString("penilaian_jatuhsydney_skala11")).append("</td><td align='center'>").append(rs2.getString("penilaian_jatuhsydney_nilai11")).append("</td></tr><tr><td align='right' colspan='2'>Total :</td><td align='center'>").append(rs2.getString("penilaian_jatuhsydney_nilai11")).append("</td></tr><tr><td align='center' colspan='3'>");

                            if (rs2.getInt("penilaian_jatuhsydney_totalnilai") < 4) {
                                htmlContent.append("Tingkat Resiko : Risiko Rendah (1-3), Tindakan : Intervensi pencegahan risiko standar");
                            } else if (rs2.getInt("penilaian_jatuhsydney_totalnilai") >= 4) {
                                htmlContent.append("Tingkat Resiko : Risiko Sedang (> 4), Tindakan : Intervensi pencegahan risiko tinggi");
                            }

                            htmlContent.append("</td></tr></table></td></tr></table></td></tr><tr><td valign='top'>VIII. SKRINING GIZI<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td valign='middle' bgcolor='#FFFAF8' align='center' width='5%'>No</td><td valign='middle' bgcolor='#FFFAF8' align='center' width='55%'>Parameter</td><td valign='middle' bgcolor='#FFFAF8' align='center' width='40%' colspan='2'>Nilai</td></tr><tr><td valign='top'>1</td><td valign='top'>Apakah ada penurunan BB yang tidak diinginkan selama 6 bulan terakhir ?</td><td valign='top' align='center' width='35%'>").append(rs2.getString("skrining_gizi1")).append("</td><td valign='top' align='right' width='5%'>").append(rs2.getString("nilai_gizi1")).append("&nbsp;&nbsp;</td></tr><tr><td valign='top'>2</td><td valign='top'>Apakah asupan makan berkurang karena tidak nafsu makan ?</td><td valign='top' align='center' width='35%'>").append(rs2.getString("skrining_gizi2")).append("</td><td valign='top' align='right' width='5%'>").append(rs2.getString("nilai_gizi2")).append("&nbsp;&nbsp;</td></tr><tr><td valign='top' align='left' colspan='2'>Total Skor : </td><td valign='top' align='right' colspan='2'>").append(rs2.getString("nilai_total_gizi")).append("&nbsp;&nbsp;</td></tr><tr><td valign='top' align='left' colspan='4' border='0'>Pasien dengan diagnosis khusus : ").append(rs2.getString("skrining_gizi_diagnosa_khusus")).append(rs2.getString("skrining_gizi_ket_diagnosa_khusus").isEmpty() ? "" : ", " + rs2.getString("skrining_gizi_ket_diagnosa_khusus")).append("</td></tr><tr><td valign='top' align='left' colspan='4' border='0'>Sudah dibaca dan diketahui oleh Dietisen : ").append(rs2.getString("skrining_gizi_diketahui_dietisen")).append(rs2.getString("skrining_gizi_jam_diketahui_dietisen").isEmpty() ? "" : ", " + rs2.getString("skrining_gizi_jam_diketahui_dietisen")).append("</td></tr></table></td></tr><tr><td valign='top'>IX. SKRINING PERENCANAAN PEMULANGAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td valign='top' align='left'>Kriteria Discharge Planning : </td></tr><tr><td valign='top' align='left'>1. Umur > 65 Tahun ? ").append(rs2.getString("kriteria1")).append("</td></tr><tr><td valign='top' align='left'>2. Keterbatasan Mobilitas ? ").append(rs2.getString("kriteria2")).append("</td></tr><tr><td valign='top' align='left'>3. Perawatan Atau Pengobatan Lanjutan ? ").append(rs2.getString("kriteria3")).append("</td></tr><tr><td valign='top' align='left'>4. Bantuan Untuk Melakukan Aktifitas Sehari-Hari ? ").append(rs2.getString("kriteria4")).append("</td></tr><tr><td valign='top' align='left'>Tindak Lanjut Skringing Perencanaan : </td></tr><tr><td valign='top' align='left'>").append(rs2.getString("perencanaan_pemulangan")).append("</td></tr></table></td></tr><tr><td valign='top'><table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td valign='middle' bgcolor='#FFFAF8' align='center' width='50%'>MASALAH KEPERAWATAN :</td><td valign='middle' bgcolor='#FFFAF8' align='center' width='50%'>RENCANA KEPERAWATAN :</td></tr><tr><td valign='top'>");
                            try {
                                rs3 = koneksi.prepareStatement(
                                        "select master_masalah_keperawatan.nama_masalah from master_masalah_keperawatan "
                                        + "inner join penilaian_awal_keperawatan_ranap_masalah on penilaian_awal_keperawatan_ranap_masalah.kode_masalah=master_masalah_keperawatan.kode_masalah "
                                        + "where penilaian_awal_keperawatan_ranap_masalah.no_rawat='" + norawat + "' and penilaian_awal_keperawatan_ranap_masalah.tanggal='" + rs2.getString("tanggal") + "' order by penilaian_awal_keperawatan_ranap_masalah.kode_masalah").executeQuery();
                                while (rs3.next()) {
                                    htmlContent.append(rs3.getString("nama_masalah")).append("<br>");
                                }
                            } catch (Exception e) {
                                System.out.println("Notif : " + e);
                            } finally {
                                if (rs3 != null) {
                                    rs3.close();
                                }
                            }
                            htmlContent.append("</td>"
                                    + "<td valign='top'>");
                            try {
                                rs3 = koneksi.prepareStatement(
                                        "select master_rencana_keperawatan.rencana_keperawatan from master_rencana_keperawatan "
                                        + "inner join penilaian_awal_keperawatan_ranap_rencana on penilaian_awal_keperawatan_ranap_rencana.kode_rencana=master_rencana_keperawatan.kode_rencana "
                                        + "where penilaian_awal_keperawatan_ranap_rencana.no_rawat='" + norawat + "' and penilaian_awal_keperawatan_ranap_rencana.tanggal='" + rs2.getString("tanggal") + "' order by penilaian_awal_keperawatan_ranap_rencana.kode_rencana").executeQuery();
                                while (rs3.next()) {
                                    htmlContent.append(rs3.getString("rencana_keperawatan")).append("<br>");
                                }
                            } catch (Exception e) {
                                System.out.println("Notif : " + e);
                            } finally {
                                if (rs3 != null) {
                                    rs3.close();
                                }
                            }
                            htmlContent.append(rs2.getString("rencana")).append("</td></tr></table></td></tr>");
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>"
                                + "</table>"
                                + "</fieldset>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Asuhan Kebidanan Rawat Inap: " + e);
        }
    }

    private void menampilkanBerkasDigital(String norawat) {
        if (!chkBerkasDigital.isSelected()) {
            return;
        }

        String sql = "SELECT master_berkas_digital.nama, berkas_digital_perawatan.lokasi_file "
                + "FROM berkas_digital_perawatan "
                + "INNER JOIN master_berkas_digital ON berkas_digital_perawatan.kode = master_berkas_digital.kode "
                + "WHERE berkas_digital_perawatan.no_rawat = ? "
                + "ORDER BY berkas_digital_perawatan.kode";

        try ( PreparedStatement ps = koneksi.prepareStatement(sql)) {
            ps.setString(1, norawat);
            try ( ResultSet rs2 = ps.executeQuery()) {
                if (rs2.next()) {
                    htmlContent.append(
                            "<br><br><br>"
                            + "<p class='pagebreak'>"
                            + "<fieldset>"
                            + "<h2><center>BERKAS DIGITAL PERAWATAN</center></h2>");

                    // Tabel informasi pasien
                    htmlContent.append("<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>")
                            .append("<tr><td valign='top' width='20%'>No.Rekam Medis</td><td valign='top' width='1%' align='center'>:</td><td valign='top' width='79%'>").append(rs.getString("no_rkm_medis")).append("</td></tr>")
                            .append("<tr><td valign='top' width='20%'>Nama Pasien</td><td valign='top' width='1%' align='center'>:</td><td valign='top' width='79%'>").append(rs.getString("nm_pasien")).append("</td></tr>")
                            .append("<tr><td valign='top' width='20%'>Tgl. Lahir</td><td valign='top' width='1%' align='center'>:</td><td valign='top' width='79%'>").append(rs.getString("tgl_lahir")).append("</td></tr>")
                            .append("<tr><td valign='top' width='20%'>No.Rawat</td><td valign='top' width='1%' align='center'>:</td><td valign='top' width='79%'>").append(rs.getString("no_rawat")).append("</td></tr>");

                    if ("Ranap".equals(rs.getString("status_lanjut"))) {
                        String sqlDpjp = "SELECT dokter.nm_dokter FROM dpjp_ranap "
                                + "INNER JOIN dokter ON dpjp_ranap.kd_dokter = dokter.kd_dokter "
                                + "WHERE dpjp_ranap.no_rawat = ?";
                        try ( PreparedStatement psDpjp = koneksi.prepareStatement(sqlDpjp)) {
                            psDpjp.setString(1, rs.getString("no_rawat"));
                            try ( ResultSet rs3 = psDpjp.executeQuery()) {
                                if (rs3.next()) {
                                    htmlContent.append("<tr><td valign='top' width='20%'>DPJP Ranap</td><td valign='top' width='1%' align='center'>:</td><td valign='top' width='79%'>");
                                    int urutdpjp = 1;
                                    do {
                                        htmlContent.append(urutdpjp).append(". ").append(rs3.getString("nm_dokter")).append("&nbsp;&nbsp;");
                                        urutdpjp++;
                                    } while (rs3.next());
                                    htmlContent.append("</td></tr>");
                                }
                            }
                        }
                    }

                    htmlContent.append("<tr><td valign='top' width='20%'>Cara Bayar</td><td valign='top' width='1%' align='center'>:</td><td valign='top' width='79%'>")
                            .append(rs.getString("png_jawab")).append("</td></tr>")
                            .append("</table><br>");

                    // Tabel berkas digital
                    htmlContent.append("<table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>")
                            .append("<tr align='center'>")
                            .append("<td valign='top' width='4%' bgcolor='#FFFAF8'>No.</td>")
                            .append("<td valign='top' width='16%' bgcolor='#FFFAF8'>Nama Berkas</td>")
                            .append("<td valign='top' width='80%' bgcolor='#FFFAF8'>Berkas Digital</td>")
                            .append("</tr>");

                    int w = 1;
                    do {
                        String fileName = rs2.getString("lokasi_file");
                        String fileURL = "http://" + koneksiDB.HOSTHYBRIDWEB() + ":" + koneksiDB.PORTWEB() + "/" + koneksiDB.HYBRIDWEB() + "/berkasrawat/" + fileName;

                        htmlContent.append("<tr><td valign='top' align='center'>").append(w).append("</td>")
                                .append("<td valign='top' align='center'>").append(rs2.getString("nama")).append("</td>");

                        if (fileName.toLowerCase().endsWith(".jpg") || fileName.toLowerCase().endsWith(".jpeg")) {
                            htmlContent.append("<td valign='top' align='center'>")
                                    .append("<a href='").append(fileURL).append("'>")
                                    .append("<img alt='Berkas Digital' src='").append(fileURL).append("' style='width: 595px; height: auto; max-height: 842px;'/></a></td>");
                        } else if (fileName.toLowerCase().endsWith(".pdf")) {
                            htmlContent.append("<td valign='top' align='center'>");
                            processPdfFile(fileURL, rs2.getString("nama"), w);
                            htmlContent.append("</td>");
                        } else {
                            htmlContent.append("<td valign='top'><a href='").append(fileURL).append("'>")
                                    .append(rs2.getString("nama")).append("_")
                                    .append(fileName.replace("pages/upload/", ""))
                                    .append("</a></td>");
                        }
                        htmlContent.append("</tr>");
                        w++;
                    } while (rs2.next());

                    htmlContent.append("</table>");
                    htmlContent.append("</fieldset></p>");
                }
            }
        } catch (SQLException e) {
            System.out.println("Notif Berkas Digital: " + e.getMessage());
        }
    }

    private void processPdfFile(String fileURL, String fileName, int index) {
        try {
            URL url = new URL(fileURL);
            HttpURLConnection connection = (HttpURLConnection) url.openConnection();
            connection.setRequestMethod("GET");
            try ( InputStream inputStream = new BufferedInputStream(connection.getInputStream());  PDDocument document = PDDocument.load(inputStream)) {
                PDFRenderer pdfRenderer = new PDFRenderer(document);
                for (int page = 0; page < document.getNumberOfPages(); page++) {
                    // Gunakan DPI 150 untuk kualitas lebih baik
                    BufferedImage image = pdfRenderer.renderImageWithDPI(page, 150);
                    // Simpan gambar sebagai file sementara
                    String tempImagePath = saveImageAsTemporaryFile(image, fileName + "_Page_" + (page + 1));
                    // Menyesuaikan ukuran gambar ke ukuran A4 di HTML tanpa text "Halaman"
                    htmlContent.append("<img src='file:///" + tempImagePath + "' style='width: 595px; height: auto; max-height: 842px;'/><br>");
                }
            }
        } catch (IOException e) {
            System.err.println("Error saat memproses file PDF: " + e.getMessage());
            e.printStackTrace();
        }
    }

    private String saveImageAsTemporaryFile(BufferedImage image, String fileName) {
        try {
            // Direktori penyimpanan sementara
            String tempDir = "tempFile";
            Path tempDirPath = Paths.get(tempDir);

            // Membuat direktori jika belum ada
            if (!Files.exists(tempDirPath)) {
                Files.createDirectories(tempDirPath);
            }

            // Membersihkan nama file dari karakter ilegal
            String cleanFileName = fileName.replaceAll("[^a-zA-Z0-9.-]", "_");

            // Menambahkan timestamp untuk membuat nama file unik
            long timestamp = System.currentTimeMillis();
            File tempFile = new File(tempDir, cleanFileName + "_" + timestamp + ".png");

            // Menyimpan gambar dalam format PNG
            ImageIO.write(image, "png", tempFile);

            // Mengembalikan path dalam format HTML-friendly
            return tempFile.getAbsolutePath().replace("\\", "/");
        } catch (IOException e) {
            System.err.println("Error saat menyimpan file sementara: " + e.getMessage());
            e.printStackTrace();
            return null;
        }
    }

    private void menampilkanAsuhanMedisRawatJalanPsikiatrik(String norawat) {
        try {
            if (chkAsuhanMedisRalanPsikiatri.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select penilaian_medis_ralan_psikiatrik.tanggal,penilaian_medis_ralan_psikiatrik.kd_dokter,penilaian_medis_ralan_psikiatrik.anamnesis,penilaian_medis_ralan_psikiatrik.hubungan,"
                            + "penilaian_medis_ralan_psikiatrik.keluhan_utama,penilaian_medis_ralan_psikiatrik.rps,penilaian_medis_ralan_psikiatrik.rpk,penilaian_medis_ralan_psikiatrik.rpd,penilaian_medis_ralan_psikiatrik.rpo,"
                            + "penilaian_medis_ralan_psikiatrik.penampilan,penilaian_medis_ralan_psikiatrik.pembicaraan,penilaian_medis_ralan_psikiatrik.psikomotor,penilaian_medis_ralan_psikiatrik.sikap,penilaian_medis_ralan_psikiatrik.mood,"
                            + "penilaian_medis_ralan_psikiatrik.fungsi_kognitif,penilaian_medis_ralan_psikiatrik.gangguan_persepsi,penilaian_medis_ralan_psikiatrik.proses_pikir,penilaian_medis_ralan_psikiatrik.pengendalian_impuls,"
                            + "penilaian_medis_ralan_psikiatrik.tilikan,penilaian_medis_ralan_psikiatrik.rta,penilaian_medis_ralan_psikiatrik.keadaan,penilaian_medis_ralan_psikiatrik.gcs,penilaian_medis_ralan_psikiatrik.kesadaran,"
                            + "penilaian_medis_ralan_psikiatrik.td,penilaian_medis_ralan_psikiatrik.nadi,penilaian_medis_ralan_psikiatrik.rr,penilaian_medis_ralan_psikiatrik.suhu,penilaian_medis_ralan_psikiatrik.spo,"
                            + "penilaian_medis_ralan_psikiatrik.bb,penilaian_medis_ralan_psikiatrik.tb,penilaian_medis_ralan_psikiatrik.kepala,penilaian_medis_ralan_psikiatrik.gigi,penilaian_medis_ralan_psikiatrik.tht,"
                            + "penilaian_medis_ralan_psikiatrik.thoraks,penilaian_medis_ralan_psikiatrik.abdomen,penilaian_medis_ralan_psikiatrik.ekstremitas,penilaian_medis_ralan_psikiatrik.genital,penilaian_medis_ralan_psikiatrik.kulit,"
                            + "penilaian_medis_ralan_psikiatrik.ket_fisik,penilaian_medis_ralan_psikiatrik.alergi,penilaian_medis_ralan_psikiatrik.penunjang,penilaian_medis_ralan_psikiatrik.diagnosis,penilaian_medis_ralan_psikiatrik.tata,"
                            + "penilaian_medis_ralan_psikiatrik.konsulrujuk,dokter.nm_dokter "
                            + "from penilaian_medis_ralan_psikiatrik inner join dokter on penilaian_medis_ralan_psikiatrik.kd_dokter=dokter.kd_dokter where penilaian_medis_ralan_psikiatrik.no_rawat='" + norawat + "'").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<fieldset>"
                                + "<h2><center>ASUHAN MEDIS RAWAT JALAN PSIKIATRIK</center></h2>"
                                + "<table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Penilaian Awal Medis Rawat Jalan Psikiatri</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                        );
                        rs2.beforeFirst();
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top'>YANG MELAKUKAN PENGKAJIAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='33%' border='0'>Tanggal : ").append(rs2.getString("tanggal")).append("</td><td width='33%' border='0'>Dokter : ").append(rs2.getString("kd_dokter")).append(" ").append(rs2.getString("nm_dokter")).append("</td><td width='33%' border='0'>Anamnesis : ").append(rs2.getString("anamnesis")).append(rs2.getString("hubungan").isEmpty() ? "" : ", " + rs2.getString("hubungan")).append("</td></tr></table></td></tr><tr><td valign='top'>I. RIWAYAT KESEHATAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td colspan='2'>Keluhan Utama : ").append(rs2.getString("keluhan_utama").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td colspan='2'>Riwayat Penyakit Sekarang : ").append(rs2.getString("rps").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='50%'>Riwayat Penyakit Fisik & Neurologi : ").append(rs2.getString("rpk").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td><td width='50%'>Riwayat Penyakit Dahulu : ").append(rs2.getString("rpd").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='50%'>Riwayat NAPZA : ").append(rs2.getString("rpo").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td><td width='50%'>Riwayat Alergi : ").append(rs2.getString("alergi")).append("</td></tr></table></td></tr><tr><td valign='top'>II. STATUS PSIKIATRIK<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='50%'>Penampilan : ").append(rs2.getString("penampilan").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td><td width='50%'>Gangguan Persepsi : ").append(rs2.getString("gangguan_persepsi")).append("</td></tr><tr><td width='50%'>Pembicaraan : ").append(rs2.getString("pembicaraan").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td><td width='50%'>Proses Pikir & Isi Pikir : ").append(rs2.getString("proses_pikir")).append("</td></tr><tr><td width='50%'>Psikomotor : ").append(rs2.getString("psikomotor").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td><td width='50%'>Pengendalian Impuls : ").append(rs2.getString("pengendalian_impuls")).append("</td></tr><tr><td width='50%'>Sikap : ").append(rs2.getString("sikap").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td><td width='50%'>Tilikan : ").append(rs2.getString("tilikan")).append("</td></tr><tr><td width='50%'>Mood / Afek : ").append(rs2.getString("mood").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td><td width='50%'>Reality Testing Ability : ").append(rs2.getString("rta")).append("</td></tr><tr><td width='50%'>Fungsi Kognitif : ").append(rs2.getString("fungsi_kognitif").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td><td width='50%'></td></tr></table></td></tr><tr><td valign='top'>III. PEMERIKSAAN FISIK<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='25%' border='0'>Keadaan Umum : ").append(rs2.getString("keadaan")).append("</td><td width='25%' border='0'>Kesadaran : ").append(rs2.getString("kesadaran")).append("</td><td width='25%' border='0'>GCS(E,V,M) : ").append(rs2.getString("gcs")).append("</td><td width='25%' border='0'>TB : ").append(rs2.getString("tb")).append(" Cm</td></tr><tr><td width='25%' border='0'>BB : ").append(rs2.getString("bb")).append(" Kg</td><td width='25%' border='0'>TD : ").append(rs2.getString("td")).append(" mmHg</td><td width='25%' border='0'>Nadi : ").append(rs2.getString("nadi")).append(" x/menit</td><td width='25%' border='0'>RR : ").append(rs2.getString("rr")).append(" x/menit</td></tr><tr><td width='25%' border='0'>Suhu : ").append(rs2.getString("suhu")).append(" \u00b0C</td><td width='25%' border='0'>SpO2 : ").append(rs2.getString("spo")).append(" %</td><td width='25%' border='0'>Kepala : ").append(rs2.getString("kepala")).append("</td><td width='25%' border='0'>Gigi & Mulut : ").append(rs2.getString("gigi")).append("</td></tr><tr><td width='25%' border='0'>THT : ").append(rs2.getString("tht")).append("</td><td width='25%' border='0'>Thoraks : ").append(rs2.getString("thoraks")).append("</td><td width='25%' border='0'>Abdomen : ").append(rs2.getString("abdomen")).append("</td><td width='25%' border='0'>Genital & Anus : ").append(rs2.getString("genital")).append("</td></tr><tr><td width='25%' border='0'>Ekstremitas : ").append(rs2.getString("ekstremitas")).append("</td><td width='25%' border='0'>Kulit : ").append(rs2.getString("kulit")).append("</td><td width='50%' border='0' colpan='2'>Keterangan Fisik : ").append(rs2.getString("ket_fisik")).append("</td></tr></table></td></tr><tr><td valign='top'>IV. PEMERIKSAAN PENUNJANG<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>").append(rs2.getString("penunjang").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>V. DIAGNOSIS/ASESMEN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>").append(rs2.getString("diagnosis").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>VI. TATALAKSANA<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>").append(rs2.getString("tata").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>VII. KONSUL/RUJUK<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>").append(rs2.getString("konsulrujuk").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr>");
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>"
                                + "</table>"
                                + "</fieldset>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Asuhan Medis Rawat Jalan THT : " + e);
        }
    }

    private void menampilkanAsuhanMedisRawatJalanPenyakitDalam(String norawat) {
        try {
            if (chkAsuhanMedisRalanPenyakitDalam.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select penilaian_medis_ralan_penyakit_dalam.tanggal,penilaian_medis_ralan_penyakit_dalam.kd_dokter,penilaian_medis_ralan_penyakit_dalam.anamnesis,penilaian_medis_ralan_penyakit_dalam.hubungan,"
                            + "penilaian_medis_ralan_penyakit_dalam.keluhan_utama,penilaian_medis_ralan_penyakit_dalam.rps,penilaian_medis_ralan_penyakit_dalam.rpd,penilaian_medis_ralan_penyakit_dalam.rpo,penilaian_medis_ralan_penyakit_dalam.alergi,"
                            + "penilaian_medis_ralan_penyakit_dalam.kondisi,penilaian_medis_ralan_penyakit_dalam.status,penilaian_medis_ralan_penyakit_dalam.td,penilaian_medis_ralan_penyakit_dalam.nadi,"
                            + "penilaian_medis_ralan_penyakit_dalam.suhu,penilaian_medis_ralan_penyakit_dalam.rr,penilaian_medis_ralan_penyakit_dalam.bb,penilaian_medis_ralan_penyakit_dalam.nyeri,penilaian_medis_ralan_penyakit_dalam.gcs,"
                            + "penilaian_medis_ralan_penyakit_dalam.kepala,penilaian_medis_ralan_penyakit_dalam.thoraks,penilaian_medis_ralan_penyakit_dalam.abdomen,penilaian_medis_ralan_penyakit_dalam.ekstremitas,"
                            + "penilaian_medis_ralan_penyakit_dalam.lainnya,penilaian_medis_ralan_penyakit_dalam.lab,penilaian_medis_ralan_penyakit_dalam.rad,penilaian_medis_ralan_penyakit_dalam.penunjanglain,"
                            + "penilaian_medis_ralan_penyakit_dalam.diagnosis,penilaian_medis_ralan_penyakit_dalam.diagnosis2,penilaian_medis_ralan_penyakit_dalam.permasalahan,penilaian_medis_ralan_penyakit_dalam.terapi,"
                            + "penilaian_medis_ralan_penyakit_dalam.tindakan,penilaian_medis_ralan_penyakit_dalam.edukasi,dokter.nm_dokter,penilaian_medis_ralan_penyakit_dalam.keterangan_kepala,penilaian_medis_ralan_penyakit_dalam.keterangan_thorak,"
                            + "penilaian_medis_ralan_penyakit_dalam.keterangan_abdomen,penilaian_medis_ralan_penyakit_dalam.keterangan_ekstremitas "
                            + "from penilaian_medis_ralan_penyakit_dalam inner join dokter on penilaian_medis_ralan_penyakit_dalam.kd_dokter=dokter.kd_dokter "
                            + "where penilaian_medis_ralan_penyakit_dalam.no_rawat='" + norawat + "'").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<fieldset>"
                                + "<h2><center>ASUHAN MEDIS RAWAT JALAN PENYAKIT DALAM</center></h2>"
                                + "<table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Penilaian Awal Medis Rawat Jalan Penyakit Dalam</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                        );
                        rs2.beforeFirst();
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top'>YANG MELAKUKAN PENGKAJIAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='33%' border='0'>Tanggal : ").append(rs2.getString("tanggal")).append("</td><td width='33%' border='0'>Dokter : ").append(rs2.getString("kd_dokter")).append(" ").append(rs2.getString("nm_dokter")).append("</td><td width='33%' border='0'>Anamnesis : ").append(rs2.getString("anamnesis")).append(rs2.getString("hubungan").isEmpty() ? "" : ", " + rs2.getString("hubungan")).append("</td></tr></table></td></tr><tr><td valign='top'>I. RIWAYAT KESEHATAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td colspan='2'>Keluhan Utama : ").append(rs2.getString("keluhan_utama").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='50%'>Riwayat Penyakit Sekarang : ").append(rs2.getString("rps").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td><td width='50%'>Riwayat Penyakit Dahulu : ").append(rs2.getString("rpd").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='50%'>Riwayat Penggunaan Obat : ").append(rs2.getString("rpo").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td><td width='50%'>Riwayat Alergi : ").append(rs2.getString("alergi")).append("</td></tr></table></td></tr><tr><td valign='top'>II. PEMERIKSAAN FISIK<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='25%' border='0'>Status Nutrisi : ").append(rs2.getString("status")).append("</td><td width='25%' border='0'>TD : ").append(rs2.getString("td")).append(" mmHg</td><td width='25%' border='0'>Nadi : ").append(rs2.getString("nadi")).append(" x/menit</td><td width='25%' border='0'>Suhu : ").append(rs2.getString("suhu")).append(" \u00b0C</td></tr><tr><td width='25%' border='0'>RR : ").append(rs2.getString("rr")).append(" x/menit</td><td width='25%' border='0'>BB : ").append(rs2.getString("bb")).append(" Kg</td><td width='25%' border='0'>Nyeri : ").append(rs2.getString("nyeri")).append("</td><td width='25%' border='0'>GCS(E,V,M) : ").append(rs2.getString("gcs")).append("</td></tr></table></td></tr><tr><td valign='top'>III. STATUS KELAINAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='50%'>Kepala : ").append(rs2.getString("kepala")).append(rs2.getString("keterangan_kepala").isEmpty() ? "" : ", " + rs2.getString("keterangan_kepala")).append("</td><td width='50%'>Thoraks : ").append(rs2.getString("thoraks")).append(rs2.getString("keterangan_thorak").isEmpty() ? "" : ", " + rs2.getString("keterangan_thorak")).append("</td></tr><tr><td width='50%'>Abdomen : ").append(rs2.getString("abdomen")).append(rs2.getString("keterangan_abdomen").isEmpty() ? "" : ", " + rs2.getString("keterangan_abdomen")).append("</td><td width='50%'>Ekstremitas : ").append(rs2.getString("ekstremitas")).append(rs2.getString("keterangan_ekstremitas").isEmpty() ? "" : ", " + rs2.getString("keterangan_ekstremitas")).append("</td></tr><tr><td width='100%' colspan='2'>Lainnya : ").append(rs2.getString("lainnya").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>IV. PEMERIKSAAN PENUNJANG<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%'>Laboratorium : ").append(rs2.getString("lab").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='100%'>Radiologi : ").append(rs2.getString("rad").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='100%'>Penunjang Lainnya : ").append(rs2.getString("penunjanglain").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>V. DIAGNOSIS/ASESMEN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%'>Asesmen Kerja : ").append(rs2.getString("diagnosis").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='100%'>Asesmen Banding : ").append(rs2.getString("diagnosis2").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>VI. PERMASALAHAN & TATALAKSANA<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>Permasalahan : ").append(rs2.getString("permasalahan").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='100%' border='0'>Terapi/Pengobatan : ").append(rs2.getString("terapi").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='100%' border='0'>Tindakan/Rencana Tindakan : ").append(rs2.getString("tindakan").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>VII. EDUKASI<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>").append(rs2.getString("edukasi").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr>");
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>"
                                + "</table>"
                                + "</fieldset>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Asuhan Medis Rawat Jalan : " + e);
        }
    }

    private void menampilkanAsuhanMedisRawatJalanGeriatri(String norawat) {
        try {
            if (chkAsuhanMedisRalanGeriatri.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select penilaian_medis_ralan_geriatri.tanggal,penilaian_medis_ralan_geriatri.kd_dokter,dokter.nm_dokter,penilaian_medis_ralan_geriatri.anamnesis,penilaian_medis_ralan_geriatri.hubungan,penilaian_medis_ralan_geriatri.keluhan_utama,"
                            + "penilaian_medis_ralan_geriatri.rps,penilaian_medis_ralan_geriatri.rpd,penilaian_medis_ralan_geriatri.rpo,penilaian_medis_ralan_geriatri.alergi,penilaian_medis_ralan_geriatri.tulang_belakang,"
                            + "penilaian_medis_ralan_geriatri.td,penilaian_medis_ralan_geriatri.nadi,penilaian_medis_ralan_geriatri.suhu,penilaian_medis_ralan_geriatri.rr,penilaian_medis_ralan_geriatri.kondisi_umum,"
                            + "penilaian_medis_ralan_geriatri.status_psikologis_gds,penilaian_medis_ralan_geriatri.kondisi_sosial,penilaian_medis_ralan_geriatri.status_kognitif_mmse,penilaian_medis_ralan_geriatri.kepala,"
                            + "penilaian_medis_ralan_geriatri.keterangan_kepala,penilaian_medis_ralan_geriatri.thoraks,penilaian_medis_ralan_geriatri.keterangan_thoraks,penilaian_medis_ralan_geriatri.abdomen,"
                            + "penilaian_medis_ralan_geriatri.keterangan_abdomen,penilaian_medis_ralan_geriatri.ekstremitas,penilaian_medis_ralan_geriatri.keterangan_ekstremitas,penilaian_medis_ralan_geriatri.Integument_kebersihan,"
                            + "penilaian_medis_ralan_geriatri.Integument_warna,penilaian_medis_ralan_geriatri.Integument_kelembaban,penilaian_medis_ralan_geriatri.Integument_gangguan_kulit,penilaian_medis_ralan_geriatri.status_fungsional,"
                            + "penilaian_medis_ralan_geriatri.skrining_jatuh,penilaian_medis_ralan_geriatri.status_nutrisi,penilaian_medis_ralan_geriatri.lainnya,penilaian_medis_ralan_geriatri.lab,penilaian_medis_ralan_geriatri.rad,"
                            + "penilaian_medis_ralan_geriatri.pemeriksaan,penilaian_medis_ralan_geriatri.diagnosis,penilaian_medis_ralan_geriatri.diagnosis2,penilaian_medis_ralan_geriatri.permasalahan,penilaian_medis_ralan_geriatri.terapi,"
                            + "penilaian_medis_ralan_geriatri.tindakan,penilaian_medis_ralan_geriatri.edukasi "
                            + "from penilaian_medis_ralan_geriatri inner join dokter on penilaian_medis_ralan_geriatri.kd_dokter=dokter.kd_dokter "
                            + "where penilaian_medis_ralan_geriatri.no_rawat='" + norawat + "'").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<fieldset>"
                                + "<h2><center>ASUHAN MEDIS RAWAT JALAN GERIATRI</center></h2>"
                                + "<table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Penilaian Awal Medis Rawat Jalan Geriatri</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                        );
                        rs2.beforeFirst();
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top'>YANG MELAKUKAN PENGKAJIAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='33%' border='0'>Tanggal : ").append(rs2.getString("tanggal")).append("</td><td width='33%' border='0'>Dokter : ").append(rs2.getString("kd_dokter")).append(" ").append(rs2.getString("nm_dokter")).append("</td><td width='33%' border='0'>Anamnesis : ").append(rs2.getString("anamnesis")).append(rs2.getString("hubungan").isEmpty() ? "" : ", " + rs2.getString("hubungan")).append("</td></tr></table></td></tr><tr><td valign='top'>I. RIWAYAT KESEHATAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td colspan='2'>Keluhan Utama : ").append(rs2.getString("keluhan_utama").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='50%'>Riwayat Penyakit Sekarang : ").append(rs2.getString("rps").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td><td width='50%'>Riwayat Penyakit Dahulu : ").append(rs2.getString("rpd").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='50%'>Riwayat Penggunaan Obat : ").append(rs2.getString("rpo").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td><td width='50%'>Riwayat Alergi : ").append(rs2.getString("alergi")).append("</td></tr></table></td></tr><tr><td valign='top'>II. PEMERIKSAAN FISIK<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='75%' border='0' colspan='3'>Kondisi Umum : ").append(rs2.getString("kondisi_umum").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td><td width='25%' border='0'>Postur Tulang Belakang : ").append(rs2.getString("tulang_belakang")).append("</td></tr><tr><td width='25%' border='0'>TD : ").append(rs2.getString("td")).append(" mmHg</td><td width='25%' border='0'>Nadi : ").append(rs2.getString("nadi")).append(" x/menit</td><td width='25%' border='0'>Suhu : ").append(rs2.getString("suhu")).append(" \u00b0C</td><td width='25%' border='0'>RR : ").append(rs2.getString("rr")).append(" x/menit</td></tr></table></td></tr><tr><td valign='top'>III. STATUS KELAINAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='50%' border='0'>Kepala : ").append(rs2.getString("kepala")).append(rs2.getString("keterangan_kepala").isEmpty() ? "" : ", " + rs2.getString("keterangan_kepala")).append("</td><td width='50%' border='0'>Thoraks : ").append(rs2.getString("thoraks")).append(rs2.getString("keterangan_thoraks").isEmpty() ? "" : ", " + rs2.getString("keterangan_thoraks")).append("</td></tr><tr><td width='50%' border='0'>Abdomen : ").append(rs2.getString("abdomen")).append(rs2.getString("keterangan_abdomen").isEmpty() ? "" : ", " + rs2.getString("keterangan_abdomen")).append("</td><td width='50%' border='0'>Ekstremitas : ").append(rs2.getString("ekstremitas")).append(rs2.getString("keterangan_ekstremitas").isEmpty() ? "" : ", " + rs2.getString("keterangan_ekstremitas")).append("</td></tr><tr><td width='100%' border='0' colspan='2'>Integument :</td></tr><tr><td width='50%' border='0' style='margin-left: 10px'>Kebersihan : ").append(rs2.getString("Integument_kebersihan")).append("</td><td width='50%' border='0' style='margin-left: 10px'>Warna : ").append(rs2.getString("Integument_warna")).append("</td></tr><tr><td width='50%' border='0' style='margin-left: 10px'>Kelembaban : ").append(rs2.getString("Integument_kelembaban")).append("</td><td width='50%' border='0' style='margin-left: 10px'>Gangguan Kulit : ").append(rs2.getString("Integument_gangguan_kulit")).append("</td></tr><tr><td width='100%' border='0' colspan='2'>Lainnya : ").append(rs2.getString("lainnya").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='100%' border='0' colspan='2'>Kondisi Sosial : ").append(rs2.getString("kondisi_sosial").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='50%' border='0'>Kognitif (MMSE) : ").append(rs2.getString("status_kognitif_mmse")).append("</td><td width='50%' border='0'>Nutrisi (MNA) : ").append(rs2.getString("status_nutrisi")).append("</td></tr><tr><td width='50%' border='0'>Risiko Jatuh (OMS) : ").append(rs2.getString("skrining_jatuh")).append("</td><td width='50%' border='0'>Fungsional (BARTHEL INDEX) : ").append(rs2.getString("status_fungsional")).append("</td></tr><tr><td width='100%' colspan='2'>Psikologis GDS (Geriatric Depression Scale) : ").append(rs2.getString("status_psikologis_gds")).append("</td></tr></table></td></tr><tr><td valign='top'>IV. PEMERIKSAAN PENUNJANG<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%'>Laboratorium : ").append(rs2.getString("lab").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='100%'>Radiologi : ").append(rs2.getString("rad").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='100%'>Penunjang Lainnya : ").append(rs2.getString("pemeriksaan").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>V. DIAGNOSIS/ASESMEN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%'>Asesmen Kerja : ").append(rs2.getString("diagnosis").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='100%'>Asesmen Banding : ").append(rs2.getString("diagnosis2").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>VI. PERMASALAHAN & TATALAKSANA<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>Permasalahan : ").append(rs2.getString("permasalahan").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='100%' border='0'>Terapi/Pengobatan : ").append(rs2.getString("terapi").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='100%' border='0'>Tindakan/Rencana Tindakan : ").append(rs2.getString("tindakan").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>VII. EDUKASI<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>").append(rs2.getString("edukasi").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr>");
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>"
                                + "</table>"
                                + "</fieldset>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Asuhan Medis Rawat Jalan : " + e);
        }
    }

    private void menampilkanOdontogram(String norawat) {
        try {
            if (chkOdontogram.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select pemeriksaan_gigi.no_rawat,pemeriksaan_gigi.kd_dokter,dokter.nm_dokter,pemeriksaan_gigi.bagian,pemeriksaan_gigi.kd_diagnosa,"
                            + "penyakit.nm_penyakit,pemeriksaan_gigi.hasil,pemeriksaan_gigi.catatan,pemeriksaan_gigi.tanggal,pemeriksaan_gigi.noorder,pemeriksaan_gigi.rahang "
                            + "from pemeriksaan_gigi inner join penyakit on pemeriksaan_gigi.kd_diagnosa=penyakit.kd_penyakit inner join dokter on "
                            + "pemeriksaan_gigi.kd_dokter=dokter.kd_dokter "
                            + "where pemeriksaan_gigi.no_rawat='" + norawat + "' group by pemeriksaan_gigi.tanggal,dokter.kd_dokter").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<fieldset>"
                                + "<h2><center>ODONTOGRAM</center></h2>"
                                + "<table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Odontogram</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr align='center'>"
                                + "<td valign='top' width='4%' bgcolor='#FFFAF8'>No.</td>"
                                + "<td valign='top' width='16%' bgcolor='#FFFAF8'>Tanggal</td>"
                                + "<td valign='top' width='80%' bgcolor='#FFFAF8' colspan='7'>Dokter</td>"
                                + "</tr>"
                        );
                        rs2.beforeFirst();
                        w = 1;
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top' align='center'>").append(w).append("</td><td valign='top'>").append(rs2.getString("tanggal")).append("</td><td valign='top' align='center' colspan='7'>").append(rs2.getString("kd_dokter")).append(" ").append(rs2.getString("nm_dokter")).append("</td></tr>");
                            if (!rs2.getString("bagian").isEmpty()) {
                                rs5 = koneksi.prepareStatement(
                                        "select pemeriksaan_gigi.no_rawat,pemeriksaan_gigi.kd_dokter,dokter.nm_dokter,pemeriksaan_gigi.bagian,pemeriksaan_gigi.kd_diagnosa,"
                                        + "penyakit.nm_penyakit,pemeriksaan_gigi.hasil,pemeriksaan_gigi.catatan,pemeriksaan_gigi.tanggal,pemeriksaan_gigi.noorder,pemeriksaan_gigi.rahang "
                                        + "from pemeriksaan_gigi inner join penyakit on pemeriksaan_gigi.kd_diagnosa=penyakit.kd_penyakit inner join dokter on "
                                        + "pemeriksaan_gigi.kd_dokter=dokter.kd_dokter "
                                        + "where pemeriksaan_gigi.no_rawat='" + norawat + "' and pemeriksaan_gigi.kd_dokter='" + rs2.getString("kd_dokter") + "'").executeQuery();
                                if (rs5.next()) {
                                    htmlContent.append(
                                            "<tr>"
                                            + "<td valign='top' align='center' colspan='2'></td>"
                                            + "<td valign='top' align='center' bgcolor='#FFFAF8'>Bagian</td>"
                                            + "<td valign='top' align='center' bgcolor='#FFFAF8'>Hasil</td>"
                                            + "<td valign='top' align='center' bgcolor='#FFFAF8'>Rahang</td>"
                                            + "<td valign='top' align='center' colspan='2' bgcolor='#FFFAF8'>Diagnosa</td>"
                                            + "<td valign='top' align='center' colspan='2' bgcolor='#FFFAF8'>Keterangan</td>"
                                            + "</tr>");
                                    rs5.beforeFirst();
                                    while (rs5.next()) {
                                        htmlContent.append("<tr><td valign='top' align='center' colspan='2'></td><td valign='top'>").append(rs5.getString("bagian")).append("</td><td valign='top'>").append(rs5.getString("hasil")).append("</td><td valign='top'>").append(rs5.getString("rahang")).append("</td><td valign='top' colspan='2'>").append(rs5.getString("kd_diagnosa")).append(" ").append(rs5.getString("nm_penyakit")).append("</td><td valign='top' colspan='2'>").append(rs5.getString("catatan")).append("</td></tr>");
                                    }
                                    htmlContent.append(
                                            "<tr>"
                                            + "<td valign='top' align='center' colspan='2'></td>"
                                            + "<td valign='top' align='center' colspan='7' bgcolor='#FFFAF8'>Tambahan Pemeriksaan Ondontogram</td>"
                                            + "</tr>");
                                    rs6 = koneksi.prepareStatement(
                                            "select occlusi,torus_palatinus,torus_mandibularis,palatum,diastema,tambahan_diastema,gigi_anomali,tambahan_gigi_anomali,lain,d,m,f from tambahan_pemeriksaan_gigi "
                                            + "where no_rawat='" + norawat + "'").executeQuery();
                                    if (rs6.next()) {
                                        htmlContent.append("<tr><td valign='top' align='center' colspan='2'></td><td valign='top' align='center' colspan='7'><table width='100%' border='0' align='left' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td border='0'>Occlusi</td><td border='0'>:</td><td colspan='5' border='0'>").append(rs6.getString("occlusi")).append("</td></tr><tr><td border='0'>Torus Palatinus</td><td border='0'>:</td><td colspan='5' border='0'>").append(rs6.getString("torus_palatinus")).append("</td></tr><tr><td border='0'>Torus Mandibularis</td><td border='0'>:</td><td colspan='5' border='0'>").append(rs6.getString("torus_mandibularis")).append("</td></tr><tr><td border='0'>Palatum</td><td border='0'>:</td><td colspan='5' border='0'>").append(rs6.getString("palatum")).append("</td></tr><tr><td border='0'>Diastema</td><td border='0'>:</td><td colspan='5' border='0'>").append(rs6.getString("diastema")).append("</td></tr><tr><td border='0'>Catatan Diastema</td><td border='0'>:</td><td colspan='5' border='0'>").append(rs6.getString("tambahan_diastema")).append("</td></tr><tr><td border='0'>Gigi Anomali</td><td border='0'>:</td><td colspan='5' border='0'>").append(rs6.getString("gigi_anomali")).append("</td></tr><tr><td border='0'>Catatan Gigi Anomali</td><td border='0'>:</td><td colspan='5' border='0'>").append(rs6.getString("tambahan_gigi_anomali")).append("</td></tr><tr><td border='0'>Lain-lain</td><td border='0'>:</td><td colspan='5' border='0'>").append(rs6.getString("lain")).append("</td></tr><tr><td colspan='2' border='0'></td><td border='0'>D : ").append(rs6.getString("d")).append("</td><td border='0'>M : ").append(rs6.getString("m")).append("</td><td border='0'>F : ").append(rs6.getString("f")).append("</td><td colspan='2' border='0'></td></tr></table></td></tr>");
                                    }
                                }

                            }
                            w++;
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>"
                                + "</table>"
                                + "</fieldset>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Odontogram : " + e);
        }
    }

    private void menampilkanAsuhanMedisRawatJalanMata(String norawat) {
        try {
            if (chkAsuhanMedisRalanMata.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select penilaian_medis_ralan_mata.tanggal,penilaian_medis_ralan_mata.kd_dokter,penilaian_medis_ralan_mata.anamnesis,penilaian_medis_ralan_mata.hubungan,"
                            + "penilaian_medis_ralan_mata.keluhan_utama,penilaian_medis_ralan_mata.rps,penilaian_medis_ralan_mata.rpd,penilaian_medis_ralan_mata.rpo,penilaian_medis_ralan_mata.alergi,"
                            + "penilaian_medis_ralan_mata.status,penilaian_medis_ralan_mata.td,penilaian_medis_ralan_mata.nadi,penilaian_medis_ralan_mata.rr,penilaian_medis_ralan_mata.suhu,"
                            + "penilaian_medis_ralan_mata.nyeri,penilaian_medis_ralan_mata.bb,penilaian_medis_ralan_mata.visuskanan,penilaian_medis_ralan_mata.visuskiri,penilaian_medis_ralan_mata.cckanan,"
                            + "penilaian_medis_ralan_mata.cckiri,penilaian_medis_ralan_mata.palkanan,penilaian_medis_ralan_mata.palkiri,penilaian_medis_ralan_mata.conkanan,penilaian_medis_ralan_mata.conkiri,"
                            + "penilaian_medis_ralan_mata.corneakanan,penilaian_medis_ralan_mata.corneakiri,penilaian_medis_ralan_mata.coakanan,penilaian_medis_ralan_mata.coakiri,"
                            + "penilaian_medis_ralan_mata.pupilkanan,penilaian_medis_ralan_mata.pupilkiri,penilaian_medis_ralan_mata.lensakanan,penilaian_medis_ralan_mata.lensakiri,"
                            + "penilaian_medis_ralan_mata.funduskanan,penilaian_medis_ralan_mata.funduskiri,penilaian_medis_ralan_mata.papilkanan,penilaian_medis_ralan_mata.papilkiri,"
                            + "penilaian_medis_ralan_mata.retinakanan,penilaian_medis_ralan_mata.retinakiri,penilaian_medis_ralan_mata.makulakanan,penilaian_medis_ralan_mata.makulakiri,"
                            + "penilaian_medis_ralan_mata.tiokanan,penilaian_medis_ralan_mata.tiokiri,penilaian_medis_ralan_mata.mbokanan,penilaian_medis_ralan_mata.mbokiri,penilaian_medis_ralan_mata.lab,"
                            + "penilaian_medis_ralan_mata.rad,penilaian_medis_ralan_mata.penunjang,penilaian_medis_ralan_mata.tes,penilaian_medis_ralan_mata.pemeriksaan,"
                            + "penilaian_medis_ralan_mata.diagnosis,penilaian_medis_ralan_mata.diagnosisbdg,penilaian_medis_ralan_mata.permasalahan,penilaian_medis_ralan_mata.terapi,"
                            + "penilaian_medis_ralan_mata.tindakan,penilaian_medis_ralan_mata.edukasi,dokter.nm_dokter "
                            + "from penilaian_medis_ralan_mata inner join dokter on penilaian_medis_ralan_mata.kd_dokter=dokter.kd_dokter "
                            + "where penilaian_medis_ralan_mata.no_rawat='" + norawat + "'").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<fieldset>"
                                + "<h2><center>ASUHAN MEDIS RAWAT JALAN MATA</center></h2>"
                                + "<table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Penilaian Awal Medis Rawat Jalan Mata</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                        );
                        rs2.beforeFirst();
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top'>YANG MELAKUKAN PENGKAJIAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='33%' border='0'>Tanggal : ").append(rs2.getString("tanggal")).append("</td><td width='33%' border='0'>Dokter : ").append(rs2.getString("kd_dokter")).append(" ").append(rs2.getString("nm_dokter")).append("</td><td width='33%' border='0'>Anamnesis : ").append(rs2.getString("anamnesis")).append(rs2.getString("hubungan").isEmpty() ? "" : ", " + rs2.getString("hubungan")).append("</td></tr></table></td></tr><tr><td valign='top'>I. RIWAYAT KESEHATAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td colspan='2'>Keluhan Utama : ").append(rs2.getString("keluhan_utama").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='50%'>Riwayat Penyakit Sekarang : ").append(rs2.getString("rps").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td><td width='50%'>Riwayat Penyakit Dahulu : ").append(rs2.getString("rpd").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='50%'>Riwayat Penggunaan Obat : ").append(rs2.getString("rpo").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td><td width='50%'>Riwayat Alergi : ").append(rs2.getString("alergi")).append("</td></tr></table></td></tr><tr><td valign='top'>II. PEMERIKSAAN FISIK<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='20%' border='0'>TD : ").append(rs2.getString("td")).append(" mmHg</td><td width='20%' border='0'>BB : ").append(rs2.getString("bb")).append(" Kg</td><td width='20%' border='0'>Suhu : ").append(rs2.getString("suhu")).append(" \u00b0C</td><td width='20%' border='0'>Nadi : ").append(rs2.getString("nadi")).append(" x/menit</td><td width='20%' border='0'>RR : ").append(rs2.getString("rr")).append(" x/menit</td></tr><tr><td border='0' colspan='2'>Nyeri : ").append(rs2.getString("nyeri")).append("</td><td border='0' colspan='3'>Status Nutrisi : ").append(rs2.getString("status")).append("</td></tr></table></td></tr><tr><td valign='top'>III. STATUS OFTAMOLOGIS<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr align='center'><td valign='top' width='40%' bgcolor='#FFFAF8'>OD : Mata Kanan</td><td valign='top' width='20%' bgcolor='#FFFAF8'>Status</td><td valign='top' width='40%' bgcolor='#FFFAF8'>OS : Mata Kiri</td></tr><tr align='center'><td>").append(rs2.getString("visuskanan")).append("</td><td>Visus SC</td><td>").append(rs2.getString("visuskiri")).append("</td></tr><tr align='center'><td>").append(rs2.getString("cckanan")).append("</td><td>CC</td><td>").append(rs2.getString("cckiri")).append("</td></tr><tr align='center'><td>").append(rs2.getString("palkanan")).append("</td><td>Palpebra</td><td>").append(rs2.getString("palkiri")).append("</td></tr><tr align='center'><td>").append(rs2.getString("conkanan")).append("</td><td>Conjungtiva</td><td>").append(rs2.getString("conkiri")).append("</td></tr><tr align='center'><td>").append(rs2.getString("corneakanan")).append("</td><td>Cornea</td><td>").append(rs2.getString("corneakiri")).append("</td></tr><tr align='center'><td>").append(rs2.getString("coakanan")).append("</td><td>COA</td><td>").append(rs2.getString("coakiri")).append("</td></tr><tr align='center'><td>").append(rs2.getString("pupilkanan")).append("</td><td>Pupil</td><td>").append(rs2.getString("pupilkiri")).append("</td></tr><tr align='center'><td>").append(rs2.getString("lensakanan")).append("</td><td>Lensa</td><td>").append(rs2.getString("lensakiri")).append("</td></tr><tr align='center'><td>").append(rs2.getString("funduskanan")).append("</td><td>Fundus Media</td><td>").append(rs2.getString("funduskiri")).append("</td></tr><tr align='center'><td>").append(rs2.getString("papilkanan")).append("</td><td>Papil</td><td>").append(rs2.getString("papilkiri")).append("</td></tr><tr align='center'><td>").append(rs2.getString("retinakanan")).append("</td><td>Retina</td><td>").append(rs2.getString("retinakiri")).append("</td></tr><tr align='center'><td>").append(rs2.getString("makulakanan")).append("</td><td>Makula</td><td>").append(rs2.getString("makulakiri")).append("</td></tr><tr align='center'><td>").append(rs2.getString("tiokanan")).append("</td><td>TIO</td><td>").append(rs2.getString("tiokiri")).append("</td></tr><tr align='center'><td>").append(rs2.getString("mbokanan")).append("</td><td>MBO</td><td>").append(rs2.getString("mbokiri")).append("</td></tr></table></td></tr><tr><td valign='top'>IV. PEMERIKSAAN PENUNJANG<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%'>Laboratorium : ").append(rs2.getString("lab").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='100%'>Radiologi : ").append(rs2.getString("rad").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='100%'>Penunjang Lainnya : ").append(rs2.getString("penunjang").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='100%'>Tes Penglihatan : ").append(rs2.getString("tes").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='100%'>Pemeriksaan Lain : ").append(rs2.getString("pemeriksaan").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>V. DIAGNOSIS/ASESMEN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%'>Asesmen Kerja : ").append(rs2.getString("diagnosis").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='100%'>Asesmen Banding : ").append(rs2.getString("diagnosisbdg").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>VI. PERMASALAHAN & TATALAKSANA<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>Permasalahan : ").append(rs2.getString("permasalahan").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='100%' border='0'>Terapi/Pengobatan : ").append(rs2.getString("terapi").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='100%' border='0'>Tindakan/Rencana Tindakan : ").append(rs2.getString("tindakan").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>VII. EDUKASI<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>").append(rs2.getString("edukasi").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr>");
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>"
                                + "</table>"
                                + "</fieldset>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Asuhan Medis Rawat Jalan : " + e);
        }
    }

    private void menampilkanAsuhanMedisRawatJalanNeurologi(String norawat) {
        try {
            if (chkAsuhanMedisRalanNeurologi.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select penilaian_medis_ralan_neurologi.tanggal,penilaian_medis_ralan_neurologi.kd_dokter,penilaian_medis_ralan_neurologi.anamnesis,penilaian_medis_ralan_neurologi.hubungan,penilaian_medis_ralan_neurologi.keluhan_utama,"
                            + "penilaian_medis_ralan_neurologi.rps,penilaian_medis_ralan_neurologi.rpd,penilaian_medis_ralan_neurologi.rpo,penilaian_medis_ralan_neurologi.alergi,penilaian_medis_ralan_neurologi.kesadaran,"
                            + "penilaian_medis_ralan_neurologi.status,penilaian_medis_ralan_neurologi.td,penilaian_medis_ralan_neurologi.nadi,penilaian_medis_ralan_neurologi.suhu,penilaian_medis_ralan_neurologi.rr,"
                            + "penilaian_medis_ralan_neurologi.bb,penilaian_medis_ralan_neurologi.nyeri,penilaian_medis_ralan_neurologi.gcs,penilaian_medis_ralan_neurologi.kepala,penilaian_medis_ralan_neurologi.keterangan_kepala,"
                            + "penilaian_medis_ralan_neurologi.thoraks,penilaian_medis_ralan_neurologi.keterangan_thoraks,penilaian_medis_ralan_neurologi.abdomen,penilaian_medis_ralan_neurologi.keterangan_abdomen,"
                            + "penilaian_medis_ralan_neurologi.ekstremitas,penilaian_medis_ralan_neurologi.keterangan_ekstremitas,penilaian_medis_ralan_neurologi.columna,penilaian_medis_ralan_neurologi.keterangan_columna,"
                            + "penilaian_medis_ralan_neurologi.muskulos,penilaian_medis_ralan_neurologi.keterangan_muskulos,penilaian_medis_ralan_neurologi.lainnya,penilaian_medis_ralan_neurologi.lab,"
                            + "penilaian_medis_ralan_neurologi.rad,penilaian_medis_ralan_neurologi.penunjanglain,penilaian_medis_ralan_neurologi.diagnosis,penilaian_medis_ralan_neurologi.diagnosis2,"
                            + "penilaian_medis_ralan_neurologi.permasalahan,penilaian_medis_ralan_neurologi.terapi,penilaian_medis_ralan_neurologi.tindakan,penilaian_medis_ralan_neurologi.edukasi,dokter.nm_dokter "
                            + "from reg_periksa inner join pasien on reg_periksa.no_rkm_medis=pasien.no_rkm_medis "
                            + "inner join penilaian_medis_ralan_neurologi on reg_periksa.no_rawat=penilaian_medis_ralan_neurologi.no_rawat "
                            + "inner join dokter on penilaian_medis_ralan_neurologi.kd_dokter=dokter.kd_dokter "
                            + "where penilaian_medis_ralan_neurologi.no_rawat='" + norawat + "'").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<fieldset>"
                                + "<h2><center>ASUHAN MEDIS RAWAT JALAN NEUROLOGI</center></h2>"
                                + "<table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Penilaian Awal Medis Rawat Jalan Neurologi</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                        );
                        rs2.beforeFirst();
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top'>YANG MELAKUKAN PENGKAJIAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='33%' border='0'>Tanggal : ").append(rs2.getString("tanggal")).append("</td><td width='33%' border='0'>Dokter : ").append(rs2.getString("kd_dokter")).append(" ").append(rs2.getString("nm_dokter")).append("</td><td width='33%' border='0'>Anamnesis : ").append(rs2.getString("anamnesis")).append(rs2.getString("hubungan").isEmpty() ? "" : ", " + rs2.getString("hubungan")).append("</td></tr></table></td></tr><tr><td valign='top'>I. RIWAYAT KESEHATAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td colspan='2'>Keluhan Utama : ").append(rs2.getString("keluhan_utama").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='50%'>Riwayat Penyakit Sekarang : ").append(rs2.getString("rps").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td><td width='50%'>Riwayat Penyakit Dahulu : ").append(rs2.getString("rpd").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='50%'>Riwayat Penggunaan Obat : ").append(rs2.getString("rpo").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td><td width='50%'>Riwayat Alergi : ").append(rs2.getString("alergi")).append("</td></tr></table></td></tr><tr><td valign='top'>II. PEMERIKSAAN FISIK<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='20%' border='0'>Kesadaran : ").append(rs2.getString("kesadaran")).append("</td><td width='20%' border='0'>TD : ").append(rs2.getString("td")).append(" mmHg</td><td width='20%' border='0'>Nadi : ").append(rs2.getString("nadi")).append(" x/menit</td><td width='20%' border='0'>Suhu : ").append(rs2.getString("suhu")).append(" \u00b0C</td><td width='20%' border='0'>RR : ").append(rs2.getString("rr")).append(" x/menit</td></tr><tr><td width='20%' border='0'>Status Nutrisi : ").append(rs2.getString("status")).append("</td><td width='20%' border='0'>BB : ").append(rs2.getString("bb")).append(" Kg</td><td width='20%' border='0'>Nyeri : ").append(rs2.getString("nyeri")).append("</td><td width='20%' border='0'>GCS(E,V,M) : ").append(rs2.getString("gcs")).append("</td></tr></table></td></tr><tr><td valign='top'>III. STATUS KELAINAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='50%'>Kepala : ").append(rs2.getString("kepala")).append(rs2.getString("keterangan_kepala").isEmpty() ? "" : ", " + rs2.getString("keterangan_kepala")).append("</td><td width='50%'>Thoraks : ").append(rs2.getString("thoraks")).append(rs2.getString("keterangan_thoraks").isEmpty() ? "" : ", " + rs2.getString("keterangan_thoraks")).append("</td></tr><tr><td width='50%'>Abdomen : ").append(rs2.getString("abdomen")).append(rs2.getString("keterangan_abdomen").isEmpty() ? "" : ", " + rs2.getString("keterangan_abdomen")).append("</td><td width='50%'>Ekstremitas : ").append(rs2.getString("ekstremitas")).append(rs2.getString("keterangan_ekstremitas").isEmpty() ? "" : ", " + rs2.getString("keterangan_ekstremitas")).append("</td></tr><tr><td width='50%'>Columna Vertebralis : ").append(rs2.getString("columna")).append(rs2.getString("keterangan_columna").isEmpty() ? "" : ", " + rs2.getString("keterangan_columna")).append("</td><td width='50%'>Muskuloskeletal : ").append(rs2.getString("muskulos")).append(rs2.getString("keterangan_muskulos").isEmpty() ? "" : ", " + rs2.getString("keterangan_muskulos")).append("</td></tr><tr><td width='100%' colspan='2'>Lainnya : ").append(rs2.getString("lainnya").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>IV. PEMERIKSAAN PENUNJANG<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%'>Laboratorium : ").append(rs2.getString("lab").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='100%'>Radiologi : ").append(rs2.getString("rad").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='100%'>Penunjang Lainnya : ").append(rs2.getString("penunjanglain").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>V. DIAGNOSIS/ASESMEN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%'>Asesmen Kerja : ").append(rs2.getString("diagnosis").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='100%'>Asesmen Banding : ").append(rs2.getString("diagnosis2").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>VI. PERMASALAHAN & TATALAKSANA<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>Permasalahan : ").append(rs2.getString("permasalahan").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='100%' border='0'>Terapi/Pengobatan : ").append(rs2.getString("terapi").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='100%' border='0'>Tindakan/Rencana Tindakan : ").append(rs2.getString("tindakan").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>VII. EDUKASI<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>").append(rs2.getString("edukasi").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr>");
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>"
                                + "</table>"
                                + "</fieldset>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Asuhan Medis Rawat Jalan Neurologi : " + e);
        }
    }

    private void menampilkanAsuhanMedisRawatJalanOrthopedi(String norawat) {
        try {
            if (chkAsuhanMedisRalanOrthopedi.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select penilaian_medis_ralan_orthopedi.tanggal,penilaian_medis_ralan_orthopedi.kd_dokter,penilaian_medis_ralan_orthopedi.anamnesis,penilaian_medis_ralan_orthopedi.hubungan,penilaian_medis_ralan_orthopedi.keluhan_utama,"
                            + "penilaian_medis_ralan_orthopedi.rps,penilaian_medis_ralan_orthopedi.rpd,penilaian_medis_ralan_orthopedi.rpo,penilaian_medis_ralan_orthopedi.alergi,penilaian_medis_ralan_orthopedi.kesadaran,"
                            + "penilaian_medis_ralan_orthopedi.status,penilaian_medis_ralan_orthopedi.td,penilaian_medis_ralan_orthopedi.nadi,penilaian_medis_ralan_orthopedi.suhu,penilaian_medis_ralan_orthopedi.rr,"
                            + "penilaian_medis_ralan_orthopedi.bb,penilaian_medis_ralan_orthopedi.nyeri,penilaian_medis_ralan_orthopedi.gcs,penilaian_medis_ralan_orthopedi.kepala,penilaian_medis_ralan_orthopedi.thoraks,"
                            + "penilaian_medis_ralan_orthopedi.abdomen,penilaian_medis_ralan_orthopedi.ekstremitas,penilaian_medis_ralan_orthopedi.genetalia,penilaian_medis_ralan_orthopedi.columna,"
                            + "penilaian_medis_ralan_orthopedi.muskulos,penilaian_medis_ralan_orthopedi.lainnya,penilaian_medis_ralan_orthopedi.ket_lokalis,penilaian_medis_ralan_orthopedi.lab,"
                            + "penilaian_medis_ralan_orthopedi.rad,penilaian_medis_ralan_orthopedi.pemeriksaan,penilaian_medis_ralan_orthopedi.diagnosis,penilaian_medis_ralan_orthopedi.diagnosis2,"
                            + "penilaian_medis_ralan_orthopedi.permasalahan,penilaian_medis_ralan_orthopedi.terapi,penilaian_medis_ralan_orthopedi.tindakan,penilaian_medis_ralan_orthopedi.edukasi,dokter.nm_dokter "
                            + "from reg_periksa inner join pasien on reg_periksa.no_rkm_medis=pasien.no_rkm_medis "
                            + "inner join penilaian_medis_ralan_orthopedi on reg_periksa.no_rawat=penilaian_medis_ralan_orthopedi.no_rawat "
                            + "inner join dokter on penilaian_medis_ralan_orthopedi.kd_dokter=dokter.kd_dokter "
                            + "where penilaian_medis_ralan_orthopedi.no_rawat='" + norawat + "'").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<fieldset>"
                                + "<h2><center>ASUHAN MEDIS RAWAT JALAN ORTHOPEDI</center></h2>"
                                + "<table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Penilaian Awal Medis Rawat Jalan Orthopedi</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                        );
                        rs2.beforeFirst();
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top'>YANG MELAKUKAN PENGKAJIAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='33%' border='0'>Tanggal : ").append(rs2.getString("tanggal")).append("</td><td width='33%' border='0'>Dokter : ").append(rs2.getString("kd_dokter")).append(" ").append(rs2.getString("nm_dokter")).append("</td><td width='33%' border='0'>Anamnesis : ").append(rs2.getString("anamnesis")).append(rs2.getString("hubungan").isEmpty() ? "" : ", " + rs2.getString("hubungan")).append("</td></tr></table></td></tr><tr><td valign='top'>I. RIWAYAT KESEHATAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td colspan='2'>Keluhan Utama : ").append(rs2.getString("keluhan_utama").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='50%'>Riwayat Penyakit Sekarang : ").append(rs2.getString("rps").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td><td width='50%'>Riwayat Penyakit Dahulu : ").append(rs2.getString("rpd").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='50%'>Riwayat Penggunaan Obat : ").append(rs2.getString("rpo").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td><td width='50%'>Riwayat Alergi : ").append(rs2.getString("alergi")).append("</td></tr></table></td></tr><tr><td valign='top'>II. PEMERIKSAAN FISIK<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='25%' border='0'>Kesadaran : ").append(rs2.getString("kesadaran")).append("</td><td width='25%' border='0'>TD : ").append(rs2.getString("td")).append(" mmHg</td><td width='25%' border='0'>Nadi : ").append(rs2.getString("nadi")).append(" x/menit</td><td width='25%' border='0'>Suhu : ").append(rs2.getString("suhu")).append(" \u00b0C</td></tr><tr><td width='25%' border='0'>RR : ").append(rs2.getString("rr")).append(" x/menit</td><td width='25%' border='0'>Status Nutrisi : ").append(rs2.getString("status")).append("</td><td width='25%' border='0'>BB : ").append(rs2.getString("bb")).append(" Kg</td><td width='25%' border='0'>Nyeri : ").append(rs2.getString("nyeri")).append("</td></tr><tr><td width='25%' border='0'>GCS(E,V,M) : ").append(rs2.getString("gcs")).append("</td><td width='25%' border='0'>Kepala : ").append(rs2.getString("kepala")).append("</td><td width='25%' border='0'>Thoraks : ").append(rs2.getString("thoraks")).append("</td><td width='25%' border='0'>Abdomen : ").append(rs2.getString("abdomen")).append("</td></tr><tr><td width='25%' border='0'>Ekstremitas : ").append(rs2.getString("ekstremitas")).append("</td><td width='25%' border='0'>Columna Vertebralis : ").append(rs2.getString("columna")).append("</td><td width='25%' border='0'>Muskuloskeletal : ").append(rs2.getString("muskulos")).append("</td><td width='25%' border='0'>Genetalia Os Pubis : ").append(rs2.getString("genetalia")).append("</td></tr><tr><td width='100%' colspan='4'>Keterangan Lainnya : ").append(rs2.getString("lainnya").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>III. STATUS LOKALIS<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>").append(rs2.getString("ket_lokalis").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>IV. PEMERIKSAAN PENUNJANG<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%'>Laboratorium : ").append(rs2.getString("lab").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='100%'>Radiologi : ").append(rs2.getString("rad").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='100%'>Penunjang Lainnya : ").append(rs2.getString("pemeriksaan").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>V. DIAGNOSIS/ASESMEN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%'>Asesmen Kerja : ").append(rs2.getString("diagnosis").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='100%'>Asesmen Banding : ").append(rs2.getString("diagnosis2").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>VI. PERMASALAHAN & TATALAKSANA<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>Permasalahan : ").append(rs2.getString("permasalahan").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='100%' border='0'>Terapi/Pengobatan : ").append(rs2.getString("terapi").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='100%' border='0'>Tindakan/Rencana Tindakan : ").append(rs2.getString("tindakan").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>VII. EDUKASI<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>").append(rs2.getString("edukasi").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr>");
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>"
                                + "</table>"
                                + "</fieldset>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Asuhan Medis Rawat Jalan Orthopedi : " + e);
        }
    }

    private void menampilkanAsuhanMedisRawatJalanBedah(String norawat) {
        try {
            if (chkAsuhanMedisRalanBedah.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select penilaian_medis_ralan_bedah.tanggal,penilaian_medis_ralan_bedah.kd_dokter,penilaian_medis_ralan_bedah.anamnesis,penilaian_medis_ralan_bedah.hubungan,penilaian_medis_ralan_bedah.keluhan_utama,"
                            + "penilaian_medis_ralan_bedah.rps,penilaian_medis_ralan_bedah.rpd,penilaian_medis_ralan_bedah.rpo,penilaian_medis_ralan_bedah.alergi,penilaian_medis_ralan_bedah.kesadaran,"
                            + "penilaian_medis_ralan_bedah.status,penilaian_medis_ralan_bedah.td,penilaian_medis_ralan_bedah.nadi,penilaian_medis_ralan_bedah.suhu,penilaian_medis_ralan_bedah.rr,"
                            + "penilaian_medis_ralan_bedah.bb,penilaian_medis_ralan_bedah.nyeri,penilaian_medis_ralan_bedah.gcs,penilaian_medis_ralan_bedah.kepala,penilaian_medis_ralan_bedah.thoraks,"
                            + "penilaian_medis_ralan_bedah.abdomen,penilaian_medis_ralan_bedah.ekstremitas,penilaian_medis_ralan_bedah.genetalia,penilaian_medis_ralan_bedah.columna,"
                            + "penilaian_medis_ralan_bedah.muskulos,penilaian_medis_ralan_bedah.lainnya,penilaian_medis_ralan_bedah.ket_lokalis,penilaian_medis_ralan_bedah.lab,"
                            + "penilaian_medis_ralan_bedah.rad,penilaian_medis_ralan_bedah.pemeriksaan,penilaian_medis_ralan_bedah.diagnosis,penilaian_medis_ralan_bedah.diagnosis2,"
                            + "penilaian_medis_ralan_bedah.permasalahan,penilaian_medis_ralan_bedah.terapi,penilaian_medis_ralan_bedah.tindakan,penilaian_medis_ralan_bedah.edukasi,dokter.nm_dokter "
                            + "from reg_periksa inner join pasien on reg_periksa.no_rkm_medis=pasien.no_rkm_medis "
                            + "inner join penilaian_medis_ralan_bedah on reg_periksa.no_rawat=penilaian_medis_ralan_bedah.no_rawat "
                            + "inner join dokter on penilaian_medis_ralan_bedah.kd_dokter=dokter.kd_dokter "
                            + "where penilaian_medis_ralan_bedah.no_rawat='" + norawat + "'").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<fieldset>"
                                + "<h2><center>ASUHAN MEDIS RAWAT JALAN BEDAH</center></h2>"
                                + "<table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Penilaian Awal Medis Rawat Jalan Bedah</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                        );
                        rs2.beforeFirst();
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top'>YANG MELAKUKAN PENGKAJIAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='33%' border='0'>Tanggal : ").append(rs2.getString("tanggal")).append("</td><td width='33%' border='0'>Dokter : ").append(rs2.getString("kd_dokter")).append(" ").append(rs2.getString("nm_dokter")).append("</td><td width='33%' border='0'>Anamnesis : ").append(rs2.getString("anamnesis")).append(rs2.getString("hubungan").isEmpty() ? "" : ", " + rs2.getString("hubungan")).append("</td></tr></table></td></tr><tr><td valign='top'>I. RIWAYAT KESEHATAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td colspan='2'>Keluhan Utama : ").append(rs2.getString("keluhan_utama").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='50%'>Riwayat Penyakit Sekarang : ").append(rs2.getString("rps").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td><td width='50%'>Riwayat Penyakit Dahulu : ").append(rs2.getString("rpd").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='50%'>Riwayat Penggunaan Obat : ").append(rs2.getString("rpo").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td><td width='50%'>Riwayat Alergi : ").append(rs2.getString("alergi")).append("</td></tr></table></td></tr><tr><td valign='top'>II. PEMERIKSAAN FISIK<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='25%' border='0'>Kesadaran : ").append(rs2.getString("kesadaran")).append("</td><td width='25%' border='0'>TD : ").append(rs2.getString("td")).append(" mmHg</td><td width='25%' border='0'>Nadi : ").append(rs2.getString("nadi")).append(" x/menit</td><td width='25%' border='0'>Suhu : ").append(rs2.getString("suhu")).append(" \u00b0C</td></tr><tr><td width='25%' border='0'>RR : ").append(rs2.getString("rr")).append(" x/menit</td><td width='25%' border='0'>Status Nutrisi : ").append(rs2.getString("status")).append("</td><td width='25%' border='0'>BB : ").append(rs2.getString("bb")).append(" Kg</td><td width='25%' border='0'>Nyeri : ").append(rs2.getString("nyeri")).append("</td></tr><tr><td width='25%' border='0'>GCS(E,V,M) : ").append(rs2.getString("gcs")).append("</td><td width='25%' border='0'>Kepala : ").append(rs2.getString("kepala")).append("</td><td width='25%' border='0'>Thoraks : ").append(rs2.getString("thoraks")).append("</td><td width='25%' border='0'>Abdomen : ").append(rs2.getString("abdomen")).append("</td></tr><tr><td width='25%' border='0'>Ekstremitas : ").append(rs2.getString("ekstremitas")).append("</td><td width='25%' border='0'>Columna Vertebralis : ").append(rs2.getString("columna")).append("</td><td width='25%' border='0'>Muskuloskeletal : ").append(rs2.getString("muskulos")).append("</td><td width='25%' border='0'>Genetalia Os Pubis : ").append(rs2.getString("genetalia")).append("</td></tr><tr><td width='100%' colspan='4'>Keterangan Lainnya : ").append(rs2.getString("lainnya").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>III. STATUS LOKALIS<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>").append(rs2.getString("ket_lokalis").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>IV. PEMERIKSAAN PENUNJANG<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%'>Laboratorium : ").append(rs2.getString("lab").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='100%'>Radiologi : ").append(rs2.getString("rad").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='100%'>Penunjang Lainnya : ").append(rs2.getString("pemeriksaan").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>V. DIAGNOSIS/ASESMEN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%'>Asesmen Kerja : ").append(rs2.getString("diagnosis").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='100%'>Asesmen Banding : ").append(rs2.getString("diagnosis2").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>VI. PERMASALAHAN & TATALAKSANA<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>Permasalahan : ").append(rs2.getString("permasalahan").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='100%' border='0'>Terapi/Pengobatan : ").append(rs2.getString("terapi").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='100%' border='0'>Tindakan/Rencana Tindakan : ").append(rs2.getString("tindakan").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>VII. EDUKASI<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>").append(rs2.getString("edukasi").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr>");
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>"
                                + "</table>"
                                + "</fieldset>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Asuhan Medis Rawat Jalan Bedah : " + e);
        }
    }

    private void menampilkanEWS(String norawat) {
        try {
            //menampilkan PEWS
            if (chkPemantauanPEWSAnak.isSelected() == true) {
                htmlContent.append(
                        "<fieldset>"
                        + "<h2><center>EWS</center></h2>"
                        + "<table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>");
                try {
                    rs2 = koneksi.prepareStatement(
                            "select pemantauan_pews_anak.tanggal,pemantauan_pews_anak.parameter_perilaku,pemantauan_pews_anak.skor_perilaku,pemantauan_pews_anak.parameter_crt_atau_warna_kulit,"
                            + "pemantauan_pews_anak.skor_crt_atau_warna_kulit,pemantauan_pews_anak.parameter_perespirasi,pemantauan_pews_anak.skor_perespirasi,pemantauan_pews_anak.skor_total,"
                            + "pemantauan_pews_anak.parameter_total,pemantauan_pews_anak.nip,petugas.nama from pemantauan_pews_anak inner join petugas on pemantauan_pews_anak.nip=petugas.nip "
                            + "where pemantauan_pews_anak.no_rawat='" + norawat + "'").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Pemantauan PEWS Anak</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr align='center'>"
                                + "<td valign='middle' width='4%' bgcolor='#FFFAF8'>No.</td>"
                                + "<td valign='middle' width='25%' bgcolor='#FFFAF8'>Tanggal & Petugas</td>"
                                + "<td valign='top' width='23%' bgcolor='#FFFAF8'>Pemantauan</td>"
                                + "<td valign='top' width='43%' bgcolor='#FFFAF8'>Hasil Pemantauan</td>"
                                + "<td valign='middle' width='5%' bgcolor='#FFFAF8'>Skor</td>"
                                + "</tr>"
                        );
                        rs2.beforeFirst();
                        w = 1;
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top' valign='middle' align='center' rowspan='4'>").append(w).append("</td><td valign='top' valign='middle' align='center' rowspan='4'>").append(rs2.getString("tanggal")).append("<br>").append(rs2.getString("nip")).append(" ").append(rs2.getString("nama")).append("</td><td valign='top' valign='middle' bgcolor='").append(rs2.getString("skor_perilaku").replaceAll("0", "GREEN").replaceAll("1", "YELLOW").replaceAll("2", "ORANGE").replaceAll("3", "RED")).append("' style='color:").append(rs2.getString("skor_perilaku").replaceAll("0", "WHITE").replaceAll("1", "GREEN").replaceAll("2", "WHITE").replaceAll("3", "WHITE")).append("'>1. Skor Perilaku</td><td valign='top' valign='middle' bgcolor='").append(rs2.getString("skor_perilaku").replaceAll("0", "GREEN").replaceAll("1", "YELLOW").replaceAll("2", "ORANGE").replaceAll("3", "RED")).append("' style='color:").append(rs2.getString("skor_perilaku").replaceAll("0", "WHITE").replaceAll("1", "GREEN").replaceAll("2", "WHITE").replaceAll("3", "WHITE")).append("'>").append(rs2.getString("parameter_perilaku")).append("</td><td valign='top' valign='middle' align='center' bgcolor='").append(rs2.getString("skor_perilaku").replaceAll("0", "GREEN").replaceAll("1", "YELLOW").replaceAll("2", "ORANGE").replaceAll("3", "RED")).append("' style='color:").append(rs2.getString("skor_perilaku").replaceAll("0", "WHITE").replaceAll("1", "GREEN").replaceAll("2", "WHITE").replaceAll("3", "WHITE")).append("'>").append(rs2.getString("skor_perilaku")).append("</td></tr><tr><td valign='top' valign='middle' bgcolor='").append(rs2.getString("skor_crt_atau_warna_kulit").replaceAll("0", "GREEN").replaceAll("1", "YELLOW").replaceAll("2", "ORANGE").replaceAll("3", "RED")).append("' style='color:").append(rs2.getString("skor_crt_atau_warna_kulit").replaceAll("0", "WHITE").replaceAll("1", "GREEN").replaceAll("2", "WHITE").replaceAll("3", "WHITE")).append("'>2. Skor CRT / Warna Kulit</td><td valign='top' valign='middle' bgcolor='").append(rs2.getString("skor_crt_atau_warna_kulit").replaceAll("0", "GREEN").replaceAll("1", "YELLOW").replaceAll("2", "ORANGE").replaceAll("3", "RED")).append("' style='color:").append(rs2.getString("skor_crt_atau_warna_kulit").replaceAll("0", "WHITE").replaceAll("1", "GREEN").replaceAll("2", "WHITE").replaceAll("3", "WHITE")).append("'>").append(rs2.getString("parameter_crt_atau_warna_kulit")).append("</td><td valign='top' valign='middle' align='center' bgcolor='").append(rs2.getString("skor_crt_atau_warna_kulit").replaceAll("0", "GREEN").replaceAll("1", "YELLOW").replaceAll("2", "ORANGE").replaceAll("3", "RED")).append("' style='color:").append(rs2.getString("skor_crt_atau_warna_kulit").replaceAll("0", "WHITE").replaceAll("1", "GREEN").replaceAll("2", "WHITE").replaceAll("3", "WHITE")).append("'>").append(rs2.getString("skor_crt_atau_warna_kulit")).append("</td></tr><tr><td valign='top' valign='middle' bgcolor='").append(rs2.getString("skor_perespirasi").replaceAll("0", "GREEN").replaceAll("1", "YELLOW").replaceAll("2", "ORANGE").replaceAll("3", "RED")).append("' style='color:").append(rs2.getString("skor_perespirasi").replaceAll("0", "WHITE").replaceAll("1", "GREEN").replaceAll("2", "WHITE").replaceAll("3", "WHITE")).append("'>3. Skor Perespirasi</td><td valign='top' valign='middle' bgcolor='").append(rs2.getString("skor_perespirasi").replaceAll("0", "GREEN").replaceAll("1", "YELLOW").replaceAll("2", "ORANGE").replaceAll("3", "RED")).append("' style='color:").append(rs2.getString("skor_perespirasi").replaceAll("0", "WHITE").replaceAll("1", "GREEN").replaceAll("2", "WHITE").replaceAll("3", "WHITE")).append("'>").append(rs2.getString("parameter_perespirasi")).append("</td><td valign='top' valign='middle' align='center' bgcolor='").append(rs2.getString("skor_perespirasi").replaceAll("0", "GREEN").replaceAll("1", "YELLOW").replaceAll("2", "ORANGE").replaceAll("3", "RED")).append("' style='color:").append(rs2.getString("skor_perespirasi").replaceAll("0", "WHITE").replaceAll("1", "GREEN").replaceAll("2", "WHITE").replaceAll("3", "WHITE")).append("'>").append(rs2.getString("skor_perespirasi")).append("</td></tr><tr><td valign='top' valign='middle' ").append(rs2.getInt("skor_total") > 7 ? "bgcolor='BLUE' style='color:WHITE'" : "").append(">Monitoring & Total Skor</td><td valign='top' valign='middle' ").append(rs2.getInt("skor_total") > 7 ? "bgcolor='BLUE' style='color:WHITE'" : "").append(">").append(rs2.getString("parameter_total")).append("</td><td valign='top' valign='middle' ").append(rs2.getInt("skor_total") > 7 ? "bgcolor='BLUE' style='color:WHITE'" : "").append(" align='center' >").append(rs2.getString("skor_total")).append("</td></tr>");
                            w++;
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
                htmlContent.append(
                        "</table>"
                        + "</fieldset>"
                );
            }

            if (chkPemantauanPEWSDewasa.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select pemantauan_pews_dewasa.tanggal,pemantauan_pews_dewasa.parameter_laju_respirasi,pemantauan_pews_dewasa.skor_laju_respirasi,pemantauan_pews_dewasa.parameter_saturasi_oksigen,"
                            + "pemantauan_pews_dewasa.skor_saturasi_oksigen,pemantauan_pews_dewasa.parameter_suplemen_oksigen,pemantauan_pews_dewasa.skor_suplemen_oksigen,pemantauan_pews_dewasa.parameter_tekanan_darah_sistolik,"
                            + "pemantauan_pews_dewasa.skor_tekanan_darah_sistolik,pemantauan_pews_dewasa.parameter_laju_jantung,pemantauan_pews_dewasa.skor_laju_jantung,pemantauan_pews_dewasa.parameter_kesadaran,"
                            + "pemantauan_pews_dewasa.skor_kesadaran,pemantauan_pews_dewasa.parameter_temperatur,pemantauan_pews_dewasa.skor_temperatur,pemantauan_pews_dewasa.skor_total,pemantauan_pews_dewasa.parameter_total,"
                            + "pemantauan_pews_dewasa.nip,petugas.nama from pemantauan_pews_dewasa inner join petugas on pemantauan_pews_dewasa.nip=petugas.nip where pemantauan_pews_dewasa.no_rawat='" + norawat + "'").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Pemantauan PEWS Dewasa</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr align='center'>"
                                + "<td valign='middle' width='4%' bgcolor='#FFFAF8'>No.</td>"
                                + "<td valign='middle' width='25%' bgcolor='#FFFAF8'>Tanggal & Petugas</td>"
                                + "<td valign='top' width='23%' bgcolor='#FFFAF8'>Pemantauan</td>"
                                + "<td valign='top' width='43%' bgcolor='#FFFAF8'>Hasil Pemantauan</td>"
                                + "<td valign='middle' width='5%' bgcolor='#FFFAF8'>Skor</td>"
                                + "</tr>"
                        );
                        rs2.beforeFirst();
                        w = 1;
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top' valign='middle' align='center' rowspan='8'>").append(w).append("</td><td valign='top' valign='middle' align='center' rowspan='8'>").append(rs2.getString("tanggal")).append("<br>").append(rs2.getString("nip")).append(" ").append(rs2.getString("nama")).append("</td><td valign='top' valign='middle' bgcolor='").append(rs2.getString("skor_laju_respirasi").replaceAll("0", "WHITE").replaceAll("1", "YELLOW").replaceAll("2", "ORANGE").replaceAll("3", "RED").replaceAll("7", "BLUE")).append("' style='color:").append(rs2.getString("skor_laju_respirasi").replaceAll("0", "#323232").replaceAll("1", "GREEN").replaceAll("2", "WHITE").replaceAll("3", "WHITE").replaceAll("7", "WHITE")).append("'>1. Laju Respirasi/Menit</td><td valign='top' valign='middle' bgcolor='").append(rs2.getString("skor_laju_respirasi").replaceAll("0", "WHITE").replaceAll("1", "YELLOW").replaceAll("2", "ORANGE").replaceAll("3", "RED").replaceAll("7", "BLUE")).append("' style='color:").append(rs2.getString("skor_laju_respirasi").replaceAll("0", "#323232").replaceAll("1", "GREEN").replaceAll("2", "WHITE").replaceAll("3", "WHITE").replaceAll("7", "WHITE")).append("'>").append(rs2.getString("parameter_laju_respirasi")).append("</td><td valign='top' valign='middle' align='center' bgcolor='").append(rs2.getString("skor_laju_respirasi").replaceAll("0", "WHITE").replaceAll("1", "YELLOW").replaceAll("2", "ORANGE").replaceAll("3", "RED").replaceAll("7", "BLUE")).append("' style='color:").append(rs2.getString("skor_laju_respirasi").replaceAll("0", "#323232").replaceAll("1", "GREEN").replaceAll("2", "WHITE").replaceAll("3", "WHITE").replaceAll("7", "WHITE")).append("'>").append(rs2.getString("skor_laju_respirasi")).append("</td></tr><tr><td valign='top' valign='middle' bgcolor='").append(rs2.getString("skor_saturasi_oksigen").replaceAll("0", "WHITE").replaceAll("1", "YELLOW").replaceAll("2", "ORANGE").replaceAll("3", "RED").replaceAll("7", "BLUE")).append("' style='color:").append(rs2.getString("skor_saturasi_oksigen").replaceAll("0", "#323232").replaceAll("1", "GREEN").replaceAll("2", "WHITE").replaceAll("3", "WHITE").replaceAll("7", "WHITE")).append("'>2. Saturasi Oksigen</td><td valign='top' valign='middle' bgcolor='").append(rs2.getString("skor_saturasi_oksigen").replaceAll("0", "WHITE").replaceAll("1", "YELLOW").replaceAll("2", "ORANGE").replaceAll("3", "RED").replaceAll("7", "BLUE")).append("' style='color:").append(rs2.getString("skor_saturasi_oksigen").replaceAll("0", "#323232").replaceAll("1", "GREEN").replaceAll("2", "WHITE").replaceAll("3", "WHITE").replaceAll("7", "WHITE")).append("'>").append(rs2.getString("parameter_saturasi_oksigen")).append("</td><td valign='top' valign='middle' align='center' bgcolor='").append(rs2.getString("skor_saturasi_oksigen").replaceAll("0", "WHITE").replaceAll("1", "YELLOW").replaceAll("2", "ORANGE").replaceAll("3", "RED").replaceAll("7", "BLUE")).append("' style='color:").append(rs2.getString("skor_saturasi_oksigen").replaceAll("0", "#323232").replaceAll("1", "GREEN").replaceAll("2", "WHITE").replaceAll("3", "WHITE").replaceAll("7", "WHITE")).append("'>").append(rs2.getString("skor_saturasi_oksigen")).append("</td></tr><tr><td valign='top' valign='middle' bgcolor='").append(rs2.getString("skor_suplemen_oksigen").replaceAll("0", "WHITE").replaceAll("1", "YELLOW").replaceAll("2", "ORANGE").replaceAll("3", "RED").replaceAll("7", "BLUE")).append("' style='color:").append(rs2.getString("skor_suplemen_oksigen").replaceAll("0", "#323232").replaceAll("1", "GREEN").replaceAll("2", "WHITE").replaceAll("3", "WHITE").replaceAll("7", "WHITE")).append("'>3. Suplemen Oksigen</td><td valign='top' valign='middle' bgcolor='").append(rs2.getString("skor_suplemen_oksigen").replaceAll("0", "WHITE").replaceAll("1", "YELLOW").replaceAll("2", "ORANGE").replaceAll("3", "RED").replaceAll("7", "BLUE")).append("' style='color:").append(rs2.getString("skor_suplemen_oksigen").replaceAll("0", "#323232").replaceAll("1", "GREEN").replaceAll("2", "WHITE").replaceAll("3", "WHITE").replaceAll("7", "WHITE")).append("'>").append(rs2.getString("parameter_suplemen_oksigen")).append("</td><td valign='top' valign='middle' align='center' bgcolor='").append(rs2.getString("skor_suplemen_oksigen").replaceAll("0", "WHITE").replaceAll("1", "YELLOW").replaceAll("2", "ORANGE").replaceAll("3", "RED").replaceAll("7", "BLUE")).append("' style='color:").append(rs2.getString("skor_suplemen_oksigen").replaceAll("0", "#323232").replaceAll("1", "GREEN").replaceAll("2", "WHITE").replaceAll("3", "WHITE").replaceAll("7", "WHITE")).append("'>").append(rs2.getString("skor_suplemen_oksigen")).append("</td></tr><tr><td valign='top' valign='middle' bgcolor='").append(rs2.getString("skor_tekanan_darah_sistolik").replaceAll("0", "WHITE").replaceAll("1", "YELLOW").replaceAll("2", "ORANGE").replaceAll("3", "RED").replaceAll("7", "BLUE")).append("' style='color:").append(rs2.getString("skor_tekanan_darah_sistolik").replaceAll("0", "#323232").replaceAll("1", "GREEN").replaceAll("2", "WHITE").replaceAll("3", "WHITE").replaceAll("7", "WHITE")).append("'>4. Tekanan Darah Sistolik</td><td valign='top' valign='middle' bgcolor='").append(rs2.getString("skor_tekanan_darah_sistolik").replaceAll("0", "WHITE").replaceAll("1", "YELLOW").replaceAll("2", "ORANGE").replaceAll("3", "RED").replaceAll("7", "BLUE")).append("' style='color:").append(rs2.getString("skor_tekanan_darah_sistolik").replaceAll("0", "#323232").replaceAll("1", "GREEN").replaceAll("2", "WHITE").replaceAll("3", "WHITE").replaceAll("7", "WHITE")).append("'>").append(rs2.getString("parameter_tekanan_darah_sistolik")).append("</td><td valign='top' valign='middle' align='center' bgcolor='").append(rs2.getString("skor_tekanan_darah_sistolik").replaceAll("0", "WHITE").replaceAll("1", "YELLOW").replaceAll("2", "ORANGE").replaceAll("3", "RED").replaceAll("7", "BLUE")).append("' style='color:").append(rs2.getString("skor_tekanan_darah_sistolik").replaceAll("0", "#323232").replaceAll("1", "GREEN").replaceAll("2", "WHITE").replaceAll("3", "WHITE").replaceAll("7", "WHITE")).append("'>").append(rs2.getString("skor_tekanan_darah_sistolik")).append("</td></tr><tr><td valign='top' valign='middle' bgcolor='").append(rs2.getString("skor_laju_jantung").replaceAll("0", "WHITE").replaceAll("1", "YELLOW").replaceAll("2", "ORANGE").replaceAll("3", "RED").replaceAll("7", "BLUE")).append("' style='color:").append(rs2.getString("skor_laju_jantung").replaceAll("0", "#323232").replaceAll("1", "GREEN").replaceAll("2", "WHITE").replaceAll("3", "WHITE").replaceAll("7", "WHITE")).append("'>5. Laju Jatung/Menit</td><td valign='top' valign='middle' bgcolor='").append(rs2.getString("skor_laju_jantung").replaceAll("0", "WHITE").replaceAll("1", "YELLOW").replaceAll("2", "ORANGE").replaceAll("3", "RED").replaceAll("7", "BLUE")).append("' style='color:").append(rs2.getString("skor_laju_jantung").replaceAll("0", "#323232").replaceAll("1", "GREEN").replaceAll("2", "WHITE").replaceAll("3", "WHITE").replaceAll("7", "WHITE")).append("'>").append(rs2.getString("parameter_laju_jantung")).append("</td><td valign='top' valign='middle' align='center' bgcolor='").append(rs2.getString("skor_laju_jantung").replaceAll("0", "WHITE").replaceAll("1", "YELLOW").replaceAll("2", "ORANGE").replaceAll("3", "RED").replaceAll("7", "BLUE")).append("' style='color:").append(rs2.getString("skor_laju_jantung").replaceAll("0", "#323232").replaceAll("1", "GREEN").replaceAll("2", "WHITE").replaceAll("3", "WHITE").replaceAll("7", "WHITE")).append("'>").append(rs2.getString("skor_laju_jantung")).append("</td></tr><tr><td valign='top' valign='middle' bgcolor='").append(rs2.getString("skor_kesadaran").replaceAll("0", "WHITE").replaceAll("1", "YELLOW").replaceAll("2", "ORANGE").replaceAll("3", "RED").replaceAll("7", "BLUE")).append("' style='color:").append(rs2.getString("skor_kesadaran").replaceAll("0", "#323232").replaceAll("1", "GREEN").replaceAll("2", "WHITE").replaceAll("3", "WHITE").replaceAll("7", "WHITE")).append("'>6. Kesadaran</td><td valign='top' valign='middle' bgcolor='").append(rs2.getString("skor_kesadaran").replaceAll("0", "WHITE").replaceAll("1", "YELLOW").replaceAll("2", "ORANGE").replaceAll("3", "RED").replaceAll("7", "BLUE")).append("' style='color:").append(rs2.getString("skor_kesadaran").replaceAll("0", "#323232").replaceAll("1", "GREEN").replaceAll("2", "WHITE").replaceAll("3", "WHITE").replaceAll("7", "WHITE")).append("'>").append(rs2.getString("parameter_kesadaran")).append("</td><td valign='top' valign='middle' align='center' bgcolor='").append(rs2.getString("skor_kesadaran").replaceAll("0", "WHITE").replaceAll("1", "YELLOW").replaceAll("2", "ORANGE").replaceAll("3", "RED").replaceAll("7", "BLUE")).append("' style='color:").append(rs2.getString("skor_kesadaran").replaceAll("0", "#323232").replaceAll("1", "GREEN").replaceAll("2", "WHITE").replaceAll("3", "WHITE").replaceAll("7", "WHITE")).append("'>").append(rs2.getString("skor_kesadaran")).append("</td></tr><tr><td valign='top' valign='middle' bgcolor='").append(rs2.getString("skor_temperatur").replaceAll("0", "WHITE").replaceAll("1", "YELLOW").replaceAll("2", "ORANGE").replaceAll("3", "RED").replaceAll("7", "BLUE")).append("' style='color:").append(rs2.getString("skor_temperatur").replaceAll("0", "#323232").replaceAll("1", "GREEN").replaceAll("2", "WHITE").replaceAll("3", "WHITE").replaceAll("7", "WHITE")).append("'>7. Temperatur</td><td valign='top' valign='middle' bgcolor='").append(rs2.getString("skor_temperatur").replaceAll("0", "WHITE").replaceAll("1", "YELLOW").replaceAll("2", "ORANGE").replaceAll("3", "RED").replaceAll("7", "BLUE")).append("' style='color:").append(rs2.getString("skor_temperatur").replaceAll("0", "#323232").replaceAll("1", "GREEN").replaceAll("2", "WHITE").replaceAll("3", "WHITE").replaceAll("7", "WHITE")).append("'>").append(rs2.getString("parameter_temperatur")).append("</td><td valign='top' valign='middle' align='center' bgcolor='").append(rs2.getString("skor_temperatur").replaceAll("0", "WHITE").replaceAll("1", "YELLOW").replaceAll("2", "ORANGE").replaceAll("3", "RED").replaceAll("7", "BLUE")).append("' style='color:").append(rs2.getString("skor_temperatur").replaceAll("0", "#323232").replaceAll("1", "GREEN").replaceAll("2", "WHITE").replaceAll("3", "WHITE").replaceAll("7", "WHITE")).append("'>").append(rs2.getString("skor_temperatur")).append("</td></tr>");
                            if (Integer.parseInt(rs2.getString("skor_total")) > 8) {
                                htmlContent.append("<tr><td valign='top' valign='middle' bgcolor='BLUE' style='color:WHITE'>Monitoring & Total Skor</td><td valign='top' valign='middle' bgcolor='BLUE' style='color:WHITE'>").append(rs2.getString("parameter_total")).append("</td><td valign='top' valign='middle' align='center' bgcolor='BLUE' style='color:WHITE'>").append(rs2.getString("skor_total")).append("</td></tr>");
                            } else if ((Integer.parseInt(rs2.getString("skor_total")) >= 7) || (Integer.parseInt(rs2.getString("skor_laju_respirasi")) == 7)
                                    || (Integer.parseInt(rs2.getString("skor_tekanan_darah_sistolik")) == 7) || (Integer.parseInt(rs2.getString("skor_laju_jantung")) == 7)
                                    || (Integer.parseInt(rs2.getString("skor_kesadaran")) == 7)) {
                                htmlContent.append("<tr><td valign='top' valign='middle' bgcolor='RED' style='color:WHITE'>Monitoring & Total Skor</td><td valign='top' valign='middle' bgcolor='RED' style='color:WHITE'>").append(rs2.getString("parameter_total")).append("</td><td valign='top' valign='middle' align='center' bgcolor='RED' style='color:WHITE'>").append(rs2.getString("skor_total")).append("</td></tr>");
                            } else if (Integer.parseInt(rs2.getString("skor_total")) >= 5) {
                                htmlContent.append("<tr><td valign='top' valign='middle' bgcolor='ORANGE' style='color:WHITE'>Monitoring & Total Skor</td><td valign='top' valign='middle' bgcolor='ORANGE' style='color:WHITE'>").append(rs2.getString("parameter_total")).append("</td><td valign='top' valign='middle' align='center' bgcolor='ORANGE' style='color:WHITE'>").append(rs2.getString("skor_total")).append("</td></tr>");
                            } else if (Integer.parseInt(rs2.getString("skor_total")) > 0) {
                                htmlContent.append("<tr><td valign='top' valign='middle' bgcolor='YELLOW' style='color:GREEN'>Monitoring & Total Skor</td><td valign='top' valign='middle' bgcolor='YELLOW' style='color:GREEN'>").append(rs2.getString("parameter_total")).append("</td><td valign='top' valign='middle' align='center' bgcolor='YELLOW' style='color:GREEN'>").append(rs2.getString("skor_total")).append("</td></tr>");
                            } else if (Integer.parseInt(rs2.getString("skor_total")) == 0) {
                                htmlContent.append("<tr><td valign='top' valign='middle'>Monitoring & Total Skor</td><td valign='top' valign='middle'>").append(rs2.getString("parameter_total")).append("</td><td valign='top' valign='middle' align='center'>").append(rs2.getString("skor_total")).append("</td></tr>");
                            }
                            w++;
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }

            if (chkPemantauanPEWSMaternal.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select pemantauan_pews_maternal.tanggal,pemantauan_pews_maternal.parameter_pernafasan,pemantauan_pews_maternal.skor_pernafasan,pemantauan_pews_maternal.parameter_saturasi_oksigen,"
                            + "pemantauan_pews_maternal.skor_saturasi_oksigen,pemantauan_pews_maternal.parameter_suhu,pemantauan_pews_maternal.skor_suhu,pemantauan_pews_maternal.parameter_nadi,"
                            + "pemantauan_pews_maternal.skor_nadi,pemantauan_pews_maternal.parameter_systole,pemantauan_pews_maternal.skor_systole,pemantauan_pews_maternal.parameter_diastole,pemantauan_pews_maternal.skor_diastole,pemantauan_pews_maternal.parameter_kesadaran,"
                            + "pemantauan_pews_maternal.skor_kesadaran,pemantauan_pews_maternal.parameter_urine,pemantauan_pews_maternal.skor_urine,pemantauan_pews_maternal.skor_total,pemantauan_pews_maternal.skor_kuning,pemantauan_pews_maternal.parameter_total,"
                            + "pemantauan_pews_maternal.nip,petugas.nama from pemantauan_pews_maternal inner join petugas on pemantauan_pews_maternal.nip=petugas.nip where pemantauan_pews_maternal.no_rawat='" + norawat + "'").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Pemantauan PEWS Maternal</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr align='center'>"
                                + "<td valign='middle' width='4%' bgcolor='#FFFAF8'>No.</td>"
                                + "<td valign='middle' width='25%' bgcolor='#FFFAF8'>Tanggal & Petugas</td>"
                                + "<td valign='top' width='23%' bgcolor='#FFFAF8'>Pemantauan</td>"
                                + "<td valign='top' width='43%' bgcolor='#FFFAF8'>Hasil Pemantauan</td>"
                                + "<td valign='middle' width='5%' bgcolor='#FFFAF8'>Skor</td>"
                                + "</tr>"
                        );
                        rs2.beforeFirst();
                        w = 1;
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top' valign='middle' align='center' rowspan='8'>").append(w).append("</td><td valign='top' valign='middle' align='center' rowspan='8'>").append(rs2.getString("tanggal")).append("<br>").append(rs2.getString("nip")).append(" ").append(rs2.getString("nama")).append("</td><td valign='top' valign='middle' bgcolor='").append(rs2.getString("skor_pernafasan").replaceAll("0", "WHITE").replaceAll("1", "YELLOW").replaceAll("2", "#FFC0CB")).append("' style='color:").append(rs2.getString("skor_pernafasan").replaceAll("0", "#323232").replaceAll("1", "#323232").replaceAll("2", "#323232")).append("'>1. Pernafasan</td><td valign='top' valign='middle' bgcolor='").append(rs2.getString("skor_pernafasan").replaceAll("0", "WHITE").replaceAll("1", "YELLOW").replaceAll("2", "#FFC0CB")).append("' style='color:").append(rs2.getString("skor_pernafasan").replaceAll("0", "#323232").replaceAll("1", "#323232").replaceAll("2", "#323232")).append("'>").append(rs2.getString("parameter_pernafasan")).append("</td><td valign='top' valign='middle' align='center' bgcolor='").append(rs2.getString("skor_pernafasan").replaceAll("0", "WHITE").replaceAll("1", "YELLOW").replaceAll("2", "#FFC0CB")).append("' style='color:").append(rs2.getString("skor_pernafasan").replaceAll("0", "#323232").replaceAll("1", "#323232").replaceAll("2", "#323232")).append("'>").append(rs2.getString("skor_pernafasan")).append("</td></tr><tr><td valign='top' valign='middle' bgcolor='").append(rs2.getString("skor_saturasi_oksigen").replaceAll("0", "WHITE").replaceAll("1", "YELLOW").replaceAll("2", "#FFC0CB")).append("' style='color:").append(rs2.getString("skor_saturasi_oksigen").replaceAll("0", "#323232").replaceAll("1", "#323232").replaceAll("2", "#323232")).append("'>2. Saturasi Oksigen</td><td valign='top' valign='middle' bgcolor='").append(rs2.getString("skor_saturasi_oksigen").replaceAll("0", "WHITE").replaceAll("1", "YELLOW").replaceAll("2", "#FFC0CB")).append("' style='color:").append(rs2.getString("skor_saturasi_oksigen").replaceAll("0", "#323232").replaceAll("1", "#323232").replaceAll("2", "#323232")).append("'>").append(rs2.getString("parameter_saturasi_oksigen")).append("</td><td valign='top' valign='middle' align='center' bgcolor='").append(rs2.getString("skor_saturasi_oksigen").replaceAll("0", "WHITE").replaceAll("1", "YELLOW").replaceAll("2", "#FFC0CB")).append("' style='color:").append(rs2.getString("skor_saturasi_oksigen").replaceAll("0", "#323232").replaceAll("1", "#323232").replaceAll("2", "#323232")).append("'>").append(rs2.getString("skor_saturasi_oksigen")).append("</td></tr><tr><td valign='top' valign='middle' bgcolor='").append(rs2.getString("skor_suhu").replaceAll("0", "WHITE").replaceAll("1", "YELLOW").replaceAll("2", "#FFC0CB")).append("' style='color:").append(rs2.getString("skor_suhu").replaceAll("0", "#323232").replaceAll("1", "#323232").replaceAll("2", "#323232")).append("'>3. Suhu</td><td valign='top' valign='middle' bgcolor='").append(rs2.getString("skor_suhu").replaceAll("0", "WHITE").replaceAll("1", "YELLOW").replaceAll("2", "#FFC0CB")).append("' style='color:").append(rs2.getString("skor_suhu").replaceAll("0", "#323232").replaceAll("1", "#323232").replaceAll("2", "#323232")).append("'>").append(rs2.getString("parameter_suhu")).append("</td><td valign='top' valign='middle' align='center' bgcolor='").append(rs2.getString("skor_suhu").replaceAll("0", "WHITE").replaceAll("1", "YELLOW").replaceAll("2", "#FFC0CB")).append("' style='color:").append(rs2.getString("skor_suhu").replaceAll("0", "#323232").replaceAll("1", "#323232").replaceAll("2", "#323232")).append("'>").append(rs2.getString("skor_suhu")).append("</td></tr><tr><td valign='top' valign='middle' bgcolor='").append(rs2.getString("skor_nadi").replaceAll("0", "WHITE").replaceAll("1", "YELLOW").replaceAll("2", "#FFC0CB")).append("' style='color:").append(rs2.getString("skor_nadi").replaceAll("0", "#323232").replaceAll("1", "#323232").replaceAll("2", "#323232")).append("'>4. Nadi</td><td valign='top' valign='middle' bgcolor='").append(rs2.getString("skor_nadi").replaceAll("0", "WHITE").replaceAll("1", "YELLOW").replaceAll("2", "#FFC0CB")).append("' style='color:").append(rs2.getString("skor_nadi").replaceAll("0", "#323232").replaceAll("1", "#323232").replaceAll("2", "#323232")).append("'>").append(rs2.getString("parameter_nadi")).append("</td><td valign='top' valign='middle' align='center' bgcolor='").append(rs2.getString("skor_nadi").replaceAll("0", "WHITE").replaceAll("1", "YELLOW").replaceAll("2", "#FFC0CB")).append("' style='color:").append(rs2.getString("skor_nadi").replaceAll("0", "#323232").replaceAll("1", "#323232").replaceAll("2", "#323232")).append("'>").append(rs2.getString("skor_nadi")).append("</td></tr><tr><td valign='top' valign='middle' bgcolor='").append(rs2.getString("skor_systole").replaceAll("0", "WHITE").replaceAll("1", "YELLOW").replaceAll("2", "#FFC0CB")).append("' style='color:").append(rs2.getString("skor_systole").replaceAll("0", "#323232").replaceAll("1", "#323232").replaceAll("2", "#323232")).append("'>5. Systole</td><td valign='top' valign='middle' bgcolor='").append(rs2.getString("skor_systole").replaceAll("0", "WHITE").replaceAll("1", "YELLOW").replaceAll("2", "#FFC0CB")).append("' style='color:").append(rs2.getString("skor_systole").replaceAll("0", "#323232").replaceAll("1", "#323232").replaceAll("2", "#323232")).append("'>").append(rs2.getString("parameter_systole")).append("</td><td valign='top' valign='middle' align='center' bgcolor='").append(rs2.getString("skor_systole").replaceAll("0", "WHITE").replaceAll("1", "YELLOW").replaceAll("2", "#FFC0CB")).append("' style='color:").append(rs2.getString("skor_systole").replaceAll("0", "#323232").replaceAll("1", "#323232").replaceAll("2", "#323232")).append("'>").append(rs2.getString("skor_systole")).append("</td></tr><tr><td valign='top' valign='middle' bgcolor='").append(rs2.getString("skor_diastole").replaceAll("0", "WHITE").replaceAll("1", "YELLOW").replaceAll("2", "#FFC0CB")).append("' style='color:").append(rs2.getString("skor_diastole").replaceAll("0", "#323232").replaceAll("1", "#323232").replaceAll("2", "#323232")).append("'>6. Diastole</td><td valign='top' valign='middle' bgcolor='").append(rs2.getString("skor_diastole").replaceAll("0", "WHITE").replaceAll("1", "YELLOW").replaceAll("2", "#FFC0CB")).append("' style='color:").append(rs2.getString("skor_diastole").replaceAll("0", "#323232").replaceAll("1", "#323232").replaceAll("2", "#323232")).append("'>").append(rs2.getString("parameter_diastole")).append("</td><td valign='top' valign='middle' align='center' bgcolor='").append(rs2.getString("skor_diastole").replaceAll("0", "WHITE").replaceAll("1", "YELLOW").replaceAll("2", "#FFC0CB")).append("' style='color:").append(rs2.getString("skor_diastole").replaceAll("0", "#323232").replaceAll("1", "#323232").replaceAll("2", "#323232")).append("'>").append(rs2.getString("skor_diastole")).append("</td></tr><tr><td valign='top' valign='middle' bgcolor='").append(rs2.getString("skor_kesadaran").replaceAll("0", "WHITE").replaceAll("1", "YELLOW").replaceAll("2", "#FFC0CB")).append("' style='color:").append(rs2.getString("skor_kesadaran").replaceAll("0", "#323232").replaceAll("1", "#323232").replaceAll("2", "#323232")).append("'>7. Kesadaran</td><td valign='top' valign='middle' bgcolor='").append(rs2.getString("skor_kesadaran").replaceAll("0", "WHITE").replaceAll("1", "YELLOW").replaceAll("2", "#FFC0CB")).append("' style='color:").append(rs2.getString("skor_kesadaran").replaceAll("0", "#323232").replaceAll("1", "#323232").replaceAll("2", "#323232")).append("'>").append(rs2.getString("parameter_kesadaran")).append("</td><td valign='top' valign='middle' align='center' bgcolor='").append(rs2.getString("skor_kesadaran").replaceAll("0", "WHITE").replaceAll("1", "YELLOW").replaceAll("2", "#FFC0CB")).append("' style='color:").append(rs2.getString("skor_kesadaran").replaceAll("0", "#323232").replaceAll("1", "#323232").replaceAll("2", "#323232")).append("'>").append(rs2.getString("skor_kesadaran")).append("</td></tr><tr><td valign='top' valign='middle' bgcolor='").append(rs2.getString("skor_urine").replaceAll("0", "WHITE").replaceAll("1", "YELLOW").replaceAll("2", "#FFC0CB")).append("' style='color:").append(rs2.getString("skor_urine").replaceAll("0", "#323232").replaceAll("1", "#323232").replaceAll("2", "#323232")).append("'>8. Urine</td><td valign='top' valign='middle' bgcolor='").append(rs2.getString("skor_urine").replaceAll("0", "WHITE").replaceAll("1", "YELLOW").replaceAll("2", "#FFC0CB")).append("' style='color:").append(rs2.getString("skor_urine").replaceAll("0", "#323232").replaceAll("1", "#323232").replaceAll("2", "#323232")).append("'>").append(rs2.getString("parameter_urine")).append("</td><td valign='top' valign='middle' align='center' bgcolor='").append(rs2.getString("skor_urine").replaceAll("0", "WHITE").replaceAll("1", "YELLOW").replaceAll("2", "#FFC0CB")).append("' style='color:").append(rs2.getString("skor_urine").replaceAll("0", "#323232").replaceAll("1", "#323232").replaceAll("2", "#323232")).append("'>").append(rs2.getString("skor_urine")).append("</td></tr>");
                            w++;
                            htmlContent.append("<tr><td valign='top' valign='middle' bgcolor='WHITE'></td><td valign='top' valign='middle' bgcolor='#FFC0CB'> Total PINK : ").append(rs2.getString("skor_total")).append("</td><td valign='top' valign='middle' bgcolor='YELLOW'> Total Kuning : ").append(rs2.getString("skor_kuning")).append("</td><td valign='top' valign='middle' colspan='2' align='center' bgcolor='WHITE'>").append(rs2.getString("parameter_total")).append("</td></tr>");
                        }

                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
            htmlContent.append(
                    "</table>"
                    + "</fieldset>"
            );
        } catch (Exception e) {
            System.out.println("Notif Menampilkan EWS : " + e);
        }

    }

    private void menampilkanLanjutanResikoJatuhDewasa(String norawat) {
        try {
            if (chkAsuhanLanjutanRisikoJatuhDewasa.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select penilaian_lanjutan_resiko_jatuh_dewasa.penilaian_jatuhmorse_skala1,penilaian_lanjutan_resiko_jatuh_dewasa.penilaian_jatuhmorse_nilai1,"
                            + "penilaian_lanjutan_resiko_jatuh_dewasa.penilaian_jatuhmorse_skala2,penilaian_lanjutan_resiko_jatuh_dewasa.penilaian_jatuhmorse_nilai2,"
                            + "penilaian_lanjutan_resiko_jatuh_dewasa.penilaian_jatuhmorse_skala3,penilaian_lanjutan_resiko_jatuh_dewasa.penilaian_jatuhmorse_nilai3,"
                            + "penilaian_lanjutan_resiko_jatuh_dewasa.penilaian_jatuhmorse_skala4,penilaian_lanjutan_resiko_jatuh_dewasa.penilaian_jatuhmorse_nilai4,"
                            + "penilaian_lanjutan_resiko_jatuh_dewasa.penilaian_jatuhmorse_skala5,penilaian_lanjutan_resiko_jatuh_dewasa.penilaian_jatuhmorse_nilai5,"
                            + "penilaian_lanjutan_resiko_jatuh_dewasa.penilaian_jatuhmorse_skala6,penilaian_lanjutan_resiko_jatuh_dewasa.penilaian_jatuhmorse_nilai6,"
                            + "penilaian_lanjutan_resiko_jatuh_dewasa.penilaian_jatuhmorse_totalnilai,penilaian_lanjutan_resiko_jatuh_dewasa.hasil_skrining,"
                            + "penilaian_lanjutan_resiko_jatuh_dewasa.saran,penilaian_lanjutan_resiko_jatuh_dewasa.nip,petugas.nama,penilaian_lanjutan_resiko_jatuh_dewasa.tanggal "
                            + "from penilaian_lanjutan_resiko_jatuh_dewasa inner join petugas on penilaian_lanjutan_resiko_jatuh_dewasa.nip=petugas.nip where "
                            + "penilaian_lanjutan_resiko_jatuh_dewasa.no_rawat='" + norawat + "'").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<fieldset>"
                                + "<h2><center>LANJUTAN RESIKO JATUH DEWASA</center></h2>"
                                + "<table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Penilaian Lanjutan Risiko Jatuh Dewasa</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr align='center'>"
                                + "<td valign='top' width='4%' bgcolor='#FFFAF8'>No.</td>"
                                + "<td valign='top' width='15%' bgcolor='#FFFAF8'>Tanggal & Petugas</td>"
                                + "<td valign='top' width='22%' bgcolor='#FFFAF8'>Parameter</td>"
                                + "<td valign='top' width='26%' bgcolor='#FFFAF8'>Kriteria</td>"
                                + "<td valign='top' width='5%' bgcolor='#FFFAF8'>Skor</td>"
                                + "<td valign='top' width='14%' bgcolor='#FFFAF8'>Hasil Skrining</td>"
                                + "<td valign='top' width='14%' bgcolor='#FFFAF8'>Saran</td>"
                                + "</tr>"
                        );
                        rs2.beforeFirst();
                        w = 1;
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top' align='center' valign='middle' rowspan='7'>").append(w).append("</td><td valign='top' align='center' valign='middle' rowspan='7'>").append(rs2.getString("tanggal")).append("<br>").append(rs2.getString("nip")).append(" ").append(rs2.getString("nama")).append("</td><td valign='top' align='justify' valign='middle'>1. Riwayat Jatuh (1 Tahun Terakhir)</td><td valign='top' align='center' valign='middle'>").append(rs2.getString("penilaian_jatuhmorse_skala1")).append("</td><td valign='top' align='center' valign='middle'>").append(rs2.getString("penilaian_jatuhmorse_nilai1")).append("</td><td valign='top' align='center' valign='middle' rowspan='7'>").append(rs2.getString("hasil_skrining").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td><td valign='top' align='center' valign='middle' rowspan='7'>").append(rs2.getString("saran").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td valign='top' align='justify' valign='middle'>2. Diagnosis Sekunder (\u2265 2 Diagnosis Medis)</td><td valign='top' align='center' valign='middle'>").append(rs2.getString("penilaian_jatuhmorse_skala2")).append("</td><td valign='top' align='center' valign='middle'>").append(rs2.getString("penilaian_jatuhmorse_nilai2")).append("</td></tr><tr><td valign='top' align='justify' valign='middle'>3. Alat Bantu</td><td valign='top' align='center' valign='middle'>").append(rs2.getString("penilaian_jatuhmorse_skala3")).append("</td><td valign='top' align='center' valign='middle'>").append(rs2.getString("penilaian_jatuhmorse_nilai3")).append("</td></tr><tr><td valign='top' align='justify' valign='middle'>4. Terpasang Infuse</td><td valign='top' align='center' valign='middle'>").append(rs2.getString("penilaian_jatuhmorse_skala4")).append("</td><td valign='top' align='center' valign='middle'>").append(rs2.getString("penilaian_jatuhmorse_nilai4")).append("</td></tr><tr><td valign='top' align='justify' valign='middle'>5. Gaya Berjalan</td><td valign='top' align='center' valign='middle'>").append(rs2.getString("penilaian_jatuhmorse_skala5")).append("</td><td valign='top' align='center' valign='middle'>").append(rs2.getString("penilaian_jatuhmorse_nilai5")).append("</td></tr><tr><td valign='top' align='justify' valign='middle'>6. Status Mental</td><td valign='top' align='center' valign='middle'>").append(rs2.getString("penilaian_jatuhmorse_skala6")).append("</td><td valign='top' align='center' valign='middle'>").append(rs2.getString("penilaian_jatuhmorse_nilai6")).append("</td></tr><tr><td valign='top' align='center' valign='middle' colspan='2'>TOTAL</td><td valign='top' align='center' valign='middle'>").append(rs2.getString("penilaian_jatuhmorse_totalnilai")).append("</td></tr>");
                            w++;
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>"
                                + "</table>"
                                + "</fieldset>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Resiko Jatuh Dewasa : " + e);
        }
    }

    private void menampilkanLanjutanResikoJatuhLansia(String norawat) {
        try {
            if (chkAsuhanLanjutanRisikoJatuhLansia.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select penilaian_lanjutan_resiko_jatuh_lansia.tanggal,penilaian_lanjutan_resiko_jatuh_lansia.penilaian_jatuhmorse_skala1,penilaian_lanjutan_resiko_jatuh_lansia.penilaian_jatuhmorse_nilai1,"
                            + "penilaian_lanjutan_resiko_jatuh_lansia.penilaian_jatuhmorse_skala2,penilaian_lanjutan_resiko_jatuh_lansia.penilaian_jatuhmorse_nilai2,"
                            + "penilaian_lanjutan_resiko_jatuh_lansia.penilaian_jatuhmorse_skala3,penilaian_lanjutan_resiko_jatuh_lansia.penilaian_jatuhmorse_nilai3,"
                            + "penilaian_lanjutan_resiko_jatuh_lansia.penilaian_jatuhmorse_skala4,penilaian_lanjutan_resiko_jatuh_lansia.penilaian_jatuhmorse_nilai4,"
                            + "penilaian_lanjutan_resiko_jatuh_lansia.penilaian_jatuhmorse_skala5,penilaian_lanjutan_resiko_jatuh_lansia.penilaian_jatuhmorse_nilai5,"
                            + "penilaian_lanjutan_resiko_jatuh_lansia.penilaian_jatuhmorse_skala6,penilaian_lanjutan_resiko_jatuh_lansia.penilaian_jatuhmorse_nilai6,"
                            + "penilaian_lanjutan_resiko_jatuh_lansia.penilaian_jatuhmorse_totalnilai,penilaian_lanjutan_resiko_jatuh_lansia.hasil_skrining,"
                            + "penilaian_lanjutan_resiko_jatuh_lansia.saran,penilaian_lanjutan_resiko_jatuh_lansia.nip,petugas.nama "
                            + "from penilaian_lanjutan_resiko_jatuh_lansia inner join petugas on penilaian_lanjutan_resiko_jatuh_lansia.nip=petugas.nip where "
                            + "penilaian_lanjutan_resiko_jatuh_lansia.no_rawat='" + norawat + "'").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<fieldset>"
                                + "<h2><center>LANJUTAN RESIKO JATUH LANSIA</center></h2>"
                                + "<table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Penilaian Lanjutan Risiko Jatuh Lansia</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr align='center'>"
                                + "<td valign='top' width='4%' bgcolor='#FFFAF8'>No.</td>"
                                + "<td valign='top' width='15%' bgcolor='#FFFAF8'>Tanggal & Petugas</td>"
                                + "<td valign='top' width='22%' bgcolor='#FFFAF8'>Parameter</td>"
                                + "<td valign='top' width='26%' bgcolor='#FFFAF8'>Kriteria</td>"
                                + "<td valign='top' width='5%' bgcolor='#FFFAF8'>Skor</td>"
                                + "<td valign='top' width='14%' bgcolor='#FFFAF8'>Hasil Skrining</td>"
                                + "<td valign='top' width='14%' bgcolor='#FFFAF8'>Saran</td>"
                                + "</tr>"
                        );
                        rs2.beforeFirst();
                        w = 1;
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top' align='center' valign='middle' rowspan='8'>").append(w).append("</td><td valign='top' align='center' valign='middle' rowspan='8'>").append(rs2.getString("tanggal")).append("<br>").append(rs2.getString("nip")).append(" ").append(rs2.getString("nama")).append("</td><td valign='top' align='justify' valign='middle'>1. Riwayat Jatuh</td><td valign='top' align='center' valign='middle'>").append(rs2.getString("penilaian_jatuhmorse_skala1")).append("</td><td valign='top' align='center' valign='middle'>").append(rs2.getString("penilaian_jatuhmorse_nilai1")).append("</td><td valign='top' align='center' valign='middle' rowspan='8'>").append(rs2.getString("hasil_skrining").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td><td valign='top' align='center' valign='middle' rowspan='8'>").append(rs2.getString("saran").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td valign='top' align='justify' valign='middle'>2. Status Mental</td><td valign='top' align='center' valign='middle'>").append(rs2.getString("penilaian_jatuhmorse_skala2")).append("</td><td valign='top' align='center' valign='middle'>").append(rs2.getString("penilaian_jatuhmorse_nilai2")).append("</td></tr><tr><td valign='top' align='justify' valign='middle'>3. Penglihatan</td><td valign='top' align='center' valign='middle'>").append(rs2.getString("penilaian_jatuhmorse_skala3")).append("</td><td valign='top' align='center' valign='middle'>").append(rs2.getString("penilaian_jatuhmorse_nilai3")).append("</td></tr><tr><td valign='top' align='justify' valign='middle'>4. Kebiasaan Berkemih</td><td valign='top' align='center' valign='middle'>").append(rs2.getString("penilaian_jatuhmorse_skala4")).append("</td><td valign='top' align='center' valign='middle'>").append(rs2.getString("penilaian_jatuhmorse_nilai4")).append("</td></tr><tr><td valign='top' align='justify' valign='middle' colspan='2'>5. Nilai Transfer & Mobilitas</td><td valign='top' align='center' valign='middle'></td></tr><tr><td valign='top' align='justify' valign='middle'>&nbsp;&nbsp;&nbsp;&nbsp;Transfer</td><td valign='top' align='center' valign='middle'>").append(rs2.getString("penilaian_jatuhmorse_skala5")).append("</td><td valign='top' align='center' valign='middle'>").append(rs2.getString("penilaian_jatuhmorse_nilai5")).append("</td></tr><tr><td valign='top' align='justify' valign='middle'>&nbsp;&nbsp;&nbsp;&nbsp;Mobilitas</td><td valign='top' align='center' valign='middle'>").append(rs2.getString("penilaian_jatuhmorse_skala6")).append("</td><td valign='top' align='center' valign='middle'>").append(rs2.getString("penilaian_jatuhmorse_nilai6")).append("</td></tr><tr><td valign='top' align='center' valign='middle' colspan='2'>TOTAL</td><td valign='top' align='center' valign='middle'>").append(rs2.getString("penilaian_jatuhmorse_totalnilai")).append("</td></tr>");
                            w++;
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>"
                                + "</table>"
                                + "</fieldset>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Resiko Jatuh Lansia : " + e);
        }
    }

    private void menampilkanLanjutanResikoJatuhAnak(String norawat) {
        try {
            if (chkAsuhanLanjutanRisikoJatuhAnak.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select penilaian_lanjutan_resiko_jatuh_anak.penilaian_humptydumpty_skala1,penilaian_lanjutan_resiko_jatuh_anak.penilaian_humptydumpty_nilai1,"
                            + "penilaian_lanjutan_resiko_jatuh_anak.penilaian_humptydumpty_skala2,penilaian_lanjutan_resiko_jatuh_anak.penilaian_humptydumpty_nilai2,"
                            + "penilaian_lanjutan_resiko_jatuh_anak.penilaian_humptydumpty_skala3,penilaian_lanjutan_resiko_jatuh_anak.penilaian_humptydumpty_nilai3,"
                            + "penilaian_lanjutan_resiko_jatuh_anak.penilaian_humptydumpty_skala4,penilaian_lanjutan_resiko_jatuh_anak.penilaian_humptydumpty_nilai4,"
                            + "penilaian_lanjutan_resiko_jatuh_anak.penilaian_humptydumpty_skala5,penilaian_lanjutan_resiko_jatuh_anak.penilaian_humptydumpty_nilai5,"
                            + "penilaian_lanjutan_resiko_jatuh_anak.penilaian_humptydumpty_skala6,penilaian_lanjutan_resiko_jatuh_anak.penilaian_humptydumpty_nilai6,"
                            + "penilaian_lanjutan_resiko_jatuh_anak.penilaian_humptydumpty_skala7,penilaian_lanjutan_resiko_jatuh_anak.penilaian_humptydumpty_nilai7,"
                            + "penilaian_lanjutan_resiko_jatuh_anak.penilaian_humptydumpty_totalnilai,penilaian_lanjutan_resiko_jatuh_anak.hasil_skrining,"
                            + "penilaian_lanjutan_resiko_jatuh_anak.saran,penilaian_lanjutan_resiko_jatuh_anak.nip,petugas.nama,penilaian_lanjutan_resiko_jatuh_anak.tanggal "
                            + "from penilaian_lanjutan_resiko_jatuh_anak inner join petugas on penilaian_lanjutan_resiko_jatuh_anak.nip=petugas.nip where "
                            + "penilaian_lanjutan_resiko_jatuh_anak.no_rawat='" + norawat + "'").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<fieldset>"
                                + "<h2><center>LANJUTAN RESIKO JATUH ANAK</center></h2>"
                                + "<table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Penilaian Lanjutan Risiko Jatuh Anak</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr align='center'>"
                                + "<td valign='top' width='4%' bgcolor='#FFFAF8'>No.</td>"
                                + "<td valign='top' width='15%' bgcolor='#FFFAF8'>Tanggal & Petugas</td>"
                                + "<td valign='top' width='18%' bgcolor='#FFFAF8'>Parameter</td>"
                                + "<td valign='top' width='30%' bgcolor='#FFFAF8'>Kriteria</td>"
                                + "<td valign='top' width='5%' bgcolor='#FFFAF8'>Skor</td>"
                                + "<td valign='top' width='14%' bgcolor='#FFFAF8'>Hasil Skrining</td>"
                                + "<td valign='top' width='14%' bgcolor='#FFFAF8'>Saran</td>"
                                + "</tr>"
                        );
                        rs2.beforeFirst();
                        w = 1;
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top' align='center' valign='middle' rowspan='8'>").append(w).append("</td><td valign='top' align='center' valign='middle' rowspan='8'>").append(rs2.getString("tanggal")).append("<br>").append(rs2.getString("nip")).append(" ").append(rs2.getString("nama")).append("</td><td valign='top' align='left' valign='middle'>1. Umur</td><td valign='top' align='center' valign='middle'>").append(rs2.getString("penilaian_humptydumpty_skala1")).append("</td><td valign='top' align='center' valign='middle'>").append(rs2.getString("penilaian_humptydumpty_nilai2")).append("</td><td valign='top' align='center' valign='middle' rowspan='8'>").append(rs2.getString("hasil_skrining").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td><td valign='top' align='center' valign='middle' rowspan='8'>").append(rs2.getString("saran").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td valign='top' align='left' valign='middle'>2. Jenis Kelamin</td><td valign='top' align='center' valign='middle'>").append(rs2.getString("penilaian_humptydumpty_skala2")).append("</td><td valign='top' align='center' valign='middle'>").append(rs2.getString("penilaian_humptydumpty_nilai2")).append("</td></tr><tr><td valign='top' align='left' valign='middle'>3. Diagnosa</td><td valign='top' align='center' valign='middle'>").append(rs2.getString("penilaian_humptydumpty_skala3")).append("</td><td valign='top' align='center' valign='middle'>").append(rs2.getString("penilaian_humptydumpty_nilai3")).append("</td></tr><tr><td valign='top' align='left' valign='middle'>4. Gangguan Kognitif</td><td valign='top' align='center' valign='middle'>").append(rs2.getString("penilaian_humptydumpty_skala4")).append("</td><td valign='top' align='center' valign='middle'>").append(rs2.getString("penilaian_humptydumpty_nilai4")).append("</td></tr><tr><td valign='top' align='left' valign='middle'>5. Faktor Lingkungan</td><td valign='top' align='center' valign='middle'>").append(rs2.getString("penilaian_humptydumpty_skala5")).append("</td><td valign='top' align='center' valign='middle'>").append(rs2.getString("penilaian_humptydumpty_nilai5")).append("</td></tr><tr><td valign='top' align='left' valign='middle'>6. Efek Obat Penenang / Operasi / Anastesi</td><td valign='top' align='center' valign='middle'>").append(rs2.getString("penilaian_humptydumpty_skala6")).append("</td><td valign='top' align='center' valign='middle'>").append(rs2.getString("penilaian_humptydumpty_nilai6")).append("</td></tr><tr><td valign='top' align='left' valign='middle'>7. Penggunaan Obat</td><td valign='top' align='center' valign='middle'>").append(rs2.getString("penilaian_humptydumpty_skala7")).append("</td><td valign='top' align='center' valign='middle'>").append(rs2.getString("penilaian_humptydumpty_nilai7")).append("</td></tr><tr><td valign='top' align='center' valign='middle' colspan='2'>TOTAL</td><td valign='top' align='center' valign='middle'>").append(rs2.getString("penilaian_humptydumpty_totalnilai")).append("</td></tr>");
                            w++;
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>"
                                + "</table>"
                                + "</fieldset>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Resiko Jatuh Anak : " + e);
        }
    }

    private void menampilkanTambahanGeriatri(String norawat) {
        try {
            if (chkAsuhanTambahanGeriatri.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select penilaian_tambahan_geriatri.nik,pegawai.nama,penilaian_tambahan_geriatri.asal_masuk,penilaian_tambahan_geriatri.kondisi_masuk,penilaian_tambahan_geriatri.keterangan_kondisi_masuk,"
                            + "penilaian_tambahan_geriatri.anamnesis,penilaian_tambahan_geriatri.diagnosa_medis,penilaian_tambahan_geriatri.riwayat_immuno_telinga,penilaian_tambahan_geriatri.riwayat_immuno_sinus,"
                            + "penilaian_tambahan_geriatri.riwayat_immuno_antibiotik,penilaian_tambahan_geriatri.riwayat_immuno_pneumonia,penilaian_tambahan_geriatri.riwayat_immuno_abses,"
                            + "penilaian_tambahan_geriatri.riwayat_immuno_sariawan,penilaian_tambahan_geriatri.riwayat_immuno_memerlukan_antibiotik,penilaian_tambahan_geriatri.riwayat_immuno_infeksi_dalam,"
                            + "penilaian_tambahan_geriatri.riwayat_immuno_immunodefisiensi_primer,penilaian_tambahan_geriatri.riwayat_immuno_jenis_kangker,penilaian_tambahan_geriatri.riwayat_immuno_infeksi_oportunistik,"
                            + "penilaian_tambahan_geriatri.pola_aktifitas_tidur,penilaian_tambahan_geriatri.keterangan_pola_aktifitas_tidur,penilaian_tambahan_geriatri.pola_aktifitas_obat_tidur,"
                            + "penilaian_tambahan_geriatri.keterangan_pola_aktifitas_obat_tidur,penilaian_tambahan_geriatri.pola_aktifitas_olahraga,penilaian_tambahan_geriatri.keterangan_pola_aktifitas_olahraga,"
                            + "penilaian_tambahan_geriatri.kualitas_hidup_mobilitas,penilaian_tambahan_geriatri.kualitas_hidup_perawatan_diri,penilaian_tambahan_geriatri.kualitas_hidup_aktifitas_seharihari,"
                            + "penilaian_tambahan_geriatri.kualitas_hidup_rasa_nyeri,penilaian_tambahan_geriatri.skala_nyeri,penilaian_tambahan_geriatri.tanggal "
                            + "from reg_periksa inner join pasien on reg_periksa.no_rkm_medis=pasien.no_rkm_medis "
                            + "inner join penilaian_tambahan_geriatri on reg_periksa.no_rawat=penilaian_tambahan_geriatri.no_rawat "
                            + "inner join pegawai on penilaian_tambahan_geriatri.nik=pegawai.nik where "
                            + "penilaian_tambahan_geriatri.no_rawat='" + norawat + "'").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<fieldset>"
                                + "<h2><center>TAMBAHAN GERIATRI</center></h2>"
                                + "<table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Penilaian Tambahan Pasien Geriatri</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                        );
                        rs2.beforeFirst();
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top'>YANG MELAKUKAN PENGKAJIAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='33%' border='0'>Tanggal : ").append(rs2.getString("tanggal")).append("</td><td width='67%' border='0'>Dokter/Petugas : ").append(rs2.getString("nik")).append(" ").append(rs2.getString("nama")).append("</td></tr></table></td></tr><tr><td valign='top'>I. RIWAYAT KESEHATAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='65%'>Kondisi Saat Masuk : ").append(rs2.getString("kondisi_masuk")).append(rs2.getString("keterangan_kondisi_masuk").isEmpty() ? "" : ", " + rs2.getString("keterangan_kondisi_masuk")).append("</td><td width='35%'>Anamnesis : ").append(rs2.getString("anamnesis")).append("</td></tr><tr><td width='65%'>Diagnosa Medis : ").append(rs2.getString("diagnosa_medis")).append("</td><td width='35%'>Asal Masuk : ").append(rs2.getString("asal_masuk")).append("</td></tr><tr><td width='100%' colspan='2'>Riwayat Immunokompromais :<table width='99%' border='0' align='right' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='80%'>-  Infeksi Telinga Baru Sebanyak 8 (Delapan) Kali Atau Lebih Dalam Setahun</td><td width='20%' align='center'>").append(rs2.getString("riwayat_immuno_telinga")).append("</td></tr><tr><td width='80%'>-  Infeksi Berat Pada Sinus Sebanyak 2 (Dua) Kali Atau Lebih Dalam Setahun</td><td width='20%' align='center'>").append(rs2.getString("riwayat_immuno_sinus")).append("</td></tr><tr><td width='80%'>-  Penggunaan Antibiotik Tanpa Dampak Selama 2 (Dua) Bulan Atau Lebih</td><td width='20%' align='center'>").append(rs2.getString("riwayat_immuno_antibiotik")).append("</td></tr><tr><td width='80%'>-  Pneumonia Sebanyak 2 (Dua) Kali Atau Lebih Dalam Setahun</td><td width='20%' align='center'>").append(rs2.getString("riwayat_immuno_pneumonia")).append("</td></tr><tr><td width='80%'>-  Adanya Abses Berulang Pada Kulit Atau Organ Lainnya</td><td width='20%' align='center'>").append(rs2.getString("riwayat_immuno_abses")).append("</td></tr><tr><td width='80%'>-  Adanya Sariawan Yang Menetap Atau Luka Pada Kulit</td><td width='20%' align='center'>").append(rs2.getString("riwayat_immuno_sariawan")).append("</td></tr><tr><td width='80%'>-  Memerlukan Antibiotika Intravena Untuk Infeksi</td><td width='20%' align='center'>").append(rs2.getString("riwayat_immuno_memerlukan_antibiotik")).append("</td></tr><tr><td width='80%'>-  Terdapat 2 (Dua) Atau Lebih Infeksi Dalam (Misalnya : Meningitis, Osteomielitis, Selulitis, Sepsis)</td><td width='20%' align='center'>").append(rs2.getString("riwayat_immuno_infeksi_dalam")).append("</td></tr><tr><td width='80%'>-  Adanya Riwayat Keluarga Terhadap Immunodefisiensi Primer</td><td width='20%' align='center'>").append(rs2.getString("riwayat_immuno_immunodefisiensi_primer")).append("</td></tr><tr><td width='80%'>-  Adanya Jenis Kanker (Misalnya : Sarkoma Kaposi Atau Limfoma Non-Hodgins)</td><td width='20%' align='center'>").append(rs2.getString("riwayat_immuno_jenis_kangker")).append("</td></tr><tr><td width='80%'>-  Adanya Infeksi Oportunistik (Misalnya : Pneumonia \"Pneumovystis Carinii\" Atau Infeksi Jamur Berulang)</td><td width='20%' align='center'>").append(rs2.getString("riwayat_immuno_infeksi_oportunistik")).append("</td></tr></table></td></tr></table></td></tr><tr><td valign='top'>II. PENILAIAN KUALITAS HIDUP \u2013 EQ5D, POLA AKTIFITAS DAN ISTIRAHAT<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%'>Kualitas Hidup Dengan EQ5D :<table width='99%' border='0' align='right' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='29%'>Perawatan Diri Sendiri</td><td width='1%'>:</td><td width='70%'>").append(rs2.getString("kualitas_hidup_perawatan_diri")).append("</td></tr><tr><td width='29%'>Mobilitas</td><td width='1%'>:</td><td width='70%'>").append(rs2.getString("kualitas_hidup_mobilitas")).append("</td></tr><tr><td width='29%'>Aktivitas Sehari-hari</td><td width='1%'>:</td><td width='70%'>").append(rs2.getString("kualitas_hidup_aktifitas_seharihari")).append("</td></tr><tr><td width='29%'>Nyeri/Tidak Nyaman</td><td width='1%'>:</td><td width='70%'>").append(rs2.getString("kualitas_hidup_rasa_nyeri")).append("</td></tr></table></td></tr><tr><td width='100%'>Skala Nyeri Dengan FPS-hv : ").append(rs2.getString("skala_nyeri")).append("</td></tr><tr><td width='100%'>Pola Aktifitas Dan Istirahat :<table width='99%' border='0' align='right' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='29%'>Istirahat/Tidur</td><td width='1%'>:</td><td width='70%'>").append(rs2.getString("pola_aktifitas_tidur")).append(rs2.getString("keterangan_pola_aktifitas_tidur").isEmpty() ? "" : ", " + rs2.getString("keterangan_pola_aktifitas_tidur")).append("</td></tr><tr><td width='29%'>Penggunaan Obat Tidur</td><td width='1%'>:</td><td width='70%'>").append(rs2.getString("pola_aktifitas_obat_tidur")).append(rs2.getString("keterangan_pola_aktifitas_tidur").isEmpty() ? "" : ", " + rs2.getString("keterangan_pola_aktifitas_tidur")).append("</td></tr><tr><td width='29%'>Olahraga</td><td width='1%'>:</td><td width='70%'>").append(rs2.getString("pola_aktifitas_olahraga")).append(rs2.getString("keterangan_pola_aktifitas_olahraga").isEmpty() ? "" : ", " + rs2.getString("keterangan_pola_aktifitas_olahraga")).append("</td></tr></table></td></tr></table></td></tr>");
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>"
                                + "</table>"
                                + "</fieldset>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Hemodialisa : " + e);
        }
    }

    private void menampilkanPenilaianPasienTerminal(String norawat) {
        try {
            if (chkPenilaianPasienTerminal.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select penilaian_pasien_terminal.tanggal,penilaian_pasien_terminal.diagnosa,penilaian_pasien_terminal.rps,penilaian_pasien_terminal.rpd,penilaian_pasien_terminal.keadaan_umum,"
                            + "penilaian_pasien_terminal.kesadaran,penilaian_pasien_terminal.td,penilaian_pasien_terminal.nadi,penilaian_pasien_terminal.suhu,"
                            + "penilaian_pasien_terminal.rr,penilaian_pasien_terminal.spo2,penilaian_pasien_terminal.skala_nyeri,penilaian_pasien_terminal.tahap_pasien_menjelang_ajal,"
                            + "penilaian_pasien_terminal.tanda_klinis_menjelang_kematian,penilaian_pasien_terminal.kebutuhan_spiritual_pasien,penilaian_pasien_terminal.nip,petugas.nama "
                            + "from penilaian_pasien_terminal inner join petugas on penilaian_pasien_terminal.nip=petugas.nip where penilaian_pasien_terminal.no_rawat='" + norawat + "'").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<fieldset>"
                                + "<h2><center>PENILAIAN PASIEN TERMINAL</center></h2>"
                                + "<table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Penilaian Pasien Terminal</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                        );
                        rs2.beforeFirst();
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top'>YANG MELAKUKAN PENGKAJIAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='50%' border='0'>Tanggal : ").append(rs2.getString("tanggal")).append("</td><td width='50%' border='0'>Petugas : ").append(rs2.getString("nip")).append(" ").append(rs2.getString("nama")).append("</td></tr></table></td></tr><tr><td valign='top'>RIWAYAT PENGKAJIAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='4%' border='0'>1.</td><td border='0' width='96%'>Diagnosa : ").append(rs2.getString("diagnosa").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='4%' border='0'>2.</td><td border='0' width='96%'>Uraian Penyakit/Kondisi Pasien Saat Ini : ").append(rs2.getString("rps").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='4%' border='0'>3.</td><td border='0' width='96%'>Riwayat Penyakit/Kondisi Sebelumnya : ").append(rs2.getString("rpd").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='4%' border='0'>4.</td><td border='0' width='96%'>Keadaa Umum : ").append(rs2.getString("keadaan_umum")).append("</td></tr><tr><td width='4%' border='0'>5.</td><td border='0' width='96%'>Kesadaran : ").append(rs2.getString("kesadaran")).append("</td></tr><tr><td width='4%' border='0'>6.</td><td border='0' width='96%'>Tanda-tanda Vital : </td></tr><tr><td width='4%' border='0'></td><td border='0' width='96%' style='margin-left: 10px'>TD : ").append(rs2.getString("td")).append(" mmHg&nbsp;&nbsp;&nbsp;&nbsp;Nadi : ").append(rs2.getString("nadi")).append(" x/menit&nbsp;&nbsp;&nbsp;&nbsp;Suhu : ").append(rs2.getString("suhu")).append(" \u00b0C&nbsp;&nbsp;&nbsp;&nbsp;SpO2 : ").append(rs2.getString("spo2")).append(" %mmHg&nbsp;&nbsp;&nbsp;&nbsp;RR : ").append(rs2.getString("rr")).append(" x/menit</td></tr><tr><td width='4%' border='0'>7.</td><td border='0' border='0' width='96%'>Skala Nyeri : ").append(rs2.getString("skala_nyeri")).append("</td></tr><tr><td width='4%' border='0'>8.</td><td border='0' width='96%'>Tahap Pasien Menjelang Ajal : ").append(rs2.getString("tahap_pasien_menjelang_ajal")).append("</td></tr><tr><td width='4%' border='0'>9.</td><td border='0' width='96%'>Tanda-tanda Klinis Menjelang Kematian : ").append(rs2.getString("tanda_klinis_menjelang_kematian")).append("</td></tr><tr><td width='4%' border='0'>10.</td><td border='0' width='96%'>Kebutuhan Spiritual Pasien/Keluarga : ").append(rs2.getString("kebutuhan_spiritual_pasien").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr>");
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>"
                                + "</table>"
                                + "</fieldset>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Penilaian Pasien Terminal : " + e);
        }
    }

    private void menampilkanPenilaianKorbanKekerasan(String norawat) {
        try {
            if (chkPenilaianKorbanKekerasan.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select penilaian_korban_kekerasan.nip,pegawai.nama,penilaian_korban_kekerasan.tanggal,penilaian_korban_kekerasan.informasi,penilaian_korban_kekerasan.hubungan_dengan_pasien,penilaian_korban_kekerasan.jumlah_saudara,penilaian_korban_kekerasan.kondisi_keluaga,"
                            + "penilaian_korban_kekerasan.hubungan_orang_terdekat,penilaian_korban_kekerasan.kekerasan_yang_dialami,penilaian_korban_kekerasan.tempat_kejadian,penilaian_korban_kekerasan.lama_kekerasan,penilaian_korban_kekerasan.periode_kekerasan,penilaian_korban_kekerasan.seberapa_sering_mengalami,"
                            + "penilaian_korban_kekerasan.pemicu_kekerasan,penilaian_korban_kekerasan.yang_melakukan_kekerasan,penilaian_korban_kekerasan.dampak_kekerasan,penilaian_korban_kekerasan.tanda_tanda_didapatkan,penilaian_korban_kekerasan.memerlukan_pendampingan,"
                            + "penilaian_korban_kekerasan.riwayat_kelainan,penilaian_korban_kekerasan.pemeriksaan_kepala,penilaian_korban_kekerasan.pemeriksaan_thoraks,penilaian_korban_kekerasan.pemeriksaan_leher,penilaian_korban_kekerasan.pemeriksaan_abdomen,"
                            + "penilaian_korban_kekerasan.pemeriksaan_genitalia,penilaian_korban_kekerasan.pemeriksaan_ekstrimitas_atas,penilaian_korban_kekerasan.pemeriksaan_ekstrimitas_bawah,penilaian_korban_kekerasan.pemeriksaan_anus "
                            + "from penilaian_korban_kekerasan inner join pegawai on penilaian_korban_kekerasan.nip=pegawai.nik where penilaian_korban_kekerasan.no_rawat='" + norawat + "'").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<fieldset>"
                                + "<h2><center>PENILAIAN KORBAN KEKERASAN</center></h2>"
                                + "<table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Penilaian Pasien Korban Kekerasan</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                        );
                        rs2.beforeFirst();
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top'>YANG MELAKUKAN PENGKAJIAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='25%' border='0'>Tanggal : ").append(rs2.getString("tanggal")).append("</td><td width='50%' border='0'>Petugas : ").append(rs2.getString("nip")).append(" ").append(rs2.getString("nama")).append("</td><td width='25%' border='0'>Anamnesis : ").append(rs2.getString("informasi")).append(rs2.getString("hubungan_dengan_pasien").isEmpty() ? "" : ", " + rs2.getString("hubungan_dengan_pasien")).append("</td></tr></table></td></tr><tr><td valign='top'>RIWAYAT PENGKAJIAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%'>Jumlah Saudara : ").append(rs2.getString("jumlah_saudara")).append(", Kondisi Keluarga Inti : ").append(rs2.getString("kondisi_keluaga")).append(", Hubungan Dengan Orang Terdekat : ").append(rs2.getString("hubungan_orang_terdekat")).append("</td></tr><tr><td width='100%'>Jenis Kekerasan/Penganiayaan Yang Dialami : ").append(rs2.getString("kekerasan_yang_dialami").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='100%'>Tempat Kejadian Kekerasan : ").append(rs2.getString("tempat_kejadian")).append(", Lama Mengalami Kekerasan / Penganiayaan : ").append(rs2.getString("lama_kekerasan")).append(" ").append(rs2.getString("periode_kekerasan")).append("</td></tr><tr><td width='100%'>Seberapa Sering Mengalami Kekerasan / Penganiayaan : ").append(rs2.getString("seberapa_sering_mengalami")).append("</td></tr><tr><td width='100%'>Apakah Ada Waktu Tertentu/Pemicu Kekerasan / Penganiayaan : ").append(rs2.getString("pemicu_kekerasan")).append("</td></tr><tr><td width='100%'>Siapa Yang Melakukan Kekerasan / Penganiayaan : ").append(rs2.getString("yang_melakukan_kekerasan")).append("</td></tr><tr><td width='100%'>Dampak Yang Terjadi Pada Korban Kekerasan : ").append(rs2.getString("dampak_kekerasan").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='100%'>Tanda-tanda Yang Didapatkan Pada Korban Kekerasan : ").append(rs2.getString("tanda_tanda_didapatkan").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='100%'>Apakah Memerlukan Pendampingan : ").append(rs2.getString("memerlukan_pendampingan")).append(", Riwayat Kelainan / Gangguan Jiwa : ").append(rs2.getString("riwayat_kelainan")).append("</td></tr><tr><td width='100%'>Pemeriksaan Fisik :<table width='98%' border='0' align='right' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td border='0' width='15%' valign='top'>Kepala</td><td border='0' width='35%' valign='top'>: ").append(rs2.getString("pemeriksaan_kepala")).append("</td><td border='0' width='15%' valign='top'>Thoraks</td><td border='0' width='35%' valign='top'>: ").append(rs2.getString("pemeriksaan_thoraks")).append("</td></tr><tr><td border='0' width='15%' valign='top'>Leher</td><td border='0' width='35%' valign='top'>: ").append(rs2.getString("pemeriksaan_leher")).append("</td><td border='0' width='15%' valign='top'>Abdomen</td><td border='0' width='35%' valign='top'>: ").append(rs2.getString("pemeriksaan_abdomen")).append("</td></tr><tr><td border='0' width='15%' valign='top'>Genitalia</td><td border='0' width='35%' valign='top'>: ").append(rs2.getString("pemeriksaan_genitalia")).append("</td><td border='0' width='15%' valign='top'>Ekstremitas Atas</td><td border='0' width='35%' valign='top'>: ").append(rs2.getString("pemeriksaan_ekstrimitas_atas")).append("</td></tr><tr><td border='0' width='15%' valign='top'>Ekstremitas Bawah</td><td border='0' width='35%' valign='top'>: ").append(rs2.getString("pemeriksaan_ekstrimitas_bawah")).append("</td><td border='0' width='15%' valign='top'>Anus</td><td border='0' width='35%' valign='top'>: ").append(rs2.getString("pemeriksaan_anus")).append("</td></tr></table></td></tr></table></td></tr>");
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>"
                                + "</table>"
                                + "</fieldset>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Penilaian Korban Kekerasan : " + e);
        }
    }

    private void menampilkanPenilaianPasienPenyakitMenular(String norawat) {
        try {
            if (chkPenilaianPasienPenyakitMenular.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select penilaian_pasien_penyakit_menular.tanggal,penilaian_pasien_penyakit_menular.kd_dokter,penilaian_pasien_penyakit_menular.anamnesis,penilaian_pasien_penyakit_menular.hubungan,"
                            + "penilaian_pasien_penyakit_menular.pasien_mengetahui_kondisi_penyakitnya,penilaian_pasien_penyakit_menular.penyakit_sama_serumah,penilaian_pasien_penyakit_menular.riwayat_kontak,"
                            + "penilaian_pasien_penyakit_menular.keterangan_riwayat_kontak,penilaian_pasien_penyakit_menular.transmisi_penularan_penyakit,penilaian_pasien_penyakit_menular.keterangan_transmisi_penularan_penyakit,"
                            + "penilaian_pasien_penyakit_menular.kebutuhan_ruang_rawat,penilaian_pasien_penyakit_menular.keluhan_yang_dirasakan_saat_ini,penilaian_pasien_penyakit_menular.riwayat_penyakit_keluarga,"
                            + "penilaian_pasien_penyakit_menular.riwayat_alergi,penilaian_pasien_penyakit_menular.riwayat_vaksinasi,penilaian_pasien_penyakit_menular.riwayat_pengobatan,penilaian_pasien_penyakit_menular.diagnosa_utama,"
                            + "penilaian_pasien_penyakit_menular.diagnosa_tambahan,dokter.nm_dokter from reg_periksa inner join pasien on reg_periksa.no_rkm_medis=pasien.no_rkm_medis "
                            + "inner join penilaian_pasien_penyakit_menular on reg_periksa.no_rawat=penilaian_pasien_penyakit_menular.no_rawat "
                            + "inner join dokter on penilaian_pasien_penyakit_menular.kd_dokter=dokter.kd_dokter where penilaian_pasien_penyakit_menular.no_rawat='" + norawat + "'").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<fieldset>"
                                + "<h2><center>PENILAIAN PASIEN PENYAKIT MENULAR</center></h2>"
                                + "<table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Penilaian Pasien Penyakit Menular</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                        );
                        rs2.beforeFirst();
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top'>YANG MELAKUKAN PENGKAJIAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='33%' border='0'>Tanggal : ").append(rs2.getString("tanggal")).append("</td><td width='33%' border='0'>Dokter : ").append(rs2.getString("kd_dokter")).append(" ").append(rs2.getString("nm_dokter")).append("</td><td width='33%' border='0'>Anamnesis : ").append(rs2.getString("anamnesis")).append(rs2.getString("hubungan").isEmpty() ? "" : ", " + rs2.getString("hubungan")).append("</td></tr></table></td></tr><tr><td valign='top'>I. RIWAYAT KESEHATAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='50%'>Apakah Pasien Mengetahui Kondisi Penyakitnya : ").append(rs2.getString("pasien_mengetahui_kondisi_penyakitnya")).append("</td><td width='50%'>Apakah Di Dalam Satu Rumah Ada Penyakit Yang Sama : ").append(rs2.getString("penyakit_sama_serumah")).append("</td></tr><tr><td width='100%' colspan='2'>Riwayat Kontak : ").append(rs2.getString("riwayat_kontak")).append(rs2.getString("keterangan_riwayat_kontak").isEmpty() ? "" : ", " + rs2.getString("keterangan_riwayat_kontak")).append("</td></tr><tr><td width='50%'>Transmisi Penularan Penyakit : ").append(rs2.getString("transmisi_penularan_penyakit")).append(rs2.getString("keterangan_transmisi_penularan_penyakit").isEmpty() ? "" : ", " + rs2.getString("keterangan_transmisi_penularan_penyakit")).append("</td><td width='50%'>Kebutuhan Ruang Rawat : ").append(rs2.getString("kebutuhan_ruang_rawat")).append("</td></tr><tr><td width='100%' colspan='2'>Riwayat Penyakit Sekarang/Keluhan Yang Dirasakan Saat Ini : ").append(rs2.getString("keluhan_yang_dirasakan_saat_ini").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='100%' colspan='2'>Riwayat Penyakit Keluarga : ").append(rs2.getString("riwayat_penyakit_keluarga").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='50%'>Riwayat Alergi : ").append(rs2.getString("riwayat_alergi")).append("</td><td width='50%'>Riwayat Vaksinasi : ").append(rs2.getString("riwayat_vaksinasi")).append("</td></tr><tr><td width='100%' colspan='2'>Riwayat Pengobatan/Penggunaan Obat-obatan Terlarang : ").append(rs2.getString("riwayat_pengobatan").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>II. DIAGNOSIS/ASESMEN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%'>Diagnosa Utama : ").append(rs2.getString("diagnosa_utama").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='100%'>Diagnosa Tambahan : ").append(rs2.getString("diagnosa_tambahan").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr>");
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>"
                                + "</table>"
                                + "</fieldset>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Penilaian Pasien Penyakit Menular : " + e);
        }
    }

    private void menampilkanEdukasiPasienTerintegrasiRawatJalan(String norawat) {
        try {
            if (chkEdukasiPasienTerintegrasiRawatJalan.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select edukasi_pasien_keluarga_rj.tanggal,edukasi_pasien_keluarga_rj.bicara,edukasi_pasien_keluarga_rj.keterangan_bicara,edukasi_pasien_keluarga_rj.bahasa_sehari,"
                            + "edukasi_pasien_keluarga_rj.perlu_penerjemah,edukasi_pasien_keluarga_rj.keterangan_penerjemah,edukasi_pasien_keluarga_rj.bahasa_isyarat,"
                            + "edukasi_pasien_keluarga_rj.cara_belajar,edukasi_pasien_keluarga_rj.hambatan_belajar,edukasi_pasien_keluarga_rj.keterangan_hambatan_belajar,"
                            + "edukasi_pasien_keluarga_rj.kemampuan_belajar,edukasi_pasien_keluarga_rj.keterangan_kemampuan_belajar,edukasi_pasien_keluarga_rj.penyakitnya_merupakan,"
                            + "edukasi_pasien_keluarga_rj.keterangan_penyakitnya_merupakan,edukasi_pasien_keluarga_rj.keputusan_memilih_layanan,edukasi_pasien_keluarga_rj.keterangan_keputusan_memilih_layanan,"
                            + "edukasi_pasien_keluarga_rj.keyakinan_terhadap_terapi,edukasi_pasien_keluarga_rj.keterangan_keyakinan_terhadap_terapi,edukasi_pasien_keluarga_rj.aspek_keyakinan_dipertimbangkan,"
                            + "edukasi_pasien_keluarga_rj.keterangan_aspek_keyakinan_dipertimbangkan,edukasi_pasien_keluarga_rj.kesediaan_menerima_informasi,"
                            + "edukasi_pasien_keluarga_rj.topik_edukasi_penyakit,edukasi_pasien_keluarga_rj.topik_edukasi_rencana_tindakan,edukasi_pasien_keluarga_rj.topik_edukasi_pengobatan,"
                            + "edukasi_pasien_keluarga_rj.topik_edukasi_hasil_layanan,edukasi_pasien_keluarga_rj.nip,petugas.nama "
                            + "from edukasi_pasien_keluarga_rj inner join petugas on edukasi_pasien_keluarga_rj.nip=petugas.nip where edukasi_pasien_keluarga_rj.no_rawat='" + norawat + "'").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<fieldset>"
                                + "<h2><center>EDUKASI PASIEN TERINTEGRASI RAWAT JALAN</center></h2>"
                                + "<table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Edukasi Pasien & Keluarga Terintegrasi Rawat Jalan</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                        );
                        rs2.beforeFirst();
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top'>YANG MELAKUKAN EDUKASI<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='33%' border='0'>Tanggal : ").append(rs2.getString("tanggal")).append("</td><td width='66%' border='0'>Petugas : ").append(rs2.getString("nip")).append(" ").append(rs2.getString("nama")).append("</td></tr></table></td></tr><tr><td valign='top'>A. PENGKAJIAN KEBUTUHAN EDUKASI<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='25%' border='0' valign='top'>Bicara</td><td width='75%' border='0' valign='top'>: ").append(rs2.getString("bicara")).append(rs2.getString("keterangan_bicara").isEmpty() ? "" : ", " + rs2.getString("keterangan_bicara")).append("</td></tr><tr><td width='25%' border='0' valign='top'>Keterangan Bahasa Sehari-hari</td><td width='75%' border='0' valign='top'>: ").append(rs2.getString("bahasa_sehari")).append("</td></tr><tr><td width='25%' border='0' valign='top'>Perlu Penerjemah</td><td width='75%' border='0' valign='top'>: ").append(rs2.getString("perlu_penerjemah")).append(rs2.getString("keterangan_penerjemah").isEmpty() ? "" : ", " + rs2.getString("keterangan_penerjemah")).append("</td></tr><tr><td width='25%' border='0' valign='top'>Bahasa Isyarat</td><td width='75%' border='0' valign='top'>: ").append(rs2.getString("bahasa_isyarat")).append("</td></tr><tr><td width='25%' border='0' valign='top'>Cara Belajar Yang Disukai</td><td width='75%' border='0' valign='top'>: ").append(rs2.getString("cara_belajar")).append("</td></tr><tr><td width='25%' border='0' valign='top'>Hambatan Belajar</td><td width='75%' border='0' valign='top'>: ").append(rs2.getString("hambatan_belajar")).append(rs2.getString("keterangan_hambatan_belajar").isEmpty() ? "" : ", " + rs2.getString("keterangan_hambatan_belajar")).append("</td></tr><tr><td width='25%' border='0' valign='top'>Kemampuan Belajar</td><td width='75%' border='0' valign='top'>: ").append(rs2.getString("kemampuan_belajar")).append(rs2.getString("keterangan_kemampuan_belajar").isEmpty() ? "" : ", " + rs2.getString("keterangan_kemampuan_belajar")).append("</td></tr><tr><td width='100%' colspan='2'>Nilai dan Keyakinan<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0' style='margin-left: 10px'>a. Penyakitnya Merupakan : ").append(rs2.getString("penyakitnya_merupakan")).append(rs2.getString("keterangan_penyakitnya_merupakan").isEmpty() ? "" : ", " + rs2.getString("keterangan_penyakitnya_merupakan")).append("</td></tr><tr><td width='100%' border='0' style='margin-left: 10px'>b. Keputusan Memilih Layanan Kesehatan : ").append(rs2.getString("keputusan_memilih_layanan")).append(rs2.getString("keterangan_keputusan_memilih_layanan").isEmpty() ? "" : ", " + rs2.getString("keterangan_keputusan_memilih_layanan")).append("</td></tr><tr><td width='100%' border='0' style='margin-left: 10px'>c. Keyakinan Terhadap Hasil Terapi : ").append(rs2.getString("keyakinan_terhadap_terapi")).append(rs2.getString("keterangan_keyakinan_terhadap_terapi").isEmpty() ? "" : ", " + rs2.getString("keterangan_keyakinan_terhadap_terapi")).append("</td></tr><tr><td width='100%' border='0' style='margin-left: 10px'>d. Aspek Keyakinan Yang Perlu Dipertimbangkan Selama Masa Perawatan : ").append(rs2.getString("aspek_keyakinan_dipertimbangkan")).append(rs2.getString("keterangan_aspek_keyakinan_dipertimbangkan").isEmpty() ? "" : ", " + rs2.getString("keterangan_aspek_keyakinan_dipertimbangkan")).append("</td></tr></table></td></tr><tr><td width='25%' valign='top' border='0'>Kesediaan Menerima Informasi</td><td width='75%' valign='top' border='0'>: ").append(rs2.getString("kesediaan_menerima_informasi")).append("</td></tr></table></td></tr><tr><td valign='top'>B. PERENCANAAN KEBUTUHAN EDUKASI<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' colspan='3'>Topik Edukasi Yang Harus Diberikan Kepada Pasien Dan Keluarga Antara Lain :<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='75%' border='0' valign='top' style='margin-left: 10px'>Penyakit Yang Diderita Pasien</td><td width='25%' border='0' valign='top'>: ").append(rs2.getString("topik_edukasi_penyakit")).append("</td></tr><tr><td width='75%' border='0' valign='top' style='margin-left: 10px'>Rencana Tindakan/Terapi</td><td width='25%' border='0' valign='top'>: ").append(rs2.getString("topik_edukasi_rencana_tindakan")).append("</td></tr><tr><td width='75%' border='0' valign='top' style='margin-left: 10px'>Pengobatan Dan Prosedur Yang Diberikan/Diperlukan</td><td width='25%' border='0' valign='top'>: ").append(rs2.getString("topik_edukasi_pengobatan")).append("</td></tr><tr><td width='75%' border='0' valign='top' style='margin-left: 10px'>Hasil Pelayanan,Termasuk Terjadinya Kejadian Yang Diharapkan & Tidak Diharapkan</td><td width='25%' border='0' valign='top'>: ").append(rs2.getString("topik_edukasi_hasil_layanan")).append("</td></tr></table></td></tr></table></td></tr>");
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>"
                                + "</table>"
                                + "</fieldset>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Penilaian Pasien Penyakit Menular : " + e);
        }
    }

    private void menampilkanTambahanBunuhDiri(String norawat) {
        try {
            if (chkAsuhanTambahanBunuhDiri.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select penilaian_tambahan_bunuh_diri.tanggal,penilaian_tambahan_bunuh_diri.statik_hidup_sendiri,penilaian_tambahan_bunuh_diri.statik_skorhidup_sendiri,penilaian_tambahan_bunuh_diri.statik_upaya_suicide,"
                            + "penilaian_tambahan_bunuh_diri.statik_skorupaya_suicide,penilaian_tambahan_bunuh_diri.statik_keluarga_suicide,penilaian_tambahan_bunuh_diri.statik_skorkeluarga_suicide,"
                            + "penilaian_tambahan_bunuh_diri.statik_diagnosa_gangguan_jiwa,penilaian_tambahan_bunuh_diri.statik_skordiagnosa_gangguan_jiwa,"
                            + "penilaian_tambahan_bunuh_diri.statik_disabilitas_berat,penilaian_tambahan_bunuh_diri.statik_skordisabilitas_berat,penilaian_tambahan_bunuh_diri.statik_berpisah,"
                            + "penilaian_tambahan_bunuh_diri.statik_skorberpisah,penilaian_tambahan_bunuh_diri.statik_kehilangan_kerja,penilaian_tambahan_bunuh_diri.statik_skorkehilangan_kerja,"
                            + "penilaian_tambahan_bunuh_diri.statik_skortotal,penilaian_tambahan_bunuh_diri.dinamis_ide_bunuh_diri,penilaian_tambahan_bunuh_diri.dinamis_skoride_bunuh_diri,"
                            + "penilaian_tambahan_bunuh_diri.dinamis_maksud_suicide,penilaian_tambahan_bunuh_diri.dinamis_skormaksud_suicide,penilaian_tambahan_bunuh_diri.dinamis_stress_berat,"
                            + "penilaian_tambahan_bunuh_diri.dinamis_skorstress_berat,penilaian_tambahan_bunuh_diri.dinamis_keputusasaan,penilaian_tambahan_bunuh_diri.dinamis_skorkeputusasaan,"
                            + "penilaian_tambahan_bunuh_diri.dinamis_kejadian_signifikan,penilaian_tambahan_bunuh_diri.dinamis_skorkejadian_signifikan,penilaian_tambahan_bunuh_diri.dinamis_kehilangan_kontrol,"
                            + "penilaian_tambahan_bunuh_diri.dinamis_skorkehilangan_kontrol,penilaian_tambahan_bunuh_diri.dinamis_penggunaan_napza,penilaian_tambahan_bunuh_diri.dinamis_skorpenggunaan_napza,"
                            + "penilaian_tambahan_bunuh_diri.dinamis_skortotal,penilaian_tambahan_bunuh_diri.faktor_faktor_pencegahan,penilaian_tambahan_bunuh_diri.total_skor,"
                            + "penilaian_tambahan_bunuh_diri.level_skor,penilaian_tambahan_bunuh_diri.nip,petugas.nama "
                            + "from penilaian_tambahan_bunuh_diri join petugas on penilaian_tambahan_bunuh_diri.nip=petugas.nip where "
                            + "penilaian_tambahan_bunuh_diri.no_rawat='" + norawat + "'").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<fieldset>"
                                + "<h2><center>TAMBAHAN BUNUH DIRI</center></h2>"
                                + "<table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Penilaian Tambahan Bunuh Diri</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                        );
                        rs2.beforeFirst();
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top'>YANG MELAKUKAN PENGKAJIAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='33%' border='0'>Tanggal : ").append(rs2.getString("tanggal")).append("</td><td width='67%' border='0'>Petugas : ").append(rs2.getString("nip")).append(" ").append(rs2.getString("nama")).append("</td></tr></table></td></tr><tr><td valign='top'>FAKTOR-FAKTOR BUNUH DIRI<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='35%' bgcolor='#FFFAF8' align='center'>Faktor Statik</td><td width='10%' bgcolor='#FFFAF8' align='center'>Skala</td><td width='5%' bgcolor='#FFFAF8' align='center'>Skor</td><td width='35%' bgcolor='#FFFAF8' align='center'>Faktor Dinamis</td><td width='10%' bgcolor='#FFFAF8' align='center'>Skala</td><td width='5%' bgcolor='#FFFAF8' align='center'>Skor</td></tr><tr><td width='35%'>Tinggal Hidup Sendiri</td><td width='10%' align='center'>").append(rs2.getString("statik_hidup_sendiri")).append("</td><td width='5%' align='center'>").append(rs2.getString("statik_skorhidup_sendiri")).append("</td><td width='35%'>Mengungkapkan Ide Bunuh Diri</td><td width='10%' align='center'>").append(rs2.getString("dinamis_ide_bunuh_diri")).append("</td><td width='5%' align='center'>").append(rs2.getString("dinamis_skoride_bunuh_diri")).append("</td></tr><tr><td width='35%'>Riwayat Upaya Suicide</td><td width='10%' align='center'>").append(rs2.getString("statik_upaya_suicide")).append("</td><td width='5%' align='center'>").append(rs2.getString("statik_skorupaya_suicide")).append("</td><td width='35%'>Memiliki Rencana Maksud Suicide</td><td width='10%' align='center'>").append(rs2.getString("dinamis_maksud_suicide")).append("</td><td width='5%' align='center'>").append(rs2.getString("dinamis_skormaksud_suicide")).append("</td></tr><tr><td width='35%'>Riwayat Keluarga Suicide</td><td width='10%' align='center'>").append(rs2.getString("statik_keluarga_suicide")).append("</td><td width='5%' align='center'>").append(rs2.getString("statik_skorkeluarga_suicide")).append("</td><td width='35%'>Mengungkapkan Stress Yang Berat</td><td width='10%' align='center'>").append(rs2.getString("dinamis_stress_berat")).append("</td><td width='5%' align='center'>").append(rs2.getString("dinamis_skorstress_berat")).append("</td></tr><tr><td width='35%'>Adanya Diagnosa Gangguang Jiwa</td><td width='10%' align='center'>").append(rs2.getString("statik_diagnosa_gangguan_jiwa")).append("</td><td width='5%' align='center'>").append(rs2.getString("statik_skordiagnosa_gangguan_jiwa")).append("</td><td width='35%'>Keputusasaan</td><td width='10%' align='center'>").append(rs2.getString("dinamis_keputusasaan")).append("</td><td width='5%' align='center'>").append(rs2.getString("dinamis_skorkeputusasaan")).append("</td></tr><tr><td width='35%'>Penyakit/Disabilitas Berat</td><td width='10%' align='center'>").append(rs2.getString("statik_disabilitas_berat")).append("</td><td width='5%' align='center'>").append(rs2.getString("statik_skordisabilitas_berat")).append("</td><td width='35%'>Kejadian Signifikan Akhir-akhir Ini</td><td width='10%' align='center'>").append(rs2.getString("dinamis_kejadian_signifikan")).append("</td><td width='5%' align='center'>").append(rs2.getString("dinamis_skorkejadian_signifikan")).append("</td></tr><tr><td width='35%'>Berpisah/Duda/Cerai</td><td width='10%' align='center'>").append(rs2.getString("statik_berpisah")).append("</td><td width='5%' align='center'>").append(rs2.getString("statik_skorberpisah")).append("</td><td width='35%'>Berkurangnya/Kehilangan Kontrol Diri</td><td width='10%' align='center'>").append(rs2.getString("dinamis_kehilangan_kontrol")).append("</td><td width='5%' align='center'>").append(rs2.getString("dinamis_skorkehilangan_kontrol")).append("</td></tr><tr><td width='35%'>Kehilangan Pekerjaan/Tidak Bekerja</td><td width='10%' align='center'>").append(rs2.getString("statik_kehilangan_kerja")).append("</td><td width='5%' align='center'>").append(rs2.getString("statik_skorkehilangan_kerja")).append("</td><td width='35%'>Penggunaan Napza</td><td width='10%' align='center'>").append(rs2.getString("dinamis_penggunaan_napza")).append("</td><td width='5%' align='center'>").append(rs2.getString("dinamis_skorpenggunaan_napza")).append("</td></tr><tr><td width='45%' colspan='2'>Jumlah Skor</td><td width='5%' align='center'>").append(rs2.getString("statik_skortotal")).append("</td><td width='45%' colspan='2'>Jumlah Skor</td><td width='5%' align='center'>").append(rs2.getString("dinamis_skortotal")).append("</td></tr></table></td></tr><tr><td valign='top'>FAKTOR-FAKTOR PENCEGAHAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>").append(rs2.getString("faktor_faktor_pencegahan")).append("</td></tr></table></td></tr><tr><td valign='top'>TOTAL SKOR & LEVEL<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='50%' border='0'>Total Skor Risiko Bunuh Diri : ").append(rs2.getString("total_skor")).append("</td><td width='50%' border='0'>Level : ").append(rs2.getString("level_skor")).append("</td></tr></table></td></tr>");
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>"
                                + "</table>"
                                + "</fieldset>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Tambahan Bunuh Diri : " + e);
        }
    }

    private void menampilkanTambahanPerilakuKekerasan(String norawat) {
        try {
            if (chkAsuhanTambahanPerilakuKekerasan.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select penilaian_tambahan_perilaku_kekerasan.tanggal,penilaian_tambahan_perilaku_kekerasan.statik_insiden_kekerasan_baru_ini,penilaian_tambahan_perilaku_kekerasan.statik_skorinsiden_kekerasan_baru_ini,"
                            + "penilaian_tambahan_perilaku_kekerasan.statik_riwayat_penggunaan_senjata,penilaian_tambahan_perilaku_kekerasan.statik_skorriwayat_penggunaan_senjata,"
                            + "penilaian_tambahan_perilaku_kekerasan.statik_laki_laki,penilaian_tambahan_perilaku_kekerasan.statik_skorlaki_laki,penilaian_tambahan_perilaku_kekerasan.statik_usia_dibawah_35,"
                            + "penilaian_tambahan_perilaku_kekerasan.statik_skorusia_dibawah_35,penilaian_tambahan_perilaku_kekerasan.statik_riwayat_kriminal,"
                            + "penilaian_tambahan_perilaku_kekerasan.statik_skorriwayat_kriminal,penilaian_tambahan_perilaku_kekerasan.statik_ide_kekerasan,penilaian_tambahan_perilaku_kekerasan.statik_skoride_kekerasan,"
                            + "penilaian_tambahan_perilaku_kekerasan.statik_kekerasan_anak_anak,penilaian_tambahan_perilaku_kekerasan.statik_skorkekerasan_anak_anak,"
                            + "penilaian_tambahan_perilaku_kekerasan.statik_peran_dalam_hidup,penilaian_tambahan_perilaku_kekerasan.statik_skorperan_dalam_hidup,"
                            + "penilaian_tambahan_perilaku_kekerasan.statik_penggunaan_napza,penilaian_tambahan_perilaku_kekerasan.statik_skorpenggunaan_napza,"
                            + "penilaian_tambahan_perilaku_kekerasan.statik_skortotal,penilaian_tambahan_perilaku_kekerasan.dinamis_ide_melukai_orang_lain,penilaian_tambahan_perilaku_kekerasan.dinamis_skoride_melukai_orang_lain,"
                            + "penilaian_tambahan_perilaku_kekerasan.dinamis_akses_kekerasan,penilaian_tambahan_perilaku_kekerasan.dinamis_skorakses_kekerasan,"
                            + "penilaian_tambahan_perilaku_kekerasan.dinamis_ide_paranoid,penilaian_tambahan_perilaku_kekerasan.dinamis_skoride_paranoid,penilaian_tambahan_perilaku_kekerasan.dinamis_perintah_halusinasi,"
                            + "penilaian_tambahan_perilaku_kekerasan.dinamis_skorperintah_halusinasi,penilaian_tambahan_perilaku_kekerasan.dinamis_frustasi_agitasi,"
                            + "penilaian_tambahan_perilaku_kekerasan.dinamis_skorfrustasi_agitasi,penilaian_tambahan_perilaku_kekerasan.dinamis_kesenangan_kekerasan,"
                            + "penilaian_tambahan_perilaku_kekerasan.dinamis_skorkesenangan_kekerasan,penilaian_tambahan_perilaku_kekerasan.dinamis_seksual_tidak_wajar,"
                            + "penilaian_tambahan_perilaku_kekerasan.dinamis_skorseksual_tidak_wajar,penilaian_tambahan_perilaku_kekerasan.dinamis_hilangnya_kontrol_diri,"
                            + "penilaian_tambahan_perilaku_kekerasan.dinamis_skorhilangnya_kontrol_diri,penilaian_tambahan_perilaku_kekerasan.dinamis_pengguaan_napza,"
                            + "penilaian_tambahan_perilaku_kekerasan.dinamis_skorpengguaan_napza,penilaian_tambahan_perilaku_kekerasan.dinamis_skortotal,penilaian_tambahan_perilaku_kekerasan.faktor_faktor_pencegahan,"
                            + "penilaian_tambahan_perilaku_kekerasan.total_skor,penilaian_tambahan_perilaku_kekerasan.level_skor,penilaian_tambahan_perilaku_kekerasan.nip,petugas.nama "
                            + "from penilaian_tambahan_perilaku_kekerasan inner join petugas on penilaian_tambahan_perilaku_kekerasan.nip=petugas.nip where "
                            + "penilaian_tambahan_perilaku_kekerasan.no_rawat='" + norawat + "'").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<fieldset>"
                                + "<h2><center>TAMBAHAN PERILAKU KEKERASAN</center></h2>"
                                + "<table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Penilaian Tambahan Perilaku Kekerasan</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                        );
                        rs2.beforeFirst();
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top'>YANG MELAKUKAN PENGKAJIAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='33%' border='0'>Tanggal : ").append(rs2.getString("tanggal")).append("</td><td width='67%' border='0'>Petugas : ").append(rs2.getString("nip")).append(" ").append(rs2.getString("nama")).append("</td></tr></table></td></tr><tr><td valign='top'>FAKTOR-FAKTOR PERILAKU KEKERASAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='35%' bgcolor='#FFFAF8' align='center'>Faktor Statik</td><td width='10%' bgcolor='#FFFAF8' align='center'>Skala</td><td width='5%' bgcolor='#FFFAF8' align='center'>Skor</td><td width='35%' bgcolor='#FFFAF8' align='center'>Faktor Dinamis</td><td width='10%' bgcolor='#FFFAF8' align='center'>Skala</td><td width='5%' bgcolor='#FFFAF8' align='center'>Skor</td></tr><tr><td width='35%'>Insiden Kekerasan Baru-baru Ini</td><td width='10%' align='center'>").append(rs2.getString("statik_insiden_kekerasan_baru_ini")).append("</td><td width='5%' align='center'>").append(rs2.getString("statik_skorinsiden_kekerasan_baru_ini")).append("</td><td width='35%'>Mengekspresikan Ide Untuk Melukai Orang Lain</td><td width='10%' align='center'>").append(rs2.getString("dinamis_ide_melukai_orang_lain")).append("</td><td width='5%' align='center'>").append(rs2.getString("dinamis_skoride_melukai_orang_lain")).append("</td></tr><tr><td width='35%'>Riwayat Penggunaan Senjata</td><td width='10%' align='center'>").append(rs2.getString("statik_riwayat_penggunaan_senjata")).append("</td><td width='5%' align='center'>").append(rs2.getString("statik_skorriwayat_penggunaan_senjata")).append("</td><td width='35%'>Akses Untuk Melakukan Tindakan Kekerasan</td><td width='10%' align='center'>").append(rs2.getString("dinamis_akses_kekerasan")).append("</td><td width='5%' align='center'>").append(rs2.getString("dinamis_skorakses_kekerasan")).append("</td></tr><tr><td width='35%'>Laki-laki</td><td width='10%' align='center'>").append(rs2.getString("statik_laki_laki")).append("</td><td width='5%' align='center'>").append(rs2.getString("statik_skorlaki_laki")).append("</td><td width='35%'>Ide Paranoid Atau Lainnya</td><td width='10%' align='center'>").append(rs2.getString("dinamis_ide_paranoid")).append("</td><td width='5%' align='center'>").append(rs2.getString("dinamis_skoride_paranoid")).append("</td></tr><tr><td width='35%'>Usia Dibawah 35 Tahun</td><td width='10%' align='center'>").append(rs2.getString("statik_usia_dibawah_35")).append("</td><td width='5%' align='center'>").append(rs2.getString("statik_skorusia_dibawah_35")).append("</td><td width='35%'>Perintah Halusinasi Untuk Tindakan Kekerasan</td><td width='10%' align='center'>").append(rs2.getString("dinamis_perintah_halusinasi")).append("</td><td width='5%' align='center'>").append(rs2.getString("dinamis_skorperintah_halusinasi")).append("</td></tr><tr><td width='35%'>Riwayat Kriminal</td><td width='10%' align='center'>").append(rs2.getString("statik_riwayat_kriminal")).append("</td><td width='5%' align='center'>").append(rs2.getString("statik_skorriwayat_kriminal")).append("</td><td width='35%'>Kemarahan, Frustasi Atau Agitasi</td><td width='10%' align='center'>").append(rs2.getString("dinamis_frustasi_agitasi")).append("</td><td width='5%' align='center'>").append(rs2.getString("dinamis_skorfrustasi_agitasi")).append("</td></tr><tr><td width='35%'>Riwayat Melakukan Tindakan Berbahaya</td><td width='10%' align='center'>").append(rs2.getString("statik_ide_kekerasan")).append("</td><td width='5%' align='center'>").append(rs2.getString("statik_skoride_kekerasan")).append("</td><td width='35%'>Kesenangan Untuk Ide/Tindakan Kekerasan</td><td width='10%' align='center'>").append(rs2.getString("dinamis_kesenangan_kekerasan")).append("</td><td width='5%' align='center'>").append(rs2.getString("dinamis_skorkesenangan_kekerasan")).append("</td></tr><tr><td width='35%'>Riwayat Kekerasan Masa Kanak-kanak</td><td width='10%' align='center'>").append(rs2.getString("statik_kekerasan_anak_anak")).append("</td><td width='5%' align='center'>").append(rs2.getString("statik_skorkekerasan_anak_anak")).append("</td><td width='35%'>Perilaku Seksual Yang Tidak Wajar</td><td width='10%' align='center'>").append(rs2.getString("dinamis_seksual_tidak_wajar")).append("</td><td width='5%' align='center'>").append(rs2.getString("dinamis_skorseksual_tidak_wajar")).append("</td></tr><tr><td width='35%'>Kurangnya Peran Dalam Hidup</td><td width='10%' align='center'>").append(rs2.getString("statik_peran_dalam_hidup")).append("</td><td width='5%' align='center'>").append(rs2.getString("statik_skorperan_dalam_hidup")).append("</td><td width='35%'>Berkurangnya/Hilangnya Untuk Kontrol Diri</td><td width='10%' align='center'>").append(rs2.getString("dinamis_hilangnya_kontrol_diri")).append("</td><td width='5%' align='center'>").append(rs2.getString("dinamis_skorhilangnya_kontrol_diri")).append("</td></tr><tr><td width='35%'>Riwayat Penggunaan NAPZA</td><td width='10%' align='center'>").append(rs2.getString("statik_penggunaan_napza")).append("</td><td width='5%' align='center'>").append(rs2.getString("statik_skorpenggunaan_napza")).append("</td><td width='35%'>Penggunaan Napza</td><td width='10%' align='center'>").append(rs2.getString("dinamis_pengguaan_napza")).append("</td><td width='5%' align='center'>").append(rs2.getString("dinamis_skorpengguaan_napza")).append("</td></tr><tr><td width='45%' colspan='2'>Jumlah Skor</td><td width='5%' align='center'>").append(rs2.getString("statik_skortotal")).append("</td><td width='45%' colspan='2'>Jumlah Skor</td><td width='5%' align='center'>").append(rs2.getString("dinamis_skortotal")).append("</td></tr></table></td></tr><tr><td valign='top'>FAKTOR-FAKTOR PENCEGAHAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>").append(rs2.getString("faktor_faktor_pencegahan")).append("</td></tr></table></td></tr><tr><td valign='top'>TOTAL SKOR & LEVEL<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='50%' border='0'>Total Skor Risiko Perilaku Kekerasan : ").append(rs2.getString("total_skor")).append("</td><td width='50%' border='0'>Level : ").append(rs2.getString("level_skor")).append("</td></tr></table></td></tr>");
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>"
                                + "</table>"
                                + "</fieldset>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Tambahan Perilaku Kekerasan : " + e);
        }
    }

    private void menampilkanTambahanMelarikanDiri(String norawat) {
        try {
            if (chkAsuhanTambahanMelarikanDiri.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select penilaian_tambahan_beresiko_melarikan_diri.tanggal,penilaian_tambahan_beresiko_melarikan_diri.statik_riwayat_melarikan_diri,penilaian_tambahan_beresiko_melarikan_diri.statik_skorriwayat_melarikan_diri,"
                            + "penilaian_tambahan_beresiko_melarikan_diri.statik_riwayat_penolakan_pengobatan,penilaian_tambahan_beresiko_melarikan_diri.statik_skorriwayat_penolakan_pengobatan,"
                            + "penilaian_tambahan_beresiko_melarikan_diri.statik_usia_dibawah_35,penilaian_tambahan_beresiko_melarikan_diri.statik_skorusia_dibawah_35,"
                            + "penilaian_tambahan_beresiko_melarikan_diri.statik_laki_laki,penilaian_tambahan_beresiko_melarikan_diri.statik_skorlaki_laki,"
                            + "penilaian_tambahan_beresiko_melarikan_diri.statik_diagnosis_skizofrenia,penilaian_tambahan_beresiko_melarikan_diri.statik_skordiagnosis_skizofrenia,"
                            + "penilaian_tambahan_beresiko_melarikan_diri.statik_belum_menikah,penilaian_tambahan_beresiko_melarikan_diri.statik_skorbelum_menikah,"
                            + "penilaian_tambahan_beresiko_melarikan_diri.statik_riwayat_penggunaan_napza,penilaian_tambahan_beresiko_melarikan_diri.statik_skoriwayat_penggunaan_napza,"
                            + "penilaian_tambahan_beresiko_melarikan_diri.statik_diagnosis_gangguan_kepribadian,penilaian_tambahan_beresiko_melarikan_diri.statik_skordiagnosis_gangguan_kepribadian,"
                            + "penilaian_tambahan_beresiko_melarikan_diri.statik_riwayat_kriminal,penilaian_tambahan_beresiko_melarikan_diri.statik_skorriwayat_kriminal,"
                            + "penilaian_tambahan_beresiko_melarikan_diri.statik_skortotal,penilaian_tambahan_beresiko_melarikan_diri.dinamis_anti_treatment,"
                            + "penilaian_tambahan_beresiko_melarikan_diri.dinamis_skoranti_treatment,penilaian_tambahan_beresiko_melarikan_diri.dinamis_penggunaan_napza,"
                            + "penilaian_tambahan_beresiko_melarikan_diri.dinamis_skorpenggunaan_napza,penilaian_tambahan_beresiko_melarikan_diri.dinamis_kebosanan,"
                            + "penilaian_tambahan_beresiko_melarikan_diri.dinamis_skorkebosanan,penilaian_tambahan_beresiko_melarikan_diri.dinamis_perintah_halusinasi,"
                            + "penilaian_tambahan_beresiko_melarikan_diri.dinamis_skorperintah_halusinasi,penilaian_tambahan_beresiko_melarikan_diri.dinamis_hilangnya_kontrol_diri,"
                            + "penilaian_tambahan_beresiko_melarikan_diri.dinamis_skorhilangnya_kontrol_diri,penilaian_tambahan_beresiko_melarikan_diri.dinamis_seksual_tidak_wajar,"
                            + "penilaian_tambahan_beresiko_melarikan_diri.dinamis_skorseksual_tidak_wajar,penilaian_tambahan_beresiko_melarikan_diri.dinamis_kemarahan_frustasi,"
                            + "penilaian_tambahan_beresiko_melarikan_diri.dinamis_skorkemarahan_frustasi,penilaian_tambahan_beresiko_melarikan_diri.dinamis_ketakutan_perawatan,"
                            + "penilaian_tambahan_beresiko_melarikan_diri.dinamis_skorketakutan_perawatan,penilaian_tambahan_beresiko_melarikan_diri.dinamis_skortotal,"
                            + "penilaian_tambahan_beresiko_melarikan_diri.faktor_faktor_pencegahan,penilaian_tambahan_beresiko_melarikan_diri.total_skor,"
                            + "penilaian_tambahan_beresiko_melarikan_diri.level_skor,penilaian_tambahan_beresiko_melarikan_diri.nip,petugas.nama "
                            + "from penilaian_tambahan_beresiko_melarikan_diri inner join petugas on penilaian_tambahan_beresiko_melarikan_diri.nip=petugas.nip where "
                            + "penilaian_tambahan_beresiko_melarikan_diri.no_rawat='" + norawat + "'").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<fieldset>"
                                + "<h2><center>TAMBAHAN MELARIKAN DIRI</center></h2>"
                                + "<table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Penilaian Tambahan Berisiko Melarikan Diri</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                        );
                        rs2.beforeFirst();
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top'>YANG MELAKUKAN PENGKAJIAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='33%' border='0'>Tanggal : ").append(rs2.getString("tanggal")).append("</td><td width='67%' border='0'>Petugas : ").append(rs2.getString("nip")).append(" ").append(rs2.getString("nama")).append("</td></tr></table></td></tr><tr><td valign='top'>FAKTOR-FAKTOR MELARIKAN DIRI<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='35%' bgcolor='#FFFAF8' align='center'>Faktor Statik</td><td width='10%' bgcolor='#FFFAF8' align='center'>Skala</td><td width='5%' bgcolor='#FFFAF8' align='center'>Skor</td><td width='35%' bgcolor='#FFFAF8' align='center'>Faktor Dinamis</td><td width='10%' bgcolor='#FFFAF8' align='center'>Skala</td><td width='5%' bgcolor='#FFFAF8' align='center'>Skor</td></tr><tr><td width='35%'>Riwayat Melarikan Diri</td><td width='10%' align='center'>").append(rs2.getString("statik_riwayat_melarikan_diri")).append("</td><td width='5%' align='center'>").append(rs2.getString("statik_skorriwayat_melarikan_diri")).append("</td><td width='35%'>Anti Treatment/Insight Jelek</td><td width='10%' align='center'>").append(rs2.getString("dinamis_anti_treatment")).append("</td><td width='5%' align='center'>").append(rs2.getString("dinamis_skoranti_treatment")).append("</td></tr><tr><td width='35%'>Riwayat Penolakan Pengobatan</td><td width='10%' align='center'>").append(rs2.getString("statik_riwayat_penolakan_pengobatan")).append("</td><td width='5%' align='center'>").append(rs2.getString("statik_skorriwayat_penolakan_pengobatan")).append("</td><td width='35%'>Penggunaan NAPZA</td><td width='10%' align='center'>").append(rs2.getString("dinamis_penggunaan_napza")).append("</td><td width='5%' align='center'>").append(rs2.getString("dinamis_skorpenggunaan_napza")).append("</td></tr><tr><td width='35%'>Usia Dibawah 35 Tahun</td><td width='10%' align='center'>").append(rs2.getString("statik_usia_dibawah_35")).append("</td><td width='5%' align='center'>").append(rs2.getString("statik_skorusia_dibawah_35")).append("</td><td width='35%'>Kebosanan</td><td width='10%' align='center'>").append(rs2.getString("dinamis_kebosanan")).append("</td><td width='5%' align='center'>").append(rs2.getString("dinamis_skorkebosanan")).append("</td></tr><tr><td width='35%'>Laki-laki</td><td width='10%' align='center'>").append(rs2.getString("statik_laki_laki")).append("</td><td width='5%' align='center'>").append(rs2.getString("statik_skorlaki_laki")).append("</td><td width='35%'>Perintah halusinasi Untuk Melarikan Diri</td><td width='10%' align='center'>").append(rs2.getString("dinamis_perintah_halusinasi")).append("</td><td width='5%' align='center'>").append(rs2.getString("dinamis_skorperintah_halusinasi")).append("</td></tr><tr><td width='35%'>Diagnosis Skizofrenia</td><td width='10%' align='center'>").append(rs2.getString("statik_diagnosis_skizofrenia")).append("</td><td width='5%' align='center'>").append(rs2.getString("statik_skordiagnosis_skizofrenia")).append("</td><td width='35%'>Berkurangnya/Kehilangan Kontrol Diri (Dimensia)</td><td width='10%' align='center'>").append(rs2.getString("dinamis_hilangnya_kontrol_diri")).append("</td><td width='5%' align='center'>").append(rs2.getString("dinamis_skorhilangnya_kontrol_diri")).append("</td></tr><tr><td width='35%'>Belum Menikah</td><td width='10%' align='center'>").append(rs2.getString("statik_belum_menikah")).append("</td><td width='5%' align='center'>").append(rs2.getString("statik_skorbelum_menikah")).append("</td><td width='35%'>Perilaku Seksual Yang Tidak Wajar</td><td width='10%' align='center'>").append(rs2.getString("dinamis_seksual_tidak_wajar")).append("</td><td width='5%' align='center'>").append(rs2.getString("dinamis_skorseksual_tidak_wajar")).append("</td></tr><tr><td width='35%'>Riwayat Penggunaan NAPZA</td><td width='10%' align='center'>").append(rs2.getString("statik_riwayat_penggunaan_napza")).append("</td><td width='5%' align='center'>").append(rs2.getString("statik_skoriwayat_penggunaan_napza")).append("</td><td width='35%'>Kemarahan Frustasi</td><td width='10%' align='center'>").append(rs2.getString("dinamis_kemarahan_frustasi")).append("</td><td width='5%' align='center'>").append(rs2.getString("dinamis_skorkemarahan_frustasi")).append("</td></tr><tr><td width='35%'>Diagnosis Gangguan Kepribadian</td><td width='10%' align='center'>").append(rs2.getString("statik_diagnosis_gangguan_kepribadian")).append("</td><td width='5%' align='center'>").append(rs2.getString("statik_skordiagnosis_gangguan_kepribadian")).append("</td><td width='35%'>Ketakutan Perawatan (Pasien, Nakes, Pengobatan)</td><td width='10%' align='center'>").append(rs2.getString("dinamis_ketakutan_perawatan")).append("</td><td width='5%' align='center'>").append(rs2.getString("dinamis_skorketakutan_perawatan")).append("</td></tr><tr><td width='35%'>Riwayat Kriminal</td><td width='10%' align='center'>").append(rs2.getString("statik_riwayat_kriminal")).append("</td><td width='5%' align='center'>").append(rs2.getString("statik_skorriwayat_kriminal")).append("</td><td width='35%'></td><td width='10%' align='center'></td><td width='5%' align='center'></td></tr><tr><td width='45%' colspan='2'>Jumlah Skor</td><td width='5%' align='center'>").append(rs2.getString("statik_skortotal")).append("</td><td width='45%' colspan='2'>Jumlah Skor</td><td width='5%' align='center'>").append(rs2.getString("dinamis_skortotal")).append("</td></tr></table></td></tr><tr><td valign='top'>FAKTOR-FAKTOR PENCEGAHAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0'>").append(rs2.getString("faktor_faktor_pencegahan")).append("</td></tr></table></td></tr><tr><td valign='top'>TOTAL SKOR & LEVEL<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='50%' border='0'>Total Skor Risiko Melarikan Diri : ").append(rs2.getString("total_skor")).append("</td><td width='50%' border='0'>Level : ").append(rs2.getString("level_skor")).append("</td></tr></table></td></tr>");
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>"
                                + "</table>"
                                + "</fieldset>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Tambahan Perilaku Kekerasan : " + e);
        }
    }

    private void menampilkanPenilaianPasienKeracunan(String norawat) {
        try {
            if (chkPenilaianPasienKeracunan.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select penilaian_pasien_keracunan.tanggal,penilaian_pasien_keracunan.kd_dokter,penilaian_pasien_keracunan.anamnesis,penilaian_pasien_keracunan.hubungan,penilaian_pasien_keracunan.tempat_kejadian,"
                            + "penilaian_pasien_keracunan.keterangan_tempat_kejadian,penilaian_pasien_keracunan.keluhan,penilaian_pasien_keracunan.riwayat_penyakit_sekarang,penilaian_pasien_keracunan.hamil,"
                            + "penilaian_pasien_keracunan.menyusui,penilaian_pasien_keracunan.penyebab,penilaian_pasien_keracunan.nama_bahan,penilaian_pasien_keracunan.jumlah_bahan,"
                            + "penilaian_pasien_keracunan.tipe_pemaparan,penilaian_pasien_keracunan.keterangan_tipe_pemaparan,penilaian_pasien_keracunan.tipe_kejadian,penilaian_pasien_keracunan.bau_bahan,"
                            + "penilaian_pasien_keracunan.keterangan_bau_bahan,penilaian_pasien_keracunan.pupil,penilaian_pasien_keracunan.keterangan_pupil,penilaian_pasien_keracunan.kesadaran,"
                            + "penilaian_pasien_keracunan.td,penilaian_pasien_keracunan.nadi,penilaian_pasien_keracunan.rr,penilaian_pasien_keracunan.suhu,penilaian_pasien_keracunan.spo,"
                            + "penilaian_pasien_keracunan.urine,penilaian_pasien_keracunan.pengobatan_sebelum_igd,penilaian_pasien_keracunan.diagnosis,penilaian_pasien_keracunan.pemeriksaan_penunjang,"
                            + "penilaian_pasien_keracunan.penatalaksanaan_diberikan,penilaian_pasien_keracunan.tindak_lanjut,dokter.nm_dokter "
                            + "from penilaian_pasien_keracunan inner join dokter on penilaian_pasien_keracunan.kd_dokter=dokter.kd_dokter where penilaian_pasien_keracunan.no_rawat='" + norawat + "'").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<fieldset>"
                                + "<h2><center>PENILAIAN PASIEN KERACUNAN</center></h2>"
                                + "<table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Penilaian Pasien Keracunan</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                        );
                        rs2.beforeFirst();
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top'>YANG MELAKUKAN PENGKAJIAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='33%' border='0'>Tanggal : ").append(rs2.getString("tanggal")).append("</td><td width='33%' border='0'>Dokter : ").append(rs2.getString("kd_dokter")).append(" ").append(rs2.getString("nm_dokter")).append("</td><td width='33%' border='0'>Anamnesis : ").append(rs2.getString("anamnesis")).append(rs2.getString("hubungan").isEmpty() ? "" : ", " + rs2.getString("hubungan")).append("</td></tr></table></td></tr><tr><td valign='top'>I. RIWAYAT KESEHATAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' colspan='4'>Keluhan Yang Dirasakan Saat Ini : ").append(rs2.getString("keluhan").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='100%' colspan='4'>Riwayat Penyakit Sekarang : ").append(rs2.getString("riwayat_penyakit_sekarang").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='25%'>Hamil : ").append(rs2.getString("hamil")).append("</td><td width='25%'>Menyusui : ").append(rs2.getString("menyusui")).append("</td><td width='50%' colspan='2'>Tempat Kejadian : ").append(rs2.getString("tempat_kejadian")).append(rs2.getString("keterangan_tempat_kejadian").isEmpty() ? "" : ", " + rs2.getString("keterangan_tempat_kejadian")).append("</td></tr><tr><td width='25%'>Penyebab : ").append(rs2.getString("penyebab")).append("</td><td width='50%' colspan='2'>Nama Bahan : ").append(rs2.getString("nama_bahan")).append("</td><td width='25%'>Jumlah Bahan : ").append(rs2.getString("jumlah_bahan")).append("</td></tr><tr><td width='75%' colspan='3'>Tipe Pemaparan Melalui : ").append(rs2.getString("tipe_pemaparan")).append(rs2.getString("keterangan_tipe_pemaparan").isEmpty() ? "" : ", " + rs2.getString("keterangan_tipe_pemaparan")).append("</td><td width='25%'>Tipe Kejadian : ").append(rs2.getString("tipe_kejadian")).append("</td></tr><tr><td width='50%' colspan='2'>Bau Bahan : ").append(rs2.getString("bau_bahan")).append(rs2.getString("keterangan_bau_bahan").isEmpty() ? "" : ", " + rs2.getString("keterangan_bau_bahan")).append("</td><td width='50%' colspan='2'>Pupil : ").append(rs2.getString("pupil")).append(rs2.getString("keterangan_pupil").isEmpty() ? "" : ", " + rs2.getString("keterangan_pupil")).append("</td></tr><tr><td width='100%' colspan='4'>Gambaran Klinis : <table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%' border='0' style='margin-left: 10px'>Kesadaran : ").append(rs2.getString("kesadaran")).append("&nbsp;&nbsp;&nbsp;&nbsp;TD : ").append(rs2.getString("td")).append(" mmHg&nbsp;&nbsp;&nbsp;&nbsp;Nadi : ").append(rs2.getString("nadi")).append(" x/menit&nbsp;&nbsp;&nbsp;&nbsp;RR : ").append(rs2.getString("rr")).append(" x/menit&nbsp;&nbsp;&nbsp;&nbsp;Suhu : ").append(rs2.getString("suhu")).append(" \u00b0C&nbsp;&nbsp;&nbsp;&nbsp;SpO2 : ").append(rs2.getString("spo")).append(" %mmHg&nbsp;&nbsp;&nbsp;&nbsp;Urine : ").append(rs2.getString("urine")).append(" cc/j</td></tr></table></td></tr><tr><td width='100%' colspan='4'>Pengobatan Sebelum Ke IGD : ").append(rs2.getString("pengobatan_sebelum_igd").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>II. DIAGNOSIS/ASESMEN & TATALAKSANA<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%'>Diagnosa : ").append(rs2.getString("diagnosis").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='100%'>Pemeriksaan Penunjang : ").append(rs2.getString("pemeriksaan_penunjang").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='100%'>Penatalaksanaan Yang Diberikan : ").append(rs2.getString("penatalaksanaan_diberikan").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='100%'>Tindak Lanjut : ").append(rs2.getString("tindak_lanjut")).append("</td></tr></table></td></tr>");
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>"
                                + "</table>"
                                + "</fieldset>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Penilaian Pasien Penyakit Menular : " + e);
        }
    }

    private void menampilkanAsuhanMedisRawatJalanBedahMulut(String norawat) {
        try {
            if (chkAsuhanMedisRalanBedahMulut.isSelected() == true) {
                try {
                    rs2 = koneksi.prepareStatement(
                            "select penilaian_medis_ralan_bedah_mulut.tanggal,penilaian_medis_ralan_bedah_mulut.kd_dokter,penilaian_medis_ralan_bedah_mulut.anamnesis,penilaian_medis_ralan_bedah_mulut.hubungan,"
                            + "penilaian_medis_ralan_bedah_mulut.keluhan_utama,penilaian_medis_ralan_bedah_mulut.rps,penilaian_medis_ralan_bedah_mulut.rpk,penilaian_medis_ralan_bedah_mulut.alergi,penilaian_medis_ralan_bedah_mulut.keadaan,"
                            + "penilaian_medis_ralan_bedah_mulut.kesadaran,penilaian_medis_ralan_bedah_mulut.nyeri,penilaian_medis_ralan_bedah_mulut.td,penilaian_medis_ralan_bedah_mulut.nadi,"
                            + "penilaian_medis_ralan_bedah_mulut.suhu,penilaian_medis_ralan_bedah_mulut.rr,penilaian_medis_ralan_bedah_mulut.bb,penilaian_medis_ralan_bedah_mulut.tb,"
                            + "penilaian_medis_ralan_bedah_mulut.status_nutrisi,penilaian_medis_ralan_bedah_mulut.kulit,penilaian_medis_ralan_bedah_mulut.keterangan_kulit,penilaian_medis_ralan_bedah_mulut.kepala,"
                            + "penilaian_medis_ralan_bedah_mulut.keterangan_kepala,penilaian_medis_ralan_bedah_mulut.mata,penilaian_medis_ralan_bedah_mulut.keterangan_mata,penilaian_medis_ralan_bedah_mulut.leher,"
                            + "penilaian_medis_ralan_bedah_mulut.keterangan_leher,penilaian_medis_ralan_bedah_mulut.kelenjar,penilaian_medis_ralan_bedah_mulut.keterangan_kelenjar,penilaian_medis_ralan_bedah_mulut.dada,"
                            + "penilaian_medis_ralan_bedah_mulut.keterangan_dada,penilaian_medis_ralan_bedah_mulut.perut,penilaian_medis_ralan_bedah_mulut.keterangan_perut,penilaian_medis_ralan_bedah_mulut.ekstremitas,"
                            + "penilaian_medis_ralan_bedah_mulut.keterangan_ekstremitas,penilaian_medis_ralan_bedah_mulut.wajah,penilaian_medis_ralan_bedah_mulut.intra,penilaian_medis_ralan_bedah_mulut.gigigeligi,"
                            + "penilaian_medis_ralan_bedah_mulut.lab,penilaian_medis_ralan_bedah_mulut.rad,penilaian_medis_ralan_bedah_mulut.penunjang,penilaian_medis_ralan_bedah_mulut.diagnosis,"
                            + "penilaian_medis_ralan_bedah_mulut.diagnosis2,penilaian_medis_ralan_bedah_mulut.permasalahan,penilaian_medis_ralan_bedah_mulut.terapi,penilaian_medis_ralan_bedah_mulut.tindakan,"
                            + "penilaian_medis_ralan_bedah_mulut.edukasi,dokter.nm_dokter "
                            + "from penilaian_medis_ralan_bedah_mulut inner join dokter on penilaian_medis_ralan_bedah_mulut.kd_dokter=dokter.kd_dokter where penilaian_medis_ralan_bedah_mulut.no_rawat='" + norawat + "'").executeQuery();
                    if (rs2.next()) {
                        htmlContent.append(
                                "<fieldset>"
                                + "<h2><center>ASUHAN MEDIS RAWAT JALAN BEDAH MULUT</center></h2>"
                                + "<table width='100%' border='1' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                                + "<tr class='isi'>"
                                + "<td valign='top' width='2%'></td>"
                                + "<td valign='top' width='18%'>Penilaian Awal Medis Rawat Jalan Bedah Mulut</td>"
                                + "<td valign='top' width='1%' align='center'>:</td>"
                                + "<td valign='top' width='79%'>"
                                + "<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0' class='tbl_form'>"
                        );
                        rs2.beforeFirst();
                        while (rs2.next()) {
                            htmlContent.append("<tr><td valign='top'>YANG MELAKUKAN PENGKAJIAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='33%' border='0'>Tanggal : ").append(rs2.getString("tanggal")).append("</td><td width='33%' border='0'>Dokter : ").append(rs2.getString("kd_dokter")).append(" ").append(rs2.getString("nm_dokter")).append("</td><td width='33%' border='0'>Anamnesis : ").append(rs2.getString("anamnesis")).append(rs2.getString("hubungan").isEmpty() ? "" : ", " + rs2.getString("hubungan")).append("</td></tr></table></td></tr><tr><td valign='top'>I. RIWAYAT KESEHATAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td colspan='2'>Keluhan Utama : ").append(rs2.getString("keluhan_utama").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td colspan='2'>Riwayat Penyakit Sekarang : ").append(rs2.getString("rps").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='50%'>Riwayat Penyakit Keluarga : ").append(rs2.getString("rpk").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td><td width='50%'>Riwayat Alergi : ").append(rs2.getString("alergi")).append("</td></tr></table></td></tr><tr><td valign='top'>II. PEMERIKSAAN FISIK<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='25%' border='0'>Keadaan Umum : ").append(rs2.getString("keadaan")).append("</td><td width='25%' border='0'>Kesadaran : ").append(rs2.getString("kesadaran")).append("</td><td width='25%' border='0'>Skala Nyeri : ").append(rs2.getString("nyeri")).append("</td><td width='25%' border='0'>TD : ").append(rs2.getString("td")).append(" mmHg</td></tr><tr><td width='25%' border='0'>Nadi : ").append(rs2.getString("nadi")).append(" x/menit</td><td width='25%' border='0'>Suhu : ").append(rs2.getString("suhu")).append(" \u00b0C</td><td width='25%' border='0'>RR : ").append(rs2.getString("rr")).append(" x/menit</td><td width='25%' border='0'>BB : ").append(rs2.getString("bb")).append(" Kg</td></tr><tr><td width='25%' border='0'>TB : ").append(rs2.getString("tb")).append(" Cm</td><td width='75%' border='0' colspan='3'>Status Nutrisi : ").append(rs2.getString("status_nutrisi")).append("</td></tr></table></td></tr><tr><td valign='top'>III. STATUS KELAINAN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='50%'>Kulit : ").append(rs2.getString("kulit")).append(rs2.getString("keterangan_kulit").isEmpty() ? "" : ", " + rs2.getString("keterangan_kulit")).append("</td><td width='50%'>Kelenjar Limfe : ").append(rs2.getString("kelenjar")).append(rs2.getString("keterangan_kelenjar").isEmpty() ? "" : ", " + rs2.getString("keterangan_kelenjar")).append("</td></tr><tr><td width='50%'>Kepala : ").append(rs2.getString("kepala")).append(rs2.getString("keterangan_kepala").isEmpty() ? "" : ", " + rs2.getString("keterangan_kepala")).append("</td><td width='50%'>Dada : ").append(rs2.getString("dada")).append(rs2.getString("keterangan_dada").isEmpty() ? "" : ", " + rs2.getString("keterangan_dada")).append("</td></tr><tr><td width='50%'>Mata :").append(rs2.getString("mata")).append(rs2.getString("keterangan_mata").isEmpty() ? "" : ", " + rs2.getString("keterangan_mata")).append("</td><td width='50%'>Perut : ").append(rs2.getString("perut")).append(rs2.getString("keterangan_perut").isEmpty() ? "" : ", " + rs2.getString("keterangan_perut")).append("</td></tr><tr><td width='50%'>Leher : ").append(rs2.getString("leher")).append(rs2.getString("keterangan_leher").isEmpty() ? "" : ", " + rs2.getString("keterangan_leher")).append("</td><td width='50%'>Ekstremitas : ").append(rs2.getString("ekstremitas")).append(rs2.getString("keterangan_ekstremitas").isEmpty() ? "" : ", " + rs2.getString("keterangan_ekstremitas")).append("</td></tr></table></td></tr><tr><td valign='top'>IV. STATUS LOKALISATA<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%'>Wajah : ").append(rs2.getString("wajah").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='100%'>Intra Oral : ").append(rs2.getString("intra").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='100%'>Gigi Geligi : ").append(rs2.getString("gigigeligi").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>V. PEMERIKSAAN PENUNJANG<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%'>Laboratorium : ").append(rs2.getString("lab").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='100%'>Radiologi : ").append(rs2.getString("rad").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='100%'>Penunjang Lainnya : ").append(rs2.getString("penunjang").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>VI. DIAGNOSIS/ASESMEN<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%'>Asesmen Kerja : ").append(rs2.getString("diagnosis").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='100%'>Asesmen Banding : ").append(rs2.getString("diagnosis2").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>VII. PERMASALAHAN & TATALAKSANA<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%'>Permasalahan : ").append(rs2.getString("permasalahan").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='100%'>Terapi/Pengobatan : ").append(rs2.getString("terapi").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr><tr><td width='100%'>Tindakan/Rencana Tindakan : ").append(rs2.getString("tindakan").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr><tr><td valign='top'>VIII. EDUKASI<table width='100%' border='0' align='center' cellpadding='3px' cellspacing='0px' class='tbl_form'><tr><td width='100%'>").append(rs2.getString("edukasi").replaceAll("(\r\n|\r|\n|\n\r)", "<br>")).append("</td></tr></table></td></tr>");
                        }
                        htmlContent.append(
                                "</table>"
                                + "</td>"
                                + "</tr>"
                                + "</table>"
                                + "</fieldset>");
                    }
                } catch (Exception e) {
                    System.out.println("Notifikasi : " + e);
                } finally {
                    if (rs2 != null) {
                        rs2.close();
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("Notif Asuhan Medis Rawat Jalan Bedah Mulut : " + e);
        }
    }

    private void autoDownloadWithRetry(String downloadUrl, int maxRetries, String sep, String tanggal,
            String norawat, String kode, String tanggaljam, String inacbg,
            String transactionId, String statusTteId) {
        Timer retryTimer = new Timer(3000, null); // Check setiap 3 detik
        final int[] attemptCount = {0};

        ActionListener retryAction = new ActionListener() {
            @Override
            public void actionPerformed(ActionEvent e) {
                attemptCount[0]++;
                System.out.println("Percobaan download ke-" + attemptCount[0]);

                // Update retry count di database
                updateRetryCount(transactionId, attemptCount[0]);

                try {
                    URL url = new URL(downloadUrl);
                    ReadableByteChannel readableByteChannel = Channels.newChannel(url.openStream());
                    String fileName = "RPP" + NoRawat.getText().trim().replaceAll("/", "") + ".pdf";
                    FileOutputStream fileOutputStream = new FileOutputStream(fileName);
                    fileOutputStream.getChannel().transferFrom(readableByteChannel, 0, Long.MAX_VALUE);
                    fileOutputStream.close();
                    readableByteChannel.close();

                    System.out.println("Auto Download Berhasil : " + fileName);

                    // Update status ke SIGNED
                    updateStatusTte(transactionId, "SIGNED", null);

                    // Tutup window URLSertisign otomatis
                    SwingUtilities.invokeLater(() -> {
                        WindowURLSertisign.setVisible(false);
                    });

                    // Stop timer jika berhasil
                    ((Timer) e.getSource()).stop();

                    // AUTO UPLOAD KE NEXTCLOUD
                    autoUploadToNextCloud(fileName, sep, tanggal, norawat, kode, tanggaljam, inacbg, transactionId);

                } catch (IOException ex) {
                    System.out.println("Percobaan ke-" + attemptCount[0] + " gagal: " + ex.getMessage());

                    // Jika sudah mencapai max retry, stop timer
                    if (attemptCount[0] >= maxRetries) {
                        ((Timer) e.getSource()).stop();
                        System.out.println("Max retry tercapai, download dihentikan");

                        // Update status ke FAILED
                        updateStatusTte(transactionId, "FAILED", "Max retry reached: " + ex.getMessage());

                        // Notifikasi gagal dengan always on top
                        SwingUtilities.invokeLater(() -> {
                            JDialog dialog = new JDialog();
                            dialog.setAlwaysOnTop(true);
                            dialog.setModal(true);
                            JOptionPane.showMessageDialog(dialog,
                                    " Auto Download Gagal!\n\n"
                                    + "Gagal setelah " + maxRetries + " percobaan.\n"
                                    + "Silakan download manual dari window yang terbuka.",
                                    "Download Gagal",
                                    JOptionPane.WARNING_MESSAGE);
                        });
                    }
                }
            }
        };

        retryTimer.addActionListener(retryAction);
        retryTimer.start();
    }

    private void updateRetryCount(String transactionId, int retryCount) {
        try {
            Sequel.mengedit("status_tte", "transaction_id=?", "retry_count=?, updated_at=NOW()",
                    2, new String[]{String.valueOf(retryCount), transactionId});
        } catch (Exception e) {
            System.err.println("Error update retry count: " + e.getMessage());
        }
    }

    private String insertStatusTte(String norawat, String sep, String transactionId, String documentName,
            String signerEmail, String signerName, String signerId, String urlCallback) {
        try {
            String statusTteId = Sequel.cariIsi("SELECT UUID()"); // Generate unique ID

            Sequel.menyimpantf("status_tte (no_rawat, no_sep, transaction_id, document_name, status, "
                    + "url_callback, signer_email, signer_name, signer_id, created_by)",
                    "?,?,?,?,?,?,?,?,?,?",
                    "status_tte", 10,
                    new String[]{norawat, sep, transactionId, documentName, "PROCESSING",
                        urlCallback, signerEmail, signerName, signerId, akses.getkode()});

            System.out.println("Status TTE berhasil disimpan untuk transaction: " + transactionId);
            return statusTteId;

        } catch (Exception e) {
            System.err.println("Error insert status_tte: " + e.getMessage());
            return "";
        }
    }

    private void updateStatusTte(String transactionId, String status, String errorMessage) {
        try {
            if (errorMessage != null) {
                Sequel.mengedit("status_tte", "transaction_id=?",
                        "status=?, error_message=?, updated_at=NOW()",
                        3, new String[]{status, errorMessage, transactionId});
            } else {
                String signedAt = status.equals("SIGNED") ? ", signed_at=NOW()" : "";
                Sequel.mengedit("status_tte", "transaction_id=?",
                        "status=?, updated_at=NOW()" + signedAt,
                        2, new String[]{status, transactionId});
            }
            System.out.println("Status TTE updated: " + transactionId + " -> " + status);
        } catch (Exception e) {
            System.err.println("Error update status TTE: " + e.getMessage());
        }
    }

    private void autoUploadToNextCloud(String fileName, String sep, String tanggal, String norawat,
            String kode, String tanggaljam, String inacbg, String transactionId) {
        // Jalankan upload di background thread agar tidak freeze UI
        SwingWorker<Boolean, String> uploadWorker = new SwingWorker<Boolean, String>() {
            @Override
            protected Boolean doInBackground() throws Exception {
                publish("Memulai upload ke NextCloud...");

                try {
                    // Handle SEP kosong - ganti dengan no rawat yang diformat
                    String cleanSep = sep;
                    if (sep == null || sep.trim().isEmpty()) {
                        // Format no rawat dari 2025/06/14/000001 menjadi 20250614000001
                        cleanSep = norawat.replaceAll("/", "");
                        publish("SEP kosong, menggunakan no rawat sebagai pengganti: " + cleanSep);
                    } else {
                        // Bersihkan SEP dari karakter slash jika ada
                        cleanSep = sep.replaceAll("/", "");
                    }

                    // Buat instance UploadPDFTte
                    // ERROR: Class UploadPDFTte belum dibuat di package bridging
                    // UploadPDFTte uploader = new UploadPDFTte(fileName, cleanSep, tanggal, norawat, kode, tanggaljam, inacbg);

                    // Lakukan upload
                    // boolean uploadSuccess = uploader.upload();
                    boolean uploadSuccess = false; // Temporary placeholder
                    publish(" Upload disabled - UploadPDFTte class not available");

                    if (uploadSuccess) {
                        // publish("Upload berhasil ke: " + uploader.getUploadedUrl());

                        // Update berkas_tte dengan status signed
                        // updateBerkasTte(norawat, cleanSep, fileName, uploader.getUploadedUrl(),
                        //         tanggal, kode, tanggaljam, inacbg, true);
                        updateBerkasTte(norawat, cleanSep, fileName, "",
                                tanggal, kode, tanggaljam, inacbg, true);

                        return true;
                    } else {
                        publish("Upload gagal ke NextCloud");

                        // Tetap insert ke berkas_tte tapi dengan status belum signed
                        updateBerkasTte(norawat, cleanSep, fileName, "",
                                tanggal, kode, tanggaljam, inacbg, false);

                        return false;
                    }

                } catch (Exception e) {
                    publish("Error saat upload: " + e.getMessage());
                    System.err.println("Upload error: " + e.getMessage());
                    e.printStackTrace();
                    return false;
                }
            }

            @Override
            protected void process(java.util.List<String> chunks) {
                // Update console dengan progress message
                for (String message : chunks) {
                    System.out.println(message);
                }
            }

            @Override
            protected void done() {
                try {
                    boolean success = get();

                    if (success) {
                        // Notifikasi berhasil download + upload
                        SwingUtilities.invokeLater(() -> {
                            JDialog dialog = new JDialog();
                            dialog.setAlwaysOnTop(true);
                            dialog.setModal(true);
                            JOptionPane.showMessageDialog(dialog,
                                    " Download & Upload Berhasil!\n\n"
                                    + "File: " + fileName + "\n"
                                    + "Lokasi: " + new File(fileName).getAbsolutePath() + "\n"
                                    + "Status: Tersimpan di NextCloud & Database",
                                    "Proses Selesai",
                                    JOptionPane.INFORMATION_MESSAGE);
                        });
                    } else {
                        // Notifikasi download berhasil tapi upload gagal
                        SwingUtilities.invokeLater(() -> {
                            JDialog dialog = new JDialog();
                            dialog.setAlwaysOnTop(true);
                            dialog.setModal(true);
                            JOptionPane.showMessageDialog(dialog,
                                    " Download Berhasil, Upload Gagal!\n\n"
                                    + "File: " + fileName + "\n"
                                    + "Lokasi: " + new File(fileName).getAbsolutePath() + "\n"
                                    + "Status: Tersimpan lokal, gagal upload ke NextCloud",
                                    "Upload Gagal",
                                    JOptionPane.WARNING_MESSAGE);
                        });
                    }

                } catch (Exception e) {
                    System.err.println("Error dalam upload worker: " + e.getMessage());

                    // Notifikasi error
                    SwingUtilities.invokeLater(() -> {
                        JDialog dialog = new JDialog();
                        dialog.setAlwaysOnTop(true);
                        dialog.setModal(true);
                        JOptionPane.showMessageDialog(dialog,
                                " Error Saat Upload!\n\n"
                                + "File: " + fileName + "\n"
                                + "Download: Berhasil\n"
                                + "Upload: Error - " + e.getMessage(),
                                "Error Upload",
                                JOptionPane.ERROR_MESSAGE);
                    });
                }
            }
        };

        // Jalankan upload worker
        uploadWorker.execute();
    }

    private void updateBerkasTte(String norawat, String sep, String fileName, String filePath,
            String tanggal, String kode, String tanggaljam, String inacbg, boolean isSigned) {
        try {
            // Ambil file size
            File file = new File(fileName);
            long fileSize = file.exists() ? file.length() : 0;

            // Tentukan status rawat berdasarkan data
            String statusRawat = getStatusRawat(sep, norawat);

            // Clean file name
            String cleanFileName = fileName;
            if (fileName.contains("/")) {
                cleanFileName = fileName.substring(fileName.lastIndexOf("/") + 1);
            }

            String uploadedAt = getCurrentDateTime();
            String signedAt = isSigned ? uploadedAt : null;

            // PERBAIKAN: Validasi dan format tanggal untuk field datetime
            String validTanggal = validateAndFormatDateTime(tanggaljam);

            System.out.println("=== DEBUG BERKAS TTE (RMRiwayatPerawatan) ===");
            System.out.println("Original tanggal: '" + tanggal + "'");
            System.out.println("Original tanggaljam: '" + tanggaljam + "'");
            System.out.println("Valid tanggal: '" + validTanggal + "'");
            System.out.println("Uploaded at: '" + uploadedAt + "'");
            System.out.println("SEP: '" + sep + "'");
            System.out.println("NoRawat: '" + norawat + "'");
            System.out.println("Kode: '" + kode + "'");

            Sequel.menyimpantf(
                    "berkas_tte (no_rawat, no_sep, tanggal, kode, nama_file, file_path, file_size, "
                    + "status, kategori, jenis_dokumen, uploaded_at, uploaded_by, is_signed, signed_at)",
                    "?,?,?,?,?,?,?,?,?,?,?,?,?,?",
                    "berkas_tte",
                    14,
                    new String[]{norawat, sep, validTanggal, kode, cleanFileName, filePath,
                        String.valueOf(fileSize), statusRawat, inacbg, "RPP",
                        uploadedAt, akses.getkode(), isSigned ? "1" : "0", signedAt}
            );

            System.out.println("Berkas TTE berhasil disimpan: " + cleanFileName);

        } catch (Exception e) {
            System.err.println("Error insert berkas_tte: " + e.getMessage());
            e.printStackTrace();
        }
    }

    private String validateAndFormatDateTime(String dateTimeStr) {
        try {
            // Jika string kosong atau null, gunakan waktu sekarang
            if (dateTimeStr == null || dateTimeStr.trim().isEmpty()) {
                System.out.println("DateTime kosong, menggunakan waktu sekarang");
                return getCurrentDateTime();
            }

            // Coba berbagai format yang mungkin ada
            String[] possibleFormats = {
                "yyyy-MM-dd HH:mm:ss",
                "yyyy-MM-dd",
                "dd-MM-yyyy HH:mm:ss",
                "dd-MM-yyyy",
                "yyyy/MM/dd HH:mm:ss",
                "yyyy/MM/dd",
                "dd/MM/yyyy HH:mm:ss",
                "dd/MM/yyyy"
            };

            for (String format : possibleFormats) {
                try {
                    java.time.format.DateTimeFormatter formatter = java.time.format.DateTimeFormatter.ofPattern(format);
                    java.time.LocalDateTime parsedDate;

                    if (format.contains("HH:mm:ss")) {
                        parsedDate = java.time.LocalDateTime.parse(dateTimeStr.trim(), formatter);
                    } else {
                        java.time.LocalDate date = java.time.LocalDate.parse(dateTimeStr.trim(), formatter);
                        parsedDate = date.atStartOfDay(); // Set waktu ke 00:00:00
                    }

                    // Return dalam format MySQL datetime
                    return parsedDate.format(java.time.format.DateTimeFormatter.ofPattern("yyyy-MM-dd HH:mm:ss"));

                } catch (Exception e) {
                    // Lanjut ke format berikutnya
                    continue;
                }
            }

            // Jika semua format gagal, gunakan waktu sekarang
            System.err.println("Gagal parse tanggal: '" + dateTimeStr + "', menggunakan waktu sekarang");
            return getCurrentDateTime();

        } catch (Exception e) {
            System.err.println("Error validating datetime: " + e.getMessage());
            return getCurrentDateTime();
        }
    }

    private String getStatusRawat(String sep, String norawat) {
        try {
            String statusRawat = "";
            if (sep != null && !sep.trim().isEmpty()) {
                statusRawat = Sequel.cariIsi(
                        "SELECT CASE jnspelayanan WHEN '1' THEN 'Rawat-Inap' WHEN '2' THEN 'Rawat-Jalan' ELSE 'Unknown' END "
                        + "FROM bridging_sep WHERE no_sep=?", sep);
            }

            if (statusRawat.equals("Unknown") || statusRawat.equals("")) {
                statusRawat = Sequel.cariIsi(
                        "SELECT CASE jnspelayanan WHEN '1' THEN 'Rawat-Inap' WHEN '2' THEN 'Rawat-Jalan' ELSE 'Unknown' END "
                        + "FROM bridging_sep WHERE no_rawat=? LIMIT 1", norawat);

                if (statusRawat.equals("Unknown") || statusRawat.equals("")) {
                    statusRawat = "Rawat-Inap"; // Default
                }
            }
            return statusRawat;
        } catch (Exception e) {
            System.err.println("Error getting status rawat: " + e.getMessage());
            return "Rawat-Inap"; // Default
        }
    }

    private String getCurrentDateTime() {
        java.time.LocalDateTime now = java.time.LocalDateTime.now();
        java.time.format.DateTimeFormatter formatter = java.time.format.DateTimeFormatter.ofPattern("yyyy-MM-dd HH:mm:ss");
        return now.format(formatter);
    }

    public void Copsurat() {
        try {
            rs3 = koneksi.prepareStatement(
                    "select setting.nama_instansi,setting.alamat_instansi,setting.kabupaten,setting.propinsi,setting.kontak,setting.email,setting.logo from setting").executeQuery();
            if (rs3.next()) {
                htmlContent.append("<table width='100%' bgcolor='#ffffff' align='left' border='0' padding='0' class='tbl_form' cellspacing='0' cellpadding='0'>"
                        + "<tr class='isi12' padding='0'>"
                        + "<td colspan='7' padding='0'>"
                        + "<table width='100%' bgcolor='#ffffff' align='left' border='0' cellspacing='0' cellpadding='0'>"
                        + "<tr>"
                        // Logo tunggal (kiri)
                        + "<td width='15%' align='center'>"
                        + "<img width='80' height='80' src='http://").append(koneksiDB.HOSTHYBRIDWEB()).append(":").append(koneksiDB.PORTWEB()).append("/").append(koneksiDB.HYBRIDWEB()).append("/logo.png'/></td>"
                        // Konten tengah (hanya nama instansi dan alamat)
                        + "<td width='85%'><center><font color='000000' face='Tahoma'>").append(rs3.getString("nama_instansi")).append("</font><br><font color='000000' face='Tahoma'>").append(rs3.getString("alamat_instansi")).append(", ").append(rs3.getString("kabupaten")).append(", ").append(rs3.getString("propinsi")).append("<br/>").append(rs3.getString("kontak")).append(", E-mail : ").append(rs3.getString("email")).append("</font></center>"
                        + "</td>"
                        + "</tr>"
                        + "<tr>"
                        + "<td colspan='2'>"
                        + "<hr/>"
                        + "</td>"
                        + "</tr>"
                        + "</table>");
            }
        } catch (Exception e) {
            e.printStackTrace(); // Tambahkan untuk debugging
        }
    }

    /**
     * Enhanced method untuk mengambil data perawatan yang akan dianalisa
     * berdasarkan PPK Fokus pada kelengkapan data untuk analisa clinical
     * pathway
     */
    private String getDataPerawatanForPPKAnalysis() {
        try {
            System.out.println(" Collecting comprehensive treatment data for PPK analysis...");

            StringBuilder dataBuilder = new StringBuilder();

            // Header informasi dengan fokus PPK
            dataBuilder.append("=== DATA PERAWATAN UNTUK ANALISA PPK & CLINICAL PATHWAY ===\n\n");
            dataBuilder.append(" Referensi Analisa: Panduan Praktik Klinis (PPK) Kemenkes RI\n");
            dataBuilder.append(" Standard: Clinical Pathway & INA-CBG\n");
            dataBuilder.append(" Tanggal Analisa: ").append(new java.util.Date()).append("\n\n");

            // 1. IDENTITAS PASIEN & REGISTRASI (dari reg_periksa)
            dataBuilder.append(" IDENTITAS PASIEN & REGISTRASI:\n");
            dataBuilder.append("".repeat(50)).append("\n");

            String query = "SELECT reg_periksa.no_reg,reg_periksa.no_rawat,reg_periksa.tgl_registrasi,reg_periksa.jam_reg,"
                    + "reg_periksa.kd_dokter,dokter.nm_dokter,poliklinik.nm_poli,reg_periksa.p_jawab,reg_periksa.almt_pj,"
                    + "reg_periksa.umurdaftar,reg_periksa.sttsumur,reg_periksa.hubunganpj,reg_periksa.biaya_reg,"
                    + "reg_periksa.status_lanjut,penjab.png_jawab,pasien.nm_pasien,pasien.no_rkm_medis,"
                    + "DATE_FORMAT(pasien.tgl_lahir,'%d-%m-%Y') as tgl_lahir,"
                    + "IF(pasien.jk = 'L', 'LAKI-LAKI', 'PEREMPUAN') as jk "
                    + "FROM reg_periksa "
                    + "INNER JOIN dokter ON reg_periksa.kd_dokter=dokter.kd_dokter "
                    + "INNER JOIN poliklinik ON reg_periksa.kd_poli=poliklinik.kd_poli "
                    + "INNER JOIN penjab ON reg_periksa.kd_pj=penjab.kd_pj "
                    + "INNER JOIN pasien ON reg_periksa.no_rkm_medis=pasien.no_rkm_medis "
                    + "WHERE reg_periksa.stts<>'Batal' AND reg_periksa.no_rkm_medis=? AND reg_periksa.no_rawat=?";

            java.sql.PreparedStatement ps = koneksi.prepareStatement(query);
            ps.setString(1, NoRM.getText().trim());
            ps.setString(2, NoRawat.getText().trim());
            java.sql.ResultSet rs = ps.executeQuery();

            if (rs.next()) {
                dataBuilder.append("No. RM: ").append(rs.getString("no_rkm_medis")).append("\n");
                dataBuilder.append("Nama Pasien: ").append(rs.getString("nm_pasien")).append("\n");
                dataBuilder.append("Tanggal Lahir: ").append(rs.getString("tgl_lahir")).append("\n");
                dataBuilder.append("Jenis Kelamin: ").append(rs.getString("jk")).append("\n");
                dataBuilder.append("Umur: ").append(rs.getString("umurdaftar")).append(" ").append(rs.getString("sttsumur")).append("\n");
                dataBuilder.append("No. Rawat: ").append(rs.getString("no_rawat")).append("\n");
                dataBuilder.append("No. Registrasi: ").append(rs.getString("no_reg")).append("\n");
                dataBuilder.append("Tanggal Registrasi: ").append(rs.getString("tgl_registrasi")).append(" ").append(rs.getString("jam_reg")).append("\n");
                dataBuilder.append("Unit/Poliklinik: ").append(rs.getString("nm_poli")).append("\n");
                dataBuilder.append("Dokter: ").append(rs.getString("nm_dokter")).append("\n");
                dataBuilder.append("Status Lanjut: ").append(rs.getString("status_lanjut")).append("\n");
                dataBuilder.append("Cara Bayar: ").append(rs.getString("png_jawab")).append("\n");
                dataBuilder.append("Penanggung Jawab: ").append(rs.getString("p_jawab")).append("\n\n");

                String noRawat = rs.getString("no_rawat");
                String statusLanjut = rs.getString("status_lanjut");

                // 2. ANAMNESA & PEMERIKSAAN RALAN (Critical untuk PPK)
                dataBuilder.append(" ANAMNESA & PEMERIKSAAN RAWAT JALAN:\n");
                dataBuilder.append("".repeat(60)).append("\n");

                String queryRalan = "SELECT pemeriksaan_ralan.* FROM pemeriksaan_ralan WHERE no_rawat=? ORDER BY tgl_perawatan DESC, jam_rawat DESC";
                java.sql.PreparedStatement psRalan = koneksi.prepareStatement(queryRalan);
                psRalan.setString(1, noRawat);
                java.sql.ResultSet rsRalan = psRalan.executeQuery();

                int countRalan = 0;
                while (rsRalan.next() && countRalan < 5) { // Ambil 5 terakhir
                    countRalan++;
                    dataBuilder.append("KUNJUNGAN ").append(countRalan).append(" (").append(rsRalan.getString("tgl_perawatan")).append(" ").append(rsRalan.getString("jam_rawat")).append("):\n");

                    String keluhan = rsRalan.getString("keluhan");
                    if (keluhan != null && !keluhan.trim().isEmpty()) {
                        dataBuilder.append("Keluhan: ").append(keluhan).append("\n");
                    }

                    String pemeriksaan = rsRalan.getString("pemeriksaan");
                    if (pemeriksaan != null && !pemeriksaan.trim().isEmpty()) {
                        dataBuilder.append("Pemeriksaan: ").append(pemeriksaan).append("\n");
                    }

                    String penilaian = rsRalan.getString("penilaian");
                    if (penilaian != null && !penilaian.trim().isEmpty()) {
                        dataBuilder.append("Penilaian: ").append(penilaian).append("\n");
                    }

                    String rtl = rsRalan.getString("rtl");
                    if (rtl != null && !rtl.trim().isEmpty()) {
                        dataBuilder.append("Rencana Tindak Lanjut: ").append(rtl).append("\n");
                    }

                    String instruksi = rsRalan.getString("instruksi");
                    if (instruksi != null && !instruksi.trim().isEmpty()) {
                        dataBuilder.append("Instruksi: ").append(instruksi).append("\n");
                    }

                    // Vital Signs
                    String tensi = rsRalan.getString("tensi");
                    String nadi = rsRalan.getString("nadi");
                    String respirasi = rsRalan.getString("respirasi");
                    String suhu = rsRalan.getString("suhu");
                    String gcs = rsRalan.getString("gcs");
                    String bb = rsRalan.getString("bb");
                    String tb = rsRalan.getString("tb");

                    if (tensi != null || nadi != null || suhu != null) {
                        dataBuilder.append("Vital Signs: ");
                        if (tensi != null && !tensi.trim().isEmpty()) {
                            dataBuilder.append("TD ").append(tensi).append(" mmHg, ");
                        }
                        if (nadi != null && !nadi.trim().isEmpty()) {
                            dataBuilder.append("Nadi ").append(nadi).append(" x/mnt, ");
                        }
                        if (suhu != null && !suhu.trim().isEmpty()) {
                            dataBuilder.append("Suhu ").append(suhu).append("C, ");
                        }
                        if (respirasi != null && !respirasi.trim().isEmpty()) {
                            dataBuilder.append("RR ").append(respirasi).append(" x/mnt, ");
                        }
                        if (gcs != null && !gcs.trim().isEmpty()) {
                            dataBuilder.append("GCS ").append(gcs).append(", ");
                        }
                        if (bb != null && !bb.trim().isEmpty()) {
                            dataBuilder.append("BB ").append(bb).append(" kg, ");
                        }
                        if (tb != null && !tb.trim().isEmpty()) {
                            dataBuilder.append("TB ").append(tb).append(" cm");
                        }
                        dataBuilder.append("\n");
                    }
                    dataBuilder.append("\n");
                }
                rsRalan.close();
                psRalan.close();

                // 3. DIAGNOSA PASIEN (Essential untuk PPK)
                dataBuilder.append(" DIAGNOSA & CODING ICD-10:\n");
                dataBuilder.append("".repeat(50)).append("\n");

                String queryDiagnosa = "SELECT diagnosa_pasien.*, penyakit.nm_penyakit, penyakit.ciri_ciri "
                        + "FROM diagnosa_pasien "
                        + "INNER JOIN penyakit ON diagnosa_pasien.kd_penyakit=penyakit.kd_penyakit "
                        + "WHERE no_rawat=? ORDER BY prioritas, status";
                java.sql.PreparedStatement psDiagnosa = koneksi.prepareStatement(queryDiagnosa);
                psDiagnosa.setString(1, noRawat);
                java.sql.ResultSet rsDiagnosa = psDiagnosa.executeQuery();

                int diagnosaPrimer = 0, diagnosaSekunder = 0;
                while (rsDiagnosa.next()) {
                    String prioritas = rsDiagnosa.getString("prioritas");
                    String status = rsDiagnosa.getString("status");

                    if ("1".equals(prioritas) || "Primer".equals(status)) {
                        diagnosaPrimer++;
                        dataBuilder.append("DIAGNOSA PRIMER ").append(diagnosaPrimer).append(":\n");
                    } else {
                        diagnosaSekunder++;
                        dataBuilder.append("DIAGNOSA SEKUNDER ").append(diagnosaSekunder).append(":\n");
                    }

                    dataBuilder.append("- Kode ICD-10: ").append(rsDiagnosa.getString("kd_penyakit")).append("\n");
                    dataBuilder.append("- Nama Penyakit: ").append(rsDiagnosa.getString("nm_penyakit")).append("\n");
                    dataBuilder.append("- Status: ").append(status != null ? status : "").append("\n");
                    dataBuilder.append("- Prioritas: ").append(prioritas != null ? prioritas : "").append("\n");

                    String ciriCiri = rsDiagnosa.getString("ciri_ciri");
                    if (ciriCiri != null && !ciriCiri.trim().isEmpty()) {
                        dataBuilder.append("- Ciri-ciri: ").append(ciriCiri).append("\n");
                    }
                    dataBuilder.append("\n");
                }
                rsDiagnosa.close();
                psDiagnosa.close();

                // 4. TINDAKAN/PERAWATAN (Compliance PPK)
                dataBuilder.append(" TINDAKAN & PERAWATAN (Sesuai PPK):\n");
                dataBuilder.append("".repeat(55)).append("\n");

                // Rawat Jalan Dr
                String queryRawatJlDr = "SELECT rawat_jl_dr.*, jns_perawatan.nm_perawatan, dokter.nm_dokter "
                        + "FROM rawat_jl_dr "
                        + "INNER JOIN jns_perawatan ON rawat_jl_dr.kd_jenis_prw=jns_perawatan.kd_jenis_prw "
                        + "INNER JOIN dokter ON rawat_jl_dr.kd_dokter=dokter.kd_dokter "
                        + "WHERE no_rawat=? ORDER BY tgl_perawatan, jam_rawat";
                java.sql.PreparedStatement psRawatJlDr = koneksi.prepareStatement(queryRawatJlDr);
                psRawatJlDr.setString(1, noRawat);
                java.sql.ResultSet rsRawatJlDr = psRawatJlDr.executeQuery();

                while (rsRawatJlDr.next()) {
                    dataBuilder.append("TINDAKAN DOKTER (").append(rsRawatJlDr.getString("tgl_perawatan")).append(" ").append(rsRawatJlDr.getString("jam_rawat")).append("):\n");
                    dataBuilder.append("- Kode: ").append(rsRawatJlDr.getString("kd_jenis_prw")).append("\n");
                    dataBuilder.append("- Nama Perawatan: ").append(rsRawatJlDr.getString("nm_perawatan")).append("\n");
                    dataBuilder.append("- Dokter: ").append(rsRawatJlDr.getString("nm_dokter")).append("\n");
                    dataBuilder.append("- Tarif: Rp ").append(rsRawatJlDr.getString("tarif_tindakandr")).append("\n\n");
                }
                rsRawatJlDr.close();
                psRawatJlDr.close();

                // 5. OBAT & TERAPI (Formularium Compliance)
                dataBuilder.append(" OBAT & TERAPI (Formularium Nasional):\n");
                dataBuilder.append("".repeat(50)).append("\n");

                String queryObat = "SELECT resep_obat.*, databarang.nama_brng, aturan_pakai.aturan "
                        + "FROM resep_obat "
                        + "INNER JOIN databarang ON resep_obat.kode_brng=databarang.kode_brng "
                        + "LEFT JOIN aturan_pakai ON resep_obat.no_rawat=aturan_pakai.no_rawat AND resep_obat.kode_brng=aturan_pakai.kode_brng "
                        + "WHERE resep_obat.no_rawat=? ORDER BY resep_obat.tgl_peresepan, resep_obat.jam";
                java.sql.PreparedStatement psObat = koneksi.prepareStatement(queryObat);
                psObat.setString(1, noRawat);
                java.sql.ResultSet rsObat = psObat.executeQuery();

                while (rsObat.next()) {
                    dataBuilder.append("RESEP (").append(rsObat.getString("tgl_peresepan")).append(" ").append(rsObat.getString("jam")).append("):\n");
                    dataBuilder.append("- Kode Obat: ").append(rsObat.getString("kode_brng")).append("\n");
                    dataBuilder.append("- Nama Obat: ").append(rsObat.getString("nama_brng")).append("\n");
                    dataBuilder.append("- Jumlah: ").append(rsObat.getString("jml")).append("\n");

                    String aturan = rsObat.getString("aturan");
                    if (aturan != null && !aturan.trim().isEmpty()) {
                        dataBuilder.append("- Aturan Pakai: ").append(aturan).append("\n");
                    }
                    dataBuilder.append("\n");
                }
                rsObat.close();
                psObat.close();

                // 6. PEMERIKSAAN PENUNJANG (Clinical Pathway)
                dataBuilder.append(" PEMERIKSAAN PENUNJANG (Clinical Pathway):\n");
                dataBuilder.append("".repeat(60)).append("\n");

                // Laboratorium
                String queryLab = "SELECT periksa_lab.*, jns_perawatan_lab.nm_perawatan, dokter.nm_dokter "
                        + "FROM periksa_lab "
                        + "INNER JOIN jns_perawatan_lab ON periksa_lab.kd_jenis_prw=jns_perawatan_lab.kd_jenis_prw "
                        + "INNER JOIN dokter ON periksa_lab.kd_dokter=dokter.kd_dokter "
                        + "WHERE no_rawat=? ORDER BY tgl_periksa, jam";
                java.sql.PreparedStatement psLab = koneksi.prepareStatement(queryLab);
                psLab.setString(1, noRawat);
                java.sql.ResultSet rsLab = psLab.executeQuery();

                while (rsLab.next()) {
                    dataBuilder.append("LABORATORIUM (").append(rsLab.getString("tgl_periksa")).append(" ").append(rsLab.getString("jam")).append("):\n");
                    dataBuilder.append("- Kode: ").append(rsLab.getString("kd_jenis_prw")).append("\n");
                    dataBuilder.append("- Nama Pemeriksaan: ").append(rsLab.getString("nm_perawatan")).append("\n");
                    dataBuilder.append("- Dokter PJ: ").append(rsLab.getString("nm_dokter")).append("\n");
                    dataBuilder.append("- Kategori: ").append(rsLab.getString("kategori")).append("\n");
                    dataBuilder.append("- Biaya: Rp ").append(rsLab.getString("biaya")).append("\n\n");
                }
                rsLab.close();
                psLab.close();

                // Radiologi
                String queryRad = "SELECT periksa_radiologi.*, jns_perawatan_radiologi.nm_perawatan, dokter.nm_dokter "
                        + "FROM periksa_radiologi "
                        + "INNER JOIN jns_perawatan_radiologi ON periksa_radiologi.kd_jenis_prw=jns_perawatan_radiologi.kd_jenis_prw "
                        + "INNER JOIN dokter ON periksa_radiologi.kd_dokter=dokter.kd_dokter "
                        + "WHERE no_rawat=? ORDER BY tgl_periksa, jam";
                java.sql.PreparedStatement psRad = koneksi.prepareStatement(queryRad);
                psRad.setString(1, noRawat);
                java.sql.ResultSet rsRad = psRad.executeQuery();

                while (rsRad.next()) {
                    dataBuilder.append("RADIOLOGI (").append(rsRad.getString("tgl_periksa")).append(" ").append(rsRad.getString("jam")).append("):\n");
                    dataBuilder.append("- Kode: ").append(rsRad.getString("kd_jenis_prw")).append("\n");
                    dataBuilder.append("- Nama Pemeriksaan: ").append(rsRad.getString("nm_perawatan")).append("\n");
                    dataBuilder.append("- Dokter PJ: ").append(rsRad.getString("nm_dokter")).append("\n");
                    dataBuilder.append("- Biaya: Rp ").append(rsRad.getString("biaya")).append("\n\n");
                }
                rsRad.close();
                psRad.close();

                // 7. RINGKASAN CASE UNTUK PPK ANALYSIS
                dataBuilder.append(" RINGKASAN KASUS UNTUK ANALISA PPK:\n");
                dataBuilder.append("".repeat(50)).append("\n");

                dataBuilder.append("STATUS PASIEN: ").append(statusLanjut).append("\n");
                dataBuilder.append("JUMLAH DIAGNOSA PRIMER: ").append(diagnosaPrimer).append("\n");
                dataBuilder.append("JUMLAH DIAGNOSA SEKUNDER: ").append(diagnosaSekunder).append("\n");

                dataBuilder.append("KOMPLEKSITAS KASUS: ");
                int complexityScore = calculateCaseComplexity(dataBuilder.toString());
                if (complexityScore >= 8) {
                    dataBuilder.append("TINGGI (Memerlukan analisa PPK mendalam)\n");
                } else if (complexityScore >= 5) {
                    dataBuilder.append("SEDANG (Analisa PPK standar)\n");
                } else {
                    dataBuilder.append("RENDAH (Analisa PPK basic)\n");
                }

                dataBuilder.append("KELENGKAPAN DATA: ");
                double completeness = calculateDataCompleteness(dataBuilder.toString());
                dataBuilder.append(String.format("%.1f%%", completeness));
                if (completeness >= 80) {
                    dataBuilder.append(" (Sangat Baik untuk analisa PPK)\n");
                } else if (completeness >= 60) {
                    dataBuilder.append(" (Cukup untuk analisa PPK)\n");
                } else {
                    dataBuilder.append(" (Kurang optimal untuk analisa PPK)\n");
                }

                dataBuilder.append("\n=== END DATA PPK ANALYSIS ===");
            }

            rs.close();
            ps.close();

            String result = dataBuilder.toString();
            System.out.println(" Comprehensive PPK treatment data collected, length: " + result.length() + " characters");
            System.out.println(" Data completeness: " + String.format("%.1f%%", calculateDataCompleteness(result)));
            System.out.println(" Case complexity: " + calculateCaseComplexity(result) + "/10");

            return result;

        } catch (Exception e) {
            System.out.println(" Error collecting comprehensive PPK treatment data: " + e.getMessage());
            e.printStackTrace();
            return "Error mengambil data perawatan untuk analisa PPK: " + e.getMessage();
        }
    }

    /**
     * Helper method untuk mengambil nilai dari tabel dengan berbagai
     * kemungkinan nama kolom
     */
    private String getTableValue(javax.swing.table.TableModel model, int row, String... possibleColumns) {
        for (String columnName : possibleColumns) {
            try {
                for (int col = 0; col < model.getColumnCount(); col++) {
                    if (model.getColumnName(col).toLowerCase().contains(columnName.toLowerCase())) {
                        Object value = model.getValueAt(row, col);
                        return value != null ? value.toString() : "";
                    }
                }
            } catch (Exception e) {
                // Continue to next possible column
            }
        }
        return "";
    }

    /**
     * Helper method untuk memotong string sesuai panjang yang diinginkan
     */
    private String truncateString(String str, int maxLength) {
        if (str == null) {
            return "";
        }
        if (str.length() <= maxLength) {
            return str;
        }
        return str.substring(0, maxLength - 3) + "...";
    }

    /**
     * Alternative: Ambil data langsung dari database jika diperlukan
     */
    private String getDataPerawatanFromDatabaseForPPK() {
        try {
            System.out.println(" Fetching treatment data from database for PPK analysis...");

            // Ambil nomor RM yang sedang aktif
            String noRM = NoRM.getText().trim(); // Sesuaikan dengan field No. RM Anda

            if (noRM.isEmpty()) {
                return "No. RM tidak tersedia untuk mengambil data dari database.";
            }

            StringBuilder dataBuilder = new StringBuilder();
            dataBuilder.append("=== DATA PERAWATAN DARI DATABASE UNTUK ANALISA PPK ===\n\n");
            dataBuilder.append("No. RM: ").append(noRM).append("\n\n");

            // Koneksi database - sesuaikan dengan class koneksi Anda
            java.sql.Connection conn = fungsi.koneksiDB.condb();

            // Query untuk mengambil data perawatan lengkap dengan fokus PPK
            String query = "SELECT r.tgl_registrasi, r.jam_reg, r.kd_dokter, d.nm_dokter, "
                    + "r.no_rawat, r.kd_poli, p.nm_poli, "
                    + "pr.keluhan, pr.pemeriksaan, pr.penilaian, pr.rtl, pr.instruksi, "
                    + "pr.tensi, pr.nadi, pr.respirasi, pr.suhu, pr.gcs, pr.bb, pr.tb, "
                    + "dp.kd_penyakit, py.nm_penyakit, dp.status, dp.prioritas, "
                    + "rp.kd_jenis_prw, jp.nm_perawatan, rp.tarif_tindakandr, rp.tarif_tindakanpr, "
                    + "ro.kode_brng, db.nama_brng, ro.jml, ro.embalase, ro.tuslah "
                    + "FROM reg_periksa r "
                    + "LEFT JOIN dokter d ON r.kd_dokter = d.kd_dokter "
                    + "LEFT JOIN poliklinik p ON r.kd_poli = p.kd_poli "
                    + "LEFT JOIN pemeriksaan_ralan pr ON r.no_rawat = pr.no_rawat "
                    + "LEFT JOIN diagnosa_pasien dp ON r.no_rawat = dp.no_rawat "
                    + "LEFT JOIN penyakit py ON dp.kd_penyakit = py.kd_penyakit "
                    + "LEFT JOIN rawat_jl_dr rp ON r.no_rawat = rp.no_rawat "
                    + "LEFT JOIN jns_perawatan jp ON rp.kd_jenis_prw = jp.kd_jenis_prw "
                    + "LEFT JOIN resep_obat ro ON r.no_rawat = ro.no_rawat "
                    + "LEFT JOIN databarang db ON ro.kode_brng = db.kode_brng "
                    + "WHERE r.no_rkm_medis = ? "
                    + "ORDER BY r.tgl_registrasi DESC, r.jam_reg DESC "
                    + "LIMIT 10";

            java.sql.PreparedStatement ps = conn.prepareStatement(query);
            ps.setString(1, noRM);
            java.sql.ResultSet rs = ps.executeQuery();

            int recordCount = 0;
            String currentNoRawat = "";

            while (rs.next()) {
                String noRawat = rs.getString("no_rawat");

                // Header untuk setiap kunjungan baru
                if (!noRawat.equals(currentNoRawat)) {
                    if (recordCount > 0) {
                        dataBuilder.append("\n").append("".repeat(90)).append("\n\n");
                    }

                    currentNoRawat = noRawat;
                    recordCount++;

                    dataBuilder.append(" EPISODE PERAWATAN #").append(recordCount).append("\n");
                    dataBuilder.append("".repeat(50)).append("\n");
                    dataBuilder.append("No. Rawat: ").append(noRawat).append("\n");
                    dataBuilder.append("Tanggal: ").append(rs.getString("tgl_registrasi")).append(" ").append(rs.getString("jam_reg")).append("\n");
                    dataBuilder.append("Dokter: ").append(rs.getString("nm_dokter") != null ? rs.getString("nm_dokter") : "-").append("\n");
                    dataBuilder.append("Poliklinik: ").append(rs.getString("nm_poli") != null ? rs.getString("nm_poli") : "-").append("\n\n");

                    // ANAMNESA (Critical untuk PPK)
                    String keluhan = rs.getString("keluhan");
                    if (keluhan != null && !keluhan.trim().isEmpty()) {
                        dataBuilder.append(" KELUHAN UTAMA:\n").append(keluhan).append("\n\n");
                    }

                    // PEMERIKSAAN FISIK (Sesuai Clinical Pathway)
                    dataBuilder.append(" PEMERIKSAAN FISIK:\n");

                    // Vital Signs
                    String tensi = rs.getString("tensi");
                    String nadi = rs.getString("nadi");
                    String respirasi = rs.getString("respirasi");
                    String suhu = rs.getString("suhu");
                    String gcs = rs.getString("gcs");
                    String bb = rs.getString("bb");
                    String tb = rs.getString("tb");

                    if (tensi != null || nadi != null || suhu != null) {
                        dataBuilder.append("Vital Signs: ");
                        if (tensi != null) {
                            dataBuilder.append("TD ").append(tensi).append(" mmHg, ");
                        }
                        if (nadi != null) {
                            dataBuilder.append("Nadi ").append(nadi).append(" x/mnt, ");
                        }
                        if (suhu != null) {
                            dataBuilder.append("Suhu ").append(suhu).append("C, ");
                        }
                        if (respirasi != null) {
                            dataBuilder.append("RR ").append(respirasi).append(" x/mnt, ");
                        }
                        if (gcs != null) {
                            dataBuilder.append("GCS ").append(gcs).append(", ");
                        }
                        if (bb != null) {
                            dataBuilder.append("BB ").append(bb).append(" kg, ");
                        }
                        if (tb != null) {
                            dataBuilder.append("TB ").append(tb).append(" cm");
                        }
                        dataBuilder.append("\n");
                    }

                    String pemeriksaan = rs.getString("pemeriksaan");
                    if (pemeriksaan != null && !pemeriksaan.trim().isEmpty()) {
                        dataBuilder.append("Status Generalis: ").append(pemeriksaan).append("\n");
                    }
                    dataBuilder.append("\n");

                    // ASSESSMENT & PLAN (Sesuai PPK)
                    String penilaian = rs.getString("penilaian");
                    if (penilaian != null && !penilaian.trim().isEmpty()) {
                        dataBuilder.append(" ASSESSMENT:\n").append(penilaian).append("\n\n");
                    }

                    String rtl = rs.getString("rtl");
                    if (rtl != null && !rtl.trim().isEmpty()) {
                        dataBuilder.append(" RENCANA TINDAK LANJUT:\n").append(rtl).append("\n\n");
                    }
                }

                // DIAGNOSA (Critical untuk PPK compliance)
                String kdPenyakit = rs.getString("kd_penyakit");
                String nmPenyakit = rs.getString("nm_penyakit");
                String status = rs.getString("status");
                String prioritas = rs.getString("prioritas");

                if (kdPenyakit != null) {
                    dataBuilder.append(" DIAGNOSA: ").append(kdPenyakit);
                    if (nmPenyakit != null) {
                        dataBuilder.append(" - ").append(nmPenyakit);
                    }
                    if (status != null) {
                        dataBuilder.append(" (").append(status).append(")");
                    }
                    if (prioritas != null) {
                        dataBuilder.append(" [").append(prioritas).append("]");
                    }
                    dataBuilder.append("\n");
                }

                // TINDAKAN/PERAWATAN (Compliance PPK)
                String kdJenisPerawatan = rs.getString("kd_jenis_prw");
                String nmPerawatan = rs.getString("nm_perawatan");
                Double tarifDr = rs.getDouble("tarif_tindakandr");
                Double tarifPr = rs.getDouble("tarif_tindakanpr");

                if (kdJenisPerawatan != null && nmPerawatan != null) {
                    dataBuilder.append(" TINDAKAN: ").append(kdJenisPerawatan).append(" - ").append(nmPerawatan);
                    if (tarifDr > 0 || tarifPr > 0) {
                        dataBuilder.append(" (Tarif: Rp ").append(tarifDr + tarifPr).append(")");
                    }
                    dataBuilder.append("\n");
                }

                // OBAT (Sesuai Formularium)
                String kodeBrng = rs.getString("kode_brng");
                String namaBrng = rs.getString("nama_brng");
                Double jml = rs.getDouble("jml");

                if (kodeBrng != null && namaBrng != null) {
                    dataBuilder.append(" OBAT: ").append(namaBrng);
                    if (jml > 0) {
                        dataBuilder.append(" (Jumlah: ").append(jml).append(")");
                    }
                    dataBuilder.append("\n");
                }
            }

            rs.close();
            ps.close();
            conn.close();

            if (recordCount == 0) {
                dataBuilder.append("Tidak ada data perawatan ditemukan untuk No. RM: ").append(noRM);
            } else {
                dataBuilder.append("\n\n".repeat(90));
                dataBuilder.append("\n RINGKASAN PPK ANALYSIS:");
                dataBuilder.append("\n Total episode perawatan: ").append(recordCount);
                dataBuilder.append("\n Data complexity: ").append(calculateCaseComplexity(dataBuilder.toString())).append("/10");
                dataBuilder.append("\n Data completeness: ").append(String.format("%.1f%%", calculateDataCompleteness(dataBuilder.toString())));
                dataBuilder.append("\n Ready for PPK-based claim analysis");
            }

            String result = dataBuilder.toString();
            System.out.println(" Database PPK treatment data fetched, records: " + recordCount + ", length: " + result.length() + " characters");

            return result;

        } catch (Exception e) {
            System.out.println(" Error fetching PPK data from database: " + e.getMessage());
            e.printStackTrace();
            return "Error mengambil data dari database untuk analisa PPK: " + e.getMessage();
        }
    }

    /**
     * Method untuk testing form analisa PPK (opsional)
     */
    private void testAnalisaBerkasKlaimPPK() {
        try {
            String testData = createSamplePPKTestData();

            // ERROR: Class AnalisaBerkasKlaim belum dibuat di package bridging
            // AnalisaBerkasKlaim testForm = new AnalisaBerkasKlaim(testData);
            // testForm.setVisible(true);
            System.out.println(" PPK test form disabled - AnalisaBerkasKlaim class not available");

            // System.out.println(" PPK test form opened successfully");

        } catch (Exception e) {
            System.out.println(" Error opening PPK test form: " + e.getMessage());
            e.printStackTrace();
        }
    }

    /**
     * Create sample data untuk testing PPK analysis
     */
    private String createSamplePPKTestData() {
        StringBuilder testData = new StringBuilder();

        testData.append("=== DATA PERAWATAN UNTUK ANALISA PPK & CLINICAL PATHWAY ===\n\n");
        testData.append(" Referensi Analisa: Panduan Praktik Klinis (PPK) Kemenkes RI\n");
        testData.append(" Standard: Clinical Pathway & INA-CBG\n");
        testData.append(" Tanggal Analisa: ").append(new java.util.Date()).append("\n\n");

        // Sample comprehensive data
        testData.append(" IDENTITAS PASIEN:\n");
        testData.append("".repeat(40)).append("\n");
        testData.append("Nama Pasien: Budi Santoso (TEST DATA)\n");
        testData.append("No. RM: 123456789\n");
        testData.append("Umur: 55 tahun\n");
        testData.append("Jenis Kelamin: Laki-laki\n");
        testData.append("Penjamin: BPJS Kesehatan\n\n");

        testData.append(" ANAMNESA BERDASARKAN PPK:\n");
        testData.append("".repeat(50)).append("\n");
        testData.append("KELUHAN UTAMA:\n");
        testData.append("Nyeri dada kiri menjalar ke lengan kiri sejak 3 jam yang lalu, disertai keringat dingin, mual, dan sesak napas.\n\n");

        testData.append("RIWAYAT PENYAKIT SEKARANG:\n");
        testData.append("Pasien mengeluh nyeri dada seperti ditekan benda berat, onset mendadak saat sedang beristirahat. ");
        testData.append("Nyeri menjalar ke lengan kiri dan punggung. Disertai keringat dingin, mual, dan sesak napas. ");
        testData.append("Tidak membaik dengan istirahat. Skala nyeri 8/10.\n\n");

        testData.append(" PEMERIKSAAN FISIK BERDASARKAN CLINICAL PATHWAY:\n");
        testData.append("".repeat(60)).append("\n");
        testData.append("VITAL SIGNS:\n");
        testData.append(" Tekanan Darah: 160/95 mmHg\n");
        testData.append(" Nadi: 110 x/menit, irregular\n");
        testData.append(" Suhu: 36.8 C\n");
        testData.append(" Respirasi: 24 x/menit\n");
        testData.append(" SpO2: 94%\n\n");

        testData.append(" DIAGNOSA & CODING ICD-10:\n");
        testData.append("".repeat(40)).append("\n");
        testData.append("DIAGNOSA PRIMER:\n");
        testData.append("STEMI (ST Elevation Myocardial Infarction) Inferior\n\n");
        testData.append("KODE ICD-10: I21.1 - Acute transmural myocardial infarction of inferior wall\n\n");

        testData.append(" TINDAKAN & TERAPI (Sesuai PPK):\n");
        testData.append("".repeat(45)).append("\n");
        testData.append("TINDAKAN MEDIS:\n");
        testData.append("1. Primary PCI (Percutaneous Coronary Intervention)\n");
        testData.append("2. Pemasangan stent drug-eluting pada RCA\n\n");

        testData.append("TERAPI FARMAKOLOGI:\n");
        testData.append("Loading dose: Aspirin 300mg, Clopidogrel 600mg, Atorvastatin 80mg\n\n");

        testData.append("=== END DATA PPK ANALYSIS ===");

        return testData.toString();
    }

    /**
     * Calculate case complexity untuk menentukan depth analisa PPK
     */
    private int calculateCaseComplexity(String data) {
        int score = 0;
        String upperData = data.toUpperCase();

        // Faktor kompleksitas berdasarkan PPK
        if (upperData.contains("DIAGNOSA SEKUNDER")) {
            score += 2;
        }
        if (upperData.contains("KOMORBID")) {
            score += 2;
        }
        if (upperData.contains("TINDAKAN DOKTER")) {
            score += 1;
        }
        if (upperData.contains("OPERASI") || upperData.contains("BEDAH")) {
            score += 3;
        }
        if (upperData.contains("LABORATORIUM") || upperData.contains("RADIOLOGI")) {
            score += 1;
        }
        if (upperData.contains("EMERGENCY") || upperData.contains("DARURAT") || upperData.contains("IGD")) {
            score += 2;
        }
        if (upperData.contains("ICU") || upperData.contains("HCU") || upperData.contains("INTENSIF")) {
            score += 3;
        }
        if (upperData.contains("KOMPLIKASI")) {
            score += 2;
        }
        if (upperData.contains("RAWAT INAP") || upperData.contains("RANAP")) {
            score += 1;
        }

        return Math.min(score, 10); // Max score 10
    }

    /**
     * Calculate data completeness untuk PPK analysis
     */
    private double calculateDataCompleteness(String data) {
        String[] requiredFields = {
            "KELUHAN", "DIAGNOSA", "PEMERIKSAAN", "TINDAKAN", "VITAL SIGNS",
            "NAMA PASIEN", "JENIS KELAMIN", "TANGGAL", "ICD", "DOKTER"
        };

        int foundFields = 0;
        String upperData = data.toUpperCase();

        for (String field : requiredFields) {
            if (upperData.contains(field)) {
                foundFields++;
            }
        }

        return (double) foundFields / requiredFields.length * 100;
    }

    /**
     * Validasi data untuk PPK analysis
     */
    private boolean validateDataForPPKAnalysis(String data) {
        if (data == null || data.trim().isEmpty()) {
            System.out.println(" PPK Data validation failed: Empty data");
            return false;
        }

        String upperData = data.toUpperCase();

        // Essential fields untuk PPK analysis
        String[] essentialFields = {"DIAGNOSA", "KELUHAN", "PEMERIKSAAN", "DOKTER"};

        for (String field : essentialFields) {
            if (!upperData.contains(field)) {
                System.out.println(" PPK Data validation failed: Missing " + field);
                return false;
            }
        }

        // Check minimum data length
        if (data.length() < 500) {
            System.out.println(" PPK Data validation failed: Data too minimal for comprehensive PPK analysis");
            return false;
        }

        System.out.println(" PPK Data validation passed");
        return true;
    }
}
